# CRM 사용 가이드

## 개요

CRM(Customer Relationship Management)은 고객 관계 관리 시스템으로, 고객 정보, 상호작용, 영업 기회, 계약, 거래를 통합 관리합니다. OCR 기능을 통해 사업자등록증과 통장사본에서 자동으로 고객 정보를 추출할 수 있습니다.

## 주요 기능

### 1. 고객 관리

#### 고객 등록 (일반)

1. "고객 추가" 버튼 클릭
2. 고객 정보 입력:
   - 회사명
   - 사업자번호
   - 담당자 이름
   - 연락처
   - 이메일
   - 주소
   - 산업 분류
3. 저장

#### 고객 등록 (OCR 자동 추출) 🆕

1. "문서로 고객 추가 (OCR)" 버튼 클릭
2. **1단계: 사업자등록증 업로드**
   - 사업자등록증 파일 선택 (PDF, PNG, JPG)
   - 자동 OCR 처리 (AWS Textract)
   - 추출 정보:
     - 회사명
     - 사업자번호
     - 대표자명
     - 설립일자
     - 법인여부
     - 업태
     - 종목
     - 주소
3. **2단계: 통장사본 업로드**
   - 통장사본 파일 선택 (PDF, PNG, JPG)
   - 자동 OCR 처리
   - 추출 정보:
     - 은행명
     - 계좌번호
     - 예금주명
4. **3단계: 정보 확인**
   - 자동 추출된 정보 검토
   - 필요시 수정
   - 신뢰도(%) 확인
5. 저장

> **💡 팁**: 사업자번호가 동일한 고객이 이미 존재하는 경우, 기존 정보가 자동으로 업데이트됩니다.

#### 고객 상세 정보

- **기본 정보**: 회사 및 담당자 정보
- **OCR 정보**: 사업자등록증/통장사본에서 추출된 데이터
- **첨부 문서**: 업로드된 사업자등록증, 통장사본 확인
- **거래 이력**: 과거 거래 내역
- **영업 기회**: 진행 중인 영업 건
- **계약 현황**: 체결된 계약
- **활동 이력**: 미팅, 통화, 이메일 기록

### 2. 영업 기회 관리

#### 영업 기회 등록

1. "영업 기회 추가" 버튼 클릭
2. 정보 입력:
   - 고객 선택
   - 영업 제목
   - 예상 금액
   - 예상 계약일
   - 영업 단계
3. 저장

#### 영업 단계 (Pipeline)

1. **발굴 (Prospecting)**: 잠재 고객
2. **제안 (Proposal)**: 제안서 제출
3. **협상 (Negotiation)**: 계약 협상
4. **성사 (Closed-Won)**: 계약 체결
5. **실패 (Closed-Lost)**: 계약 실패

### 3. 계약 관리

#### 계약 등록

1. "계약 추가" 버튼 클릭
2. 정보 입력:
   - 고객 선택
   - 계약명
   - 계약 유형 (매출/매입)
   - 계약 금액
   - 계약 기간
   - 결제 조건
3. 저장

### 4. 거래 내역

#### 거래 등록

1. "거래 추가" 버튼 클릭
2. 정보 입력:
   - 고객 선택
   - 계약 선택 (선택사항)
   - 거래 유형 (매출/매입)
   - 거래 금액
   - 거래일
   - 결제 예정일
   - 결제 상태
3. 저장

## 자주 묻는 질문 (FAQ)

### OCR 관련

**Q: OCR로 추출 가능한 문서 형식은 무엇인가요?**  
A: PDF, PNG, JPG 형식을 지원합니다.

**Q: OCR 추출 정확도가 낮으면 어떻게 하나요?**  
A: 확인 단계에서 추출된 정보를 직접 수정할 수 있습니다. 신뢰도(%)를 참고하세요.

**Q: 동일한 사업자번호의 고객이 이미 있으면?**  
A: 기존 고객 정보가 자동으로 업데이트됩니다.

### 고객 관리

**Q: 고객을 삭제할 수 있나요?**  
A: 네, 고객 상세 화면에서 삭제 가능합니다. 단, 관련 거래가 있는 경우 주의가 필요합니다.

**Q: 고객별 거래 이력을 어떻게 확인하나요?**  
A: 고객 상세 화면의 "거래 이력" 탭에서 확인할 수 있습니다.

## 권한 관리

CRM 시스템은 다음 세부 권한으로 관리됩니다:

- **crm.customers**: 고객 정보 관리
- **crm.interactions**: 고객 상호작용 관리
- **crm.opportunities**: 영업 기회 관리
- **crm.contracts**: 계약 관리
- **crm.transactions**: 거래 내역 관리
- **crm.reports**: CRM 통계 및 보고서 조회

## 참고 사항

- 모든 금액은 원화(KRW) 기준입니다.
- OCR 처리는 AWS Textract를 사용하며, 월 1,000페이지까지 무료입니다.
- 사업자등록증과 통장사본은 S3에 안전하게 저장됩니다.
- 업로드된 문서는 고객 상세 화면에서 언제든지 다운로드 가능합니다.
