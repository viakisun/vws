[
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/.eslintrc.cjs",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'__dirname' is not defined.",
        "line": 18,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 18,
        "endColumn": 31
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key '@typescript-eslint/prefer-readonly-parameter-types'.",
        "line": 62,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 62,
        "endColumn": 57
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'no-useless-return'.",
        "line": 98,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 98,
        "endColumn": 24
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/no-at-html-tags'.",
        "line": 152,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 152,
        "endColumn": 29
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/require-optimized-style-attribute'.",
        "line": 166,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 166,
        "endColumn": 47
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/require-store-callbacks-use-set-param'.",
        "line": 167,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 167,
        "endColumn": 51
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/require-store-reactive-return'.",
        "line": 168,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 168,
        "endColumn": 43
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/require-store-rest-parameters'.",
        "line": 169,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 169,
        "endColumn": 43
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/require-stores-leading-store'.",
        "line": 170,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 170,
        "endColumn": 42
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'svelte/require-stores-init'.",
        "line": 171,
        "column": 5,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 171,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 10,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/** @type {import('eslint').Linter.Config} */\nconst config = {\n  root: true,\n  extends: [\n    'eslint:recommended',\n    '@typescript-eslint/recommended',\n    '@typescript-eslint/recommended-requiring-type-checking',\n    'plugin:svelte/recommended',\n    'plugin:svelte/stylistic'\n  ],\n  parser: '@typescript-eslint/parser',\n  plugins: ['@typescript-eslint', 'svelte'],\n  parserOptions: {\n    sourceType: 'module',\n    ecmaVersion: 2020,\n    extraFileExtensions: ['.svelte'],\n    project: ['./tsconfig.json', './tsconfig.node.json'],\n    tsconfigRootDir: __dirname\n  },\n  env: {\n    browser: true,\n    es2017: true,\n    node: true\n  },\n  overrides: [\n    {\n      files: ['*.svelte'],\n      parser: 'svelte-eslint-parser',\n      parserOptions: {\n        parser: '@typescript-eslint/parser'\n      }\n    }\n  ],\n  rules: {\n    // === TypeScript Strict Rules ===\n    '@typescript-eslint/no-explicit-any': 'error',\n    '@typescript-eslint/no-unsafe-assignment': 'error',\n    '@typescript-eslint/no-unsafe-call': 'error',\n    '@typescript-eslint/no-unsafe-member-access': 'error',\n    '@typescript-eslint/no-unsafe-return': 'error',\n    '@typescript-eslint/no-unsafe-argument': 'error',\n    '@typescript-eslint/no-implicit-any-catch': 'error',\n    '@typescript-eslint/prefer-nullish-coalescing': 'error',\n    '@typescript-eslint/prefer-optional-chain': 'error',\n    '@typescript-eslint/no-unnecessary-condition': 'error',\n    '@typescript-eslint/no-unnecessary-type-assertion': 'error',\n    '@typescript-eslint/no-floating-promises': 'error',\n    '@typescript-eslint/no-misused-promises': 'error',\n    '@typescript-eslint/require-await': 'error',\n    '@typescript-eslint/await-thenable': 'error',\n    '@typescript-eslint/no-for-in-array': 'error',\n    '@typescript-eslint/no-implied-eval': 'error',\n    '@typescript-eslint/no-throw-literal': 'error',\n    '@typescript-eslint/prefer-readonly': 'error',\n    '@typescript-eslint/prefer-readonly-parameter-types': 'off', // Too strict for now\n    '@typescript-eslint/strict-boolean-expressions': 'error',\n    '@typescript-eslint/prefer-function-type': 'error',\n    '@typescript-eslint/prefer-includes': 'error',\n    '@typescript-eslint/prefer-string-starts-ends-with': 'error',\n    '@typescript-eslint/prefer-reduce-type-parameter': 'error',\n    '@typescript-eslint/prefer-regexp-exec': 'error',\n    '@typescript-eslint/prefer-readonly-parameter-types': 'off',\n    '@typescript-eslint/consistent-type-definitions': ['error', 'interface'],\n    '@typescript-eslint/consistent-type-imports': ['error', { prefer: 'type-imports' }],\n    '@typescript-eslint/consistent-type-exports': [\n      'error',\n      { fixMixedExportsWithInlineTypeSpecifier: false }\n    ],\n    '@typescript-eslint/explicit-function-return-type': 'error',\n    '@typescript-eslint/explicit-module-boundary-types': 'error',\n    '@typescript-eslint/no-confusing-void-expression': 'error',\n    '@typescript-eslint/no-meaningless-void-operator': 'error',\n    '@typescript-eslint/no-mixed-enums': 'error',\n    '@typescript-eslint/no-redundant-type-constituents': 'error',\n    '@typescript-eslint/no-unsafe-enum-comparison': 'error',\n    '@typescript-eslint/prefer-enum-initializers': 'error',\n    '@typescript-eslint/prefer-literal-enum-member': 'error',\n    '@typescript-eslint/switch-exhaustiveness-check': 'error',\n    '@typescript-eslint/unified-signatures': 'error',\n\n    // === General Code Quality Rules ===\n    'no-console': 'warn',\n    'no-debugger': 'error',\n    'no-alert': 'error',\n    'no-var': 'error',\n    'prefer-const': 'error',\n    'prefer-arrow-callback': 'error',\n    'prefer-template': 'error',\n    'object-shorthand': 'error',\n    'prefer-destructuring': ['error', { object: true, array: false }],\n    'no-duplicate-imports': 'error',\n    'no-useless-rename': 'error',\n    'no-useless-return': 'error',\n    'no-useless-concat': 'error',\n    'no-useless-escape': 'error',\n    'no-useless-computed-key': 'error',\n    'no-useless-constructor': 'error',\n    'no-useless-return': 'error',\n    'no-else-return': 'error',\n    'no-return-assign': 'error',\n    'no-return-await': 'error',\n    'no-throw-literal': 'error',\n    'no-unused-expressions': 'error',\n    'no-unused-vars': 'off', // Handled by TypeScript\n    '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],\n    'no-undef': 'off', // Handled by TypeScript\n    'no-redeclare': 'off', // Handled by TypeScript\n    'no-dupe-class-members': 'off', // Handled by TypeScript\n\n    // === Svelte Specific Rules ===\n    'svelte/valid-compile': 'error',\n    'svelte/no-at-debug-tags': 'error',\n    'svelte/no-at-html-tags': 'error',\n    'svelte/no-dupe-else-if-blocks': 'error',\n    'svelte/no-dupe-style-properties': 'error',\n    'svelte/no-dupe-use-elements': 'error',\n    'svelte/no-dynamic-slot-name': 'error',\n    'svelte/no-not-function-handler': 'error',\n    'svelte/no-object-in-text-mustaches': 'error',\n    'svelte/no-reactive-functions': 'error',\n    'svelte/no-reactive-literals': 'error',\n    'svelte/no-shorthand-style-property-overrides': 'error',\n    'svelte/no-unknown-style-directive-property': 'error',\n    'svelte/no-useless-mustaches': 'error',\n    'svelte/require-each-key': 'error',\n    'svelte/require-optimized-style-attribute': 'error',\n    'svelte/require-stores-init': 'error',\n    'svelte/require-store-callbacks-use-set-param': 'error',\n    'svelte/require-store-reactive-return': 'error',\n    'svelte/require-store-rest-parameters': 'error',\n    'svelte/require-stores-leading-store': 'error',\n    'svelte/block-lang': 'error',\n    'svelte/button-has-type': 'error',\n    'svelte/html-closing-bracket-spacing': 'error',\n    'svelte/html-quotes': 'error',\n    'svelte/html-self-closing': 'error',\n    'svelte/indent': 'error',\n    'svelte/max-attributes-per-line': 'error',\n    'svelte/mustache-spacing': 'error',\n    'svelte/no-extra-reactive-curlies-in-string': 'error',\n    'svelte/no-spaces-around-equal-signs-in-attribute': 'error',\n    'svelte/no-trailing-spaces': 'error',\n    'svelte/prefer-class-directive': 'error',\n    'svelte/prefer-style-directive': 'error',\n    'svelte/shorthand-attribute': 'error',\n    'svelte/shorthand-directive': 'error',\n    'svelte/spaced-html-comment': 'error',\n    'svelte/derived-has-same-inputs-outputs': 'error',\n    'svelte/first-attribute-linebreak': 'error',\n    'svelte/html-content-first-newline': 'error',\n    'svelte/label-has-associated-control': 'error',\n    'svelte/no-at-html-tags': 'error',\n    'svelte/no-conflict-variable-names': 'error',\n    'svelte/no-export-load-in-svelte-module-in-kit-pages': 'error',\n    'svelte/no-proxy-in-rest-props': 'error',\n    'svelte/no-reactive-class': 'error',\n    'svelte/no-reactive-label': 'error',\n    'svelte/no-reactive-textarea': 'error',\n    'svelte/no-runes-mode': 'error', // Force runes mode\n    'svelte/no-target-blank': 'error',\n    'svelte/no-unused-class-name': 'error',\n    'svelte/no-unused-svelte-ignore': 'error',\n    'svelte/no-useless-fragment': 'error',\n    'svelte/prefer-destructured-store-props': 'error',\n    'svelte/require-event-dispatcher-types': 'error',\n    'svelte/require-optimized-style-attribute': 'error',\n    'svelte/require-store-callbacks-use-set-param': 'error',\n    'svelte/require-store-reactive-return': 'error',\n    'svelte/require-store-rest-parameters': 'error',\n    'svelte/require-stores-leading-store': 'error',\n    'svelte/require-stores-init': 'error',\n    'svelte/valid-each-key': 'error',\n\n    // === Import/Export Rules ===\n    'import/no-duplicates': 'error',\n    'import/no-unresolved': 'error',\n    'import/no-absolute-path': 'error',\n    'import/no-self-import': 'error',\n    'import/no-cycle': 'error',\n    'import/no-useless-path-segments': 'error',\n    'import/order': [\n      'error',\n      {\n        groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],\n        'newlines-between': 'always',\n        alphabetize: {\n          order: 'asc',\n          caseInsensitive: true\n        }\n      }\n    ],\n\n    // === Performance Rules ===\n    'no-await-in-loop': 'error',\n    'no-promise-executor-return': 'error',\n    'prefer-promise-reject-errors': 'error',\n    'require-atomic-updates': 'error',\n\n    // === Security Rules ===\n    'no-eval': 'error',\n    'no-implied-eval': 'error',\n    'no-new-func': 'error',\n    'no-script-url': 'error',\n\n    // === Accessibility Rules ===\n    'jsx-a11y/alt-text': 'error',\n    'jsx-a11y/anchor-has-content': 'error',\n    'jsx-a11y/anchor-is-valid': 'error',\n    'jsx-a11y/aria-props': 'error',\n    'jsx-a11y/aria-proptypes': 'error',\n    'jsx-a11y/aria-role': 'error',\n    'jsx-a11y/aria-unsupported-elements': 'error',\n    'jsx-a11y/click-events-have-key-events': 'error',\n    'jsx-a11y/heading-has-content': 'error',\n    'jsx-a11y/html-has-lang': 'error',\n    'jsx-a11y/iframe-has-title': 'error',\n    'jsx-a11y/img-redundant-alt': 'error',\n    'jsx-a11y/no-access-key': 'error',\n    'jsx-a11y/no-autofocus': 'error',\n    'jsx-a11y/no-distracting-elements': 'error',\n    'jsx-a11y/no-interactive-element-to-noninteractive-role': 'error',\n    'jsx-a11y/no-noninteractive-element-interactions': 'error',\n    'jsx-a11y/no-noninteractive-element-to-interactive-role': 'error',\n    'jsx-a11y/no-noninteractive-tabindex': 'error',\n    'jsx-a11y/no-redundant-roles': 'error',\n    'jsx-a11y/no-static-element-interactions': 'error',\n    'jsx-a11y/role-has-required-aria-props': 'error',\n    'jsx-a11y/role-supports-aria-props': 'error',\n    'jsx-a11y/scope': 'error',\n    'jsx-a11y/tabindex-no-positive': 'error'\n  },\n  ignorePatterns: [\n    'build/',\n    '.svelte-kit/',\n    'dist/',\n    'node_modules/',\n    '*.config.js',\n    '*.config.cjs'\n  ]\n}\n\nmodule.exports = config\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/fix-buttons.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 1,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 2,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 2,
        "endColumn": 21
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 21,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 21,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 25,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 25,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "const fs = require('fs')\nconst glob = require('glob')\n\n// Find all .svelte files\nconst files = glob.sync('**/*.svelte', {\n  ignore: ['**/node_modules/**', '**/build/**']\n})\n\nlet modifiedCount = 0\n\nfor (const file of files) {\n  let content = fs.readFileSync(file, 'utf8')\n  const originalContent = content\n\n  // Add type=\"button\" to buttons that don't have a type attribute\n  content = content.replace(/<button(?![^>]*\\btype=)([^>]*)>/g, '<button type=\"button\"$1>')\n\n  if (content !== originalContent) {\n    fs.writeFileSync(file, content)\n    modifiedCount++\n    console.log(`Modified: ${file}`)\n  }\n}\n\nconsole.log(`\\nTotal files modified: ${modifiedCount}`)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/add-executive-positions.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 21,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 21,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 31,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 31,
        "endColumn": 16
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 36,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 53,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 53,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 59,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 68,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 68,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 70,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 70,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 74,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 74,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 88,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 88,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 92,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 92,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 95,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 95,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 105,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 105,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 106,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 106,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 109,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 109,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 110,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 110,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 16,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\n// Ï∂îÍ∞ÄÌï† ÏßÅÍ∏â Îç∞Ïù¥ÌÑ∞\nconst executivePositions = [\n  {\n    name: 'Ïó∞Íµ¨ÏÜåÏû•',\n    description: 'Ïó∞Íµ¨ÏÜå Ï†ÑÏ≤¥Î•º Ï¥ùÍ¥ÑÌïòÍ≥† Ïó∞Íµ¨ Î∞©Ìñ•ÏùÑ ÏÑ§Ï†ïÌïòÎäî ÏµúÍ≥† Ï±ÖÏûÑÏûê',\n    department: 'PSRÌåÄ',\n    level: 6 // ÏµúÍ≥†Í∏â ÏßÅÍ∏â\n  },\n  {\n    name: 'ÏÉÅÎ¨¥',\n    description: 'ÌöåÏÇ¨ Í≤ΩÏòÅÏßÑÏúºÎ°ú Ï£ºÏöî ÏùòÏÇ¨Í≤∞Ï†ïÏóê Ï∞∏Ïó¨ÌïòÎäî ÏûÑÏõêÍ∏â ÏßÅÍ∏â',\n    department: 'Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ',\n    level: 6 // ÏµúÍ≥†Í∏â ÏßÅÍ∏â\n  }\n]\n\nasync function addExecutivePositions() {\n  try {\n    console.log('üîÑ Adding executive positions...')\n\n    for (const position of executivePositions) {\n      // Ï§ëÎ≥µ Ï≤¥ÌÅ¨\n      const existingPos = await query(\n        'SELECT id FROM positions WHERE LOWER(name) = LOWER($1) AND department = $2',\n        [position.name, position.department]\n      )\n\n      if (existingPos.rows.length > 0) {\n        console.log(`‚ö†Ô∏è  Position \"${position.name}\" already exists in ${position.department}`)\n        continue\n      }\n\n      // ÏßÅÍ∏â Ï∂îÍ∞Ä\n      const result = await query(\n        `\n\t\t\t\tINSERT INTO positions (name, description, department, level, status, created_at, updated_at)\n\t\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7)\n\t\t\t\tRETURNING id, name, description, department, level, status\n\t\t\t`,\n        [\n          position.name,\n          position.description,\n          position.department,\n          position.level,\n          'active',\n          new Date(),\n          new Date()\n        ]\n      )\n\n      console.log(\n        `‚úÖ Added position: ${position.name} (${position.department}) - Level ${position.level}`\n      )\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('\\nüîç Verifying added positions...')\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\tname, description, department, level, status\n\t\t\tFROM positions \n\t\t\tWHERE name IN ('Ïó∞Íµ¨ÏÜåÏû•', 'ÏÉÅÎ¨¥')\n\t\t\tORDER BY department, level DESC\n\t\t`)\n\n    console.log('üìã Executive positions:')\n    result.rows.forEach(row => {\n      console.log(`  ${row.name} (${row.department}) - Level ${row.level}: ${row.description}`)\n    })\n\n    // Ï†ÑÏ≤¥ ÏßÅÍ∏â Íµ¨Ï°∞ ÌôïÏù∏\n    console.log('\\nüìä Complete position hierarchy:')\n    const allPositions = await query(`\n\t\t\tSELECT \n\t\t\t\tdepartment,\n\t\t\t\tname,\n\t\t\t\tlevel\n\t\t\tFROM positions \n\t\t\tWHERE status = 'active'\n\t\t\tORDER BY department, level DESC, name ASC\n\t\t`)\n\n    let currentDept = ''\n    allPositions.rows.forEach(row => {\n      if (row.department !== currentDept) {\n        console.log(`\\nüìÅ ${row.department}:`)\n        currentDept = row.department\n      }\n      const levelIndicator = '  '.repeat(6 - row.level) + '‚îî‚îÄ '\n      console.log(`${levelIndicator}${row.name} (Level ${row.level})`)\n    })\n\n    console.log('\\n‚úÖ Executive positions added successfully!')\n  } catch (error) {\n    console.error('‚ùå Failed to add executive positions:', error)\n    throw error\n  }\n}\n\n// Run the script\naddExecutivePositions()\n  .then(() => {\n    console.log('üéâ Executive positions setup completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Executive positions setup failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/add-new-organizations.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 24,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 24,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 33,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 33,
        "endColumn": 16
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 38,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 38,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 55,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 55,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 59,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 68,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 68,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 70,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 70,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 74,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 74,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 101,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 101,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 104,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 104,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 106,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 106,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 114,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 114,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 115,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 115,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 118,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 118,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 119,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 119,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 16,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\n// Ï∂îÍ∞ÄÌï† ÏÉàÎ°úÏö¥ Ï°∞ÏßÅÎì§\nconst newOrganizations = [\n  {\n    name: 'ÎåÄÌëú',\n    description: 'ÌöåÏÇ¨Ïùò ÏµúÍ≥† Í≤ΩÏòÅÏßÑÏúºÎ°ú Ï†ÑÏ≤¥ Í≤ΩÏòÅÏùÑ Ï¥ùÍ¥ÑÌïòÎäî Ï°∞ÏßÅ',\n    level: 7 // ÏµúÍ≥†Í∏â\n  },\n  {\n    name: 'Ï†ÑÎûµÍ∏∞ÌöçÏã§',\n    description: 'ÌöåÏÇ¨Ïùò Ï†ÑÎûµ ÏàòÎ¶Ω Î∞è Í∏∞ÌöçÏùÑ Îã¥ÎãπÌïòÎäî Ï°∞ÏßÅ',\n    level: 6 // Í≥†Í∏â\n  },\n  {\n    name: 'Ïó∞Íµ¨ÏÜå',\n    description: 'Ïó∞Íµ¨Í∞úÎ∞ú Î∞è Í∏∞Ïà† ÌòÅÏã†ÏùÑ Îã¥ÎãπÌïòÎäî Ï°∞ÏßÅ',\n    level: 6 // Í≥†Í∏â\n  }\n]\n\nasync function addNewOrganizations() {\n  try {\n    console.log('üîÑ Adding new organizations...')\n\n    for (const org of newOrganizations) {\n      // Ï§ëÎ≥µ Ï≤¥ÌÅ¨\n      const existingOrg = await query('SELECT id FROM positions WHERE LOWER(name) = LOWER($1)', [\n        org.name\n      ])\n\n      if (existingOrg.rows.length > 0) {\n        console.log(`‚ö†Ô∏è  Organization \"${org.name}\" already exists`)\n        continue\n      }\n\n      // Ï°∞ÏßÅ Ï∂îÍ∞Ä\n      const result = await query(\n        `\n\t\t\t\tINSERT INTO positions (name, description, department, level, status, created_at, updated_at)\n\t\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7)\n\t\t\t\tRETURNING id, name, description, department, level, status\n\t\t\t`,\n        [\n          org.name,\n          org.description,\n          org.name, // departmentÎèÑ Í∞ôÏùÄ Ïù¥Î¶ÑÏúºÎ°ú ÏÑ§Ï†ï\n          org.level,\n          'active',\n          new Date(),\n          new Date()\n        ]\n      )\n\n      console.log(`‚úÖ Added organization: ${org.name} - Level ${org.level}`)\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('\\nüîç Verifying added organizations...')\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\tname, description, department, level, status\n\t\t\tFROM positions \n\t\t\tWHERE name IN ('ÎåÄÌëú', 'Ï†ÑÎûµÍ∏∞ÌöçÏã§', 'Ïó∞Íµ¨ÏÜå')\n\t\t\tORDER BY level DESC, name ASC\n\t\t`)\n\n    console.log('üìã New organizations:')\n    result.rows.forEach(row => {\n      console.log(`  ${row.name} (${row.department}) - Level ${row.level}: ${row.description}`)\n    })\n\n    // Ï†ÑÏ≤¥ Ï°∞ÏßÅ Íµ¨Ï°∞ ÌôïÏù∏\n    console.log('\\nüìä Complete organization hierarchy:')\n    const allPositions = await query(`\n\t\t\tSELECT \n\t\t\t\tdepartment,\n\t\t\t\tname,\n\t\t\t\tlevel\n\t\t\tFROM positions \n\t\t\tWHERE status = 'active'\n\t\t\tORDER BY \n\t\t\t\tCASE department\n\t\t\t\t\tWHEN 'ÎåÄÌëú' THEN 1\n\t\t\t\t\tWHEN 'Ï†ÑÎûµÍ∏∞ÌöçÏã§' THEN 2\n\t\t\t\t\tWHEN 'Ïó∞Íµ¨ÏÜå' THEN 3\n\t\t\t\t\tWHEN 'Î∂ÄÏÑúÏóÜÏùå' THEN 999\n\t\t\t\t\tELSE 100\n\t\t\t\tEND,\n\t\t\t\tlevel DESC,\n\t\t\t\tname ASC\n\t\t`)\n\n    let currentDept = ''\n    allPositions.rows.forEach(row => {\n      if (row.department !== currentDept) {\n        console.log(`\\nüìÅ ${row.department}:`)\n        currentDept = row.department\n      }\n      const levelIndicator = '  '.repeat(7 - row.level) + '‚îî‚îÄ '\n      console.log(`${levelIndicator}${row.name} (Level ${row.level})`)\n    })\n\n    console.log('\\n‚úÖ New organizations added successfully!')\n  } catch (error) {\n    console.error('‚ùå Failed to add new organizations:', error)\n    throw error\n  }\n}\n\n// Run the script\naddNewOrganizations()\n  .then(() => {\n    console.log('üéâ New organizations setup completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• New organizations setup failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/add-no-department.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 7,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 7,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 22,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 22,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 23,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 23,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 25,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 25,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 29,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 29,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 35,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 35,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 40,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 40,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 42,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 46,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 46,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Node.js ÎÇ¥Ïû• fetch ÏÇ¨Ïö©\n\nconst API_BASE = 'http://localhost:5173/api'\n\nasync function addNoDepartment() {\n  try {\n    const response = await fetch(`${API_BASE}/departments`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: 'Î∂ÄÏÑúÏóÜÏùå',\n        description: 'Î∂ÄÏÑúÍ∞Ä Î∞∞Ï†ïÎêòÏßÄ ÏïäÏùÄ ÏßÅÏõêÎì§ÏùÑ ÏúÑÌïú Î∂ÄÏÑú',\n        level: 0, // ÏµúÌïòÏúÑ Î†àÎ≤®\n        is_active: true\n      })\n    })\n\n    const result = await response.json()\n    if (result.success) {\n      console.log('‚úÖ Î∂ÄÏÑúÏóÜÏùå Î∂ÄÏÑúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.')\n      console.log(`üìã Î∂ÄÏÑú ID: ${result.data.id}`)\n    } else {\n      console.log(`‚ùå Î∂ÄÏÑú Ï∂îÍ∞Ä Ïã§Ìå®: ${result.error}`)\n    }\n    return result.success\n  } catch (error) {\n    console.error('Error adding department:', error)\n    return false\n  }\n}\n\nasync function main() {\n  console.log('üîÑ Î∂ÄÏÑúÏóÜÏùå Î∂ÄÏÑú Ï∂îÍ∞Ä ÏãúÏûë...')\n\n  const success = await addNoDepartment()\n\n  if (success) {\n    console.log('‚úÖ Î∂ÄÏÑúÏóÜÏùå Î∂ÄÏÑú Ï∂îÍ∞Ä ÏôÑÎ£å!')\n  } else {\n    console.log('‚ùå Î∂ÄÏÑúÏóÜÏùå Î∂ÄÏÑú Ï∂îÍ∞Ä Ïã§Ìå®!')\n  }\n}\n\nmain().catch(console.error)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/auto-validation-cli.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 13,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 13,
        "endColumn": 32
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 14,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 14,
        "endColumn": 32
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 22,
        "column": 21,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 22,
        "endColumn": 28
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 23,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 23,
        "endColumn": 25
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 48,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 48,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 58,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 58,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 62,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 62,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 79,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 79,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 80,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 80,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 81,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 81,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 82,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 82,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 83,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 83,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 84,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 84,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 85,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 85,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 86,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 86,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 88,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 88,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 101,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 101,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 105,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 105,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 110,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 110,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 112,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 112,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 120,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 120,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setTimeout' is not defined.",
        "line": 122,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 122,
        "endColumn": 44
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 130,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 130,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 131,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 131,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 135,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 135,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 136,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 136,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 137,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 137,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 143,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 143,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 144,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 144,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 145,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 145,
        "endColumn": 42
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 148,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 148,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 157,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 157,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 161,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 161,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 162,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 162,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 166,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 166,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 168,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 168,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 176,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 176,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 177,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 177,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 181,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 181,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 183,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 183,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 185,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 185,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 190,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 190,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 196,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 196,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 198,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 198,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 199,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 199,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 203,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 203,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 212,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 212,
        "endColumn": 18
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 214,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 214,
        "endColumn": 18
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 219,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 219,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 222,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 222,
        "endColumn": 16
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 223,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 223,
        "endColumn": 21
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 224,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 224,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 227,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 227,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 228,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 228,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 230,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 230,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 238,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 238,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 239,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 239,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 240,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 240,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 241,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 241,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 242,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 242,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 243,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 243,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 244,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 244,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 245,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 245,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 246,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 246,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 247,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 247,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 248,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 248,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 249,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 249,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 250,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 250,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 251,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 251,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 252,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 252,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 253,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 253,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 254,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 254,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 267,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 267,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 269,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 269,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 278,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 278,
        "endColumn": 12
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'stdout' is assigned a value but never used.",
        "line": 282,
        "column": 15,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 282,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "stdout" },
            "fix": { "range": [6687, 6694], "text": "" },
            "desc": "Remove unused variable 'stdout'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 287,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 287,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 290,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 290,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 292,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 292,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 309,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 309,
        "endColumn": 32
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 319,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 319,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 320,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 320,
        "endColumn": 10
      }
    ],
    "suppressedMessages": [],
    "errorCount": 83,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n// ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ CLI ÎèÑÍµ¨\n\nimport { exec, spawn } from 'child_process'\nimport { existsSync, mkdirSync, readFileSync, writeFileSync } from 'fs'\nimport { join } from 'path'\nimport { promisify } from 'util'\n\nclass AutoValidationCLI {\n  constructor() {\n    this.serviceFile = 'src/lib/services/auto-validation-service.js'\n    this.pidFile = join(process.cwd(), 'logs', 'auto-validation.pid')\n    this.logFile = join(process.cwd(), 'logs', 'auto-validation.log')\n    this.ensureLogDirectory()\n  }\n\n  /**\n   * CLI Ïã§Ìñâ\n   */\n  async run() {\n    const command = process.argv[2]\n    const args = process.argv.slice(3)\n\n    switch (command) {\n      case 'start':\n        await this.start()\n        break\n      case 'stop':\n        await this.stop()\n        break\n      case 'restart':\n        await this.restart()\n        break\n      case 'status':\n        await this.status()\n        break\n      case 'logs':\n        await this.logs(args[0] || '50')\n        break\n      case 'test':\n        await this.test()\n        break\n      case 'help':\n        this.help()\n        break\n      default:\n        console.log('‚ùå Ïïå Ïàò ÏóÜÎäî Î™ÖÎ†πÏñ¥ÏûÖÎãàÎã§.')\n        this.help()\n    }\n  }\n\n  /**\n   * ÏÑúÎπÑÏä§ ÏãúÏûë\n   */\n  async start() {\n    if (this.isRunning()) {\n      console.log('‚ö†Ô∏è ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§Í∞Ä Ïù¥ÎØ∏ Ïã§Ìñâ Ï§ëÏûÖÎãàÎã§.')\n      return\n    }\n\n    console.log('üöÄ ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ ÏãúÏûë...')\n\n    try {\n      // TypeScript ÌååÏùºÏùÑ JavaScriptÎ°ú Ïª¥ÌååÏùº\n      await this.compileService()\n\n      // Î∞±Í∑∏ÎùºÏö¥ÎìúÏóêÏÑú ÏÑúÎπÑÏä§ Ïã§Ìñâ\n      const serviceProcess = spawn('node', [this.serviceFile], {\n        detached: true,\n        stdio: 'ignore'\n      })\n\n      serviceProcess.unref()\n\n      // PID Ï†ÄÏû•\n      writeFileSync(this.pidFile, serviceProcess.pid.toString())\n\n      console.log('‚úÖ ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§Í∞Ä ÏãúÏûëÎêòÏóàÏäµÎãàÎã§.')\n      console.log(`üìã PID: ${serviceProcess.pid}`)\n      console.log(`üìù Î°úÍ∑∏: ${this.logFile}`)\n      console.log('')\n      console.log('ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Î™ÖÎ†πÏñ¥:')\n      console.log('  npm run auto-validation status  - ÏÉÅÌÉú ÌôïÏù∏')\n      console.log('  npm run auto-validation logs    - Î°úÍ∑∏ ÌôïÏù∏')\n      console.log('  npm run auto-validation stop    - ÏÑúÎπÑÏä§ Ï§ëÏßÄ')\n    } catch (error) {\n      console.error('‚ùå ÏÑúÎπÑÏä§ ÏãúÏûë Ïã§Ìå®:', error.message)\n    }\n  }\n\n  /**\n   * ÏÑúÎπÑÏä§ Ï§ëÏßÄ\n   */\n  async stop() {\n    if (!this.isRunning()) {\n      console.log('‚ö†Ô∏è ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§Í∞Ä Ïã§Ìñâ Ï§ëÏù¥ ÏïÑÎãôÎãàÎã§.')\n      return\n    }\n\n    console.log('üõë ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ Ï§ëÏßÄ...')\n\n    try {\n      const pid = parseInt(readFileSync(this.pidFile, 'utf-8'))\n      process.kill(pid, 'SIGTERM')\n\n      // PID ÌååÏùº ÏÇ≠Ï†ú\n      writeFileSync(this.pidFile, '')\n\n      console.log('‚úÖ ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§Í∞Ä Ï§ëÏßÄÎêòÏóàÏäµÎãàÎã§.')\n    } catch (error) {\n      console.error('‚ùå ÏÑúÎπÑÏä§ Ï§ëÏßÄ Ïã§Ìå®:', error.message)\n    }\n  }\n\n  /**\n   * ÏÑúÎπÑÏä§ Ïû¨ÏãúÏûë\n   */\n  async restart() {\n    console.log('üîÑ ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ Ïû¨ÏãúÏûë...')\n    await this.stop()\n    await new Promise(resolve => setTimeout(resolve, 2000)) // 2Ï¥à ÎåÄÍ∏∞\n    await this.start()\n  }\n\n  /**\n   * ÏÑúÎπÑÏä§ ÏÉÅÌÉú ÌôïÏù∏\n   */\n  async status() {\n    console.log('üìä ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ ÏÉÅÌÉú')\n    console.log('=' * 40)\n\n    if (this.isRunning()) {\n      const pid = parseInt(readFileSync(this.pidFile, 'utf-8'))\n      console.log('‚úÖ ÏÉÅÌÉú: Ïã§Ìñâ Ï§ë')\n      console.log(`üìã PID: ${pid}`)\n      console.log(`üìù Î°úÍ∑∏ ÌååÏùº: ${this.logFile}`)\n\n      // ÏµúÍ∑º Î°úÍ∑∏ ÌôïÏù∏\n      if (existsSync(this.logFile)) {\n        const logs = readFileSync(this.logFile, 'utf-8').split('\\n')\n        const recentLogs = logs.slice(-5).filter(log => log.trim())\n        console.log('')\n        console.log('üìù ÏµúÍ∑º Î°úÍ∑∏:')\n        recentLogs.forEach(log => console.log(`  ${log}`))\n      }\n    } else {\n      console.log('‚ùå ÏÉÅÌÉú: Ï§ëÏßÄÎê®')\n    }\n  }\n\n  /**\n   * Î°úÍ∑∏ ÌôïÏù∏\n   */\n  async logs(lines = '50') {\n    if (!existsSync(this.logFile)) {\n      console.log('üìù Î°úÍ∑∏ ÌååÏùºÏù¥ Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏäµÎãàÎã§.')\n      return\n    }\n\n    console.log(`üìù ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ Î°úÍ∑∏ (ÏµúÍ∑º ${lines}Ï§Ñ)`)\n    console.log('=' * 50)\n\n    try {\n      const { stdout } = await this.execAsync(`tail -n ${lines} \"${this.logFile}\"`)\n      console.log(stdout)\n    } catch (error) {\n      console.error('‚ùå Î°úÍ∑∏ ÌôïÏù∏ Ïã§Ìå®:', error.message)\n    }\n  }\n\n  /**\n   * ÌÖåÏä§Ìä∏ Ïã§Ìñâ\n   */\n  async test() {\n    console.log('üß™ ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ ÌÖåÏä§Ìä∏')\n    console.log('=' * 40)\n\n    try {\n      // 1. ÏÑúÎπÑÏä§ ÌååÏùº Ï°¥Ïû¨ ÌôïÏù∏\n      console.log('1. ÏÑúÎπÑÏä§ ÌååÏùº ÌôïÏù∏...')\n      if (existsSync(this.serviceFile)) {\n        console.log('  ‚úÖ ÏÑúÎπÑÏä§ ÌååÏùº Ï°¥Ïû¨')\n      } else {\n        console.log('  ‚ùå ÏÑúÎπÑÏä§ ÌååÏùº ÏóÜÏùå')\n        return\n      }\n\n      // 2. ÏùòÏ°¥ÏÑ± ÌôïÏù∏\n      console.log('2. ÏùòÏ°¥ÏÑ± ÌôïÏù∏...')\n      const packageJson = JSON.parse(readFileSync('package.json', 'utf-8'))\n      const requiredDeps = ['prettier', 'typescript']\n      const missingDeps = requiredDeps.filter(dep => !packageJson.devDependencies?.[dep])\n\n      if (missingDeps.length === 0) {\n        console.log('  ‚úÖ Î™®Îì† ÏùòÏ°¥ÏÑ± ÏÑ§ÏπòÎê®')\n      } else {\n        console.log(`  ‚ùå ÎàÑÎùΩÎêú ÏùòÏ°¥ÏÑ±: ${missingDeps.join(', ')}`)\n        console.log(`  üí° ÏÑ§Ïπò Î™ÖÎ†πÏñ¥: npm install --save-dev ${missingDeps.join(' ')}`)\n      }\n\n      // 3. ÎîîÎ†âÌÜ†Î¶¨ Íµ¨Ï°∞ ÌôïÏù∏\n      console.log('3. ÎîîÎ†âÌÜ†Î¶¨ Íµ¨Ï°∞ ÌôïÏù∏...')\n      const requiredDirs = [\n        'src/lib/utils',\n        'src/routes/api/project-management',\n        'src/lib/components/project-management'\n      ]\n\n      requiredDirs.forEach(dir => {\n        if (existsSync(dir)) {\n          console.log(`  ‚úÖ ${dir}`)\n        } else {\n          console.log(`  ‚ùå ${dir} (ÏóÜÏùå)`)\n        }\n      })\n\n      // 4. Í∂åÌïú ÌôïÏù∏\n      console.log('4. Í∂åÌïú ÌôïÏù∏...')\n      try {\n        writeFileSync(this.logFile, 'test')\n        console.log('  ‚úÖ Î°úÍ∑∏ ÌååÏùº Ïì∞Í∏∞ Í∂åÌïú')\n      } catch (error) {\n        console.log('  ‚ùå Î°úÍ∑∏ ÌååÏùº Ïì∞Í∏∞ Í∂åÌïú ÏóÜÏùå')\n      }\n\n      console.log('')\n      console.log('‚úÖ ÌÖåÏä§Ìä∏ ÏôÑÎ£å')\n    } catch (error) {\n      console.error('‚ùå ÌÖåÏä§Ìä∏ Ïã§Ìå®:', error.message)\n    }\n  }\n\n  /**\n   * ÎèÑÏõÄÎßê ÌëúÏãú\n   */\n  help() {\n    console.log('ü§ñ ÏûêÎèô Í≤ÄÏ¶ù ÏÑúÎπÑÏä§ CLI')\n    console.log('')\n    console.log('ÏÇ¨Ïö©Î≤ï: npm run auto-validation <Î™ÖÎ†πÏñ¥>')\n    console.log('')\n    console.log('Î™ÖÎ†πÏñ¥:')\n    console.log('  start     - ÏÑúÎπÑÏä§ ÏãúÏûë')\n    console.log('  stop      - ÏÑúÎπÑÏä§ Ï§ëÏßÄ')\n    console.log('  restart   - ÏÑúÎπÑÏä§ Ïû¨ÏãúÏûë')\n    console.log('  status    - ÏÑúÎπÑÏä§ ÏÉÅÌÉú ÌôïÏù∏')\n    console.log('  logs [n]  - Î°úÍ∑∏ ÌôïÏù∏ (Í∏∞Î≥∏: 50Ï§Ñ)')\n    console.log('  test      - ÏÑúÎπÑÏä§ ÌÖåÏä§Ìä∏')\n    console.log('  help      - ÎèÑÏõÄÎßê ÌëúÏãú')\n    console.log('')\n    console.log('ÏòàÏãú:')\n    console.log('  npm run auto-validation start')\n    console.log('  npm run auto-validation status')\n    console.log('  npm run auto-validation logs 100')\n  }\n\n  /**\n   * ÏÑúÎπÑÏä§Í∞Ä Ïã§Ìñâ Ï§ëÏù∏ÏßÄ ÌôïÏù∏\n   */\n  isRunning() {\n    if (!existsSync(this.pidFile)) {\n      return false\n    }\n\n    try {\n      const pid = parseInt(readFileSync(this.pidFile, 'utf-8'))\n      process.kill(pid, 0) // ÌîÑÎ°úÏÑ∏Ïä§ Ï°¥Ïû¨ ÌôïÏù∏\n      return true\n    } catch (error) {\n      return false\n    }\n  }\n\n  /**\n   * ÏÑúÎπÑÏä§ ÌååÏùº Ïª¥ÌååÏùº\n   */\n  async compileService() {\n    console.log('üî® ÏÑúÎπÑÏä§ ÌååÏùº Ïª¥ÌååÏùº...')\n\n    try {\n      // TypeScriptÎ•º JavaScriptÎ°ú Ïª¥ÌååÏùº\n      const { stdout, stderr } = await this.execAsync(\n        'npx tsc src/lib/services/auto-validation-service.ts --outDir . --target es2020 --module commonjs'\n      )\n\n      if (stderr) {\n        console.log('‚ö†Ô∏è Ïª¥ÌååÏùº Í≤ΩÍ≥†:', stderr)\n      }\n\n      console.log('‚úÖ Ïª¥ÌååÏùº ÏôÑÎ£å')\n    } catch (error) {\n      console.error('‚ùå Ïª¥ÌååÏùº Ïã§Ìå®:', error.message)\n      throw error\n    }\n  }\n\n  /**\n   * execAsync Ìó¨Ìçº\n   */\n  execAsync(command) {\n    const execAsync = promisify(exec)\n    return execAsync(command)\n  }\n\n  /**\n   * Î°úÍ∑∏ ÎîîÎ†âÌÜ†Î¶¨ ÏÉùÏÑ±\n   */\n  ensureLogDirectory() {\n    const logDir = join(process.cwd(), 'logs')\n    if (!existsSync(logDir)) {\n      mkdirSync(logDir, { recursive: true })\n    }\n  }\n}\n\n// CLI Ïã§Ìñâ\nconst cli = new AutoValidationCLI()\ncli.run().catch(error => {\n  console.error('‚ùå CLI Ïã§Ìñâ Ïã§Ìå®:', error)\n  process.exit(1)\n})\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/check-errors.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 23,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 23,
        "endColumn": 10
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 53,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 53,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 86,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 86,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 122,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 122,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 202,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 202,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 205,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 205,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 209,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 209,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * ÏûêÎèô Ïò§Î•ò Ï≤¥ÌÅ¨ Ïä§ÌÅ¨Î¶ΩÌä∏\n * ÏΩîÎìú ÏûëÏÑ± ÌõÑ TypeScript Ïò§Î•òÏôÄ Î¶∞ÌÑ∞ Ïò§Î•òÎ•º ÏûêÎèôÏúºÎ°ú Ï≤¥ÌÅ¨Ìï©ÎãàÎã§.\n */\n\nimport { execSync } from 'child_process'\n\n// ÏÉâÏÉÅ ÏΩîÎìú\nconst colors = {\n  reset: '\\x1b[0m',\n  bright: '\\x1b[1m',\n  red: '\\x1b[31m',\n  green: '\\x1b[32m',\n  yellow: '\\x1b[33m',\n  blue: '\\x1b[34m',\n  magenta: '\\x1b[35m',\n  cyan: '\\x1b[36m'\n}\n\nfunction log(message, color = 'reset') {\n  console.log(`${colors[color]}${message}${colors.reset}`)\n}\n\nfunction logSection(title) {\n  log(`\\n${'='.repeat(60)}`, 'cyan')\n  log(`${title}`, 'bright')\n  log(`${'='.repeat(60)}`, 'cyan')\n}\n\nfunction logSuccess(message) {\n  log(`‚úÖ ${message}`, 'green')\n}\n\nfunction logError(message) {\n  log(`‚ùå ${message}`, 'red')\n}\n\nfunction logWarning(message) {\n  log(`‚ö†Ô∏è  ${message}`, 'yellow')\n}\n\nfunction logInfo(message) {\n  log(`‚ÑπÔ∏è  ${message}`, 'blue')\n}\n\nasync function checkTypeScriptErrors() {\n  logSection('TypeScript Ïò§Î•ò Ï≤¥ÌÅ¨')\n\n  try {\n    logInfo('Svelte ÌÉÄÏûÖ Ï≤¥ÌÅ¨ Ïã§Ìñâ Ï§ë...')\n    const result = execSync('npm run check', {\n      encoding: 'utf8',\n      stdio: 'pipe'\n    })\n\n    logSuccess('TypeScript Ïò§Î•ò ÏóÜÏùå!')\n    return { success: true, errors: [] }\n  } catch (error) {\n    const output = error.stdout || error.stderr || ''\n    const lines = output\n      .split('\\n')\n      .filter(\n        line => line.includes('error') || line.includes('Error') || line.includes('Type error')\n      )\n\n    if (lines.length > 0) {\n      logError(`TypeScript Ïò§Î•ò Î∞úÍ≤¨ (${lines.length}Í∞ú):`)\n      lines.forEach(line => logError(`  ${line}`))\n    } else {\n      logWarning('TypeScript Ï≤¥ÌÅ¨ ÏôÑÎ£å (Í≤ΩÍ≥† ÏûàÏùå)')\n    }\n\n    return { success: false, errors: lines }\n  }\n}\n\nasync function checkLinterErrors() {\n  logSection('Î¶∞ÌÑ∞ Ïò§Î•ò Ï≤¥ÌÅ¨')\n\n  try {\n    logInfo('Î¶∞ÌÑ∞ Ï≤¥ÌÅ¨ Ïã§Ìñâ Ï§ë...')\n\n    // ÌòÑÏû¨ ÏûëÏóÖ ÎîîÎ†âÌÜ†Î¶¨ÏóêÏÑú Î¶∞ÌÑ∞ Ïã§Ìñâ\n    const result = execSync('npx svelte-check --tsconfig ./tsconfig.json', {\n      encoding: 'utf8',\n      stdio: 'pipe'\n    })\n\n    logSuccess('Î¶∞ÌÑ∞ Ïò§Î•ò ÏóÜÏùå!')\n    return { success: true, errors: [] }\n  } catch (error) {\n    const output = error.stdout || error.stderr || ''\n    const lines = output\n      .split('\\n')\n      .filter(\n        line =>\n          line.includes('warning') ||\n          line.includes('Warning') ||\n          line.includes('error') ||\n          line.includes('Error')\n      )\n\n    if (lines.length > 0) {\n      logWarning(`Î¶∞ÌÑ∞ Í≤ΩÍ≥†/Ïò§Î•ò Î∞úÍ≤¨ (${lines.length}Í∞ú):`)\n      lines.forEach(line => logWarning(`  ${line}`))\n    } else {\n      logInfo('Î¶∞ÌÑ∞ Ï≤¥ÌÅ¨ ÏôÑÎ£å')\n    }\n\n    return { success: false, errors: lines }\n  }\n}\n\nasync function checkBuildErrors() {\n  logSection('ÎπåÎìú Ïò§Î•ò Ï≤¥ÌÅ¨')\n\n  try {\n    logInfo('ÎπåÎìú ÌÖåÏä§Ìä∏ Ïã§Ìñâ Ï§ë...')\n\n    const result = execSync('npm run build', {\n      encoding: 'utf8',\n      stdio: 'pipe'\n    })\n\n    logSuccess('ÎπåÎìú ÏÑ±Í≥µ!')\n    return { success: true, errors: [] }\n  } catch (error) {\n    const output = error.stdout || error.stderr || ''\n    const lines = output\n      .split('\\n')\n      .filter(\n        line =>\n          line.includes('error') ||\n          line.includes('Error') ||\n          line.includes('failed') ||\n          line.includes('Failed')\n      )\n\n    if (lines.length > 0) {\n      logError(`ÎπåÎìú Ïò§Î•ò Î∞úÍ≤¨ (${lines.length}Í∞ú):`)\n      lines.forEach(line => logError(`  ${line}`))\n    }\n\n    return { success: false, errors: lines }\n  }\n}\n\nasync function generateErrorReport(tsResult, linterResult, buildResult) {\n  logSection('Ïò§Î•ò Î¶¨Ìè¨Ìä∏')\n\n  const totalErrors =\n    tsResult.errors.length + linterResult.errors.length + buildResult.errors.length\n\n  if (totalErrors === 0) {\n    logSuccess('üéâ Î™®Îì† Ï≤¥ÌÅ¨ ÌÜµÍ≥º! ÏΩîÎìúÍ∞Ä ÍπîÎÅîÌï©ÎãàÎã§.')\n    return true\n  }\n\n  logError(`Ï¥ù ${totalErrors}Í∞úÏùò Î¨∏Ï†úÍ∞Ä Î∞úÍ≤¨ÎêòÏóàÏäµÎãàÎã§:`)\n\n  if (tsResult.errors.length > 0) {\n    logError(`  - TypeScript Ïò§Î•ò: ${tsResult.errors.length}Í∞ú`)\n  }\n\n  if (linterResult.errors.length > 0) {\n    logWarning(`  - Î¶∞ÌÑ∞ Í≤ΩÍ≥†/Ïò§Î•ò: ${linterResult.errors.length}Í∞ú`)\n  }\n\n  if (buildResult.errors.length > 0) {\n    logError(`  - ÎπåÎìú Ïò§Î•ò: ${buildResult.errors.length}Í∞ú`)\n  }\n\n  logInfo('\\nüí° Í∂åÏû•ÏÇ¨Ìï≠:')\n  logInfo('  1. TypeScript Ïò§Î•òÎ∂ÄÌÑ∞ ÏàòÏ†ïÌïòÏÑ∏Ïöî')\n  logInfo('  2. ÎπåÎìú Ïò§Î•òÎ•º ÏàòÏ†ïÌïòÏÑ∏Ïöî')\n  logInfo('  3. Î¶∞ÌÑ∞ Í≤ΩÍ≥†Îäî ÏΩîÎìú ÌíàÏßà Í∞úÏÑ†ÏùÑ ÏúÑÌï¥ ÏàòÏ†ïÌïòÏÑ∏Ïöî')\n\n  return false\n}\n\nasync function main() {\n  log('üîç ÏûêÎèô Ïò§Î•ò Ï≤¥ÌÅ¨ ÏãúÏûë', 'bright')\n  log('='.repeat(60), 'cyan')\n\n  try {\n    // 1. TypeScript Ïò§Î•ò Ï≤¥ÌÅ¨\n    const tsResult = await checkTypeScriptErrors()\n\n    // 2. Î¶∞ÌÑ∞ Ïò§Î•ò Ï≤¥ÌÅ¨\n    const linterResult = await checkLinterErrors()\n\n    // 3. ÎπåÎìú Ïò§Î•ò Ï≤¥ÌÅ¨\n    const buildResult = await checkBuildErrors()\n\n    // 4. Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\n    const allPassed = await generateErrorReport(tsResult, linterResult, buildResult)\n\n    if (allPassed) {\n      log('\\nüéØ Í≤∞Í≥º: Î™®Îì† Ï≤¥ÌÅ¨ ÌÜµÍ≥º!', 'green')\n      process.exit(0)\n    } else {\n      log('\\n‚ö†Ô∏è  Í≤∞Í≥º: Î¨∏Ï†úÍ∞Ä Î∞úÍ≤¨ÎêòÏóàÏäµÎãàÎã§. ÏúÑÏùò Í∂åÏû•ÏÇ¨Ìï≠ÏùÑ Îî∞Îùº ÏàòÏ†ïÌïòÏÑ∏Ïöî.', 'yellow')\n      process.exit(1)\n    }\n  } catch (error) {\n    logError(`Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ Ï§ë Ïò§Î•ò Î∞úÏÉù: ${error.message}`)\n    process.exit(1)\n  }\n}\n\n// Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ\nmain()\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/clean-unused-imports.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filePath' is defined but never used.",
        "line": 85,
        "column": 44,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 85,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "filePath" },
            "fix": { "range": [2219, 2229], "text": "" },
            "desc": "Remove unused variable 'filePath'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'importStart' is assigned a value but never used.",
        "line": 123,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 123,
        "endColumn": 18
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 163,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 163,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 169,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 169,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 191,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 191,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 198,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 198,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 200,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 200,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî importÎì§ÏùÑ ÏûêÎèôÏúºÎ°ú Ï†úÍ±∞ÌïòÎäî Ïä§ÌÅ¨Î¶ΩÌä∏\n */\n\nimport { readFileSync, writeFileSync, readdirSync, statSync } from 'fs'\nimport { join, extname } from 'path'\n\nfunction findUnusedImports(content, filePath) {\n  const lines = content.split('\\n')\n  const changes = []\n\n  // Svelte ÌååÏùºÏóêÏÑú ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî import Ï∞æÍ∏∞\n  if (filePath.endsWith('.svelte')) {\n    // import Î¨∏Îì§ Ï∞æÍ∏∞\n    const importLines = []\n    let inImportBlock = false\n    let importStart = -1\n\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim()\n\n      // import ÏãúÏûë\n      if (line.startsWith('import') && line.includes('{')) {\n        inImportBlock = true\n        importStart = i\n        importLines.push({ line, index: i })\n      }\n      // import Î∏îÎ°ùÏùò ÎÅù\n      else if (inImportBlock && line.includes('}') && line.includes('from')) {\n        inImportBlock = false\n        importLines.push({ line, index: i })\n\n        // Ïù¥ import Î∏îÎ°ù Î∂ÑÏÑù\n        const importBlock = lines.slice(importStart, i + 1).join('\\n')\n        const imports = extractImports(importBlock)\n\n        // Í∞Å importÍ∞Ä Ïã§Ï†úÎ°ú ÏÇ¨Ïö©ÎêòÎäîÏßÄ ÌôïÏù∏\n        const usedImports = []\n        for (const imp of imports) {\n          if (isImportUsed(content, imp, filePath)) {\n            usedImports.push(imp)\n          }\n        }\n\n        // ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÎäî importÍ∞Ä ÏûàÏúºÎ©¥ ÏàòÏ†ï\n        if (usedImports.length !== imports.length) {\n          const newImportBlock = rebuildImportBlock(importBlock, usedImports)\n          changes.push({\n            start: importStart,\n            end: i + 1,\n            old: importBlock,\n            new: newImportBlock\n          })\n        }\n      }\n      // import Î∏îÎ°ù ÎÇ¥Î∂Ä\n      else if (inImportBlock) {\n        importLines.push({ line, index: i })\n      }\n    }\n  }\n\n  return changes\n}\n\nfunction extractImports(importBlock) {\n  const imports = []\n  const lines = importBlock.split('\\n')\n\n  for (const line of lines) {\n    if (line.includes('{') && line.includes('}')) {\n      const match = line.match(/\\{([^}]+)\\}/)\n      if (match) {\n        const importList = match[1].split(',').map(imp => imp.trim())\n        imports.push(...importList)\n      }\n    }\n  }\n\n  return imports.filter(imp => imp && !imp.includes('type'))\n}\n\nfunction isImportUsed(content, importName, filePath) {\n  // Svelte ÌååÏùºÏóêÏÑú ÏÇ¨Ïö©ÎêòÎäî Ìå®ÌÑ¥Îì§\n  const patterns = [\n    new RegExp(`<${importName}\\\\b`, 'g'), // Ïª¥Ìè¨ÎÑåÌä∏ ÏÇ¨Ïö©\n    new RegExp(`\\\\b${importName}\\\\b`, 'g'), // ÏùºÎ∞ò ÏÇ¨Ïö©\n    new RegExp(`\\\\$${importName}\\\\b`, 'g'), // Ïä§ÌÜ†Ïñ¥ ÏÇ¨Ïö©\n    new RegExp(`{${importName}\\\\b`, 'g'), // ÌëúÌòÑÏãù ÏÇ¨Ïö©\n    new RegExp(`:${importName}\\\\b`, 'g') // Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨\n  ]\n\n  // import Î¨∏ ÏûêÏ≤¥Îäî Ï†úÏô∏\n  const contentWithoutImports = content.replace(/import\\s+.*?from\\s+['\"][^'\"]+['\"];?\\s*/g, '')\n\n  for (const pattern of patterns) {\n    if (pattern.test(contentWithoutImports)) {\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction rebuildImportBlock(originalBlock, usedImports) {\n  if (usedImports.length === 0) {\n    return '' // Ï†ÑÏ≤¥ import Î∏îÎ°ù Ï†úÍ±∞\n  }\n\n  const lines = originalBlock.split('\\n')\n  const newLines = []\n\n  let inImportBlock = false\n  let importStart = -1\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i].trim()\n\n    if (line.startsWith('import') && line.includes('{')) {\n      inImportBlock = true\n      importStart = i\n\n      // import Î¨∏ ÏãúÏûë Î∂ÄÎ∂Ñ\n      const importPrefix = line.substring(0, line.indexOf('{'))\n      const importSuffix = lines[i + 1] || ''\n      const fromPart = importSuffix.includes('from') ? importSuffix : lines[i + 2] || ''\n\n      // ÏÇ¨Ïö©ÎêòÎäî importÎì§Îßå Ìè¨Ìï®\n      const importList = usedImports.join(',\\n\\t\\t')\n      newLines.push(`${importPrefix}{`)\n      newLines.push(`\\t\\t${importList}`)\n      newLines.push(`\\t}${fromPart}`)\n\n      // Îã§Ïùå Ï§ÑÎ°ú Í±¥ÎÑàÎõ∞Í∏∞\n      i += importSuffix.includes('from') ? 1 : 2\n    } else if (!inImportBlock) {\n      newLines.push(lines[i])\n    }\n  }\n\n  return newLines.join('\\n')\n}\n\nfunction processFile(filePath) {\n  try {\n    const content = readFileSync(filePath, 'utf8')\n    const changes = findUnusedImports(content, filePath)\n\n    if (changes.length > 0) {\n      let newContent = content\n\n      // Îí§ÏóêÏÑúÎ∂ÄÌÑ∞ ÏàòÏ†ï (Ïù∏Îç±Ïä§ Î≥ÄÍ≤Ω Î∞©ÏßÄ)\n      for (let i = changes.length - 1; i >= 0; i--) {\n        const change = changes[i]\n        const before = newContent.substring(0, change.start)\n        const after = newContent.substring(change.end)\n        newContent = before + change.new + after\n      }\n\n      writeFileSync(filePath, newContent, 'utf8')\n      console.log(`‚úÖ ÏàòÏ†ïÎê®: ${filePath} (${changes.length}Í∞ú Î≥ÄÍ≤Ω)`)\n      return changes.length\n    }\n\n    return 0\n  } catch (error) {\n    console.error(`‚ùå Ïò§Î•ò: ${filePath}`, error.message)\n    return 0\n  }\n}\n\nfunction processDirectory(dirPath) {\n  let totalChanges = 0\n\n  try {\n    const items = readdirSync(dirPath)\n\n    for (const item of items) {\n      const fullPath = join(dirPath, item)\n      const stat = statSync(fullPath)\n\n      if (stat.isDirectory() && !item.startsWith('.') && item !== 'node_modules') {\n        totalChanges += processDirectory(fullPath)\n      } else if (stat.isFile() && (extname(item) === '.svelte' || extname(item) === '.ts')) {\n        totalChanges += processFile(fullPath)\n      }\n    }\n  } catch (error) {\n    console.error(`‚ùå ÎîîÎ†âÌÜ†Î¶¨ Ï≤òÎ¶¨ Ïò§Î•ò: ${dirPath}`, error.message)\n  }\n\n  return totalChanges\n}\n\n// Î©îÏù∏ Ïã§Ìñâ\nconsole.log('üßπ ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî import Ï†ïÎ¶¨ ÏãúÏûë...')\nconst totalChanges = processDirectory('./src')\nconsole.log(`\\nüéâ ÏôÑÎ£å! Ï¥ù ${totalChanges}Í∞ú ÌååÏùºÏù¥ ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.`)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/create-test-evidence-data.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'__dirname' is assigned a value but never used.",
        "line": 6,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 24,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 24,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 36,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 36,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 41,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 41,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 46,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 46,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 53,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 53,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 193,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 193,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 252,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 252,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 290,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 290,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 310,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 310,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 312,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 312,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 317,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 317,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 327,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 327,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 328,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 328,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 331,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 331,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 332,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 332,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 16,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import path from 'path'\nimport { Pool } from 'pg'\nimport { fileURLToPath } from 'url'\n\nconst __filename = fileURLToPath(import.meta.url)\nconst __dirname = path.dirname(__filename)\n\n// Database configuration\nconst dbConfig = {\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: {\n    rejectUnauthorized: false\n  }\n}\n\nasync function createTestEvidenceData() {\n  const pool = new Pool(dbConfig)\n\n  try {\n    console.log('ÌÖåÏä§Ìä∏ Ï¶ùÎπô Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ï§ë...')\n\n    // 1. ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ Ï°∞Ìöå\n    const budgetResult = await pool.query(`\n            SELECT pb.id, pb.period_number, pb.fiscal_year, p.title as project_title\n            FROM project_budgets pb\n            JOIN projects p ON pb.project_id = p.id\n            ORDER BY pb.created_at DESC\n            LIMIT 1\n        `)\n\n    if (budgetResult.rows.length === 0) {\n      console.log('‚ùå ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞Ïù¥ ÏóÜÏäµÎãàÎã§. Î®ºÏ†Ä ÌîÑÎ°úÏ†ùÌä∏ÏôÄ ÏòàÏÇ∞ÏùÑ ÏÉùÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    const budget = budgetResult.rows[0]\n    console.log(`ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ Î∞úÍ≤¨: ${budget.project_title} - ${budget.period_number}Ïó∞Ï∞®`)\n\n    // 2. Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨ Ï°∞Ìöå\n    const categoriesResult = await pool.query('SELECT * FROM evidence_categories ORDER BY name')\n    const categories = categoriesResult.rows\n    console.log(`Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨: ${categories.map(c => c.name).join(', ')}`)\n\n    // 3. ÏßÅÏõê Ï°∞Ìöå\n    const employeesResult = await pool.query(\n      'SELECT id, first_name, last_name FROM employees LIMIT 5'\n    )\n    const employees = employeesResult.rows\n    console.log(`ÏßÅÏõê: ${employees.map(e => `${e.first_name} ${e.last_name}`).join(', ')}`)\n\n    // 4. ÌÖåÏä§Ìä∏ Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±\n    const testEvidenceItems = [\n      // Ïù∏Í±¥ÎπÑ\n      {\n        category_id: categories.find(c => c.name === 'Ïù∏Í±¥ÎπÑ')?.id,\n        name: 'Î∞ïÍ∏∞ÏÑ† (2025-01)',\n        description: '2025ÎÖÑ 1Ïõî Í∏âÏó¨',\n        budget_amount: 5000000,\n        assignee_id: employees[0]?.id,\n        assignee_name: employees[0]\n          ? `${employees[0].first_name} ${employees[0].last_name}`\n          : 'Î∞ïÍ∏∞ÏÑ†',\n        progress: 100,\n        status: 'completed',\n        due_date: '2025-01-31'\n      },\n      {\n        category_id: categories.find(c => c.name === 'Ïù∏Í±¥ÎπÑ')?.id,\n        name: 'Î∞ïÍ∏∞ÏÑ† (2025-02)',\n        description: '2025ÎÖÑ 2Ïõî Í∏âÏó¨',\n        budget_amount: 5000000,\n        assignee_id: employees[0]?.id,\n        assignee_name: employees[0]\n          ? `${employees[0].first_name} ${employees[0].last_name}`\n          : 'Î∞ïÍ∏∞ÏÑ†',\n        progress: 100,\n        status: 'completed',\n        due_date: '2025-02-28'\n      },\n      {\n        category_id: categories.find(c => c.name === 'Ïù∏Í±¥ÎπÑ')?.id,\n        name: 'Î∞ïÍ∏∞ÏÑ† (2025-03)',\n        description: '2025ÎÖÑ 3Ïõî Í∏âÏó¨',\n        budget_amount: 5000000,\n        assignee_id: employees[0]?.id,\n        assignee_name: employees[0]\n          ? `${employees[0].first_name} ${employees[0].last_name}`\n          : 'Î∞ïÍ∏∞ÏÑ†',\n        progress: 75,\n        status: 'in_progress',\n        due_date: '2025-03-31'\n      },\n      // Ïó∞Íµ¨Ïû¨Î£åÎπÑ\n      {\n        category_id: categories.find(c => c.name === 'Ïó∞Íµ¨Ïû¨Î£åÎπÑ')?.id,\n        name: 'Î™®ÌÑ∞ 10Í∞ú',\n        description: 'ÎìúÎ°†Ïö© Î™®ÌÑ∞ Íµ¨Îß§',\n        budget_amount: 1000000,\n        assignee_id: employees[1]?.id,\n        assignee_name: employees[1]\n          ? `${employees[1].first_name} ${employees[1].last_name}`\n          : 'ÏµúÏãúÏö©',\n        progress: 100,\n        status: 'completed',\n        due_date: '2025-02-15'\n      },\n      {\n        category_id: categories.find(c => c.name === 'Ïó∞Íµ¨Ïû¨Î£åÎπÑ')?.id,\n        name: 'ÌîÑÎ°úÌé†Îü¨ 20Í∞ú',\n        description: 'ÎìúÎ°†Ïö© ÌîÑÎ°úÌé†Îü¨ Íµ¨Îß§',\n        budget_amount: 2000000,\n        assignee_id: employees[1]?.id,\n        assignee_name: employees[1]\n          ? `${employees[1].first_name} ${employees[1].last_name}`\n          : 'ÏµúÏãúÏö©',\n        progress: 50,\n        status: 'in_progress',\n        due_date: '2025-03-15'\n      },\n      // Ïó∞Íµ¨ÌôúÎèôÎπÑ\n      {\n        category_id: categories.find(c => c.name === 'Ïó∞Íµ¨ÌôúÎèôÎπÑ')?.id,\n        name: 'Ï∂úÏû•ÎπÑ (Íµ≠ÎÇ¥)',\n        description: 'Íµ≠ÎÇ¥ Ïó∞Íµ¨ÌöåÏùò Ï∞∏ÏÑù',\n        budget_amount: 800000,\n        assignee_id: employees[0]?.id,\n        assignee_name: employees[0]\n          ? `${employees[0].first_name} ${employees[0].last_name}`\n          : 'Î∞ïÍ∏∞ÏÑ†',\n        progress: 25,\n        status: 'in_progress',\n        due_date: '2025-03-30'\n      },\n      {\n        category_id: categories.find(c => c.name === 'Ïó∞Íµ¨ÌôúÎèôÎπÑ')?.id,\n        name: 'Ïô∏Ï£ºÏö©Ïó≠ÎπÑ (Î∂ÑÏÑù)',\n        description: 'Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Ïô∏Ï£º',\n        budget_amount: 2000000,\n        assignee_id: employees[0]?.id,\n        assignee_name: employees[0]\n          ? `${employees[0].first_name} ${employees[0].last_name}`\n          : 'Î∞ïÍ∏∞ÏÑ†',\n        progress: 60,\n        status: 'in_progress',\n        due_date: '2025-04-15'\n      },\n      // Í∞ÑÏ†ëÎπÑ\n      {\n        category_id: categories.find(c => c.name === 'Í∞ÑÏ†ëÎπÑ')?.id,\n        name: 'ÌäπÌóàÏ∂úÏõê (Î∞úÎ™Ö1)',\n        description: 'ÎìúÎ°† Ï†úÏñ¥ ÏïåÍ≥†Î¶¨Ï¶ò ÌäπÌóà',\n        budget_amount: 500000,\n        assignee_id: employees[0]?.id,\n        assignee_name: employees[0]\n          ? `${employees[0].first_name} ${employees[0].last_name}`\n          : 'Î∞ïÍ∏∞ÏÑ†',\n        progress: 80,\n        status: 'in_progress',\n        due_date: '2025-03-20'\n      }\n    ]\n\n    // Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±\n    for (const item of testEvidenceItems) {\n      if (!item.category_id) continue\n\n      const result = await pool.query(\n        `\n                INSERT INTO evidence_items (\n                    project_budget_id, category_id, name, description, budget_amount,\n                    assignee_id, assignee_name, progress, status, due_date\n                ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n                RETURNING id, name\n            `,\n        [\n          budget.id,\n          item.category_id,\n          item.name,\n          item.description,\n          item.budget_amount,\n          item.assignee_id,\n          item.assignee_name,\n          item.progress,\n          item.status,\n          item.due_date\n        ]\n      )\n\n      console.log(`‚úÖ Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±: ${result.rows[0].name}`)\n    }\n\n    // 5. ÌÖåÏä§Ìä∏ Ï¶ùÎπô ÏÑúÎ•ò ÏÉùÏÑ±\n    const evidenceItemsResult = await pool.query(\n      `\n            SELECT ei.id, ei.name, ei.category_id, ec.name as category_name\n            FROM evidence_items ei\n            JOIN evidence_categories ec ON ei.category_id = ec.id\n            WHERE ei.project_budget_id = $1\n        `,\n      [budget.id]\n    )\n\n    const testDocuments = [\n      { type: 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú', name: '2025ÎÖÑ 1Ïõî Í∏âÏó¨Î™ÖÏÑ∏ÏÑú.pdf' },\n      { type: 'Ïù¥Ï≤¥ÌôïÏù∏Ï¶ù', name: 'Í∏âÏó¨Ïù¥Ï≤¥ÌôïÏù∏Ï¶ù_202501.pdf' },\n      { type: 'Íµ¨Îß§Í≥ÑÏïΩÏÑú', name: 'Î™®ÌÑ∞Íµ¨Îß§Í≥ÑÏïΩÏÑú.pdf' },\n      { type: 'ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú', name: 'ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú_Î™®ÌÑ∞.pdf' },\n      { type: 'Ï∂úÏû•Ïã†Ï≤≠ÏÑú', name: 'Ï∂úÏû•Ïã†Ï≤≠ÏÑú_Ïó∞Íµ¨ÌöåÏùò.pdf' },\n      { type: 'Ïö©Ïó≠Í≥ÑÏïΩÏÑú', name: 'Îç∞Ïù¥ÌÑ∞Î∂ÑÏÑùÏö©Ïó≠Í≥ÑÏïΩÏÑú.pdf' },\n      { type: 'ÌäπÌóàÏ∂úÏõêÏÑú', name: 'ÌäπÌóàÏ∂úÏõêÏÑú_ÎìúÎ°†Ï†úÏñ¥.pdf' }\n    ]\n\n    for (const item of evidenceItemsResult.rows) {\n      const relevantDocs = testDocuments.filter(doc => {\n        if (item.category_name === 'Ïù∏Í±¥ÎπÑ') {\n          return doc.type === 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú' || doc.type === 'Ïù¥Ï≤¥ÌôïÏù∏Ï¶ù'\n        } else if (item.category_name === 'Ïó∞Íµ¨Ïû¨Î£åÎπÑ') {\n          return doc.type === 'Íµ¨Îß§Í≥ÑÏïΩÏÑú' || doc.type === 'ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú'\n        } else if (item.category_name === 'Ïó∞Íµ¨ÌôúÎèôÎπÑ') {\n          return doc.type === 'Ï∂úÏû•Ïã†Ï≤≠ÏÑú' || doc.type === 'Ïö©Ïó≠Í≥ÑÏïΩÏÑú'\n        } else if (item.category_name === 'Í∞ÑÏ†ëÎπÑ') {\n          return doc.type === 'ÌäπÌóàÏ∂úÏõêÏÑú'\n        }\n        return false\n      })\n\n      for (const doc of relevantDocs) {\n        await pool.query(\n          `\n                    INSERT INTO evidence_documents (\n                        evidence_item_id, document_type, document_name, file_path, \n                        file_size, mime_type, status\n                    ) VALUES ($1, $2, $3, $4, $5, $6, $7)\n                `,\n          [\n            item.id,\n            doc.type,\n            doc.name,\n            `/uploads/evidence/${doc.name}`,\n            1024000, // 1MB\n            'application/pdf',\n            Math.random() > 0.5 ? 'approved' : 'uploaded'\n          ]\n        )\n      }\n    }\n\n    console.log('‚úÖ ÌÖåÏä§Ìä∏ Ï¶ùÎπô ÏÑúÎ•ò ÏÉùÏÑ± ÏôÑÎ£å')\n\n    // 6. ÌÖåÏä§Ìä∏ ÏùºÏ†ï ÏÉùÏÑ±\n    for (const item of evidenceItemsResult.rows) {\n      const schedules = [\n        {\n          task_name: 'ÏÑúÎ•ò Ï§ÄÎπÑ',\n          description: 'ÌïÑÏàò ÏÑúÎ•ò ÏàòÏßë Î∞è Ï†ïÎ¶¨',\n          due_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7Ïùº ÌõÑ\n          priority: 'high'\n        },\n        {\n          task_name: 'Í≤ÄÌÜ† Î∞è ÏäπÏù∏',\n          description: 'ÏÑúÎ•ò Í≤ÄÌÜ† Î∞è ÏµúÏ¢Ö ÏäπÏù∏',\n          due_date: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), // 14Ïùº ÌõÑ\n          priority: 'medium'\n        }\n      ]\n\n      for (const schedule of schedules) {\n        await pool.query(\n          `\n                    INSERT INTO evidence_schedules (\n                        evidence_item_id, task_name, description, due_date, priority, status\n                    ) VALUES ($1, $2, $3, $4, $5, $6)\n                `,\n          [\n            item.id,\n            schedule.task_name,\n            schedule.description,\n            schedule.due_date,\n            schedule.priority,\n            Math.random() > 0.7 ? 'completed' : 'pending'\n          ]\n        )\n      }\n    }\n\n    console.log('‚úÖ ÌÖåÏä§Ìä∏ ÏùºÏ†ï ÏÉùÏÑ± ÏôÑÎ£å')\n\n    // 7. Í≤∞Í≥º ÌôïÏù∏\n    const finalResult = await pool.query(\n      `\n            SELECT \n                ec.name as category_name,\n                COUNT(ei.id) as item_count,\n                COUNT(ed.id) as document_count,\n                COUNT(es.id) as schedule_count\n            FROM evidence_categories ec\n            LEFT JOIN evidence_items ei ON ec.id = ei.category_id AND ei.project_budget_id = $1\n            LEFT JOIN evidence_documents ed ON ei.id = ed.evidence_item_id\n            LEFT JOIN evidence_schedules es ON ei.id = es.evidence_item_id\n            GROUP BY ec.id, ec.name\n            ORDER BY ec.name\n        `,\n      [budget.id]\n    )\n\n    console.log('\\nüìä ÏÉùÏÑ±Îêú ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏöîÏïΩ:')\n    finalResult.rows.forEach(row => {\n      console.log(\n        `${row.category_name}: ${row.item_count}Í∞ú Ìï≠Î™©, ${row.document_count}Í∞ú ÏÑúÎ•ò, ${row.schedule_count}Í∞ú ÏùºÏ†ï`\n      )\n    })\n  } catch (error) {\n    console.error('‚ùå ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ï§ë Ïò§Î•ò Î∞úÏÉù:', error)\n    throw error\n  } finally {\n    await pool.end()\n  }\n}\n\n// Ïã§Ìñâ\ncreateTestEvidenceData()\n  .then(() => {\n    console.log('\\nüéâ ÌÖåÏä§Ìä∏ Ï¶ùÎπô Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('ÏÉùÏÑ± Ïã§Ìå®:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/extract-aws-schema.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 31,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 31,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 35,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 35,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 37,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 37,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 43,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 43,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 69,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 69,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 74,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 74,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 86,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 86,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 91,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 91,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 112,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 112,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 117,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 117,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 129,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 129,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 134,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 134,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 146,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 146,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 151,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 151,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 162,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 162,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 200,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 200,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 281,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 281,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 291,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 291,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 292,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 292,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 293,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 293,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 299,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 299,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 311,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 311,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 312,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 312,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 319,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 319,
        "endColumn": 42
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 320,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 320,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [],
    "errorCount": 25,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * AWS Database Schema Extractor\n *\n * This script extracts the complete schema from AWS database\n * Usage: node scripts/extract-aws-schema.js\n */\n\nimport fs from 'fs'\nimport { Pool } from 'pg'\n\n// AWS Database Configuration\nconst awsConfig = {\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: {\n    rejectUnauthorized: false\n  }\n}\n\nclass SchemaExtractor {\n  constructor() {\n    this.awsPool = null\n  }\n\n  async connect() {\n    console.log('üîó Connecting to AWS database...')\n    try {\n      this.awsPool = new Pool(awsConfig)\n      await this.awsPool.connect()\n      console.log('‚úÖ Connected to AWS database')\n    } catch (error) {\n      console.error('‚ùå Failed to connect to AWS database:', error.message)\n      throw error\n    }\n  }\n\n  async getTableDefinitions() {\n    console.log('üìã Extracting table definitions...')\n\n    const result = await this.awsPool.query(`\n\t\t\tSELECT \n\t\t\t\ttable_name,\n\t\t\t\tcolumn_name,\n\t\t\t\tdata_type,\n\t\t\t\tis_nullable,\n\t\t\t\tcolumn_default,\n\t\t\t\tcharacter_maximum_length,\n\t\t\t\tnumeric_precision,\n\t\t\t\tnumeric_scale,\n\t\t\t\tordinal_position\n\t\t\tFROM information_schema.columns \n\t\t\tWHERE table_schema = 'public' \n\t\t\tORDER BY table_name, ordinal_position\n\t\t`)\n\n    const tables = {}\n    result.rows.forEach(row => {\n      if (!tables[row.table_name]) {\n        tables[row.table_name] = []\n      }\n      tables[row.table_name].push(row)\n    })\n\n    console.log(`   Found ${Object.keys(tables).length} tables`)\n    return tables\n  }\n\n  async getIndexes() {\n    console.log('üîç Extracting indexes...')\n\n    const result = await this.awsPool.query(`\n\t\t\tSELECT \n\t\t\t\ttablename,\n\t\t\t\tindexname,\n\t\t\t\tindexdef\n\t\t\tFROM pg_indexes \n\t\t\tWHERE schemaname = 'public'\n\t\t\tORDER BY tablename, indexname\n\t\t`)\n\n    console.log(`   Found ${result.rows.length} indexes`)\n    return result.rows\n  }\n\n  async getConstraints() {\n    console.log('üîó Extracting constraints...')\n\n    const result = await this.awsPool.query(`\n\t\t\tSELECT \n\t\t\t\ttc.table_name,\n\t\t\t\ttc.constraint_name,\n\t\t\t\ttc.constraint_type,\n\t\t\t\tkcu.column_name,\n\t\t\t\tccu.table_name AS foreign_table_name,\n\t\t\t\tccu.column_name AS foreign_column_name\n\t\t\tFROM information_schema.table_constraints AS tc \n\t\t\tLEFT JOIN information_schema.key_column_usage AS kcu\n\t\t\t\tON tc.constraint_name = kcu.constraint_name\n\t\t\t\tAND tc.table_schema = kcu.table_schema\n\t\t\tLEFT JOIN information_schema.constraint_column_usage AS ccu\n\t\t\t\tON ccu.constraint_name = tc.constraint_name\n\t\t\t\tAND ccu.table_schema = tc.table_schema\n\t\t\tWHERE tc.table_schema = 'public'\n\t\t\tORDER BY tc.table_name, tc.constraint_type, tc.constraint_name\n\t\t`)\n\n    console.log(`   Found ${result.rows.length} constraints`)\n    return result.rows\n  }\n\n  async getFunctions() {\n    console.log('‚öôÔ∏è  Extracting functions...')\n\n    const result = await this.awsPool.query(`\n\t\t\tSELECT \n\t\t\t\troutine_name,\n\t\t\t\troutine_definition\n\t\t\tFROM information_schema.routines \n\t\t\tWHERE routine_schema = 'public' \n\t\t\tAND routine_type = 'FUNCTION'\n\t\t\tORDER BY routine_name\n\t\t`)\n\n    console.log(`   Found ${result.rows.length} functions`)\n    return result.rows\n  }\n\n  async getTriggers() {\n    console.log('üéØ Extracting triggers...')\n\n    const result = await this.awsPool.query(`\n\t\t\tSELECT \n\t\t\t\ttrigger_name,\n\t\t\t\tevent_object_table,\n\t\t\t\taction_statement\n\t\t\tFROM information_schema.triggers \n\t\t\tWHERE trigger_schema = 'public'\n\t\t\tORDER BY event_object_table, trigger_name\n\t\t`)\n\n    console.log(`   Found ${result.rows.length} triggers`)\n    return result.rows\n  }\n\n  async getViews() {\n    console.log('üëÅÔ∏è  Extracting views...')\n\n    const result = await this.awsPool.query(`\n\t\t\tSELECT \n\t\t\t\ttable_name,\n\t\t\t\tview_definition\n\t\t\tFROM information_schema.views \n\t\t\tWHERE table_schema = 'public'\n\t\t\tORDER BY table_name\n\t\t`)\n\n    console.log(`   Found ${result.rows.length} views`)\n    return result.rows\n  }\n\n  generateCreateTableSQL(tableName, columns) {\n    let sql = `CREATE TABLE ${tableName} (\\n`\n\n    const columnDefs = columns.map(col => {\n      let def = `  ${col.column_name} ${col.data_type}`\n\n      if (col.character_maximum_length) {\n        def += `(${col.character_maximum_length})`\n      } else if (col.numeric_precision) {\n        def += `(${col.numeric_precision}`\n        if (col.numeric_scale) {\n          def += `,${col.numeric_scale}`\n        }\n        def += `)`\n      }\n\n      if (col.is_nullable === 'NO') {\n        def += ' NOT NULL'\n      }\n\n      if (col.column_default) {\n        def += ` DEFAULT ${col.column_default}`\n      }\n\n      return def\n    })\n\n    sql += columnDefs.join(',\\n')\n    sql += '\\n);'\n\n    return sql\n  }\n\n  async generateCompleteSchema() {\n    console.log('üöÄ Generating complete schema...\\n')\n\n    const tables = await this.getTableDefinitions()\n    const indexes = await this.getIndexes()\n    const constraints = await this.getConstraints()\n    const functions = await this.getFunctions()\n    const triggers = await this.getTriggers()\n    const views = await this.getViews()\n\n    let schema = `-- AWS Database Schema Export\n-- Generated on: ${new Date().toISOString()}\n-- Source: ${awsConfig.host}\n\n-- Enable required extensions\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\nCREATE EXTENSION IF NOT EXISTS \"pgcrypto\";\n\n`\n\n    // Generate CREATE TABLE statements\n    Object.keys(tables).forEach(tableName => {\n      schema += `\\n-- Table: ${tableName}\\n`\n      schema += this.generateCreateTableSQL(tableName, tables[tableName])\n      schema += '\\n\\n'\n    })\n\n    // Generate indexes\n    if (indexes.length > 0) {\n      schema += '-- Indexes\\n'\n      indexes.forEach(index => {\n        if (!index.indexname.includes('_pkey')) {\n          // Skip primary keys\n          schema += `${index.indexdef};\\n`\n        }\n      })\n      schema += '\\n'\n    }\n\n    // Generate constraints\n    if (constraints.length > 0) {\n      schema += '-- Constraints\\n'\n      constraints.forEach(constraint => {\n        if (constraint.constraint_type === 'FOREIGN KEY') {\n          schema += `ALTER TABLE ${constraint.table_name} ADD CONSTRAINT ${constraint.constraint_name} FOREIGN KEY (${constraint.column_name}) REFERENCES ${constraint.foreign_table_name}(${constraint.foreign_column_name});\\n`\n        }\n      })\n      schema += '\\n'\n    }\n\n    // Generate functions\n    if (functions.length > 0) {\n      schema += '-- Functions\\n'\n      functions.forEach(func => {\n        schema += `-- Function: ${func.routine_name}\\n`\n        schema += `${func.routine_definition};\\n\\n`\n      })\n    }\n\n    // Generate triggers\n    if (triggers.length > 0) {\n      schema += '-- Triggers\\n'\n      triggers.forEach(trigger => {\n        schema += `CREATE TRIGGER ${trigger.trigger_name}\\n`\n        schema += `  ON ${trigger.event_object_table}\\n`\n        schema += `  ${trigger.action_statement};\\n\\n`\n      })\n    }\n\n    // Generate views\n    if (views.length > 0) {\n      schema += '-- Views\\n'\n      views.forEach(view => {\n        schema += `CREATE VIEW ${view.table_name} AS\\n`\n        schema += `${view.view_definition};\\n\\n`\n      })\n    }\n\n    return schema\n  }\n\n  async extract() {\n    console.log('üöÄ Starting AWS schema extraction...\\n')\n\n    await this.connect()\n\n    const schema = await this.generateCompleteSchema()\n\n    // Write to file\n    const outputFile = 'aws-schema.sql'\n    fs.writeFileSync(outputFile, schema)\n\n    console.log(`\\n‚úÖ Schema extraction completed!`)\n    console.log(`üìÑ Schema saved to: ${outputFile}`)\n    console.log(`üìä Total size: ${(schema.length / 1024).toFixed(2)} KB`)\n  }\n\n  async close() {\n    if (this.awsPool) {\n      await this.awsPool.end()\n      console.log('üîå Disconnected from AWS database')\n    }\n  }\n}\n\n// Main execution\nasync function main() {\n  const extractor = new SchemaExtractor()\n\n  try {\n    await extractor.extract()\n  } catch (error) {\n    console.error('‚ùå Schema extraction failed:', error)\n    process.exit(1)\n  } finally {\n    await extractor.close()\n  }\n}\n\n// Run if called directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  main().catch(console.error)\n}\n\nexport { SchemaExtractor }\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/fix-accessibility.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 11,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 11,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 67,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 67,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 71,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 71,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 75,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 75,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * Accessibility Í≤ΩÍ≥† ÏûêÎèô ÏàòÏ†ï Ïä§ÌÅ¨Î¶ΩÌä∏\n * labelÍ≥º input/selectÎ•º ÏûêÎèôÏúºÎ°ú Ïó∞Í≤∞\n */\n\nimport { readFileSync, writeFileSync } from 'fs'\nimport { glob } from 'glob'\n\nconsole.log('üîß Accessibility Í≤ΩÍ≥† ÏûêÎèô ÏàòÏ†ï ÏãúÏûë...')\n\n// ÏàòÏ†ïÌï† ÌååÏùºÎì§ Ï∞æÍ∏∞\nconst files = glob.sync('src/**/*.svelte')\n\nlet totalFixed = 0\n\nfor (const file of files) {\n  try {\n    let content = readFileSync(file, 'utf8')\n    let modified = false\n\n    // labelÍ≥º input Ïó∞Í≤∞ Ìå®ÌÑ¥ Ï∞æÍ∏∞\n    const labelInputPattern =\n      /<label([^>]*)class=\"([^\"]*)\"([^>]*)>([^<]*)<\\/label>\\s*<input\\s*([^>]*?)>/g\n\n    content = content.replace(\n      labelInputPattern,\n      (match, before, className, after, labelText, inputAttrs) => {\n        // Í≥†Ïú†Ìïú ID ÏÉùÏÑ±\n        const id = `input-${Math.random().toString(36).substr(2, 9)}`\n\n        // labelÏóê for ÏÜçÏÑ± Ï∂îÍ∞Ä\n        const newLabel = `<label${before}for=\"${id}\" class=\"${className}\"${after}>${labelText}</label>`\n\n        // inputÏóê id ÏÜçÏÑ± Ï∂îÍ∞Ä\n        const newInput = `<input id=\"${id}\" ${inputAttrs}>`\n\n        modified = true\n        return `${newLabel}\\n\\t\\t\\t\\t\\t${newInput}`\n      }\n    )\n\n    // labelÍ≥º select Ïó∞Í≤∞ Ìå®ÌÑ¥ Ï∞æÍ∏∞\n    const labelSelectPattern =\n      /<label([^>]*)class=\"([^\"]*)\"([^>]*)>([^<]*)<\\/label>\\s*<select\\s*([^>]*?)>/g\n\n    content = content.replace(\n      labelSelectPattern,\n      (match, before, className, after, labelText, selectAttrs) => {\n        // Í≥†Ïú†Ìïú ID ÏÉùÏÑ±\n        const id = `select-${Math.random().toString(36).substr(2, 9)}`\n\n        // labelÏóê for ÏÜçÏÑ± Ï∂îÍ∞Ä\n        const newLabel = `<label${before}for=\"${id}\" class=\"${className}\"${after}>${labelText}</label>`\n\n        // selectÏóê id ÏÜçÏÑ± Ï∂îÍ∞Ä\n        const newSelect = `<select id=\"${id}\" ${selectAttrs}>`\n\n        modified = true\n        return `${newLabel}\\n\\t\\t\\t\\t\\t${newSelect}`\n      }\n    )\n\n    if (modified) {\n      writeFileSync(file, content, 'utf8')\n      console.log(`‚úÖ ${file} ÏàòÏ†ï ÏôÑÎ£å`)\n      totalFixed++\n    }\n  } catch (error) {\n    console.error(`‚ùå ${file} ÏàòÏ†ï Ïã§Ìå®:`, error.message)\n  }\n}\n\nconsole.log(`\\nüéâ Ï¥ù ${totalFixed}Í∞ú ÌååÏùºÏùò accessibility Í≤ΩÍ≥† ÏàòÏ†ï ÏôÑÎ£å!`)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/fix-schema.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 13,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 13,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 52,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 52,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 65,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 65,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 66,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 66,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 67,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 67,
        "endColumn": 10
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * Schema Fixer\n *\n * This script fixes common issues in the extracted AWS schema\n * Usage: node scripts/fix-schema.js\n */\n\nimport fs from 'fs'\n\nfunction fixSchema() {\n  console.log('üîß Fixing AWS schema...')\n\n  let schema = fs.readFileSync('aws-schema.sql', 'utf8')\n\n  // Fix integer data types with precision (PostgreSQL doesn't support integer(32))\n  schema = schema.replace(/integer\\(\\d+\\)/g, 'integer')\n  schema = schema.replace(/bigint\\(\\d+\\)/g, 'bigint')\n\n  // Fix ARRAY type\n  schema = schema.replace(/ARRAY,/g, 'text[],')\n\n  // Fix function definitions - add proper function syntax\n  schema = schema.replace(\n    /CREATE OR REPLACE FUNCTION update_updated_at_column\\(\\)\\s*RETURNS TRIGGER AS \\$\\$\\s*BEGIN\\s*NEW\\.updated_at = CURRENT_TIMESTAMP;\\s*RETURN NEW;\\s*END;\\s*\\$\\$ LANGUAGE plpgsql;/g,\n    `CREATE OR REPLACE FUNCTION update_updated_at_column()\nRETURNS TRIGGER AS $$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;`\n  )\n\n  // Fix trigger definitions\n  schema = schema.replace(/CREATE TRIGGER update_[^;]+;\\s*null;/g, '')\n\n  // Remove problematic trigger definitions\n  schema = schema.replace(/CREATE TRIGGER [^;]+;\\s*null;/g, '')\n\n  // Remove duplicate table definitions\n  const lines = schema.split('\\n')\n  const seenTables = new Set()\n  const fixedLines = []\n\n  for (const line of lines) {\n    const createTableMatch = line.match(/CREATE TABLE (\\w+)/)\n    if (createTableMatch) {\n      const tableName = createTableMatch[1]\n      if (seenTables.has(tableName)) {\n        console.log(`   ‚è≠Ô∏è  Skipping duplicate table: ${tableName}`)\n        continue\n      }\n      seenTables.add(tableName)\n    }\n    fixedLines.push(line)\n  }\n\n  schema = fixedLines.join('\\n')\n\n  // Write fixed schema\n  fs.writeFileSync('aws-schema-fixed.sql', schema)\n\n  console.log('‚úÖ Schema fixed!')\n  console.log('üìÑ Fixed schema saved to: aws-schema-fixed.sql')\n  console.log(`üìä Total size: ${(schema.length / 1024).toFixed(2)} KB`)\n}\n\n// Main execution\nfixSchema()\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/migrate-employee-fields.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 5,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 5,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 8,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 8,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 14,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 14,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 20,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 30,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 30,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 38,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 38,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 47,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 47,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 50,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 50,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 59,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 61,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 61,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 64,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 64,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 72,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 72,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 73,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 73,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 76,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 76,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 77,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 77,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 15,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\nasync function migrateEmployeeFields() {\n  try {\n    console.log('üîÑ Starting employee fields migration...')\n\n    // Add birth_date column\n    console.log('üìÖ Adding birth_date column...')\n    await query(`\n            ALTER TABLE employees ADD COLUMN IF NOT EXISTS birth_date DATE\n        `)\n\n    // Add termination_date column\n    console.log('üìÖ Adding termination_date column...')\n    await query(`\n            ALTER TABLE employees ADD COLUMN IF NOT EXISTS termination_date DATE\n        `)\n\n    // Add indexes for better performance\n    console.log('üîç Adding indexes...')\n    await query(`\n            CREATE INDEX IF NOT EXISTS idx_employees_birth_date ON employees(birth_date)\n        `)\n\n    await query(`\n            CREATE INDEX IF NOT EXISTS idx_employees_termination_date ON employees(termination_date)\n        `)\n\n    // Update status to 'terminated' for employees with termination_date\n    console.log('üîÑ Updating employee statuses...')\n    await query(`\n            UPDATE employees \n            SET status = 'terminated' \n            WHERE termination_date IS NOT NULL AND status != 'terminated'\n        `)\n\n    // Add comments to columns\n    console.log('üìù Adding column comments...')\n    await query(`\n            COMMENT ON COLUMN employees.birth_date IS 'Employee birth date'\n        `)\n\n    await query(`\n            COMMENT ON COLUMN employees.termination_date IS 'Employee termination date (when they left the company)'\n        `)\n\n    console.log('‚úÖ Employee fields migration completed successfully!')\n\n    // Verify the changes\n    console.log('üîç Verifying changes...')\n    const result = await query(`\n            SELECT column_name, data_type, is_nullable \n            FROM information_schema.columns \n            WHERE table_name = 'employees' \n            AND column_name IN ('birth_date', 'termination_date')\n            ORDER BY column_name\n        `)\n\n    console.log('üìã New columns:')\n    result.rows.forEach(row => {\n      console.log(`  - ${row.column_name}: ${row.data_type} (nullable: ${row.is_nullable})`)\n    })\n  } catch (error) {\n    console.error('‚ùå Migration failed:', error)\n    throw error\n  }\n}\n\n// Run the migration\nmigrateEmployeeFields()\n  .then(() => {\n    console.log('üéâ Migration completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Migration failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/quality-gate.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 59,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 10
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'startTime' is assigned a value but never used.",
        "line": 103,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 103,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "startTime" },
            "fix": { "range": [1972, 2000], "text": "" },
            "desc": "Remove unused variable 'startTime'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 104,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 104,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'endTime' is assigned a value but never used.",
        "line": 108,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 108,
        "endColumn": 20
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used.",
        "line": 146,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 146,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "result" },
            "fix": { "range": [3297, 3430], "text": "" },
            "desc": "Remove unused variable 'result'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'parseError' is defined but never used.",
        "line": 190,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 190,
        "endColumn": 26
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 221,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 221,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 260,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 260,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 292,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 292,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 354,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 354,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 357,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 357,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 365,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 365,
        "endColumn": 10
      }
    ],
    "suppressedMessages": [],
    "errorCount": 12,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * ÏΩîÎìú ÌíàÏßà Í≤åÏù¥Ìä∏ Ïä§ÌÅ¨Î¶ΩÌä∏\n *\n * Ïù¥ Ïä§ÌÅ¨Î¶ΩÌä∏Îäî ÏΩîÎìú ÌíàÏßà ÏûÑÍ≥ÑÍ∞íÏùÑ Ï†ïÏùòÌïòÍ≥† Ï≤¥ÌÅ¨Ìï©ÎãàÎã§.\n * CI/CD ÌååÏù¥ÌîÑÎùºÏù∏ÏóêÏÑú ÏÇ¨Ïö©ÌïòÏó¨ ÌíàÏßà Í∏∞Ï§ÄÏùÑ ÎßåÏ°±ÌïòÏßÄ ÏïäÏúºÎ©¥ ÎπåÎìúÎ•º Ïã§Ìå®ÏãúÌÇµÎãàÎã§.\n */\n\nimport { execSync } from 'child_process'\n\n// ÏÉâÏÉÅ Ï†ïÏùò\nconst colors = {\n  reset: '\\x1b[0m',\n  bright: '\\x1b[1m',\n  red: '\\x1b[31m',\n  green: '\\x1b[32m',\n  yellow: '\\x1b[33m',\n  blue: '\\x1b[34m',\n  magenta: '\\x1b[35m',\n  cyan: '\\x1b[36m'\n}\n\n// ÌíàÏßà Í≤åÏù¥Ìä∏ ÏûÑÍ≥ÑÍ∞í Ï†ïÏùò\nconst QUALITY_GATES = {\n  // TypeScript Ïò§Î•ò ÌóàÏö© Í∞úÏàò\n  MAX_TYPESCRIPT_ERRORS: 0,\n\n  // ESLint Ïò§Î•ò ÌóàÏö© Í∞úÏàò\n  MAX_ESLINT_ERRORS: 0,\n  MAX_ESLINT_WARNINGS: 10,\n\n  // ÌÖåÏä§Ìä∏ Ïª§Î≤ÑÎ¶¨ÏßÄ (Î∞±Î∂ÑÏú®)\n  MIN_TEST_COVERAGE: 80,\n\n  // ÏΩîÎìú Î≥µÏû°ÎèÑ\n  MAX_CYCLOMATIC_COMPLEXITY: 10,\n\n  // ÌååÏùº ÌÅ¨Í∏∞ (ÎùºÏù∏ Ïàò)\n  MAX_FILE_SIZE: 500,\n\n  // Ìï®Ïàò ÌÅ¨Í∏∞ (ÎùºÏù∏ Ïàò)\n  MAX_FUNCTION_SIZE: 50,\n\n  // Ï§ëÏ≤© ÍπäÏù¥\n  MAX_NESTING_DEPTH: 4,\n\n  // Î≥¥Ïïà Ï∑®ÏïΩÏ†ê\n  MAX_SECURITY_VULNERABILITIES: 0,\n\n  // ÏùòÏ°¥ÏÑ± Î¨∏Ï†ú\n  MAX_DEPENDENCY_ISSUES: 0,\n\n  // ÎπåÎìú ÏãúÍ∞Ñ (Ï¥à)\n  MAX_BUILD_TIME: 120\n}\n\nfunction log(message, color = 'reset') {\n  console.log(`${colors[color]}${message}${colors.reset}`)\n}\n\nfunction logSection(title) {\n  log(`\\n${'='.repeat(60)}`, 'cyan')\n  log(`${title}`, 'bright')\n  log(`${'='.repeat(60)}`, 'cyan')\n}\n\nfunction logSuccess(message) {\n  log(`‚úÖ ${message}`, 'green')\n}\n\nfunction logError(message) {\n  log(`‚ùå ${message}`, 'red')\n}\n\nfunction logWarning(message) {\n  log(`‚ö†Ô∏è  ${message}`, 'yellow')\n}\n\nfunction logInfo(message) {\n  log(`‚ÑπÔ∏è  ${message}`, 'blue')\n}\n\nclass QualityGate {\n  constructor() {\n    this.results = {\n      typescript: { passed: false, errors: 0, warnings: 0 },\n      eslint: { passed: false, errors: 0, warnings: 0 },\n      build: { passed: false, time: 0 },\n      security: { passed: false, vulnerabilities: 0 },\n      dependencies: { passed: false, issues: 0 },\n      coverage: { passed: false, percentage: 0 },\n      complexity: { passed: false, maxComplexity: 0 },\n      fileSize: { passed: false, maxSize: 0 },\n      overall: { passed: false }\n    }\n  }\n\n  async checkTypeScript() {\n    logSection('TypeScript ÌíàÏßà Ï≤¥ÌÅ¨')\n\n    try {\n      const startTime = Date.now()\n      const result = execSync('npm run check', {\n        encoding: 'utf8',\n        stdio: 'pipe'\n      })\n      const endTime = Date.now()\n\n      logSuccess('TypeScript Ï≤¥ÌÅ¨ ÌÜµÍ≥º!')\n      this.results.typescript.passed = true\n      this.results.typescript.errors = 0\n      this.results.typescript.warnings = 0\n\n      return true\n    } catch (error) {\n      const output = error.stdout || error.stderr || ''\n      const errorLines = output\n        .split('\\n')\n        .filter(line => line.includes('error') || line.includes('Error'))\n      const warningLines = output\n        .split('\\n')\n        .filter(line => line.includes('warning') || line.includes('Warning'))\n\n      this.results.typescript.errors = errorLines.length\n      this.results.typescript.warnings = warningLines.length\n\n      if (this.results.typescript.errors > QUALITY_GATES.MAX_TYPESCRIPT_ERRORS) {\n        logError(\n          `TypeScript Ïò§Î•ò ${this.results.typescript.errors}Í∞ú (ÌóàÏö©: ${QUALITY_GATES.MAX_TYPESCRIPT_ERRORS}Í∞ú)`\n        )\n        this.results.typescript.passed = false\n        return false\n      }\n\n      logWarning(`TypeScript Í≤ΩÍ≥† ${this.results.typescript.warnings}Í∞ú Î∞úÍ≤¨`)\n      this.results.typescript.passed = true\n      return true\n    }\n  }\n\n  async checkESLint() {\n    logSection('ESLint ÌíàÏßà Ï≤¥ÌÅ¨')\n\n    try {\n      const result = execSync('npx eslint src/ --ext .ts,.svelte --format=json', {\n        encoding: 'utf8',\n        stdio: 'pipe'\n      })\n\n      logSuccess('ESLint Ï≤¥ÌÅ¨ ÌÜµÍ≥º!')\n      this.results.eslint.passed = true\n      this.results.eslint.errors = 0\n      this.results.eslint.warnings = 0\n\n      return true\n    } catch (error) {\n      try {\n        const output = error.stdout || ''\n        const eslintResults = JSON.parse(output)\n\n        let totalErrors = 0\n        let totalWarnings = 0\n\n        eslintResults.forEach(file => {\n          totalErrors += file.errorCount || 0\n          totalWarnings += file.warningCount || 0\n        })\n\n        this.results.eslint.errors = totalErrors\n        this.results.eslint.warnings = totalWarnings\n\n        if (totalErrors > QUALITY_GATES.MAX_ESLINT_ERRORS) {\n          logError(`ESLint Ïò§Î•ò ${totalErrors}Í∞ú (ÌóàÏö©: ${QUALITY_GATES.MAX_ESLINT_ERRORS}Í∞ú)`)\n          this.results.eslint.passed = false\n          return false\n        }\n\n        if (totalWarnings > QUALITY_GATES.MAX_ESLINT_WARNINGS) {\n          logWarning(\n            `ESLint Í≤ΩÍ≥† ${totalWarnings}Í∞ú (ÌóàÏö©: ${QUALITY_GATES.MAX_ESLINT_WARNINGS}Í∞ú)`\n          )\n          this.results.eslint.passed = false\n          return false\n        }\n\n        logSuccess('ESLint ÌíàÏßà Í≤åÏù¥Ìä∏ ÌÜµÍ≥º!')\n        this.results.eslint.passed = true\n        return true\n      } catch (parseError) {\n        logError('ESLint Í≤∞Í≥º ÌååÏã± Ïã§Ìå®')\n        this.results.eslint.passed = false\n        return false\n      }\n    }\n  }\n\n  async checkBuild() {\n    logSection('ÎπåÎìú ÌíàÏßà Ï≤¥ÌÅ¨')\n\n    try {\n      const startTime = Date.now()\n      execSync('npm run build', {\n        encoding: 'utf8',\n        stdio: 'pipe'\n      })\n      const endTime = Date.now()\n\n      const buildTime = (endTime - startTime) / 1000\n      this.results.build.time = buildTime\n\n      if (buildTime > QUALITY_GATES.MAX_BUILD_TIME) {\n        logWarning(`ÎπåÎìú ÏãúÍ∞Ñ ${buildTime.toFixed(2)}Ï¥à (ÌóàÏö©: ${QUALITY_GATES.MAX_BUILD_TIME}Ï¥à)`)\n        this.results.build.passed = false\n        return false\n      }\n\n      logSuccess(`ÎπåÎìú ÏÑ±Í≥µ! (${buildTime.toFixed(2)}Ï¥à)`)\n      this.results.build.passed = true\n      return true\n    } catch (error) {\n      logError('ÎπåÎìú Ïã§Ìå®')\n      this.results.build.passed = false\n      return false\n    }\n  }\n\n  async checkSecurity() {\n    logSection('Î≥¥Ïïà ÌíàÏßà Ï≤¥ÌÅ¨')\n\n    try {\n      const result = execSync('npm audit --json', {\n        encoding: 'utf8',\n        stdio: 'pipe'\n      })\n\n      const auditResult = JSON.parse(result)\n      const vulnerabilities = auditResult.metadata?.vulnerabilities || {}\n\n      let totalVulnerabilities = 0\n      Object.values(vulnerabilities).forEach(count => {\n        if (typeof count === 'number') {\n          totalVulnerabilities += count\n        }\n      })\n\n      this.results.security.vulnerabilities = totalVulnerabilities\n\n      if (totalVulnerabilities > QUALITY_GATES.MAX_SECURITY_VULNERABILITIES) {\n        logError(\n          `Î≥¥Ïïà Ï∑®ÏïΩÏ†ê ${totalVulnerabilities}Í∞ú Î∞úÍ≤¨ (ÌóàÏö©: ${QUALITY_GATES.MAX_SECURITY_VULNERABILITIES}Í∞ú)`\n        )\n        this.results.security.passed = false\n        return false\n      }\n\n      logSuccess('Î≥¥Ïïà Ï≤¥ÌÅ¨ ÌÜµÍ≥º!')\n      this.results.security.passed = true\n      return true\n    } catch (error) {\n      logWarning('Î≥¥Ïïà Ï≤¥ÌÅ¨Î•º Í±¥ÎÑàÎúÅÎãàÎã§ (npm audit Ïã§Ìå®)')\n      this.results.security.passed = true\n      return true\n    }\n  }\n\n  async checkFileSizes() {\n    logSection('ÌååÏùº ÌÅ¨Í∏∞ Ï≤¥ÌÅ¨')\n\n    try {\n      // Í∞ÑÎã®Ìïú ÌååÏùº ÌÅ¨Í∏∞ Ï≤¥ÌÅ¨ (Ïã§Ï†úÎ°úÎäî Îçî Ï†ïÍµêÌïú ÎèÑÍµ¨ ÏÇ¨Ïö© Í∂åÏû•)\n      const result = execSync('find src -name \"*.ts\" -o -name \"*.svelte\" | xargs wc -l | tail -1', {\n        encoding: 'utf8',\n        stdio: 'pipe'\n      })\n\n      const totalLines = parseInt(result.trim().split(' ')[0]) || 0\n      this.results.fileSize.maxSize = totalLines\n\n      if (totalLines > QUALITY_GATES.MAX_FILE_SIZE * 100) {\n        // Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Ï§Ä\n        logWarning(\n          `Ï†ÑÏ≤¥ ÏΩîÎìú ÎùºÏù∏ Ïàò ${totalLines}Ï§Ñ (Í∂åÏû•: ${QUALITY_GATES.MAX_FILE_SIZE * 100}Ï§Ñ Ïù¥Ìïò)`\n        )\n        this.results.fileSize.passed = false\n        return false\n      }\n\n      logSuccess(`ÌååÏùº ÌÅ¨Í∏∞ Ï≤¥ÌÅ¨ ÌÜµÍ≥º! (${totalLines}Ï§Ñ)`)\n      this.results.fileSize.passed = true\n      return true\n    } catch (error) {\n      logWarning('ÌååÏùº ÌÅ¨Í∏∞ Ï≤¥ÌÅ¨Î•º Í±¥ÎÑàÎúÅÎãàÎã§')\n      this.results.fileSize.passed = true\n      return true\n    }\n  }\n\n  generateReport() {\n    logSection('ÌíàÏßà Í≤åÏù¥Ìä∏ Î¶¨Ìè¨Ìä∏')\n\n    const allPassed = Object.values(this.results).every(result =>\n      typeof result === 'boolean' ? result : result.passed\n    )\n\n    this.results.overall.passed = allPassed\n\n    // Í≤∞Í≥º Ï∂úÎ†•\n    logInfo('TypeScript: ' + (this.results.typescript.passed ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'))\n    logInfo(`  - Ïò§Î•ò: ${this.results.typescript.errors}Í∞ú`)\n    logInfo(`  - Í≤ΩÍ≥†: ${this.results.typescript.warnings}Í∞ú`)\n\n    logInfo('ESLint: ' + (this.results.eslint.passed ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'))\n    logInfo(`  - Ïò§Î•ò: ${this.results.eslint.errors}Í∞ú`)\n    logInfo(`  - Í≤ΩÍ≥†: ${this.results.eslint.warnings}Í∞ú`)\n\n    logInfo('ÎπåÎìú: ' + (this.results.build.passed ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'))\n    logInfo(`  - ÏãúÍ∞Ñ: ${this.results.build.time.toFixed(2)}Ï¥à`)\n\n    logInfo('Î≥¥Ïïà: ' + (this.results.security.passed ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'))\n    logInfo(`  - Ï∑®ÏïΩÏ†ê: ${this.results.security.vulnerabilities}Í∞ú`)\n\n    logInfo('ÌååÏùº ÌÅ¨Í∏∞: ' + (this.results.fileSize.passed ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'))\n    logInfo(`  - Ï¥ù ÎùºÏù∏ Ïàò: ${this.results.fileSize.maxSize}Ï§Ñ`)\n\n    if (allPassed) {\n      logSuccess('\\nüéâ Î™®Îì† ÌíàÏßà Í≤åÏù¥Ìä∏ ÌÜµÍ≥º!')\n      logInfo('ÏΩîÎìúÍ∞Ä ÌîÑÎ°úÎçïÏÖò Î∞∞Ìè¨ Í∏∞Ï§ÄÏùÑ ÎßåÏ°±Ìï©ÎãàÎã§.')\n    } else {\n      logError('\\nüö´ ÌíàÏßà Í≤åÏù¥Ìä∏ Ïã§Ìå®!')\n      logInfo('ÏΩîÎìú ÌíàÏßàÏùÑ Í∞úÏÑ†Ìïú ÌõÑ Îã§Ïãú ÏãúÎèÑÌïòÏÑ∏Ïöî.')\n    }\n\n    return allPassed\n  }\n\n  async run() {\n    log('üîç ÏΩîÎìú ÌíàÏßà Í≤åÏù¥Ìä∏ Ïã§Ìñâ', 'bright')\n    log('='.repeat(60), 'cyan')\n\n    const checks = [\n      this.checkTypeScript(),\n      this.checkESLint(),\n      this.checkBuild(),\n      this.checkSecurity(),\n      this.checkFileSizes()\n    ]\n\n    await Promise.all(checks)\n\n    const passed = this.generateReport()\n\n    if (!passed) {\n      process.exit(1)\n    }\n\n    process.exit(0)\n  }\n}\n\n// Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ\nconst qualityGate = new QualityGate()\nqualityGate.run().catch(error => {\n  logError(`ÌíàÏßà Í≤åÏù¥Ìä∏ Ïã§Ìñâ Ï§ë Ïò§Î•ò: ${error.message}`)\n  process.exit(1)\n})\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/quick-check.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 20,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 10
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 39,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 42,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * Îπ†Î•∏ Ïò§Î•ò Ï≤¥ÌÅ¨ Ïä§ÌÅ¨Î¶ΩÌä∏\n * ÏΩîÎìú ÏûëÏÑ± ÌõÑ Ï¶âÏãú Ïã§ÌñâÌï† Ïàò ÏûàÎäî Í∞ÑÎã®Ìïú Ï≤¥ÌÅ¨\n */\n\nimport { execSync } from 'child_process'\n\nconst colors = {\n  reset: '\\x1b[0m',\n  bright: '\\x1b[1m',\n  red: '\\x1b[31m',\n  green: '\\x1b[32m',\n  yellow: '\\x1b[33m',\n  blue: '\\x1b[34m'\n}\n\nfunction log(message, color = 'reset') {\n  console.log(`${colors[color]}${message}${colors.reset}`)\n}\n\nasync function quickCheck() {\n  log('üîç Îπ†Î•∏ Ïò§Î•ò Ï≤¥ÌÅ¨', 'bright')\n  log('‚îÄ'.repeat(40), 'blue')\n\n  try {\n    // TypeScript Ï≤¥ÌÅ¨\n    log('TypeScript Ï≤¥ÌÅ¨ Ï§ë...', 'blue')\n    execSync('npm run check', { stdio: 'pipe' })\n    log('‚úÖ TypeScript: OK', 'green')\n\n    // ÎπåÎìú Ï≤¥ÌÅ¨\n    log('ÎπåÎìú ÌÖåÏä§Ìä∏ Ï§ë...', 'blue')\n    execSync('npm run build', { stdio: 'pipe' })\n    log('‚úÖ ÎπåÎìú: OK', 'green')\n\n    log('\\nüéâ Î™®Îì† Ï≤¥ÌÅ¨ ÌÜµÍ≥º!', 'green')\n  } catch (error) {\n    log('\\n‚ùå Ïò§Î•ò Î∞úÍ≤¨!', 'red')\n    log('ÏûêÏÑ∏Ìïú ÎÇ¥Ïö©ÏùÑ Î≥¥Î†§Î©¥: npm run check:errors', 'yellow')\n    process.exit(1)\n  }\n}\n\nquickCheck()\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/remove-contract-amount-column.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 14,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 14,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 15,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 15,
        "endColumn": 25
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 16,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 16,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 17,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 17,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 18,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 18,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 28,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 28,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 29,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 29,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 32,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 32,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 35,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 35,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 44,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 44,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 48,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 48,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 51,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 51,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 59,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 61,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 61,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 66,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 66,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 70,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 70,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 75,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 75,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 78,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 78,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 87,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 87,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 89,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 89,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 93,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 93,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 102,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 102,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 108,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 108,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 110,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 110,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 120,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 120,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 121,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 121,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 124,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 124,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 125,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 125,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 28,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * contract_amount Ïª¨Îüº Ï†úÍ±∞ Ïä§ÌÅ¨Î¶ΩÌä∏\n *\n * Ïù¥ Ïä§ÌÅ¨Î¶ΩÌä∏Îäî project_members ÌÖåÏù¥Î∏îÏóêÏÑú contract_amount Ïª¨ÎüºÏùÑ ÏôÑÏ†ÑÌûà Ï†úÍ±∞Ìï©ÎãàÎã§.\n * Ïã§Ï†ú Í∑ºÎ°úÍ≥ÑÏïΩÏÑú Îç∞Ïù¥ÌÑ∞Î•º ÏÇ¨Ïö©ÌïòÎØÄÎ°ú Ï§ëÎ≥µÎêú contract_amount Ïª¨ÎüºÏùÄ ÌòºÎûÄÏùÑ ÏïºÍ∏∞Ìï† Ïàò ÏûàÏäµÎãàÎã§.\n */\n\nimport { Pool } from 'pg'\n\n// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó∞Í≤∞ ÏÑ§Ï†ï\nconst dbConfig = {\n  host: process.env.DB_HOST || 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: parseInt(process.env.DB_PORT || '5432'),\n  database: process.env.DB_NAME || 'postgres',\n  user: process.env.DB_USER || 'postgres',\n  password: process.env.DB_PASSWORD || 'viahubdev',\n  ssl: {\n    rejectUnauthorized: false\n  }\n}\n\nasync function removeContractAmountColumn() {\n  const pool = new Pool(dbConfig)\n\n  try {\n    console.log('üîÑ Starting contract_amount column removal...')\n    console.log('üìä Database config:', { ...dbConfig, password: '[HIDDEN]' })\n\n    const client = await pool.connect()\n    console.log('‚úÖ Database connection successful!')\n\n    // 1. Ïª¨Îüº Ï°¥Ïû¨ Ïó¨Î∂Ä ÌôïÏù∏\n    console.log('üîç Checking if contract_amount column exists...')\n    const columnCheckResult = await client.query(`\n\t\t\tSELECT column_name \n\t\t\tFROM information_schema.columns \n\t\t\tWHERE table_name = 'project_members' \n\t\t\tAND column_name = 'contract_amount'\n\t\t`)\n\n    if (columnCheckResult.rows.length === 0) {\n      console.log('‚ÑπÔ∏è  contract_amount column does not exist. Nothing to remove.')\n      return\n    }\n\n    console.log('üìã Found contract_amount column in project_members table')\n\n    // 2. Ïª¨Îüº Ï†úÍ±∞ Ï†Ñ Îç∞Ïù¥ÌÑ∞ Î∞±ÏóÖ (Ï∞∏Í≥†Ïö©)\n    console.log('üìä Backing up contract_amount data for reference...')\n    const backupResult = await client.query(`\n\t\t\tSELECT id, employee_id, contract_amount, monthly_amount, participation_rate\n\t\t\tFROM project_members \n\t\t\tWHERE contract_amount IS NOT NULL AND contract_amount != 0\n\t\t`)\n\n    if (backupResult.rows.length > 0) {\n      console.log(`üìã Found ${backupResult.rows.length} records with non-zero contract_amount:`)\n      backupResult.rows.forEach(row => {\n        console.log(\n          `   - ID: ${row.id}, Employee: ${row.employee_id}, Contract: ${row.contract_amount}, Monthly: ${row.monthly_amount}, Rate: ${row.participation_rate}%`\n        )\n      })\n    } else {\n      console.log('üìã No non-zero contract_amount values found')\n    }\n\n    // 3. Ïª¨Îüº Ï†úÍ±∞\n    console.log('üóëÔ∏è  Removing contract_amount column...')\n    await client.query(`\n\t\t\tALTER TABLE project_members \n\t\t\tDROP COLUMN IF EXISTS contract_amount\n\t\t`)\n    console.log('‚úÖ contract_amount column removed successfully!')\n\n    // 4. Í≤∞Í≥º ÌôïÏù∏\n    console.log('üîç Verifying column removal...')\n    const finalCheckResult = await client.query(`\n\t\t\tSELECT column_name \n\t\t\tFROM information_schema.columns \n\t\t\tWHERE table_name = 'project_members' \n\t\t\tAND column_name = 'contract_amount'\n\t\t`)\n\n    if (finalCheckResult.rows.length === 0) {\n      console.log('‚úÖ contract_amount column successfully removed from project_members table')\n    } else {\n      console.log('‚ùå contract_amount column still exists')\n    }\n\n    // 5. ÌòÑÏû¨ ÌÖåÏù¥Î∏î Íµ¨Ï°∞ ÌôïÏù∏\n    console.log('üìã Current project_members table structure:')\n    const tableStructureResult = await client.query(`\n\t\t\tSELECT column_name, data_type, is_nullable, column_default\n\t\t\tFROM information_schema.columns \n\t\t\tWHERE table_name = 'project_members'\n\t\t\tORDER BY ordinal_position\n\t\t`)\n\n    tableStructureResult.rows.forEach(row => {\n      console.log(\n        `   - ${row.column_name}: ${row.data_type} (${row.is_nullable === 'YES' ? 'nullable' : 'not null'})`\n      )\n    })\n\n    client.release()\n    console.log('üéâ contract_amount column removal completed successfully!')\n  } catch (error) {\n    console.error('‚ùå Error removing contract_amount column:', error)\n    throw error\n  } finally {\n    await pool.end()\n  }\n}\n\n// Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ\nremoveContractAmountColumn()\n  .then(() => {\n    console.log('‚úÖ Script completed successfully')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('‚ùå Script failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/restore-departments.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 99,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 99,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 114,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 114,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 118,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 118,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 130,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 130,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 132,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 132,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 138,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 138,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 149,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 149,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 153,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 153,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 158,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 158,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 160,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 160,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 168,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 168,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 169,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 169,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 172,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 172,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 173,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 173,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 14,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\n// ÏßÅÏõêÎ≥Ñ Î∂ÄÏÑú Î∞∞Ïπò (ÏûÖÏÇ¨ÏùºÍ≥º Í≤ΩÎ†•, Ïù¥Î¶ÑÏùÑ Í≥†Î†§ÌïòÏó¨ Î∞∞Ïπò)\nconst departmentAssignments = {\n  // Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ (ÎåÄÌëúÏù¥ÏÇ¨ ÏßÅÏÜç)\n  1001: 'Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ', // Î∞ïÍ∏∞ÏÑ† - ÏµúÍ≥† Í≤ΩÎ†•Ïûê\n  1002: 'Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ', // ÌïúÏäπÌõà - Ìá¥ÏÇ¨ÌñàÏßÄÎßå Í≤ΩÏòÅÏßÑÍ∏â\n\n  // Í≤ΩÏòÅÏßÄÏõêÌåÄ (Ïû¨Î¨¥Ïù¥ÏÇ¨ ÏßÅÏÜç)\n  1003: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ïù¥Í±¥Ìù¨\n  1004: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Î¨∏ÎØºÏ¢Ö - Ìá¥ÏÇ¨\n  1005: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ïò§ÏßÄÏòÅ - Ìá¥ÏÇ¨\n  1006: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Î∞±ÏäπÌòÑ - Ìá¥ÏÇ¨\n  1007: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÎëêÏïÑÌòÑ - Ìá¥ÏÇ¨\n  1008: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÍπÄÏàòÏòÅ - Ìá¥ÏÇ¨\n  1009: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÍπÄÎëêÌòÑ - Ìá¥ÏÇ¨\n  1010: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ï†ïÏùÄÏßÄ - Ìá¥ÏÇ¨\n  1011: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÏµúÏãúÏö©\n  1012: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÍπÄÏàúÏòÅ - Ìá¥ÏÇ¨\n  1013: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ï∞®ÏàòÏó∞ - Ìá¥ÏÇ¨\n  1014: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÍπÄÏÉÅÌôò - Ìá¥ÏÇ¨\n  1015: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÍπÄÏ±ÑÏó∞ - Ìá¥ÏÇ¨\n  1016: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ìô©ÌÉúÌù¨ - Ìá¥ÏÇ¨\n  1017: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ï†ÑÏû¨Ïùº - Ìá¥ÏÇ¨\n  1018: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // Ïû•ÎØ∏Í≤Ω - Ìá¥ÏÇ¨\n  1019: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÌïúÍ∞ÄÏó∞ - Ìá¥ÏÇ¨\n  1020: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ', // ÏÜ°ÏäπÏóΩ - Ìá¥ÏÇ¨\n\n  // PSRÌåÄ (Ïó∞Íµ¨ÏÜåÏû• ÏßÅÏÜç) - Ïó∞Íµ¨Í∞úÎ∞ú Ï§ëÏã¨\n  1021: 'PSRÌåÄ', // Ï∞®ÏßÄÏùÄ\n  1022: 'PSRÌåÄ', // Ïû•ÌïúÏßÑ\n  1023: 'PSRÌåÄ', // ÍπÄÎåÄÍ≥§\n  1024: 'PSRÌåÄ', // ÍπÄÌòÅÏùº - Ìá¥ÏÇ¨\n  1025: 'PSRÌåÄ', // ÎÖ∏Ïù∏Í∑ú - Ìá¥ÏÇ¨\n  1026: 'PSRÌåÄ', // Ïù¥ÏßÄÌõÑ\n  1027: 'PSRÌåÄ', // Î∞ïÌòïÏùº - Ìá¥ÏÇ¨\n  1028: 'PSRÌåÄ', // Ï†ïÏòàÏõê - Ìá¥ÏÇ¨\n  1029: 'PSRÌåÄ', // ÍπÄÏàòÍ≤∏ - Ìá¥ÏÇ¨\n  1030: 'PSRÌåÄ', // Ïò§Ï§Ä - Ìá¥ÏÇ¨\n  1031: 'PSRÌåÄ', // ÍπÄÌòÑÏòÅ\n  1032: 'PSRÌåÄ', // Ïò§ÌòÑÏ¢Ö\n  1033: 'PSRÌåÄ', // Í≥†ÎèôÌõ§\n  1034: 'PSRÌåÄ', // ÏµúÌòÑÎØº\n  1035: 'PSRÌåÄ', // ÍπÄÏÑ±Ìò∏\n  1036: 'PSRÌåÄ', // Ïû•ÏòÅÏïÑ\n  1037: 'PSRÌåÄ', // Ïò§ÌòÑÏïÑ\n  1038: 'PSRÌåÄ' // ÏµúÏ†úÏú§\n}\n\n// ÏßÅÏ±ÖÎèÑ Ìï®Íªò ÏóÖÎç∞Ïù¥Ìä∏\nconst positionAssignments = {\n  // Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ\n  1001: 'ÎåÄÌëúÏù¥ÏÇ¨', // Î∞ïÍ∏∞ÏÑ†\n  1002: 'Í≤ΩÏòÅÍ∏∞ÌöçÌåÄÏû•', // ÌïúÏäπÌõà\n\n  // Í≤ΩÏòÅÏßÄÏõêÌåÄ\n  1003: 'Ïû¨Î¨¥Ïù¥ÏÇ¨', // Ïù¥Í±¥Ìù¨\n  1004: 'Í≤ΩÏòÅÏßÄÏõêÌåÄÏû•', // Î¨∏ÎØºÏ¢Ö\n  1005: 'Ïù∏ÏÇ¨ÌåÄÏû•', // Ïò§ÏßÄÏòÅ\n  1006: 'Ï¥ùÎ¨¥ÌåÄÏû•', // Î∞±ÏäπÌòÑ\n  1007: 'ÌöåÍ≥ÑÌåÄÏû•', // ÎëêÏïÑÌòÑ\n  1008: 'Ïù∏ÏÇ¨Îã¥Îãπ', // ÍπÄÏàòÏòÅ\n  1009: 'Ï¥ùÎ¨¥Îã¥Îãπ', // ÍπÄÎëêÌòÑ\n  1010: 'ÌöåÍ≥ÑÎã¥Îãπ', // Ï†ïÏùÄÏßÄ\n  1011: 'Í≤ΩÏòÅÏßÄÏõêÎã¥Îãπ', // ÏµúÏãúÏö©\n  1012: 'Ïù∏ÏÇ¨Îã¥Îãπ', // ÍπÄÏàúÏòÅ\n  1013: 'Ï¥ùÎ¨¥Îã¥Îãπ', // Ï∞®ÏàòÏó∞\n  1014: 'ÌöåÍ≥ÑÎã¥Îãπ', // ÍπÄÏÉÅÌôò\n  1015: 'Í≤ΩÏòÅÏßÄÏõêÎã¥Îãπ', // ÍπÄÏ±ÑÏó∞\n  1016: 'Ïù∏ÏÇ¨Îã¥Îãπ', // Ìô©ÌÉúÌù¨\n  1017: 'Ï¥ùÎ¨¥Îã¥Îãπ', // Ï†ÑÏû¨Ïùº\n  1018: 'ÌöåÍ≥ÑÎã¥Îãπ', // Ïû•ÎØ∏Í≤Ω\n  1019: 'Í≤ΩÏòÅÏßÄÏõêÎã¥Îãπ', // ÌïúÍ∞ÄÏó∞\n  1020: 'Ïù∏ÏÇ¨Îã¥Îãπ', // ÏÜ°ÏäπÏóΩ\n\n  // PSRÌåÄ\n  1021: 'Ïó∞Íµ¨ÏÜåÏû•', // Ï∞®ÏßÄÏùÄ\n  1022: 'PSRÌåÄÏû•', // Ïû•ÌïúÏßÑ\n  1023: 'ÏÑ†ÏûÑÏó∞Íµ¨Ïõê', // ÍπÄÎåÄÍ≥§\n  1024: 'Ïó∞Íµ¨Ïõê', // ÍπÄÌòÅÏùº\n  1025: 'Ïó∞Íµ¨Ïõê', // ÎÖ∏Ïù∏Í∑ú\n  1026: 'Ïó∞Íµ¨Ïõê', // Ïù¥ÏßÄÌõÑ\n  1027: 'Ïó∞Íµ¨Ïõê', // Î∞ïÌòïÏùº\n  1028: 'Ïó∞Íµ¨Ïõê', // Ï†ïÏòàÏõê\n  1029: 'Ïó∞Íµ¨Ïõê', // ÍπÄÏàòÍ≤∏\n  1030: 'Ïó∞Íµ¨Ïõê', // Ïò§Ï§Ä\n  1031: 'ÏÑ†ÏûÑÏó∞Íµ¨Ïõê', // ÍπÄÌòÑÏòÅ\n  1032: 'ÏÑ†ÏûÑÏó∞Íµ¨Ïõê', // Ïò§ÌòÑÏ¢Ö\n  1033: 'Ïó∞Íµ¨Ïõê', // Í≥†ÎèôÌõ§\n  1034: 'Ïó∞Íµ¨Ïõê', // ÏµúÌòÑÎØº\n  1035: 'Ïó∞Íµ¨Ïõê', // ÍπÄÏÑ±Ìò∏\n  1036: 'Ïó∞Íµ¨Ïõê', // Ïû•ÏòÅÏïÑ\n  1037: 'Ïó∞Íµ¨Ïõê', // Ïò§ÌòÑÏïÑ\n  1038: 'Ïó∞Íµ¨Ïõê' // ÏµúÏ†úÏú§\n}\n\nasync function restoreDepartments() {\n  try {\n    console.log('üîÑ Starting department restoration...')\n\n    // Í∞Å ÏßÅÏõêÏùò Î∂ÄÏÑúÏôÄ ÏßÅÏ±Ö ÏóÖÎç∞Ïù¥Ìä∏\n    for (const [employeeId, department] of Object.entries(departmentAssignments)) {\n      const position = positionAssignments[employeeId]\n\n      await query(\n        `\n\t\t\t\tUPDATE employees \n\t\t\t\tSET department = $1, position = $2, updated_at = $3\n\t\t\t\tWHERE employee_id = $4\n\t\t\t`,\n        [department, position, new Date(), employeeId]\n      )\n\n      console.log(`‚úÖ Updated employee ${employeeId}: ${department} - ${position}`)\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('üîç Verifying department assignments...')\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\tdepartment,\n\t\t\t\tCOUNT(*) as count,\n\t\t\t\tCOUNT(CASE WHEN status = 'active' THEN 1 END) as active_count,\n\t\t\t\tCOUNT(CASE WHEN status = 'terminated' THEN 1 END) as terminated_count\n\t\t\tFROM employees \n\t\t\tGROUP BY department\n\t\t\tORDER BY department\n\t\t`)\n\n    console.log('üìã Department summary:')\n    result.rows.forEach(row => {\n      console.log(\n        `  ${row.department}: ${row.count}Î™Ö (Ïû¨ÏßÅ: ${row.active_count}Î™Ö, Ìá¥ÏÇ¨: ${row.terminated_count}Î™Ö)`\n      )\n    })\n\n    // Î∂ÄÏÑúÎ≥Ñ ÏßÅÏõê Î™©Î°ù\n    console.log('üë• Department details:')\n    const detailResult = await query(`\n\t\t\tSELECT \n\t\t\t\temployee_id, first_name, last_name, department, position, status\n\t\t\tFROM employees \n\t\t\tORDER BY department, position, employee_id\n\t\t`)\n\n    let currentDept = ''\n    detailResult.rows.forEach(row => {\n      if (row.department !== currentDept) {\n        console.log(`\\nüìÅ ${row.department}:`)\n        currentDept = row.department\n      }\n      const statusIcon = row.status === 'active' ? 'üü¢' : 'üî¥'\n      console.log(\n        `  ${statusIcon} ${row.employee_id}: ${row.last_name}${row.first_name} (${row.position})`\n      )\n    })\n\n    console.log('\\n‚úÖ Department restoration completed successfully!')\n  } catch (error) {\n    console.error('‚ùå Department restoration failed:', error)\n    throw error\n  }\n}\n\n// Run the restoration\nrestoreDepartments()\n  .then(() => {\n    console.log('üéâ Department restoration completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Department restoration failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/run-research-stipend-migration.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 10,
        "column": 15,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 10,
        "endColumn": 22
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 14,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 14,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 29,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 29,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 30,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 30,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 32,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 32,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 35,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 35,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 37,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 37,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 39,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 39,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 42,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 43,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 43,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 44,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 44,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 11,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * Ïó∞Íµ¨ÏàòÎãπ Ïª¨Îüº Ï∂îÍ∞Ä ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Ïã§Ìñâ Ïä§ÌÅ¨Î¶ΩÌä∏\n *\n * ÏÇ¨Ïö©Î≤ï:\n * node scripts/run-research-stipend-migration.js\n */\n\nconst fetch = require('node-fetch')\n\nasync function runMigration() {\n  try {\n    console.log('üöÄ Ïó∞Íµ¨ÏàòÎãπ Ïª¨Îüº Ï∂îÍ∞Ä ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖòÏùÑ ÏãúÏûëÌï©ÎãàÎã§...')\n\n    const response = await fetch(\n      'http://localhost:5173/api/project-management/migrate-add-research-stipend',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n    )\n\n    const result = await response.json()\n\n    if (result.success) {\n      console.log('‚úÖ ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖòÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!')\n      console.log('üìã Ï∂îÍ∞ÄÎêú Ïª¨ÎüºÎì§:')\n      result.addedColumns.forEach(col => {\n        console.log(`  - ${col.name} (${col.type}) - Í∏∞Î≥∏Í∞í: ${col.default}`)\n      })\n    } else {\n      console.error('‚ùå ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Ïã§Ìå®:', result.message)\n      if (result.error) {\n        console.error('Ïò§Î•ò ÏÉÅÏÑ∏:', result.error)\n      }\n      process.exit(1)\n    }\n  } catch (error) {\n    console.error('‚ùå ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Ïã§Ìñâ Ï§ë Ïò§Î•ò Î∞úÏÉù:', error.message)\n    console.error('ÏÑúÎ≤ÑÍ∞Ä Ïã§Ìñâ Ï§ëÏù∏ÏßÄ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî. (npm run dev)')\n    process.exit(1)\n  }\n}\n\n// Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ\nrunMigration()\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/setup-evidence-db.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 25,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 25,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 31,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 31,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 36,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 36,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 47,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 47,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 49,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 49,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 61,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 61,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 63,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 63,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 68,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 68,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 70,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 70,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 73,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 73,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 83,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 83,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 84,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 84,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 87,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 87,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 88,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 88,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 14,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import fs from 'fs'\nimport path from 'path'\nimport { Pool } from 'pg'\nimport { fileURLToPath } from 'url'\n\nconst __filename = fileURLToPath(import.meta.url)\nconst __dirname = path.dirname(__filename)\n\n// Database configuration\nconst dbConfig = {\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: {\n    rejectUnauthorized: false\n  }\n}\n\nasync function setupEvidenceDatabase() {\n  const pool = new Pool(dbConfig)\n\n  try {\n    console.log('Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó∞Í≤∞ Ï§ë...')\n\n    // SQL ÌååÏùº ÏùΩÍ∏∞\n    const sqlPath = path.join(__dirname, 'setup-evidence-management.sql')\n    const sqlContent = fs.readFileSync(sqlPath, 'utf8')\n\n    console.log('Ï¶ùÎπô Í¥ÄÎ¶¨ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Ïã§Ìñâ Ï§ë...')\n\n    // SQL Ïã§Ìñâ\n    await pool.query(sqlContent)\n\n    console.log('‚úÖ Ï¶ùÎπô Í¥ÄÎ¶¨ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§ÎßàÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§!')\n\n    // ÌÖåÏù¥Î∏î ÌôïÏù∏\n    const tablesResult = await pool.query(`\n            SELECT table_name \n            FROM information_schema.tables \n            WHERE table_schema = 'public' \n            AND table_name LIKE 'evidence_%'\n            ORDER BY table_name\n        `)\n\n    console.log('\\nÏÉùÏÑ±Îêú ÌÖåÏù¥Î∏î:')\n    tablesResult.rows.forEach(row => {\n      console.log(`- ${row.table_name}`)\n    })\n\n    // Î∑∞ ÌôïÏù∏\n    const viewsResult = await pool.query(`\n            SELECT table_name \n            FROM information_schema.views \n            WHERE table_schema = 'public' \n            AND table_name LIKE 'evidence_%'\n            ORDER BY table_name\n        `)\n\n    console.log('\\nÏÉùÏÑ±Îêú Î∑∞:')\n    viewsResult.rows.forEach(row => {\n      console.log(`- ${row.table_name}`)\n    })\n\n    // Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏\n    const categoriesResult = await pool.query('SELECT * FROM evidence_categories')\n    console.log('\\nÍ∏∞Î≥∏ Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨:')\n    categoriesResult.rows.forEach(row => {\n      console.log(`- ${row.name}: ${row.description}`)\n    })\n  } catch (error) {\n    console.error('‚ùå Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Ï†ï Ï§ë Ïò§Î•ò Î∞úÏÉù:', error)\n    throw error\n  } finally {\n    await pool.end()\n  }\n}\n\n// Ïã§Ìñâ\nsetupEvidenceDatabase()\n  .then(() => {\n    console.log('\\nüéâ Ï¶ùÎπô Í¥ÄÎ¶¨ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Ï†ïÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('ÏÑ§Ï†ï Ïã§Ìå®:', error)\n    process.exit(1)\n  })\n\nexport { setupEvidenceDatabase }\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/switch-env.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 18,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 18,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 19,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 19,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 20,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 34,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 34,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 35,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 35,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 38,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 38,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 41,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 41,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 42,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 53,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 53,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 55,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 55,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 58,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 58,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 59,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 64,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 64,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 13,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * Database Environment Switcher\n *\n * This script helps switch between local and AWS database environments\n * Usage: node scripts/switch-env.js [local|aws]\n */\n\nimport fs from 'fs'\nimport path from 'path'\n\nconst envFile = '.env'\nconst validEnvs = ['local', 'aws']\n\nfunction updateEnvFile(env) {\n  if (!validEnvs.includes(env)) {\n    console.error(`‚ùå Invalid environment: ${env}`)\n    console.error(`Valid options: ${validEnvs.join(', ')}`)\n    process.exit(1)\n  }\n\n  try {\n    // Read current .env file\n    const envPath = path.resolve(envFile)\n    let envContent = fs.readFileSync(envPath, 'utf8')\n\n    // Update DB_ENV line\n    envContent = envContent.replace(/^DB_ENV=.*$/m, `DB_ENV=${env}`)\n\n    // Write back to file\n    fs.writeFileSync(envPath, envContent)\n\n    console.log(`‚úÖ Database environment switched to: ${env.toUpperCase()}`)\n    console.log(`üìù Updated ${envFile}`)\n\n    if (env === 'local') {\n      console.log(`üí° Make sure local PostgreSQL is running: docker-compose up postgres -d`)\n    }\n  } catch (error) {\n    console.error(`‚ùå Failed to update ${envFile}:`, error.message)\n    process.exit(1)\n  }\n}\n\nfunction showCurrentEnv() {\n  try {\n    const envPath = path.resolve(envFile)\n    const envContent = fs.readFileSync(envPath, 'utf8')\n    const match = envContent.match(/^DB_ENV=(.*)$/m)\n\n    if (match) {\n      console.log(`üóÑÔ∏è  Current database environment: ${match[1].toUpperCase()}`)\n    } else {\n      console.log(`‚ùì No DB_ENV found in ${envFile}`)\n    }\n  } catch (error) {\n    console.error(`‚ùå Failed to read ${envFile}:`, error.message)\n    process.exit(1)\n  }\n}\n\n// Main execution\nconst args = process.argv.slice(2)\n\nif (args.length === 0) {\n  showCurrentEnv()\n} else {\n  const env = args[0].toLowerCase()\n  updateEnvFile(env)\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/sync-payslips.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 39,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 39,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 45,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 45,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 47,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 47,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 55,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 55,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 57,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 57,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 76,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 76,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 77,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 77,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 78,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 78,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 134,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 134,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 143,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 143,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 151,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 151,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 155,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 155,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 157,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 157,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 163,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 163,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 171,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 171,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 178,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 178,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 179,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 179,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 180,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 180,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 181,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 181,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 184,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 184,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 191,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 191,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 195,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 195,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 207,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 207,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 208,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 208,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 215,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 215,
        "endColumn": 42
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 216,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 216,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [],
    "errorCount": 26,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\n\n/**\n * Payslips Synchronization Script\n *\n * This script syncs missing payslips from AWS to local database\n * Usage: node scripts/sync-payslips.js\n */\n\nimport { Pool } from 'pg'\n\n// AWS Database Configuration\nconst awsConfig = {\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: {\n    rejectUnauthorized: false\n  }\n}\n\n// Local Database Configuration\nconst localConfig = {\n  host: 'localhost',\n  port: 5432,\n  database: 'workstream',\n  user: 'adminvia'\n}\n\nclass PayslipsSync {\n  constructor() {\n    this.awsPool = null\n    this.localPool = null\n  }\n\n  async connect() {\n    console.log('üîó Connecting to databases...')\n\n    // Connect to AWS\n    try {\n      this.awsPool = new Pool(awsConfig)\n      await this.awsPool.connect()\n      console.log('‚úÖ Connected to AWS database')\n    } catch (error) {\n      console.error('‚ùå Failed to connect to AWS database:', error.message)\n      throw error\n    }\n\n    // Connect to local\n    try {\n      this.localPool = new Pool(localConfig)\n      await this.localPool.connect()\n      console.log('‚úÖ Connected to local database')\n    } catch (error) {\n      console.error('‚ùå Failed to connect to local database:', error.message)\n      throw error\n    }\n  }\n\n  async getMissingPayslips() {\n    // Get all payslips from AWS\n    const awsResult = await this.awsPool.query('SELECT * FROM payslips ORDER BY created_at DESC')\n    const awsPayslips = awsResult.rows\n\n    // Get existing payslips from local\n    const localResult = await this.localPool.query('SELECT employee_name, period FROM payslips')\n    const localPayslips = new Set(localResult.rows.map(p => `${p.employee_name}-${p.period}`))\n\n    // Find missing payslips\n    const missingPayslips = awsPayslips.filter(\n      p => !localPayslips.has(`${p.employee_name}-${p.period}`)\n    )\n\n    console.log(`üìä AWS payslips: ${awsPayslips.length}`)\n    console.log(`üìä Local payslips: ${localResult.rows.length}`)\n    console.log(`üìä Missing payslips: ${missingPayslips.length}`)\n\n    return missingPayslips\n  }\n\n  async insertPayslip(payslip) {\n    try {\n      const query = `\n\t\t\t\tINSERT INTO payslips (\n\t\t\t\t\tid, employee_id, pay_period_start, pay_period_end,\n\t\t\t\t\tbase_salary, overtime_pay, bonus, old_deductions,\n\t\t\t\t\ttotal_amount, status, created_at, updated_at,\n\t\t\t\t\tperiod, pay_date, employee_name, employee_id_number,\n\t\t\t\t\tdepartment, position, hire_date, total_payments,\n\t\t\t\t\ttotal_deductions, net_salary, payments, is_generated,\n\t\t\t\t\tcreated_by, updated_by, deductions\n\t\t\t\t) VALUES (\n\t\t\t\t\t$1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12,\n\t\t\t\t\t$13, $14, $15, $16, $17, $18, $19, $20, $21, $22,\n\t\t\t\t\t$23, $24, $25, $26, $27\n\t\t\t\t)\n\t\t\t`\n\n      const values = [\n        payslip.id,\n        payslip.employee_id,\n        payslip.pay_period_start,\n        payslip.pay_period_end,\n        payslip.base_salary,\n        payslip.overtime_pay,\n        payslip.bonus,\n        payslip.old_deductions,\n        payslip.total_amount,\n        payslip.status,\n        payslip.created_at,\n        payslip.updated_at,\n        payslip.period,\n        payslip.pay_date,\n        payslip.employee_name,\n        payslip.employee_id_number,\n        payslip.department,\n        payslip.position,\n        payslip.hire_date,\n        payslip.total_payments,\n        payslip.total_deductions,\n        payslip.net_salary,\n        payslip.payments,\n        payslip.is_generated,\n        payslip.created_by,\n        payslip.updated_by,\n        payslip.deductions\n      ]\n\n      await this.localPool.query(query, values)\n      return true\n    } catch (error) {\n      console.error(\n        `‚ùå Failed to insert payslip ${payslip.employee_name}-${payslip.period}:`,\n        error.message\n      )\n      return false\n    }\n  }\n\n  async syncPayslips() {\n    console.log('üöÄ Starting payslips synchronization...\\n')\n\n    await this.connect()\n\n    // Get missing payslips\n    const missingPayslips = await this.getMissingPayslips()\n\n    if (missingPayslips.length === 0) {\n      console.log('‚úÖ All payslips are already synchronized!')\n      return\n    }\n\n    console.log('\\nüìã Missing payslips to sync:')\n    missingPayslips.forEach((payslip, index) => {\n      console.log(\n        `   ${index + 1}. ${payslip.employee_name || 'Unknown'} - ${payslip.period} (${payslip.total_amount?.toLocaleString()}Ïõê)`\n      )\n    })\n\n    // Sync missing payslips\n    console.log('\\nüîÑ Syncing payslips...')\n    let successCount = 0\n    let failCount = 0\n\n    for (const payslip of missingPayslips) {\n      const success = await this.insertPayslip(payslip)\n      if (success) {\n        successCount++\n        console.log(`   ‚úÖ ${payslip.employee_name || 'Unknown'} - ${payslip.period}`)\n      } else {\n        failCount++\n      }\n    }\n\n    // Summary\n    console.log('\\nüìä SYNC SUMMARY:')\n    console.log(`   ‚úÖ Successfully synced: ${successCount}`)\n    console.log(`   ‚ùå Failed to sync: ${failCount}`)\n    console.log(`   üìä Total processed: ${missingPayslips.length}`)\n\n    if (successCount > 0) {\n      console.log('\\nüéâ Payslips synchronization completed!')\n    }\n  }\n\n  async close() {\n    if (this.awsPool) {\n      await this.awsPool.end()\n      console.log('\\nüîå Disconnected from AWS database')\n    }\n    if (this.localPool) {\n      await this.localPool.end()\n      console.log('üîå Disconnected from local database')\n    }\n  }\n}\n\n// Main execution\nasync function main() {\n  const sync = new PayslipsSync()\n\n  try {\n    await sync.syncPayslips()\n  } catch (error) {\n    console.error('‚ùå Payslips synchronization failed:', error)\n    process.exit(1)\n  } finally {\n    await sync.close()\n  }\n}\n\n// Run if called directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  main().catch(console.error)\n}\n\nexport { PayslipsSync }\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/test-app-db.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 5,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 5,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 8,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 8,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 12,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 12,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 13,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 13,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 15,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 15,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 18,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 18,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 19,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 19,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { healthCheck, query } from '../src/lib/database/connection.ts'\n\nasync function testAppConnection() {\n  try {\n    console.log('üîÑ Testing application database connection...')\n\n    const isHealthy = await healthCheck()\n    console.log('Health check result:', isHealthy)\n\n    if (isHealthy) {\n      const result = await query('SELECT version() as version')\n      console.log('‚úÖ Database connection successful!')\n      console.log('üìä PostgreSQL version:', result.rows[0].version)\n    } else {\n      console.log('‚ùå Database health check failed')\n    }\n  } catch (error) {\n    console.error('‚ùå Database connection error:', error.message)\n    console.error('Full error:', error)\n  }\n}\n\ntestAppConnection()\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/test-db-connection.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 22,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 22,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 26,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 26,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 30,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 30,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 40,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 40,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 42,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 45,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 45,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 51,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 51,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 52,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 52,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 61,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 61,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 62,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 62,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 65,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 65,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 66,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 66,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 12,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Pool } from 'pg'\n\n// Database configuration\nconst dbConfig = {\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: {\n    rejectUnauthorized: false\n  },\n  max: 20,\n  idleTimeoutMillis: 30000,\n  connectionTimeoutMillis: 2000\n}\n\nasync function testConnection() {\n  const pool = new Pool(dbConfig)\n\n  try {\n    console.log('üîÑ Testing database connection...')\n\n    // Test basic connection\n    const client = await pool.connect()\n    console.log('‚úÖ Database connection successful!')\n\n    // Test query\n    const result = await client.query('SELECT version()')\n    console.log('üìä PostgreSQL version:', result.rows[0].version)\n\n    // Check if tables exist\n    const tablesResult = await client.query(`\n            SELECT table_name \n            FROM information_schema.tables \n            WHERE table_schema = 'public' \n            ORDER BY table_name\n        `)\n\n    console.log('üìã Existing tables:')\n    if (tablesResult.rows.length === 0) {\n      console.log('   No tables found. Database needs to be initialized.')\n    } else {\n      tablesResult.rows.forEach(row => {\n        console.log(`   - ${row.table_name}`)\n      })\n    }\n\n    client.release()\n  } catch (error) {\n    console.error('‚ùå Database connection failed:', error.message)\n    console.error('Error details:', error)\n  } finally {\n    await pool.end()\n  }\n}\n\n// Run the test\ntestConnection()\n  .then(() => {\n    console.log('üèÅ Connection test completed.')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Test failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/test-project-creation.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 72,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 72,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 73,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 73,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 77,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 77,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 79,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 79,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 82,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 82,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 87,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 87,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 89,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 89,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 92,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 92,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 94,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 94,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 99,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 99,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 102,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 102,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 104,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 104,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 107,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 107,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 109,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 109,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 112,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 112,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 115,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 115,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 117,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 117,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 125,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 125,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 140,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 140,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 153,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 153,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 189,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 189,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 209,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 209,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 216,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 216,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 221,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 221,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 268,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 268,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 276,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 276,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 281,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 281,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 302,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 302,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 310,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 310,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 316,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 316,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 325,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 325,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 372,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 372,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 384,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 384,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 424,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 424,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 431,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 431,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 437,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 437,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 440,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 440,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 448,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 448,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 450,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 450,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 453,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 453,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 454,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 454,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 455,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 455,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 456,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 456,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 463,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 463,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 465,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 465,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 482,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 482,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 484,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 484,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 48,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Pool } from 'pg'\n\nconst pool = new Pool({\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: { rejectUnauthorized: false }\n})\n\n// ÌÖåÏä§Ìä∏Ïö© ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞\nconst testProjectData = {\n  name: 'RND-VR2024 ÌÖåÏä§Ìä∏ ÌîÑÎ°úÏ†ùÌä∏',\n  description: 'VR Í∏∞Ïà† Í∞úÎ∞úÏùÑ ÏúÑÌïú ÌÖåÏä§Ìä∏ ÌîÑÎ°úÏ†ùÌä∏ÏûÖÎãàÎã§.',\n  startDate: '2024-04-01',\n  endDate: '2026-03-31',\n  totalBudget: 400000000, // 4ÏñµÏõê\n  annualPeriods: [\n    {\n      periodNumber: 1,\n      startDate: '2024-04-01',\n      endDate: '2025-03-31',\n      budget: 200000000 // 2ÏñµÏõê\n    },\n    {\n      periodNumber: 2,\n      startDate: '2025-04-01',\n      endDate: '2026-03-31',\n      budget: 200000000 // 2ÏñµÏõê\n    }\n  ],\n  budgetCategories: [\n    { name: 'Ïù∏Í±¥ÎπÑ', percentage: 40 },\n    { name: 'Ïû¨Î£åÎπÑ', percentage: 30 },\n    { name: 'Ïó∞Íµ¨ÌôúÎèôÎπÑ', percentage: 20 },\n    { name: 'Í∞ÑÏ†ëÎπÑ', percentage: 10 }\n  ],\n  members: [\n    {\n      employeeId: '8edea9ec-1187-4742-a1ae-df2f143cf8eb', // ÏòàÏõê Ï†ï\n      role: 'ÌîÑÎ°úÏ†ùÌä∏Îß§ÎãàÏ†Ä',\n      participationRate: 30,\n      monthlyAmount: 5000000, // 500ÎßåÏõê\n      startDate: '2024-04-01',\n      endDate: '2026-03-31'\n    },\n    {\n      employeeId: 'eed202f6-fcb3-4db4-8e18-6b102df87809', // ÌòïÏùº Î∞ï\n      role: 'ÏÑ†ÏûÑÏó∞Íµ¨Ïõê',\n      participationRate: 40,\n      monthlyAmount: 4000000, // 400ÎßåÏõê\n      startDate: '2024-04-01',\n      endDate: '2025-12-31'\n    },\n    {\n      employeeId: '65a78743-cc04-442d-8943-173c14260c17', // Í∏∞ÏÑ† Î∞ï\n      role: 'Ïó∞Íµ¨Ïõê',\n      participationRate: 30,\n      monthlyAmount: 3000000, // 300ÎßåÏõê\n      startDate: '2024-04-01',\n      endDate: '2026-03-31'\n    }\n  ],\n  evidenceSettings: {\n    autoGenerate: true,\n    namingConvention: '{name}({year}-{month})'\n  }\n}\n\nasync function testProjectCreation() {\n  console.log('üß™ [ÌÖåÏä§Ìä∏] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Î°úÏßÅ ÌÖåÏä§Ìä∏ ÏãúÏûë')\n  console.log('üìã [ÌÖåÏä§Ìä∏] ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞:', JSON.stringify(testProjectData, null, 2))\n\n  try {\n    // 1Îã®Í≥Ñ: ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÌÖåÏä§Ìä∏\n    console.log('\\nüîç [1Îã®Í≥Ñ] ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÌÖåÏä§Ìä∏')\n    const validationResult = await validateProjectData(testProjectData)\n    console.log('‚úÖ [1Îã®Í≥Ñ] Í≤ÄÏ¶ù Í≤∞Í≥º:', validationResult)\n\n    if (!validationResult.isValid) {\n      console.log('‚ùå [1Îã®Í≥Ñ] Í≤ÄÏ¶ù Ïã§Ìå®Î°ú ÌÖåÏä§Ìä∏ Ï§ëÎã®')\n      return\n    }\n\n    // 2Îã®Í≥Ñ: ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÌÖåÏä§Ìä∏\n    console.log('\\nüìù [2Îã®Í≥Ñ] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÌÖåÏä§Ìä∏')\n    const projectId = await createProject(testProjectData)\n    console.log('‚úÖ [2Îã®Í≥Ñ] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏôÑÎ£å - ID:', projectId)\n\n    // 3Îã®Í≥Ñ: Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ± ÌÖåÏä§Ìä∏\n    console.log('\\nüí∞ [3Îã®Í≥Ñ] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ± ÌÖåÏä§Ìä∏')\n    const budgetIds = await createProjectBudgets(projectId, testProjectData)\n    console.log('‚úÖ [3Îã®Í≥Ñ] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ± ÏôÑÎ£å - IDs:', budgetIds)\n\n    // 4Îã®Í≥Ñ: Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ± ÌÖåÏä§Ìä∏\n    console.log('\\nüë• [4Îã®Í≥Ñ] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ± ÌÖåÏä§Ìä∏')\n    const memberIds = await createProjectMembers(projectId, testProjectData)\n    console.log('‚úÖ [4Îã®Í≥Ñ] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ± ÏôÑÎ£å - IDs:', memberIds)\n\n    // 5Îã®Í≥Ñ: Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± ÌÖåÏä§Ìä∏\n    console.log('\\nüìÑ [5Îã®Í≥Ñ] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± ÌÖåÏä§Ìä∏')\n    const evidenceIds = await createEvidenceItems(projectId, testProjectData)\n    console.log('‚úÖ [5Îã®Í≥Ñ] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± ÏôÑÎ£å - IDs:', evidenceIds)\n\n    // 6Îã®Í≥Ñ: ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÌÖåÏä§Ìä∏\n    console.log('\\nüîç [6Îã®Í≥Ñ] ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÌÖåÏä§Ìä∏')\n    const finalValidation = await validateCreatedProject(projectId)\n    console.log('‚úÖ [6Îã®Í≥Ñ] ÏµúÏ¢Ö Í≤ÄÏ¶ù Í≤∞Í≥º:', finalValidation)\n\n    // 7Îã®Í≥Ñ: ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏\n    console.log('\\nüìä [7Îã®Í≥Ñ] ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏')\n    await displayCreatedData(projectId)\n\n    console.log('\\nüéâ [ÏôÑÎ£å] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Î°úÏßÅ ÌÖåÏä§Ìä∏ ÏÑ±Í≥µ!')\n  } catch (error) {\n    console.error('üí• [Ïò§Î•ò] ÌÖåÏä§Ìä∏ Ï§ë Ïò§Î•ò Î∞úÏÉù:', error)\n  } finally {\n    await pool.end()\n  }\n}\n\n// ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Ìï®Ïàò\nasync function validateProjectData(data) {\n  console.log('üîç [Í≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Í≤ÄÏ¶ù')\n  const errors = []\n\n  if (!data.name || data.name.trim().length === 0) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏Î™ÖÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  if (!data.startDate || !data.endDate) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûëÏùºÍ≥º Ï¢ÖÎ£åÏùºÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  if (new Date(data.startDate) >= new Date(data.endDate)) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏ Ï¢ÖÎ£åÏùºÏùÄ ÏãúÏûëÏùºÎ≥¥Îã§ Îä¶Ïñ¥Ïïº Ìï©ÎãàÎã§.')\n  }\n\n  console.log('üîç [Í≤ÄÏ¶ù] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Í≤ÄÏ¶ù')\n  if (!data.annualPeriods || data.annualPeriods.length === 0) {\n    errors.push('Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ï†ïÎ≥¥Îäî ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ Í≤ÄÏ¶ù\n  const totalBudgetFromPeriods = data.annualPeriods.reduce((sum, period) => sum + period.budget, 0)\n  if (Math.abs(totalBudgetFromPeriods - data.totalBudget) > 1000) {\n    errors.push(\n      `Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ(${totalBudgetFromPeriods.toLocaleString()}Ïõê)ÏôÄ Ï¥ù ÏòàÏÇ∞(${data.totalBudget.toLocaleString()}Ïõê)Ïù¥ ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`\n    )\n  }\n\n  console.log('üîç [Í≤ÄÏ¶ù] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù')\n  if (!data.members || data.members.length === 0) {\n    errors.push('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥Îäî ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n  for (const member of data.members) {\n    if (member.participationRate <= 0 || member.participationRate > 100) {\n      errors.push(`${member.employeeId}Ïùò Ï∞∏Ïó¨Ïú®ÏùÄ 0% Ï¥àÍ≥º 100% Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§.`)\n    }\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï∞∏Ïó¨Ïú® Ìï©Í≥Ñ Í≤ÄÏ¶ù\n  for (const period of data.annualPeriods) {\n    const periodMembers = data.members.filter(\n      member =>\n        new Date(member.startDate) <= new Date(period.endDate) &&\n        new Date(member.endDate) >= new Date(period.startDate)\n    )\n\n    const totalParticipationRate = periodMembers.reduce(\n      (sum, member) => sum + member.participationRate,\n      0\n    )\n    if (totalParticipationRate > 100) {\n      errors.push(\n        `${period.periodNumber}Ï∞®ÎÖÑÎèÑ Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï∞∏Ïó¨Ïú® Ìï©Í≥Ñ(${totalParticipationRate}%)Í∞Ä 100%Î•º Ï¥àÍ≥ºÌï©ÎãàÎã§.`\n      )\n    }\n  }\n\n  return { isValid: errors.length === 0, errors }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ìï®Ïàò\nasync function createProject(data) {\n  console.log('üìù [ÏÉùÏÑ±] ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏÇΩÏûÖ')\n\n  const projectQuery = `\n    INSERT INTO projects (\n      code, title, description, start_date, end_date, budget_total, \n      status, created_at, updated_at\n    ) VALUES ($1, $2, $3, $4, $5, $6, 'active', NOW(), NOW())\n    RETURNING id\n  `\n\n  const result = await pool.query(projectQuery, [\n    `PRJ-${Date.now()}`, // ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú ÏûêÎèô ÏÉùÏÑ±\n    data.name,\n    data.description,\n    data.startDate,\n    data.endDate,\n    data.totalBudget\n  ])\n\n  const projectId = result.rows[0].id\n  console.log(`üìù [ÏÉùÏÑ±] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏôÑÎ£å - ID: ${projectId}`)\n\n  return projectId\n}\n\n// Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ± Ìï®Ïàò\nasync function createProjectBudgets(projectId, data) {\n  console.log('üí∞ [ÏÉùÏÑ±] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÇΩÏûÖ ÏãúÏûë')\n\n  const budgetIds = []\n\n  for (const period of data.annualPeriods) {\n    console.log(`üí∞ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ÏòàÏÇ∞ ÏÉùÏÑ±`)\n\n    // ÏòàÏÇ∞ Ìï≠Î™©Î≥Ñ Î∞∞Î∂Ñ Í≥ÑÏÇ∞\n    const personnelCost = Math.round(\n      (period.budget * (data.budgetCategories.find(c => c.name === 'Ïù∏Í±¥ÎπÑ')?.percentage || 0)) /\n        100\n    )\n    const materialCost = Math.round(\n      (period.budget * (data.budgetCategories.find(c => c.name === 'Ïû¨Î£åÎπÑ')?.percentage || 0)) /\n        100\n    )\n    const activityCost = Math.round(\n      (period.budget *\n        (data.budgetCategories.find(c => c.name === 'Ïó∞Íµ¨ÌôúÎèôÎπÑ')?.percentage || 0)) /\n        100\n    )\n    const indirectCost = Math.round(\n      (period.budget * (data.budgetCategories.find(c => c.name === 'Í∞ÑÏ†ëÎπÑ')?.percentage || 0)) /\n        100\n    )\n\n    const budgetQuery = `\n      INSERT INTO project_budgets (\n        project_id, fiscal_year, period_number, start_date, end_date, total_budget,\n        personnel_cost, research_material_cost, research_activity_cost, indirect_cost,\n        spent_amount, created_at, updated_at\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 0, NOW(), NOW())\n      RETURNING id\n    `\n\n    // fiscal_yearÎäî ÏãúÏûëÏùºÏùò Ïó∞ÎèÑÎ°ú ÏÑ§Ï†ï\n    const fiscalYear = new Date(period.startDate).getFullYear()\n\n    const result = await pool.query(budgetQuery, [\n      projectId,\n      fiscalYear,\n      period.periodNumber,\n      period.startDate,\n      period.endDate,\n      period.budget,\n      personnelCost,\n      materialCost,\n      activityCost,\n      indirectCost\n    ])\n\n    budgetIds.push(result.rows[0].id)\n    console.log(`üí∞ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ÏòàÏÇ∞ ÏÉùÏÑ± ÏôÑÎ£å - ID: ${result.rows[0].id}`)\n  }\n\n  return budgetIds\n}\n\n// Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ± Ìï®Ïàò\nasync function createProjectMembers(projectId, data) {\n  console.log('üë• [ÏÉùÏÑ±] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÇΩÏûÖ ÏãúÏûë')\n\n  const memberIds = []\n\n  for (const member of data.members) {\n    console.log(`üë• [ÏÉùÏÑ±] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ${member.employeeId} Îì±Î°ù`)\n\n    const memberQuery = `\n      INSERT INTO project_members (\n        project_id, employee_id, role, participation_rate, monthly_amount,\n        start_date, end_date, created_at, updated_at\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, NOW(), NOW())\n      RETURNING id\n    `\n\n    const result = await pool.query(memberQuery, [\n      projectId,\n      member.employeeId,\n      member.role,\n      member.participationRate,\n      member.monthlyAmount,\n      member.startDate,\n      member.endDate\n    ])\n\n    memberIds.push(result.rows[0].id)\n    console.log(`üë• [ÏÉùÏÑ±] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ${member.employeeId} Îì±Î°ù ÏôÑÎ£å - ID: ${result.rows[0].id}`)\n  }\n\n  return memberIds\n}\n\n// Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± Ìï®Ïàò\nasync function createEvidenceItems(projectId, data) {\n  console.log('üìÑ [ÏÉùÏÑ±] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± ÏãúÏûë')\n\n  const evidenceIds = []\n\n  // Í∞Å Ïó∞Ï∞®Î≥ÑÎ°ú Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±\n  for (const period of data.annualPeriods) {\n    console.log(`üìÑ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±`)\n\n    // Ìï¥Îãπ Ïó∞Ï∞®Ïùò ÏòàÏÇ∞ ID Ï°∞Ìöå\n    const budgetResult = await pool.query(\n      'SELECT id FROM project_budgets WHERE project_id = $1 AND period_number = $2',\n      [projectId, period.periodNumber]\n    )\n\n    if (budgetResult.rows.length === 0) {\n      console.log(`‚ùå [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ÏòàÏÇ∞ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`)\n      continue\n    }\n\n    const projectBudgetId = budgetResult.rows[0].id\n\n    // ÏòàÏÇ∞ Ìï≠Î™©Î≥ÑÎ°ú Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±\n    for (const category of data.budgetCategories) {\n      if (category.percentage > 0) {\n        // Ïπ¥ÌÖåÍ≥†Î¶¨ ID Ï°∞Ìöå (Í∏∞Î≥∏ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÇ¨Ïö©)\n        const categoryResult = await pool.query(\n          'SELECT id FROM evidence_categories WHERE name = $1 LIMIT 1',\n          [category.name]\n        )\n\n        let categoryId = null\n        if (categoryResult.rows.length > 0) {\n          categoryId = categoryResult.rows[0].id\n        } else {\n          // Ïπ¥ÌÖåÍ≥†Î¶¨Í∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÉùÏÑ±\n          const createCategoryResult = await pool.query(\n            'INSERT INTO evidence_categories (name, description) VALUES ($1, $2) RETURNING id',\n            [category.name, `${category.name} Ï¶ùÎπô Ìï≠Î™©`]\n          )\n          categoryId = createCategoryResult.rows[0].id\n        }\n\n        const evidenceQuery = `\n          INSERT INTO evidence_items (\n            project_budget_id, category_id, name, budget_amount, spent_amount,\n            status, due_date, created_at, updated_at\n          ) VALUES ($1, $2, $3, $4, 0, 'planned', $5, NOW(), NOW())\n          RETURNING id\n        `\n\n        const dueDate = new Date(period.endDate)\n        dueDate.setMonth(dueDate.getMonth() + 1) // Ïó∞Ï∞® Ï¢ÖÎ£å ÌõÑ 1Í∞úÏõî\n\n        const result = await pool.query(evidenceQuery, [\n          projectBudgetId,\n          categoryId,\n          `${category.name} Ï¶ùÎπô`,\n          Math.round((period.budget * category.percentage) / 100),\n          dueDate.toISOString().split('T')[0]\n        ])\n\n        evidenceIds.push(result.rows[0].id)\n        console.log(\n          `üìÑ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ${category.name} Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ± ÏôÑÎ£å - ID: ${result.rows[0].id}`\n        )\n      }\n    }\n  }\n\n  return evidenceIds\n}\n\n// ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Ìï®Ïàò\nasync function validateCreatedProject(projectId) {\n  console.log('üîç [Í≤ÄÏ¶ù] ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÏãúÏûë')\n\n  const errors = []\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ ÌôïÏù∏\n  const projectResult = await pool.query('SELECT * FROM projects WHERE id = $1', [projectId])\n  if (projectResult.rows.length === 0) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÌôïÏù∏\n  const budgetResult = await pool.query(\n    'SELECT * FROM project_budgets WHERE project_id = $1 ORDER BY period_number',\n    [projectId]\n  )\n  if (budgetResult.rows.length === 0) {\n    errors.push('Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞Ïù¥ ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n  }\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÌôïÏù∏\n  const memberResult = await pool.query('SELECT * FROM project_members WHERE project_id = $1', [\n    projectId\n  ])\n  if (memberResult.rows.length === 0) {\n    errors.push('Ï∞∏Ïó¨Ïó∞Íµ¨ÏõêÏù¥ Îì±Î°ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n  }\n\n  // ÏòàÏÇ∞ Ìï©Í≥Ñ Í≤ÄÏ¶ù\n  const totalBudgetFromDB = budgetResult.rows.reduce(\n    (sum, budget) => sum + parseFloat(budget.total_budget),\n    0\n  )\n  const projectBudget = parseFloat(projectResult.rows[0].budget_total)\n\n  if (Math.abs(totalBudgetFromDB - projectBudget) > 1000) {\n    errors.push(\n      `Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïùò Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ(${totalBudgetFromDB.toLocaleString()}Ïõê)ÏôÄ ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞(${projectBudget.toLocaleString()}Ïõê)Ïù¥ ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`\n    )\n  }\n\n  console.log('üîç [Í≤ÄÏ¶ù] ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÏôÑÎ£å')\n\n  return { isValid: errors.length === 0, errors }\n}\n\n// ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ ÌëúÏãú Ìï®Ïàò\nasync function displayCreatedData(projectId) {\n  console.log('üìä [ÌôïÏù∏] ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ ÌëúÏãú')\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥\n  const projectResult = await pool.query('SELECT * FROM projects WHERE id = $1', [projectId])\n  if (projectResult.rows.length > 0) {\n    const project = projectResult.rows[0]\n    console.log(\n      `üìä [ÌôïÏù∏] ÌîÑÎ°úÏ†ùÌä∏: ${project.title} (${project.start_date} ~ ${project.end_date})`\n    )\n    console.log(`üìä [ÌôïÏù∏] Ï¥ù ÏòàÏÇ∞: ${parseInt(project.budget_total).toLocaleString()}Ïõê`)\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞\n  const budgetResult = await pool.query(\n    'SELECT * FROM project_budgets WHERE project_id = $1 ORDER BY period_number',\n    [projectId]\n  )\n  console.log(`üìä [ÌôïÏù∏] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ (${budgetResult.rows.length}Í∞ú):`)\n  budgetResult.rows.forEach(budget => {\n    console.log(\n      `  - ${budget.period_number}Ï∞®ÎÖÑÎèÑ: ${parseInt(budget.total_budget).toLocaleString()}Ïõê`\n    )\n    console.log(`    Ïù∏Í±¥ÎπÑ: ${parseInt(budget.personnel_cost).toLocaleString()}Ïõê`)\n    console.log(`    Ïû¨Î£åÎπÑ: ${parseInt(budget.research_material_cost).toLocaleString()}Ïõê`)\n    console.log(`    Ïó∞Íµ¨ÌôúÎèôÎπÑ: ${parseInt(budget.research_activity_cost).toLocaleString()}Ïõê`)\n    console.log(`    Í∞ÑÏ†ëÎπÑ: ${parseInt(budget.indirect_cost).toLocaleString()}Ïõê`)\n  })\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê\n  const memberResult = await pool.query('SELECT * FROM project_members WHERE project_id = $1', [\n    projectId\n  ])\n  console.log(`üìä [ÌôïÏù∏] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê (${memberResult.rows.length}Î™Ö):`)\n  memberResult.rows.forEach(member => {\n    console.log(\n      `  - ${member.employee_id} (${member.role}): ${member.participation_rate}% - ${parseInt(member.monthly_amount).toLocaleString()}Ïõê/Ïõî`\n    )\n  })\n\n  // Ï¶ùÎπô Ìï≠Î™©\n  const evidenceResult = await pool.query(\n    `\n    SELECT ei.*, ec.name as category_name, pb.period_number\n    FROM evidence_items ei\n    JOIN evidence_categories ec ON ei.category_id = ec.id\n    JOIN project_budgets pb ON ei.project_budget_id = pb.id\n    WHERE pb.project_id = $1\n    ORDER BY pb.period_number, ec.name\n  `,\n    [projectId]\n  )\n  console.log(`üìä [ÌôïÏù∏] Ï¶ùÎπô Ìï≠Î™© (${evidenceResult.rows.length}Í∞ú):`)\n  evidenceResult.rows.forEach(evidence => {\n    console.log(\n      `  - ${evidence.period_number}Ï∞®ÎÖÑÎèÑ ${evidence.category_name}: ${parseInt(evidence.budget_amount).toLocaleString()}Ïõê (${evidence.due_date})`\n    )\n  })\n}\n\n// ÌÖåÏä§Ìä∏ Ïã§Ìñâ\ntestProjectCreation()\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-employee-data.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 157,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 157,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 160,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 160,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 164,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 164,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 203,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 203,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 208,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 208,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 216,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 216,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 217,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 217,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 218,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 218,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 219,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 219,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 223,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 223,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 225,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 225,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 230,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 230,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 232,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 232,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 240,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 240,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 241,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 241,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 244,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 244,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 245,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 245,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 17,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\n// ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ (ÏûÖÏÇ¨Ïùº Ïàú)\nconst employeeData = [\n  { name: 'Î∞ïÍ∏∞ÏÑ†', hireDate: '2019-05-01', birthDate: '1978-01-22', terminationDate: null },\n  {\n    name: 'ÌïúÏäπÌõà',\n    hireDate: '2020-05-01',\n    birthDate: '1979-10-31',\n    terminationDate: '2022-08-31'\n  },\n  { name: 'Ïù¥Í±¥Ìù¨', hireDate: '2020-07-06', birthDate: '1995-01-03', terminationDate: null },\n  {\n    name: 'Î¨∏ÎØºÏ¢Ö',\n    hireDate: '2020-11-01',\n    birthDate: '1995-06-08',\n    terminationDate: '2023-08-31'\n  },\n  {\n    name: 'Ïò§ÏßÄÏòÅ',\n    hireDate: '2021-06-01',\n    birthDate: '1978-02-16',\n    terminationDate: '2022-10-31'\n  },\n  {\n    name: 'Î∞±ÏäπÌòÑ',\n    hireDate: '2021-07-01',\n    birthDate: '1994-01-06',\n    terminationDate: '2025-05-31'\n  },\n  {\n    name: 'ÎëêÏïÑÌòÑ',\n    hireDate: '2021-07-01',\n    birthDate: '1996-05-08',\n    terminationDate: '2022-10-31'\n  },\n  {\n    name: 'ÍπÄÏàòÏòÅ',\n    hireDate: '2021-12-01',\n    birthDate: '1999-12-02',\n    terminationDate: '2023-08-31'\n  },\n  {\n    name: 'ÍπÄÎëêÌòÑ',\n    hireDate: '2022-03-01',\n    birthDate: '1997-01-22',\n    terminationDate: '2023-08-31'\n  },\n  {\n    name: 'Ï†ïÏùÄÏßÄ',\n    hireDate: '2022-03-01',\n    birthDate: '1997-05-12',\n    terminationDate: '2025-06-30'\n  },\n  { name: 'ÏµúÏãúÏö©', hireDate: '2022-04-01', birthDate: '1991-10-23', terminationDate: null },\n  {\n    name: 'ÍπÄÏàúÏòÅ',\n    hireDate: '2022-08-16',\n    birthDate: '1979-07-26',\n    terminationDate: '2022-08-31'\n  },\n  {\n    name: 'Ï∞®ÏàòÏó∞',\n    hireDate: '2022-09-01',\n    birthDate: '1984-03-21',\n    terminationDate: '2023-10-31'\n  },\n  {\n    name: 'ÍπÄÏÉÅÌôò',\n    hireDate: '2022-09-01',\n    birthDate: '1978-11-16',\n    terminationDate: '2022-11-30'\n  },\n  {\n    name: 'ÍπÄÏ±ÑÏó∞',\n    hireDate: '2022-10-01',\n    birthDate: '1999-05-14',\n    terminationDate: '2023-10-31'\n  },\n  {\n    name: 'Ìô©ÌÉúÌù¨',\n    hireDate: '2022-11-01',\n    birthDate: '1970-03-01',\n    terminationDate: '2023-10-31'\n  },\n  {\n    name: 'Ï†ÑÏû¨Ïùº',\n    hireDate: '2023-01-01',\n    birthDate: '1973-09-10',\n    terminationDate: '2023-10-31'\n  },\n  {\n    name: 'Ïû•ÎØ∏Í≤Ω',\n    hireDate: '2023-03-01',\n    birthDate: '1978-02-06',\n    terminationDate: '2024-11-30'\n  },\n  {\n    name: 'ÌïúÍ∞ÄÏó∞',\n    hireDate: '2023-04-01',\n    birthDate: '1996-10-15',\n    terminationDate: '2023-10-31'\n  },\n  {\n    name: 'ÏÜ°ÏäπÏóΩ',\n    hireDate: '2023-06-01',\n    birthDate: '1984-02-28',\n    terminationDate: '2023-10-31'\n  },\n  { name: 'Ï∞®ÏßÄÏùÄ', hireDate: '2023-12-11', birthDate: '1993-11-13', terminationDate: null },\n  { name: 'Ïû•ÌïúÏßÑ', hireDate: '2024-09-01', birthDate: '1988-08-05', terminationDate: null },\n  { name: 'ÍπÄÎåÄÍ≥§', hireDate: '2024-10-01', birthDate: '1980-02-14', terminationDate: null },\n  {\n    name: 'ÍπÄÌòÅÏùº',\n    hireDate: '2024-10-01',\n    birthDate: '1997-07-25',\n    terminationDate: '2024-11-30'\n  },\n  {\n    name: 'ÎÖ∏Ïù∏Í∑ú',\n    hireDate: '2024-12-01',\n    birthDate: '1973-03-23',\n    terminationDate: '2025-02-28'\n  },\n  { name: 'Ïù¥ÏßÄÌõÑ', hireDate: '2024-12-01', birthDate: '1991-07-04', terminationDate: null },\n  {\n    name: 'Î∞ïÌòïÏùº',\n    hireDate: '2024-12-01',\n    birthDate: '1996-02-13',\n    terminationDate: '2025-02-28'\n  },\n  {\n    name: 'Ï†ïÏòàÏõê',\n    hireDate: '2024-12-01',\n    birthDate: '1997-10-19',\n    terminationDate: '2025-02-28'\n  },\n  {\n    name: 'ÍπÄÏàòÍ≤∏',\n    hireDate: '2025-01-01',\n    birthDate: '1994-10-08',\n    terminationDate: '2025-02-28'\n  },\n  { name: 'Ïò§Ï§Ä', hireDate: '2025-01-16', birthDate: '1993-02-19', terminationDate: '2025-03-31' },\n  { name: 'ÍπÄÌòÑÏòÅ', hireDate: '2025-02-01', birthDate: '1985-07-21', terminationDate: null },\n  { name: 'Ïò§ÌòÑÏ¢Ö', hireDate: '2025-03-01', birthDate: '1980-02-25', terminationDate: null },\n  { name: 'Í≥†ÎèôÌõ§', hireDate: '2025-05-01', birthDate: '1993-09-23', terminationDate: null },\n  { name: 'ÏµúÌòÑÎØº', hireDate: '2025-07-01', birthDate: '1982-03-11', terminationDate: null },\n  { name: 'ÍπÄÏÑ±Ìò∏', hireDate: '2025-07-14', birthDate: '1986-01-05', terminationDate: null },\n  { name: 'Ïû•ÏòÅÏïÑ', hireDate: '2025-07-14', birthDate: '2000-08-12', terminationDate: null },\n  { name: 'Ïò§ÌòÑÏïÑ', hireDate: '2025-09-01', birthDate: '1979-07-04', terminationDate: null },\n  { name: 'ÏµúÏ†úÏú§', hireDate: '2025-09-01', birthDate: '1996-07-29', terminationDate: null }\n]\n\nasync function updateEmployeeData() {\n  try {\n    console.log('üîÑ Starting employee data update...')\n\n    // Í∏∞Ï°¥ ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú\n    console.log('üóëÔ∏è Clearing existing employee data...')\n    await query('DELETE FROM employees')\n\n    // ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ ÏÇΩÏûÖ\n    console.log('üë• Inserting employee data...')\n    let employeeId = 1001\n\n    for (const emp of employeeData) {\n      const [lastName, firstName] =\n        emp.name.length === 2\n          ? [emp.name[0], emp.name[1]]\n          : [emp.name.slice(0, 1), emp.name.slice(1)]\n\n      const status = emp.terminationDate ? 'terminated' : 'active'\n      const email = `${firstName.toLowerCase()}.${lastName.toLowerCase()}@company.com`\n\n      await query(\n        `\n\t\t\t\tINSERT INTO employees (\n\t\t\t\t\temployee_id, first_name, last_name, email, phone,\n\t\t\t\t\tdepartment, position, salary, hire_date, birth_date, termination_date, status,\n\t\t\t\t\temployment_type, created_at, updated_at\n\t\t\t\t) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15)\n\t\t\t`,\n        [\n          employeeId.toString(),\n          firstName,\n          lastName,\n          email,\n          '010-0000-0000',\n          'Î∂ÄÏÑúÏóÜÏùå',\n          'ÏßÅÏõê',\n          30000000, // Í∏∞Î≥∏ Í∏âÏó¨ 3Ï≤úÎßåÏõê\n          emp.hireDate,\n          emp.birthDate,\n          emp.terminationDate,\n          status,\n          'full-time',\n          new Date(),\n          new Date()\n        ]\n      )\n\n      console.log(`‚úÖ Added employee: ${emp.name} (ID: ${employeeId})`)\n      employeeId++\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('üîç Verifying data...')\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\temployee_id, first_name, last_name, hire_date, birth_date, termination_date, status, department\n\t\t\tFROM employees \n\t\t\tORDER BY hire_date ASC\n\t\t`)\n\n    console.log('üìã Employee data summary:')\n    console.log(`Total employees: ${result.rows.length}`)\n    console.log(`Active employees: ${result.rows.filter(r => r.status === 'active').length}`)\n    console.log(\n      `Terminated employees: ${result.rows.filter(r => r.status === 'terminated').length}`\n    )\n\n    console.log('üìÖ First 5 employees:')\n    result.rows.slice(0, 5).forEach(row => {\n      console.log(\n        `  ${row.employee_id}: ${row.last_name}${row.first_name} (ÏûÖÏÇ¨: ${row.hire_date}, ÏÉùÏùº: ${row.birth_date})`\n      )\n    })\n\n    console.log('‚úÖ Employee data update completed successfully!')\n  } catch (error) {\n    console.error('‚ùå Employee data update failed:', error)\n    throw error\n  }\n}\n\n// Run the update\nupdateEmployeeData()\n  .then(() => {\n    console.log('üéâ Employee data update completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Employee data update failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-employee-departments.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 38,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 38,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 42,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 49,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 49,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 75,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 75,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 79,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 79,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 85,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 85,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 90,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 90,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 102,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 102,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 117,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 117,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 124,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 124,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 131,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 131,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 133,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 133,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setTimeout' is not defined.",
        "line": 137,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 137,
        "endColumn": 44
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 140,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 140,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 141,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 141,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 142,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 142,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 143,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 143,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 146,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 146,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 19,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Node.js ÎÇ¥Ïû• fetch ÏÇ¨Ïö©\n\nconst API_BASE = 'http://localhost:5173/api'\n\n// ÏßÅÍ∏âÎ≥Ñ Î∂ÄÏÑú Îß§Ìïë (Ïó∞Íµ¨ÏõêÎì§ÏùÄ Ïó∞Íµ¨ Í¥ÄÎ†® Î∂ÄÏÑúÎ°ú)\nconst positionToDepartmentMap = {\n  Ïó∞Íµ¨Ïõê: 'PSRÌåÄ',\n  Ï±ÖÏûÑÏó∞Íµ¨Ïõê: 'PSRÌåÄ',\n  ÏÑ†ÏûÑÏó∞Íµ¨Ïõê: 'PSRÌåÄ',\n  Ï£ºÏûÑÏó∞Íµ¨Ïõê: 'PSRÌåÄ',\n  Ïó∞Íµ¨ÏÜåÏû•: 'Ïó∞Íµ¨ÏÜå',\n  CTO: 'Ïó∞Íµ¨ÏÜå',\n  CEO: 'ÎåÄÌëú',\n  CFO: 'Ï†ÑÎûµÍ∏∞ÌöçÏã§',\n  ÏÉÅÎ¨¥: 'Ï†ÑÎûµÍ∏∞ÌöçÏã§',\n  'Managing Director': 'Ï†ÑÎûµÍ∏∞ÌöçÏã§',\n  Director: 'Ï†ÑÎûµÍ∏∞ÌöçÏã§',\n  'Team Lead': 'PSRÌåÄ',\n  Manager: 'PSRÌåÄ',\n  'Senior Manager': 'PSRÌåÄ',\n  ÏÑ†ÏûÑÎîîÏûêÏù¥ÎÑà: 'GRITÌåÄ',\n  ÎîîÏûêÏù¥ÎÑà: 'GRITÌåÄ',\n  ÌñâÏ†ïÏõê: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  Ïù∏ÏÇ¨Îã¥Îãπ: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  Í≤ΩÏòÅÏßÄÏõêÎã¥Îãπ: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  ÌöåÍ≥ÑÎã¥Îãπ: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  Ï¥ùÎ¨¥Îã¥Îãπ: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  ÌöåÍ≥ÑÌåÄÏû•: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  Ï¥ùÎ¨¥ÌåÄÏû•: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  Ïù∏ÏÇ¨ÌåÄÏû•: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  Í≤ΩÏòÅÏßÄÏõêÌåÄÏû•: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n  ÎåÄÌëú: 'ÎåÄÌëú',\n  Ï†ÑÎûµÍ∏∞ÌöçÏã§: 'Ï†ÑÎûµÍ∏∞ÌöçÏã§'\n}\n\nasync function getEmployees() {\n  try {\n    const response = await fetch(`${API_BASE}/employees?status=all`)\n    const result = await response.json()\n    return result.data || []\n  } catch (error) {\n    console.error('Error fetching employees:', error)\n    return []\n  }\n}\n\nasync function updateEmployeeDepartment(employee, newDepartment) {\n  try {\n    const response = await fetch(`${API_BASE}/employees`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: employee.id,\n        department: newDepartment,\n        // Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Ïú†ÏßÄ\n        first_name: employee.first_name,\n        last_name: employee.last_name,\n        email: employee.email,\n        position: employee.position,\n        salary: employee.salary || 0,\n        phone: employee.phone || '',\n        hire_date: employee.hire_date,\n        birth_date: employee.birth_date,\n        termination_date: employee.termination_date,\n        status: employee.status,\n        employment_type: employee.employment_type || 'full-time',\n        job_title_id: employee.job_title_id\n      })\n    })\n\n    const result = await response.json()\n    if (!result.success) {\n      console.log(`‚ùå API Ïò§Î•ò: ${result.error}`)\n    }\n    return result.success\n  } catch (error) {\n    console.error('Error updating employee:', error)\n    return false\n  }\n}\n\nasync function main() {\n  console.log('üîÑ ÏßÅÏõê Î∂ÄÏÑú Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÏûë...')\n\n  const employees = await getEmployees()\n\n  if (employees.length === 0) {\n    console.error('‚ùå ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  // Î∂ÄÏÑúÍ∞Ä \"Î∂ÄÏÑúÏóÜÏùå\"Ïù∏ ÏßÅÏõêÎì§ ÌïÑÌÑ∞ÎßÅ\n  const employeesWithoutDepartment = employees.filter(emp => emp.department === 'Î∂ÄÏÑúÏóÜÏùå')\n\n  console.log(\n    `üìä Ï¥ù ${employees.length}Î™ÖÏùò ÏßÅÏõê Ï§ë Î∂ÄÏÑúÍ∞Ä ÏóÜÎäî ÏßÅÏõê: ${employeesWithoutDepartment.length}Î™Ö`\n  )\n\n  if (employeesWithoutDepartment.length === 0) {\n    console.log('‚úÖ Î™®Îì† ÏßÅÏõêÏù¥ Ï†ÅÏ†àÌïú Î∂ÄÏÑúÏóê Î∞∞Ï†ïÎêòÏñ¥ ÏûàÏäµÎãàÎã§.')\n    return\n  }\n\n  let updatedCount = 0\n  let skippedCount = 0\n\n  for (const employee of employeesWithoutDepartment) {\n    const position = employee.position\n    const jobTitleName = employee.job_title_name\n\n    // ÏßÅÍ∏âÎ™Ö ÎòêÎäî ÏßÅÏ±ÖÎ™ÖÏúºÎ°ú Î∂ÄÏÑú Í≤∞Ï†ï\n    let newDepartment = positionToDepartmentMap[position] || positionToDepartmentMap[jobTitleName]\n\n    if (!newDepartment) {\n      console.log(\n        `‚ö†Ô∏è  Îß§ÌïëÎêòÏßÄ ÏïäÏùÄ ÏßÅÍ∏â/ÏßÅÏ±Ö: ${employee.first_name} ${employee.last_name} - ${position} (${jobTitleName})`\n      )\n      skippedCount++\n      continue\n    }\n\n    console.log(\n      `üîÑ ÏóÖÎç∞Ïù¥Ìä∏ Ï§ë: ${employee.first_name} ${employee.last_name} - ${position} ‚Üí ${newDepartment}`\n    )\n\n    const success = await updateEmployeeDepartment(employee, newDepartment)\n    if (success) {\n      updatedCount++\n      console.log(`‚úÖ ÏÑ±Í≥µ: ${employee.first_name} ${employee.last_name}`)\n    } else {\n      console.log(`‚ùå Ïã§Ìå®: ${employee.first_name} ${employee.last_name}`)\n    }\n\n    // API Ìò∏Ï∂ú Í∞ÑÍ≤© Ï°∞Ï†à\n    await new Promise(resolve => setTimeout(resolve, 100))\n  }\n\n  console.log('\\nüìà ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å!')\n  console.log(`‚úÖ ÏóÖÎç∞Ïù¥Ìä∏Îêú ÏßÅÏõê: ${updatedCount}Î™Ö`)\n  console.log(`‚ö†Ô∏è  Í±¥ÎÑàÎõ¥ ÏßÅÏõê: ${skippedCount}Î™Ö`)\n  console.log(`üìä Ï¥ù Ï≤òÎ¶¨Îêú ÏßÅÏõê: ${updatedCount + skippedCount}Î™Ö`)\n}\n\nmain().catch(console.error)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-employee-ids-emails.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 93,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 93,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 103,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 103,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 126,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 126,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 129,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 129,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 144,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 144,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 155,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 155,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 161,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 161,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 169,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 169,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 172,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 172,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 186,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 186,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 188,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 188,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 191,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 191,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 193,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 193,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 201,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 201,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 202,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 202,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 205,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 205,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 206,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 206,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 17,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\n// ÌïúÍ∏Ä Ïù¥Î¶ÑÏùÑ ÏòÅÎ¨∏ Ïù¥Î©îÏùºÎ°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò\nfunction generateEmail(firstName, lastName) {\n  // ÌïúÍ∏Ä Ïù¥Î¶ÑÏùÑ ÏòÅÎ¨∏ÏúºÎ°ú Î≥ÄÌôòÌïòÎäî Îß§Ìïë\n  const nameMapping = {\n    // ÏÑ±Ïî®\n    Î∞ï: 'park',\n    ÍπÄ: 'kim',\n    Ïù¥: 'lee',\n    Ïµú: 'choi',\n    Ï†ï: 'jung',\n    Ìïú: 'han',\n    Î¨∏: 'moon',\n    Ïò§: 'oh',\n    Î∞±: 'baek',\n    Îëê: 'doo',\n    Ï∞®: 'cha',\n    Ìô©: 'hwang',\n    Ï†Ñ: 'jeon',\n    Ïû•: 'jang',\n    ÏÜ°: 'song',\n    ÎÖ∏: 'no',\n    Í≥†: 'ko',\n\n    // Ïù¥Î¶Ñ\n    Í∏∞ÏÑ†: 'kiseon',\n    ÏäπÌõà: 'seunghoon',\n    Í±¥Ìù¨: 'gunhee',\n    ÎØºÏ¢Ö: 'minjong',\n    ÏßÄÏòÅ: 'jiyoung',\n    ÏäπÌòÑ: 'seunghyun',\n    ÏïÑÌòÑ: 'ahyun',\n    ÏàòÏòÅ: 'suyoung',\n    ÎëêÌòÑ: 'doohyun',\n    ÏùÄÏßÄ: 'eunji',\n    ÏãúÏö©: 'siyong',\n    ÏàúÏòÅ: 'sunyoung',\n    ÏàòÏó∞: 'suyeon',\n    ÏÉÅÌôò: 'sanghwan',\n    Ï±ÑÏó∞: 'chaeyeon',\n    ÌÉúÌù¨: 'taehee',\n    Ïû¨Ïùº: 'jaeil',\n    ÎØ∏Í≤Ω: 'mikyung',\n    Í∞ÄÏó∞: 'gayeon',\n    ÏäπÏóΩ: 'seungyeop',\n    ÏßÄÏùÄ: 'jieun',\n    ÌïúÏßÑ: 'hanjin',\n    ÎåÄÍ≥§: 'daegon',\n    ÌòÅÏùº: 'hyukil',\n    Ïù∏Í∑ú: 'ingyu',\n    ÏßÄÌõÑ: 'jihuu',\n    ÌòïÏùº: 'hyungil',\n    ÏòàÏõê: 'yewon',\n    ÏàòÍ≤∏: 'sugyeom',\n    Ï§Ä: 'jun',\n    ÌòÑÏòÅ: 'hyunyoung',\n    ÌòÑÏ¢Ö: 'hyunjong',\n    ÎèôÌõ§: 'donghwon',\n    ÌòÑÎØº: 'hyunmin',\n    ÏÑ±Ìò∏: 'sungho',\n    ÏòÅÏïÑ: 'younga',\n    ÌòÑÏïÑ: 'hyuna',\n    Ï†úÏú§: 'jeyoon'\n  }\n\n  // ÏÑ±Í≥º Ïù¥Î¶ÑÏùÑ ÏòÅÎ¨∏ÏúºÎ°ú Î≥ÄÌôò\n  const lastEng = nameMapping[lastName] || lastName.toLowerCase()\n  const firstEng = nameMapping[firstName] || firstName.toLowerCase()\n\n  // Ïù¥Î©îÏùº ÌòïÏãù: kspark@viasoft.ai (Ïù¥Î¶ÑÏÑ±@viasoft.ai)\n  return `${firstEng}${lastEng}@viasoft.ai`\n}\n\n// Ïù¥Î©îÏùº Ï§ëÎ≥µ Ï≤¥ÌÅ¨ Î∞è Î≤àÌò∏ Ï∂îÍ∞Ä\nfunction generateUniqueEmail(firstName, lastName, existingEmails) {\n  let baseEmail = generateEmail(firstName, lastName)\n  let email = baseEmail\n  let counter = 1\n\n  // Ï§ëÎ≥µ Ï≤¥ÌÅ¨\n  while (existingEmails.includes(email)) {\n    counter++\n    const counterStr = counter.toString().padStart(2, '0')\n    email = baseEmail.replace('@viasoft.ai', `${counterStr}@viasoft.ai`)\n  }\n\n  return email\n}\n\nasync function updateEmployeeIdsAndEmails() {\n  try {\n    console.log('üîÑ Starting employee ID and email update...')\n\n    // Î™®Îì† ÏßÅÏõê Ï°∞Ìöå (ÏûÖÏÇ¨Ïùº ÏàúÏúºÎ°ú Ï†ïÎ†¨)\n    const employeesResult = await query(`\n\t\t\tSELECT id, first_name, last_name, hire_date, employee_id, email\n\t\t\tFROM employees \n\t\t\tORDER BY hire_date ASC\n\t\t`)\n\n    const employees = employeesResult.rows\n    console.log(`üìã Found ${employees.length} employees to update`)\n\n    // ÏÉàÎ°úÏö¥ ÏÇ¨Î≤àÍ≥º Ïù¥Î©îÏùº ÏÉùÏÑ±\n    const updates = []\n    const existingEmails = []\n\n    employees.forEach((emp, index) => {\n      const newEmployeeId = (1001 + index).toString()\n      const newEmail = generateUniqueEmail(emp.first_name, emp.last_name, existingEmails)\n\n      existingEmails.push(newEmail)\n\n      updates.push({\n        id: emp.id,\n        oldEmployeeId: emp.employee_id,\n        newEmployeeId: newEmployeeId,\n        oldEmail: emp.email,\n        newEmail: newEmail,\n        name: `${emp.last_name}${emp.first_name}`\n      })\n    })\n\n    // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏóÖÎç∞Ïù¥Ìä∏ (ÏÇ¨Î≤à Ï§ëÎ≥µ Î∞©ÏßÄÎ•º ÏúÑÌï¥ 2Îã®Í≥ÑÎ°ú ÏßÑÌñâ)\n    console.log('üìù Updating employee IDs and emails...')\n\n    // 1Îã®Í≥Ñ: Î™®Îì† ÏÇ¨Î≤àÏùÑ ÏûÑÏãú Î≤àÌò∏Î°ú Î≥ÄÍ≤Ω\n    console.log('üîÑ Step 1: Setting temporary employee IDs...')\n    for (let i = 0; i < updates.length; i++) {\n      const update = updates[i]\n      const tempId = `TEMP${i + 1}`\n      await query(\n        `\n\t\t\t\tUPDATE employees \n\t\t\t\tSET employee_id = $1, updated_at = $2\n\t\t\t\tWHERE id = $3\n\t\t\t`,\n        [tempId, new Date(), update.id]\n      )\n    }\n\n    // 2Îã®Í≥Ñ: ÏµúÏ¢Ö ÏÇ¨Î≤àÍ≥º Ïù¥Î©îÏùºÎ°ú ÏóÖÎç∞Ïù¥Ìä∏\n    console.log('üîÑ Step 2: Setting final employee IDs and emails...')\n    for (const update of updates) {\n      await query(\n        `\n\t\t\t\tUPDATE employees \n\t\t\t\tSET employee_id = $1, email = $2, updated_at = $3\n\t\t\t\tWHERE id = $4\n\t\t\t`,\n        [update.newEmployeeId, update.newEmail, new Date(), update.id]\n      )\n\n      console.log(\n        `‚úÖ ${update.name}: ${update.oldEmployeeId} ‚Üí ${update.newEmployeeId}, ${update.oldEmail} ‚Üí ${update.newEmail}`\n      )\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('\\nüîç Verifying updates...')\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\temployee_id, first_name, last_name, email, hire_date, department, position\n\t\t\tFROM employees \n\t\t\tORDER BY employee_id ASC\n\t\t`)\n\n    console.log('üìã Updated employee list:')\n    result.rows.forEach(row => {\n      const statusIcon = row.employee_id.startsWith('10') ? 'üü¢' : 'üî¥'\n      console.log(\n        `${statusIcon} ${row.employee_id}: ${row.last_name}${row.first_name} (${row.email}) - ${row.department} ${row.position}`\n      )\n    })\n\n    // Ïù¥Î©îÏùº ÎèÑÎ©îÏù∏ ÌôïÏù∏\n    const emailDomains = await query(`\n\t\t\tSELECT \n\t\t\t\tSUBSTRING(email FROM '@(.+)$') as domain,\n\t\t\t\tCOUNT(*) as count\n\t\t\tFROM employees \n\t\t\tGROUP BY SUBSTRING(email FROM '@(.+)$')\n\t\t`)\n\n    console.log('\\nüìß Email domain summary:')\n    emailDomains.rows.forEach(row => {\n      console.log(`  ${row.domain}: ${row.count}Î™Ö`)\n    })\n\n    console.log('\\n‚úÖ Employee ID and email update completed successfully!')\n  } catch (error) {\n    console.error('‚ùå Employee ID and email update failed:', error)\n    throw error\n  }\n}\n\n// Run the update\nupdateEmployeeIdsAndEmails()\n  .then(() => {\n    console.log('üéâ Employee ID and email update completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Employee ID and email update failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-employee-job-titles.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 51,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 51,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 55,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 55,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 62,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 62,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 66,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 66,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 73,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 73,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 99,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 99,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 103,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 103,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 109,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 109,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 115,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 115,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 120,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 120,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 124,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 124,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 140,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 140,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 149,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 149,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 156,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 156,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 162,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 162,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 169,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 169,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 171,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 171,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setTimeout' is not defined.",
        "line": 175,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 175,
        "endColumn": 44
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 178,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 178,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 179,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 179,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 180,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 180,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 181,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 181,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 184,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 184,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 23,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Node.js ÎÇ¥Ïû• fetch ÏÇ¨Ïö©\n\nconst API_BASE = 'http://localhost:5173/api'\n\n// ÏßÅÍ∏â Îß§Ìïë ÌÖåÏù¥Î∏î\nconst positionToJobTitleMap = {\n  // ÏûÑÏõêÍ∏â\n  CEO: 'CEO',\n  CFO: 'CFO',\n  CTO: 'CTO',\n  ÎåÄÌëúÏù¥ÏÇ¨: 'CEO',\n  Ïû¨Î¨¥Ïù¥ÏÇ¨: 'CFO',\n  Í∏∞Ïà†Ïù¥ÏÇ¨: 'CTO',\n  Ïó∞Íµ¨ÏÜåÏû•: 'CTO',\n  ÏÉÅÎ¨¥: 'Managing Director',\n\n  // Í¥ÄÎ¶¨ÏßÅ\n  Ïù¥ÏÇ¨: 'Director',\n  Î∂ÄÏû•: 'Senior Manager',\n  Í≥ºÏû•: 'Manager',\n  ÌåÄÏû•: 'Team Lead',\n  'Team Lead': 'Team Lead',\n\n  // ÏùºÎ∞òÏßÅ\n  ÏÑ†ÏûÑÏó∞Íµ¨Ïõê: 'Senior Manager',\n  Ï±ÖÏûÑÏó∞Íµ¨Ïõê: 'Manager',\n  Ï£ºÏûÑÏó∞Íµ¨Ïõê: 'Manager',\n  Ïó∞Íµ¨Ïõê: 'Manager',\n  ÏÑ†ÏûÑÎîîÏûêÏù¥ÎÑà: 'Manager',\n  ÎîîÏûêÏù¥ÎÑà: 'Manager',\n  ÌñâÏ†ïÏõê: 'Manager',\n  Ï£ºÏûÑ: 'Manager',\n  ÎåÄÎ¶¨: 'Manager',\n  ÏÇ¨Ïõê: 'Manager',\n\n  // ÌäπÏàòÏßÅ\n  Ï†ÑÎûµÍ∏∞ÌöçÏã§: 'Manager',\n  Ïù∏ÏÇ¨Îã¥Îãπ: 'Manager',\n  Í≤ΩÏòÅÏßÄÏõêÎã¥Îãπ: 'Manager',\n  ÌöåÍ≥ÑÎã¥Îãπ: 'Manager',\n  Ï¥ùÎ¨¥Îã¥Îãπ: 'Manager',\n  ÌöåÍ≥ÑÌåÄÏû•: 'Team Lead',\n  Ï¥ùÎ¨¥ÌåÄÏû•: 'Team Lead',\n  Ïù∏ÏÇ¨ÌåÄÏû•: 'Team Lead',\n  Í≤ΩÏòÅÏßÄÏõêÌåÄÏû•: 'Team Lead',\n  ÎåÄÌëú: 'CEO'\n}\n\nasync function getJobTitles() {\n  try {\n    const response = await fetch(`${API_BASE}/job-titles`)\n    const result = await response.json()\n    return result.data || []\n  } catch (error) {\n    console.error('Error fetching job titles:', error)\n    return []\n  }\n}\n\nasync function getEmployees() {\n  try {\n    const response = await fetch(`${API_BASE}/employees?status=all`)\n    const result = await response.json()\n    return result.data || []\n  } catch (error) {\n    console.error('Error fetching employees:', error)\n    return []\n  }\n}\n\nasync function updateEmployeeJobTitle(employee, jobTitleId) {\n  try {\n    const response = await fetch(`${API_BASE}/employees`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: employee.id,\n        job_title_id: jobTitleId,\n        // Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Ïú†ÏßÄ\n        first_name: employee.first_name,\n        last_name: employee.last_name,\n        email: employee.email,\n        department: employee.department,\n        position: employee.position,\n        salary: employee.salary || 0,\n        phone: employee.phone || '',\n        hire_date: employee.hire_date,\n        birth_date: employee.birth_date,\n        termination_date: employee.termination_date,\n        status: employee.status,\n        employment_type: employee.employment_type || 'full-time'\n      })\n    })\n\n    const result = await response.json()\n    if (!result.success) {\n      console.log(`‚ùå API Ïò§Î•ò: ${result.error}`)\n    }\n    return result.success\n  } catch (error) {\n    console.error('Error updating employee:', error)\n    return false\n  }\n}\n\nasync function main() {\n  console.log('üîÑ ÏßÅÏõê ÏßÅÍ∏â Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÏûë...')\n\n  const jobTitles = await getJobTitles()\n  const employees = await getEmployees()\n\n  if (jobTitles.length === 0) {\n    console.error('‚ùå ÏßÅÍ∏â Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  if (employees.length === 0) {\n    console.error('‚ùå ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  console.log(`üìä Ï¥ù ${employees.length}Î™ÖÏùò ÏßÅÏõê, ${jobTitles.length}Í∞úÏùò ÏßÅÍ∏â Î∞úÍ≤¨`)\n\n  // ÏßÅÍ∏â Ïù¥Î¶ÑÏúºÎ°ú ID Îß§Ìïë\n  const jobTitleMap = {}\n  jobTitles.forEach(jt => {\n    jobTitleMap[jt.name] = jt.id\n  })\n\n  let updatedCount = 0\n  let skippedCount = 0\n\n  for (const employee of employees) {\n    const position = employee.position\n    const jobTitleName = positionToJobTitleMap[position]\n\n    if (!jobTitleName) {\n      console.log(\n        `‚ö†Ô∏è  Îß§ÌïëÎêòÏßÄ ÏïäÏùÄ ÏßÅÍ∏â: ${employee.first_name} ${employee.last_name} - ${position}`\n      )\n      skippedCount++\n      continue\n    }\n\n    const jobTitleId = jobTitleMap[jobTitleName]\n    if (!jobTitleId) {\n      console.log(`‚ö†Ô∏è  ÏßÅÍ∏â IDÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏùå: ${jobTitleName}`)\n      skippedCount++\n      continue\n    }\n\n    // Ïù¥ÎØ∏ Ïò¨Î∞îÎ•∏ ÏßÅÍ∏âÏù¥ ÏÑ§Ï†ïÎêòÏñ¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n    if (employee.job_title_id === jobTitleId) {\n      console.log(\n        `‚úÖ Ïù¥ÎØ∏ Ïò¨Î∞îÎ•∏ ÏßÅÍ∏â: ${employee.first_name} ${employee.last_name} - ${position} ‚Üí ${jobTitleName}`\n      )\n      continue\n    }\n\n    console.log(\n      `üîÑ ÏóÖÎç∞Ïù¥Ìä∏ Ï§ë: ${employee.first_name} ${employee.last_name} - ${position} ‚Üí ${jobTitleName}`\n    )\n\n    const success = await updateEmployeeJobTitle(employee, jobTitleId)\n    if (success) {\n      updatedCount++\n      console.log(`‚úÖ ÏÑ±Í≥µ: ${employee.first_name} ${employee.last_name}`)\n    } else {\n      console.log(`‚ùå Ïã§Ìå®: ${employee.first_name} ${employee.last_name}`)\n    }\n\n    // API Ìò∏Ï∂ú Í∞ÑÍ≤© Ï°∞Ï†à\n    await new Promise(resolve => setTimeout(resolve, 100))\n  }\n\n  console.log('\\nüìà ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å!')\n  console.log(`‚úÖ ÏóÖÎç∞Ïù¥Ìä∏Îêú ÏßÅÏõê: ${updatedCount}Î™Ö`)\n  console.log(`‚ö†Ô∏è  Í±¥ÎÑàÎõ¥ ÏßÅÏõê: ${skippedCount}Î™Ö`)\n  console.log(`üìä Ï¥ù Ï≤òÎ¶¨Îêú ÏßÅÏõê: ${updatedCount + skippedCount}Î™Ö`)\n}\n\nmain().catch(console.error)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-employee-positions.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 15,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 15,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 25,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 25,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 42,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 48,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 48,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 57,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 57,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 60,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 60,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 66,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 66,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 92,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 92,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 99,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 99,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 107,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 107,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 108,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 108,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 111,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 111,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 112,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 112,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 14,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\n// ÏßÅÏõêÎ≥Ñ ÏßÅÏ±Ö ÏóÖÎç∞Ïù¥Ìä∏ Îß§Ìïë\nconst positionUpdates = [\n  // Ïó∞Íµ¨ÏÜåÏû•\n  { employeeId: '1021', newPosition: 'Ïó∞Íµ¨ÏÜåÏû•' }, // Ï∞®ÏßÄÏùÄ\n\n  // ÏÉÅÎ¨¥ (Í≤ΩÏòÅÍ∏∞ÌöçÌåÄÏùò Í≥†ÏúÑÏßÅÎì§ÏùÑ ÏÉÅÎ¨¥Î°ú ÏäπÍ≤©)\n  { employeeId: '1001', newPosition: 'ÏÉÅÎ¨¥' }, // Î∞ïÍ∏∞ÏÑ† (ÎåÄÌëúÏù¥ÏÇ¨ ‚Üí ÏÉÅÎ¨¥)\n  { employeeId: '1002', newPosition: 'ÏÉÅÎ¨¥' } // ÌïúÏäπÌõà (Í≤ΩÏòÅÍ∏∞ÌöçÌåÄÏû• ‚Üí ÏÉÅÎ¨¥)\n]\n\nasync function updateEmployeePositions() {\n  try {\n    console.log('üîÑ Updating employee positions...')\n\n    for (const update of positionUpdates) {\n      // ÏßÅÏõê Ï†ïÎ≥¥ Ï°∞Ìöå\n      const employeeResult = await query(\n        'SELECT id, first_name, last_name, department, position FROM employees WHERE employee_id = $1',\n        [update.employeeId]\n      )\n\n      if (employeeResult.rows.length === 0) {\n        console.log(`‚ö†Ô∏è  Employee with ID ${update.employeeId} not found`)\n        continue\n      }\n\n      const employee = employeeResult.rows[0]\n      const oldPosition = employee.position\n\n      // ÏßÅÏ±Ö ÏóÖÎç∞Ïù¥Ìä∏\n      await query(\n        `\n\t\t\t\tUPDATE employees \n\t\t\t\tSET position = $1, updated_at = $2\n\t\t\t\tWHERE employee_id = $3\n\t\t\t`,\n        [update.newPosition, new Date(), update.employeeId]\n      )\n\n      console.log(\n        `‚úÖ Updated ${employee.last_name}${employee.first_name} (${update.employeeId}): ${oldPosition} ‚Üí ${update.newPosition}`\n      )\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('\\nüîç Verifying position updates...')\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\temployee_id, first_name, last_name, department, position, status\n\t\t\tFROM employees \n\t\t\tWHERE position IN ('Ïó∞Íµ¨ÏÜåÏû•', 'ÏÉÅÎ¨¥')\n\t\t\tORDER BY position, employee_id\n\t\t`)\n\n    console.log('üìã Updated executive positions:')\n    result.rows.forEach(row => {\n      const statusIcon = row.status === 'active' ? 'üü¢' : 'üî¥'\n      console.log(\n        `  ${statusIcon} ${row.employee_id}: ${row.last_name}${row.first_name} - ${row.position} (${row.department})`\n      )\n    })\n\n    // Ï†ÑÏ≤¥ ÏßÅÍ∏â Î∂ÑÌè¨ ÌôïÏù∏\n    console.log('\\nüìä Position distribution:')\n    const positionStats = await query(`\n\t\t\tSELECT \n\t\t\t\tposition,\n\t\t\t\tCOUNT(*) as count,\n\t\t\t\tCOUNT(CASE WHEN status = 'active' THEN 1 END) as active_count,\n\t\t\t\tCOUNT(CASE WHEN status = 'terminated' THEN 1 END) as terminated_count\n\t\t\tFROM employees \n\t\t\tGROUP BY position\n\t\t\tORDER BY \n\t\t\t\tCASE position\n\t\t\t\t\tWHEN 'ÏÉÅÎ¨¥' THEN 1\n\t\t\t\t\tWHEN 'Ïó∞Íµ¨ÏÜåÏû•' THEN 2\n\t\t\t\t\tWHEN 'ÎåÄÌëúÏù¥ÏÇ¨' THEN 3\n\t\t\t\t\tWHEN 'Ïû¨Î¨¥Ïù¥ÏÇ¨' THEN 4\n\t\t\t\t\tWHEN 'PSRÌåÄÏû•' THEN 5\n\t\t\t\t\tWHEN 'Í≤ΩÏòÅÍ∏∞ÌöçÌåÄÏû•' THEN 6\n\t\t\t\t\tWHEN 'Í≤ΩÏòÅÏßÄÏõêÌåÄÏû•' THEN 7\n\t\t\t\t\tWHEN 'ÏÑ†ÏûÑÏó∞Íµ¨Ïõê' THEN 8\n\t\t\t\t\tWHEN 'Ïó∞Íµ¨Ïõê' THEN 9\n\t\t\t\t\tELSE 10\n\t\t\t\tEND,\n\t\t\t\tposition\n\t\t`)\n\n    positionStats.rows.forEach(row => {\n      console.log(\n        `  ${row.position}: ${row.count}Î™Ö (Ïû¨ÏßÅ: ${row.active_count}Î™Ö, Ìá¥ÏÇ¨: ${row.terminated_count}Î™Ö)`\n      )\n    })\n\n    console.log('\\n‚úÖ Employee position updates completed successfully!')\n  } catch (error) {\n    console.error('‚ùå Failed to update employee positions:', error)\n    throw error\n  }\n}\n\n// Run the script\nupdateEmployeePositions()\n  .then(() => {\n    console.log('üéâ Employee position updates completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Employee position updates failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-position-name.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 5,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 5,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 20,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 23,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 23,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 25,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 25,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 29,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 29,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 38,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 38,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 40,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 40,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 43,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 43,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 45,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 45,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 53,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 53,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 54,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 54,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 57,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 57,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'process' is not defined.",
        "line": 58,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 58,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 13,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '../src/lib/database/connection.ts'\n\nasync function updatePositionName() {\n  try {\n    console.log('üîÑ Updating position name: Ïó∞Íµ¨ÏÜåÏû• (PSR) ‚Üí Ïó∞Íµ¨ÏÜåÏû•...')\n\n    // Ïó∞Íµ¨ÏÜåÏû• (PSRÌåÄ) ÏßÅÍ∏âÎ™ÖÏùÑ Ïó∞Íµ¨ÏÜåÏû•ÏúºÎ°ú Î≥ÄÍ≤Ω\n    const result = await query(\n      `\n\t\t\tUPDATE positions \n\t\t\tSET name = 'Ïó∞Íµ¨ÏÜåÏû•', updated_at = $1\n\t\t\tWHERE name = 'Ïó∞Íµ¨ÏÜåÏû• (PSRÌåÄ)'\n\t\t\tRETURNING id, name, description, department, level\n\t\t`,\n      [new Date()]\n    )\n\n    if (result.rows.length > 0) {\n      const position = result.rows[0]\n      console.log(\n        `‚úÖ Updated position: ${position.name} (${position.department}) - Level ${position.level}`\n      )\n      console.log(`   Description: ${position.description}`)\n    } else {\n      console.log('‚ö†Ô∏è  No position found with name \"Ïó∞Íµ¨ÏÜåÏû• (PSR)\"')\n    }\n\n    // Í≤∞Í≥º ÌôïÏù∏\n    console.log('\\nüîç Verifying position update...')\n    const verifyResult = await query(`\n\t\t\tSELECT \n\t\t\t\tname, description, department, level, status\n\t\t\tFROM positions \n\t\t\tWHERE name = 'Ïó∞Íµ¨ÏÜåÏû•'\n\t\t\tORDER BY department, level DESC\n\t\t`)\n\n    console.log('üìã Updated position:')\n    verifyResult.rows.forEach(row => {\n      console.log(`  ${row.name} (${row.department}) - Level ${row.level}: ${row.description}`)\n    })\n\n    console.log('\\n‚úÖ Position name update completed successfully!')\n  } catch (error) {\n    console.error('‚ùå Failed to update position name:', error)\n    throw error\n  }\n}\n\n// Run the script\nupdatePositionName()\n  .then(() => {\n    console.log('üéâ Position name update completed successfully!')\n    process.exit(0)\n  })\n  .catch(error => {\n    console.error('üí• Position name update failed:', error)\n    process.exit(1)\n  })\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/scripts/update-terminated-employees.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 7,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 7,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 11,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 11,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 18,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 18,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 22,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 22,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'fetch' is not defined.",
        "line": 29,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 29,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 55,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 55,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 59,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 59,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 65,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 65,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 71,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 71,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 76,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 76,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 83,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 83,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 86,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 86,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 93,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 93,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 97,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 97,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 103,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 103,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 110,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 110,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 112,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 112,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setTimeout' is not defined.",
        "line": 117,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 117,
        "endColumn": 44
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 120,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 120,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 121,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 121,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 122,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 122,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 123,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 123,
        "endColumn": 10
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 126,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 126,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 23,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Node.js ÎÇ¥Ïû• fetch ÏÇ¨Ïö©\n\nconst API_BASE = 'http://localhost:5173/api'\n\nasync function getEmployees() {\n  try {\n    const response = await fetch(`${API_BASE}/employees?status=all`)\n    const result = await response.json()\n    return result.data || []\n  } catch (error) {\n    console.error('Error fetching employees:', error)\n    return []\n  }\n}\n\nasync function getJobTitles() {\n  try {\n    const response = await fetch(`${API_BASE}/job-titles`)\n    const result = await response.json()\n    return result.data || []\n  } catch (error) {\n    console.error('Error fetching job titles:', error)\n    return []\n  }\n}\n\nasync function updateTerminatedEmployee(employee, jobTitleId) {\n  try {\n    const response = await fetch(`${API_BASE}/employees`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: employee.id,\n        department: 'Î∂ÄÏÑúÏóÜÏùå',\n        job_title_id: jobTitleId,\n        // Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Ïú†ÏßÄ\n        first_name: employee.first_name,\n        last_name: employee.last_name,\n        email: employee.email,\n        position: employee.position,\n        salary: employee.salary || 0,\n        phone: employee.phone || '',\n        hire_date: employee.hire_date,\n        birth_date: employee.birth_date,\n        termination_date: employee.termination_date,\n        status: employee.status,\n        employment_type: employee.employment_type || 'full-time'\n      })\n    })\n\n    const result = await response.json()\n    if (!result.success) {\n      console.log(`‚ùå API Ïò§Î•ò: ${result.error}`)\n    }\n    return result.success\n  } catch (error) {\n    console.error('Error updating employee:', error)\n    return false\n  }\n}\n\nasync function main() {\n  console.log('üîÑ Ìá¥ÏÇ¨Ìïú ÏßÅÏõê Ï†ïÎ≥¥ Ï†ïÎ¶¨ ÏãúÏûë...')\n\n  const employees = await getEmployees()\n  const jobTitles = await getJobTitles()\n\n  if (employees.length === 0) {\n    console.error('‚ùå ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  if (jobTitles.length === 0) {\n    console.error('‚ùå ÏßÅÍ∏â Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  // Ìá¥ÏÇ¨Ìïú ÏßÅÏõêÎì§ ÌïÑÌÑ∞ÎßÅ\n  const terminatedEmployees = employees.filter(emp => emp.status === 'terminated')\n\n  console.log(`üìä Ï¥ù ${employees.length}Î™ÖÏùò ÏßÅÏõê Ï§ë Ìá¥ÏÇ¨Ìïú ÏßÅÏõê: ${terminatedEmployees.length}Î™Ö`)\n\n  if (terminatedEmployees.length === 0) {\n    console.log('‚úÖ Ìá¥ÏÇ¨Ìïú ÏßÅÏõêÏù¥ ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  // \"Ïó∞Íµ¨Ïõê\" ÏßÅÍ∏â ID Ï∞æÍ∏∞\n  const researcherJobTitle = jobTitles.find(jt => jt.name === 'Manager') // ManagerÍ∞Ä Ïó∞Íµ¨ÏõêÏóê Ìï¥Îãπ\n  if (!researcherJobTitle) {\n    console.error('‚ùå Ïó∞Íµ¨Ïõê ÏßÅÍ∏âÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')\n    return\n  }\n\n  console.log(`üìã Ïó∞Íµ¨Ïõê ÏßÅÍ∏â ID: ${researcherJobTitle.id} (${researcherJobTitle.name})`)\n\n  let updatedCount = 0\n  let skippedCount = 0\n\n  for (const employee of terminatedEmployees) {\n    console.log(\n      `üîÑ ÏóÖÎç∞Ïù¥Ìä∏ Ï§ë: ${employee.first_name} ${employee.last_name} - Î∂ÄÏÑú: ${employee.department} ‚Üí Î∂ÄÏÑúÏóÜÏùå, ÏßÅÍ∏â: ${employee.job_title_name || 'null'} ‚Üí Ïó∞Íµ¨Ïõê`\n    )\n\n    const success = await updateTerminatedEmployee(employee, researcherJobTitle.id)\n    if (success) {\n      updatedCount++\n      console.log(`‚úÖ ÏÑ±Í≥µ: ${employee.first_name} ${employee.last_name}`)\n    } else {\n      console.log(`‚ùå Ïã§Ìå®: ${employee.first_name} ${employee.last_name}`)\n      skippedCount++\n    }\n\n    // API Ìò∏Ï∂ú Í∞ÑÍ≤© Ï°∞Ï†à\n    await new Promise(resolve => setTimeout(resolve, 100))\n  }\n\n  console.log('\\nüìà ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å!')\n  console.log(`‚úÖ ÏóÖÎç∞Ïù¥Ìä∏Îêú ÏßÅÏõê: ${updatedCount}Î™Ö`)\n  console.log(`‚ö†Ô∏è  Ïã§Ìå®Ìïú ÏßÅÏõê: ${skippedCount}Î™Ö`)\n  console.log(`üìä Ï¥ù Ï≤òÎ¶¨Îêú ÏßÅÏõê: ${updatedCount + skippedCount}Î™Ö`)\n}\n\nmain().catch(console.error)\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/app.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/hooks.client.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'logger' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 16
      },
      {
        "ruleId": "unused-imports/no-unused-imports",
        "severity": 2,
        "message": "'logger' is defined but never used.",
        "line": 2,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 16,
        "fix": { "range": [43, 88], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 1,
    "fixableWarningCount": 0,
    "source": "import { config } from '$lib/utils/config'\nimport { logger } from '$lib/utils/logger';\n\nfunction shouldLog(level: 'debug' | 'info' | 'warn' | 'error'): boolean {\n  const order = ['debug', 'info', 'warn', 'error']\n  return order.indexOf(level) >= order.indexOf(config.logLevel)\n}\n\n// Global error handlers (safe outside components)\nwindow.addEventListener('error', _ev => {\n  if (shouldLog('error')) {\n    // logger.error('[error]', ev.error || ev.message)\n  }\n})\nwindow.addEventListener('unhandledrejection', _ev => {\n  if (shouldLog('error')) {\n    // logger.error('[unhandledrejection]', ev.reason)\n  }\n})\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/hooks.server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/auth/middleware.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'logger' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 6,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 16
      },
      {
        "ruleId": "unused-imports/no-unused-imports",
        "severity": 2,
        "message": "'logger' is defined but never used.",
        "line": 6,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 16,
        "fix": { "range": [254, 299], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 1,
    "fixableWarningCount": 0,
    "source": "import { DatabaseService, query } from '$lib/database/connection'\nimport { config } from '$lib/utils/config'\nimport type { RequestEvent, RequestHandler } from '@sveltejs/kit'\nimport { error, redirect } from '@sveltejs/kit'\nimport jwt from 'jsonwebtoken'\nimport { logger } from '$lib/utils/logger';\n\n// JWT token interface\nexport interface JWTPayload {\n  userId: string\n  email: string\n  role: string\n  iat?: number\n  exp?: number\n}\n\n// Authentication middleware\nexport function authenticate(requiredRoles?: string[]): RequestHandler {\n  return async (event: RequestEvent): Promise<Response> => {\n    const { request, cookies, url } = event\n    try {\n      // Get token from Authorization header or cookies\n      let token: string | null = null\n\n      const authHeader = request.headers.get('authorization')\n      if (authHeader && authHeader.startsWith('Bearer ')) {\n        token = authHeader.substring(7)\n      } else {\n        token = cookies.get('auth_token') || null\n      }\n\n      if (!token) {\n        if (url.pathname.startsWith('/api/')) {\n          return error(401, { message: 'Authentication required' })\n        } else {\n          throw redirect(302, '/login')\n        }\n      }\n\n      // Verify JWT token\n      const payload = jwt.verify(token, config.jwt.secret) as JWTPayload\n\n      // Get user from database\n      const user = await DatabaseService.getUserById(payload.userId)\n      if (!user || !user.is_active) {\n        if (url.pathname.startsWith('/api/')) {\n          return error(401, { message: 'Invalid or inactive user' })\n        } else {\n          throw redirect(302, '/login')\n        }\n      }\n\n      // Check role permissions\n      if (requiredRoles && !requiredRoles.includes(user.role)) {\n        if (url.pathname.startsWith('/api/')) {\n          return error(403, { message: 'Insufficient permissions' })\n        } else {\n          throw redirect(302, '/unauthorized')\n        }\n      }\n\n      // Add user to request context\n      ;(request as Record<string, unknown>).user = user\n\n      return new Response() // Continue to the next handler\n    } catch {\n      // logger.error('Authentication error:', err)\n\n      if (url.pathname.startsWith('/api/')) {\n        return error(401, { message: 'Invalid token' })\n      } else {\n        throw redirect(302, '/login')\n      }\n    }\n  }\n}\n\n// Role-based access control\nexport const ROLES = {\n  ADMIN: 'ADMIN',\n  MANAGER: 'MANAGER',\n  EMPLOYEE: 'EMPLOYEE',\n  VIEWER: 'VIEWER'\n} as const\n\nexport const PERMISSIONS = {\n  // User management\n  CREATE_USER: 'CREATE_USER',\n  READ_USER: 'READ_USER',\n  UPDATE_USER: 'UPDATE_USER',\n  DELETE_USER: 'DELETE_USER',\n\n  // Project management\n  CREATE_PROJECT: 'CREATE_PROJECT',\n  READ_PROJECT: 'READ_PROJECT',\n  UPDATE_PROJECT: 'UPDATE_PROJECT',\n  DELETE_PROJECT: 'DELETE_PROJECT',\n\n  // Expense management\n  CREATE_EXPENSE: 'CREATE_EXPENSE',\n  READ_EXPENSE: 'READ_EXPENSE',\n  UPDATE_EXPENSE: 'UPDATE_EXPENSE',\n  DELETE_EXPENSE: 'DELETE_EXPENSE',\n  APPROVE_EXPENSE: 'APPROVE_EXPENSE',\n\n  // Company management\n  CREATE_COMPANY: 'CREATE_COMPANY',\n  READ_COMPANY: 'READ_COMPANY',\n  UPDATE_COMPANY: 'UPDATE_COMPANY',\n  DELETE_COMPANY: 'DELETE_COMPANY',\n\n  // Financial data\n  READ_FINANCIAL: 'READ_FINANCIAL',\n  UPDATE_FINANCIAL: 'UPDATE_FINANCIAL',\n\n  // Reports\n  READ_REPORTS: 'READ_REPORTS',\n  CREATE_REPORTS: 'CREATE_REPORTS',\n\n  // Audit\n  READ_AUDIT: 'READ_AUDIT'\n} as const\n\n// Role-permission mapping\nexport const ROLE_PERMISSIONS: Record<string, string[]> = {\n  [ROLES.ADMIN]: Object.values(PERMISSIONS),\n  [ROLES.MANAGER]: [\n    PERMISSIONS.READ_USER,\n    PERMISSIONS.CREATE_PROJECT,\n    PERMISSIONS.READ_PROJECT,\n    PERMISSIONS.UPDATE_PROJECT,\n    PERMISSIONS.CREATE_EXPENSE,\n    PERMISSIONS.READ_EXPENSE,\n    PERMISSIONS.UPDATE_EXPENSE,\n    PERMISSIONS.APPROVE_EXPENSE,\n    PERMISSIONS.CREATE_COMPANY,\n    PERMISSIONS.READ_COMPANY,\n    PERMISSIONS.UPDATE_COMPANY,\n    PERMISSIONS.READ_FINANCIAL,\n    PERMISSIONS.READ_REPORTS,\n    PERMISSIONS.CREATE_REPORTS\n  ],\n  [ROLES.EMPLOYEE]: [\n    PERMISSIONS.READ_PROJECT,\n    PERMISSIONS.CREATE_EXPENSE,\n    PERMISSIONS.READ_EXPENSE,\n    PERMISSIONS.UPDATE_EXPENSE,\n    PERMISSIONS.READ_COMPANY,\n    PERMISSIONS.READ_REPORTS\n  ],\n  [ROLES.VIEWER]: [\n    PERMISSIONS.READ_PROJECT,\n    PERMISSIONS.READ_EXPENSE,\n    PERMISSIONS.READ_COMPANY,\n    PERMISSIONS.READ_REPORTS\n  ]\n}\n\n// Check if user has specific permission\nexport function hasPermission(userRole: string, permission: string): boolean {\n  const rolePermissions = ROLE_PERMISSIONS[userRole] || []\n  return rolePermissions.includes(permission)\n}\n\n// Permission middleware\nexport function requirePermission(permission: string): RequestHandler {\n  return async (event: RequestEvent): Promise<Response> => {\n    const { request } = event\n    const user = (request as Record<string, unknown>).user\n\n    if (!user) {\n      return error(401, { message: 'Authentication required' })\n    }\n\n    if (!hasPermission(user.role, permission)) {\n      return error(403, { message: 'Insufficient permissions' })\n    }\n\n    return new Response()\n  }\n}\n\n// Rate limiting\nconst rateLimitMap = new Map<string, { count: number; resetTime: number }>()\n\nexport function rateLimit(maxRequests: number, windowMs: number): RequestHandler {\n  return async (event: RequestEvent): Promise<Response> => {\n    const { getClientAddress } = event\n    const clientIP = getClientAddress()\n    const now = Date.now()\n\n    // Clean up old entries\n    for (const [key, value] of rateLimitMap.entries()) {\n      if (value.resetTime < now) {\n        rateLimitMap.delete(key)\n      }\n    }\n\n    // Get or create rate limit entry\n    let rateLimitData = rateLimitMap.get(clientIP)\n    if (!rateLimitData || rateLimitData.resetTime < now) {\n      rateLimitData = { count: 0, resetTime: now + windowMs }\n      rateLimitMap.set(clientIP, rateLimitData)\n    }\n\n    // Check rate limit\n    if (rateLimitData.count >= maxRequests) {\n      return new Response(\n        JSON.stringify({\n          message: 'Too many requests'\n        }),\n        {\n          status: 429,\n          headers: {\n            'Content-Type': 'application/json',\n            'Retry-After': Math.ceil((rateLimitData.resetTime - now) / 1000).toString()\n          }\n        }\n      )\n    }\n\n    // Increment counter\n    rateLimitData.count++\n\n    return new Response()\n  }\n}\n\n// Input validation\nexport function validateInput(schema: unknown): RequestHandler {\n  return async (event: RequestEvent): Promise<Response> => {\n    const { request } = event\n    try {\n      const body = await request.json()\n      const validated = schema.parse(body)\n      ;(request as Record<string, unknown>).validatedBody = validated\n      return new Response()\n    } catch {\n      return error(400, { message: 'Invalid input data' })\n    }\n  }\n}\n\n// CORS middleware\nexport function cors(origins: string[] = ['*']): RequestHandler {\n  return async (event: RequestEvent): Promise<Response> => {\n    const { request } = event\n    const origin = request.headers.get('origin')\n\n    if (origins.includes('*') || (origin && origins.includes(origin))) {\n      return new Response(null, {\n        headers: {\n          'Access-Control-Allow-Origin': origin || '*',\n          'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n          'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          'Access-Control-Max-Age': '86400'\n        }\n      })\n    }\n\n    return new Response()\n  }\n}\n\n// Security headers\nexport function securityHeaders(): RequestHandler {\n  return async (_event: RequestEvent): Promise<Response> => {\n    return new Response(null, {\n      headers: {\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'Referrer-Policy': 'strict-origin-when-cross-origin',\n        'Content-Security-Policy':\n          \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;\"\n      }\n    })\n  }\n}\n\n// Audit logging\nexport function auditLog(action: string, entity: string): RequestHandler {\n  return async (event: RequestEvent): Promise<Response> => {\n    const { request } = event\n    const user = (request as Record<string, unknown>).user\n    const clientIP = request.headers.get('x-forwarded-for') || 'unknown'\n    const userAgent = request.headers.get('user-agent') || 'unknown'\n\n    if (user) {\n      try {\n        await query(\n          `INSERT INTO audit_logs (actor_id, action, entity, entity_id, ip_address, user_agent)\n\t\t\t\t\t VALUES ($1, $2, $3, $4, $5, $6)`,\n          [user.id, action, entity, 'unknown', clientIP, userAgent]\n        )\n      } catch {\n        // logger.error('Audit log error:', err)\n      }\n    }\n\n    return new Response()\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/auth/session.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'logger' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 5,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 16
      },
      {
        "ruleId": "unused-imports/no-unused-imports",
        "severity": 2,
        "message": "'logger' is defined but never used.",
        "line": 5,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 16,
        "fix": { "range": [170, 215], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 1,
    "fixableWarningCount": 0,
    "source": "import { browser } from '$app/environment'\nimport type { Writable } from 'svelte/store'\nimport { writable } from 'svelte/store'\nimport type { RequestInit } from 'undici'\nimport { logger } from '$lib/utils/logger';\n\n// User interface\nexport interface User {\n  id: string\n  email: string\n  name: string\n  department?: string\n  position?: string\n  role: string\n  is_active: boolean\n  last_login?: Date\n  created_at: Date\n  updated_at: Date\n}\n\n// Session interface\nexport interface Session {\n  user: User | null\n  token: string | null\n  isAuthenticated: boolean\n  isLoading: boolean\n}\n\n// Initial session state\nconst initialSession: Session = {\n  user: null,\n  token: null,\n  isAuthenticated: false,\n  isLoading: true\n}\n\n// Create session store\nexport const session: Writable<Session> = writable(initialSession)\n\n// Session management functions\nexport class SessionManager {\n  private static instance: SessionManager\n  private sessionStore = session\n\n  private constructor() {\n    // Initialize session from localStorage on client side\n    if (browser) {\n      this.initializeFromStorage()\n    }\n  }\n\n  public static getInstance(): SessionManager {\n    if (!SessionManager.instance) {\n      SessionManager.instance = new SessionManager()\n    }\n    return SessionManager.instance\n  }\n\n  // Initialize session from localStorage\n  private initializeFromStorage(): void {\n    try {\n      if (typeof window === 'undefined') return\n\n      const storedToken = window.localStorage.getItem('auth_token')\n      const storedUser = window.localStorage.getItem('user_data')\n\n      if (storedToken && storedUser) {\n        const user = JSON.parse(storedUser)\n        this.sessionStore.update(session => ({\n          ...session,\n          user,\n          token: storedToken,\n          isAuthenticated: true,\n          isLoading: false\n        }))\n      } else {\n        this.sessionStore.update(session => ({\n          ...session,\n          isLoading: false\n        }))\n      }\n    } catch {\n      // logger.error('Error initializing session from storage:', error)\n      this.clearSession()\n    }\n  }\n\n  // Set session data\n  public setSession(user: User, token: string): void {\n    this.sessionStore.update(session => ({\n      ...session,\n      user,\n      token,\n      isAuthenticated: true,\n      isLoading: false\n    }))\n\n    // Store in localStorage on client side\n    if (browser) {\n      window.localStorage.setItem('auth_token', token)\n      window.localStorage.setItem('user_data', JSON.stringify(user))\n    }\n  }\n\n  // Clear session data\n  public clearSession(): void {\n    this.sessionStore.update(session => ({\n      ...session,\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      isLoading: false\n    }))\n\n    // Remove from localStorage on client side\n    if (browser) {\n      window.localStorage.removeItem('auth_token')\n      window.localStorage.removeItem('user_data')\n    }\n  }\n\n  // Update user data\n  public updateUser(user: Partial<User>): void {\n    this.sessionStore.update(session => {\n      if (session.user) {\n        const updatedUser = { ...session.user, ...user }\n\n        // Update localStorage on client side\n        if (browser) {\n          window.localStorage.setItem('user_data', JSON.stringify(updatedUser))\n        }\n\n        return {\n          ...session,\n          user: updatedUser\n        }\n      }\n      return session\n    })\n  }\n\n  // Get current session\n  public getSession(): Session {\n    let currentSession: Session\n    this.sessionStore.subscribe(session => {\n      currentSession = session\n    })()\n    return currentSession!\n  }\n\n  // Get current user\n  public getCurrentUser(): User | null {\n    return this.getSession().user\n  }\n\n  // Get auth token\n  public getToken(): string | null {\n    return this.getSession().token\n  }\n\n  // Check if user is authenticated\n  public isAuthenticated(): boolean {\n    return this.getSession().isAuthenticated\n  }\n\n  // Check if user has specific role\n  public hasRole(role: string): boolean {\n    const user = this.getCurrentUser()\n    return user?.role === role\n  }\n\n  // Check if user has any of the specified roles\n  public hasAnyRole(roles: string[]): boolean {\n    const user = this.getCurrentUser()\n    return user ? roles.includes(user.role) : false\n  }\n\n  // Check if user is admin\n  public isAdmin(): boolean {\n    return this.hasRole('ADMIN')\n  }\n\n  // Check if user is manager\n  public isManager(): boolean {\n    return this.hasRole('MANAGER')\n  }\n\n  // Check if user is employee\n  public isEmployee(): boolean {\n    return this.hasRole('EMPLOYEE')\n  }\n\n  // Check if user is viewer\n  public isViewer(): boolean {\n    return this.hasRole('VIEWER')\n  }\n\n  // Login function\n  public async login(\n    email: string,\n    password: string\n  ): Promise<{ success: boolean; message?: string }> {\n    try {\n      if (typeof window === 'undefined') {\n        return { success: false, message: 'Client-side only function' }\n      }\n\n      const response = await window.fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n      })\n\n      const data = await response.json()\n\n      if (response.ok && data.success) {\n        this.setSession(data.user, data.token)\n        return { success: true }\n      } else {\n        return { success: false, message: data.message || 'Login failed' }\n      }\n    } catch {\n      // logger.error('Login error:', error)\n      return { success: false, message: 'Network error' }\n    }\n  }\n\n  // Logout function\n  public async logout(): Promise<void> {\n    try {\n      // Call logout API if available\n      if (typeof window !== 'undefined') {\n        await window.fetch('/api/auth/logout', {\n          method: 'POST',\n          headers: {\n            Authorization: `Bearer ${this.getToken()}`,\n            'Content-Type': 'application/json'\n          } as Record<string, string>\n        })\n      }\n    } catch {\n      // logger.error('Logout API error:', error)\n    } finally {\n      this.clearSession()\n    }\n  }\n\n  // Refresh token\n  public async refreshToken(): Promise<boolean> {\n    try {\n      if (typeof window === 'undefined') return false\n\n      const response = await window.fetch('/api/auth/refresh', {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${this.getToken()}`,\n          'Content-Type': 'application/json'\n        } as Record<string, string>\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        if (data.success && data.token) {\n          this.sessionStore.update(session => ({\n            ...session,\n            token: data.token\n          }))\n\n          if (browser) {\n            window.localStorage.setItem('auth_token', data.token)\n          }\n          return true\n        }\n      }\n    } catch {\n      // logger.error('Token refresh error:', error)\n    }\n\n    // If refresh fails, clear session\n    this.clearSession()\n    return false\n  }\n\n  // Make authenticated API request\n  public async apiRequest(url: string, options: RequestInit = {}): Promise<Response> {\n    if (typeof window === 'undefined') {\n      throw new Error('Client-side only function')\n    }\n    const token = this.getToken()\n\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n      ...((options.headers as Record<string, string>) || {})\n    }\n\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`\n    }\n\n    const response = await window.fetch(url, {\n      ...options,\n      headers\n    })\n\n    // Handle token expiration\n    if (response.status === 401) {\n      const refreshed = await this.refreshToken()\n      if (refreshed) {\n        // Retry the request with new token\n        headers['Authorization'] = `Bearer ${this.getToken()}`\n        return window.fetch(url, {\n          ...options,\n          headers\n        })\n      } else {\n        // Redirect to login if refresh fails\n        if (browser) {\n          window.location.href = '/login'\n        }\n      }\n    }\n\n    return response\n  }\n}\n\n// Export singleton instance\nexport const sessionManager = SessionManager.getInstance()\n\n// Helper functions for components\nexport function useSession() {\n  return {\n    subscribe: session.subscribe,\n    login: sessionManager.login.bind(sessionManager),\n    logout: sessionManager.logout.bind(sessionManager),\n    isAuthenticated: sessionManager.isAuthenticated.bind(sessionManager),\n    hasRole: sessionManager.hasRole.bind(sessionManager),\n    hasAnyRole: sessionManager.hasAnyRole.bind(sessionManager),\n    isAdmin: sessionManager.isAdmin.bind(sessionManager),\n    isManager: sessionManager.isManager.bind(sessionManager),\n    isEmployee: sessionManager.isEmployee.bind(sessionManager),\n    isViewer: sessionManager.isViewer.bind(sessionManager),\n    getCurrentUser: sessionManager.getCurrentUser.bind(sessionManager),\n    apiRequest: sessionManager.apiRequest.bind(sessionManager)\n  }\n}\n\n// Reactive stores for common checks\nexport const isAuthenticated = writable(false)\nexport const currentUser = writable<User | null>(null)\nexport const isAdmin = writable(false)\nexport const isManager = writable(false)\n\n// Update reactive stores when session changes\nsession.subscribe(session => {\n  isAuthenticated.set(session.isAuthenticated)\n  currentUser.set(session.user)\n  isAdmin.set(session.user?.role === 'ADMIN')\n  isManager.set(session.user?.role === 'MANAGER')\n})\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/hr/EmployeeModal.svelte",
    "messages": [
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'onclick' should be on a new line.",
        "line": 222,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 222,
        "endColumn": 50,
        "fix": { "range": [5393, 5394], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'type' should be on a new line.",
        "line": 252,
        "column": 30,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 252,
        "endColumn": 41,
        "fix": { "range": [6062, 6063], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 286,
        "column": 37,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 286,
        "endColumn": 69,
        "fix": { "range": [6952, 6953], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 295,
        "column": 35,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 295,
        "endColumn": 65,
        "fix": { "range": [7301, 7302], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 304,
        "column": 32,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 304,
        "endColumn": 59,
        "fix": { "range": [7634, 7635], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 313,
        "column": 41,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 313,
        "endColumn": 77,
        "fix": { "range": [8009, 8010], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'type' should be on a new line.",
        "line": 322,
        "column": 34,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 322,
        "endColumn": 45,
        "fix": { "range": [8392, 8393], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'type' should be on a new line.",
        "line": 326,
        "column": 35,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 326,
        "endColumn": 46,
        "fix": { "range": [8562, 8563], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 349,
        "column": 39,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 349,
        "endColumn": 90,
        "fix": { "range": [9166, 9167], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 377,
        "column": 33,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 377,
        "endColumn": 74,
        "fix": { "range": [9988, 9989], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 395,
        "column": 40,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 395,
        "endColumn": 88,
        "fix": { "range": [10640, 10641], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:value' should be on a new line.",
        "line": 424,
        "column": 35,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 424,
        "endColumn": 63,
        "fix": { "range": [11469, 11470], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'type' should be on a new line.",
        "line": 434,
        "column": 45,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 434,
        "endColumn": 56,
        "fix": { "range": [11920, 11921], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'onclick' should be on a new line.",
        "line": 443,
        "column": 38,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 443,
        "endColumn": 59,
        "fix": { "range": [12127, 12128], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'disabled' should be on a new line.",
        "line": 444,
        "column": 40,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 444,
        "endColumn": 58,
        "fix": { "range": [12224, 12225], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 15,
    "fixableErrorCount": 0,
    "fixableWarningCount": 15,
    "source": "<script lang=\"ts\">\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import type { Employee, EmployeeLevel, EmployeeStatus, EmploymentType } from '$lib/types/hr'\n  import { CalendarIcon, MailIcon, PhoneIcon, SaveIcon, UserIcon, XIcon } from '@lucide/svelte'\n  import { createEventDispatcher } from 'svelte'\n\n  interface Props {\n    open: boolean\n    employee?: Employee | null\n    loading?: boolean\n    departments?: string[]\n    positions?: string[]\n  }\n\n  let { open, employee = null, loading = false, departments = [], positions = [] }: Props = $props()\n\n  const dispatch = createEventDispatcher<{\n    close: void\n    save: Employee\n  }>()\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let formData = $state<Partial<Employee>>({\n    employeeId: '',\n    name: '',\n    email: '',\n    phone: '',\n    department: '',\n    position: '',\n    level: 'mid',\n    employmentType: 'full-time',\n    hireDate: '',\n    birthDate: '',\n    status: 'active',\n    emergencyContact: {\n      name: '',\n      relationship: '',\n      phone: ''\n    },\n    personalInfo: {\n      birthDate: '',\n      gender: 'other',\n      nationality: '',\n      maritalStatus: 'single'\n    }\n  })\n\n  // ÏßÅÏõê Î†àÎ≤® ÏòµÏÖò\n  const levelOptions: { value: EmployeeLevel; label: string }[] = [\n    { value: 'intern', label: 'Ïù∏ÌÑ¥' },\n    { value: 'junior', label: 'Ï£ºÎãàÏñ¥' },\n    { value: 'mid', label: 'ÎØ∏ÎìúÎ†àÎ≤®' },\n    { value: 'senior', label: 'ÏãúÎãàÏñ¥' },\n    { value: 'lead', label: 'Î¶¨Îìú' },\n    { value: 'manager', label: 'Îß§ÎãàÏ†Ä' },\n    { value: 'director', label: 'ÎîîÎ†âÌÑ∞' }\n  ]\n\n  // Í≥†Ïö© ÌòïÌÉú ÏòµÏÖò\n  const employmentTypeOptions: { value: EmploymentType; label: string }[] = [\n    { value: 'full-time', label: 'Ï†ïÍ∑úÏßÅ' },\n    { value: 'part-time', label: 'ÌååÌä∏ÌÉÄÏûÑ' },\n    { value: 'contract', label: 'Í≥ÑÏïΩÏßÅ' },\n    { value: 'intern', label: 'Ïù∏ÌÑ¥' }\n  ]\n\n  // ÏßÅÏõê ÏÉÅÌÉú ÏòµÏÖò\n  const statusOptions: { value: EmployeeStatus; label: string }[] = [\n    { value: 'active', label: 'Ïû¨ÏßÅÏ§ë' },\n    { value: 'inactive', label: 'ÎπÑÌôúÏÑ±' },\n    { value: 'on-leave', label: 'Ìú¥ÏßÅÏ§ë' },\n    { value: 'terminated', label: 'Ìá¥ÏÇ¨' }\n  ]\n\n  // ÏÑ±Î≥Ñ ÏòµÏÖò\n  const genderOptions = [\n    { value: 'male', label: 'ÎÇ®ÏÑ±' },\n    { value: 'female', label: 'Ïó¨ÏÑ±' },\n    { value: 'other', label: 'Í∏∞ÌÉÄ' }\n  ]\n\n  // Í≤∞Ìòº ÏÉÅÌÉú ÏòµÏÖò\n  const maritalStatusOptions = [\n    { value: 'single', label: 'ÎØ∏Ìòº' },\n    { value: 'married', label: 'Í∏∞Ìòº' },\n    { value: 'divorced', label: 'Ïù¥Ìòº' },\n    { value: 'widowed', label: 'ÏÇ¨Î≥Ñ' }\n  ]\n\n  // ÎπÑÏÉÅ Ïó∞ÎùΩÏ≤ò Í¥ÄÍ≥Ñ ÏòµÏÖò\n  const relationshipOptions = [\n    { value: 'spouse', label: 'Î∞∞Ïö∞Ïûê' },\n    { value: 'parent', label: 'Î∂ÄÎ™®' },\n    { value: 'child', label: 'ÏûêÎÖÄ' },\n    { value: 'sibling', label: 'ÌòïÏ†úÏûêÎß§' },\n    { value: 'other', label: 'Í∏∞ÌÉÄ' }\n  ]\n\n  // ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎê† Îïå Ìèº Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî\n  $effect(() => {\n    if (employee) {\n      formData = {\n        ...employee,\n        emergencyContact: employee.emergencyContact || {\n          name: '',\n          relationship: '',\n          phone: ''\n        },\n        personalInfo: employee.personalInfo || {\n          birthDate: '',\n          gender: 'other',\n          nationality: '',\n          maritalStatus: 'single'\n        }\n      }\n    } else {\n      // ÏÉà ÏßÅÏõê Ï∂îÍ∞Ä Ïãú Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\n      formData = {\n        employeeId: '',\n        name: '',\n        email: '',\n        phone: '',\n        department: '',\n        position: '',\n        level: 'mid',\n        employmentType: 'full-time',\n        hireDate: new Date().toISOString().split('T')[0],\n        birthDate: '',\n        status: 'active',\n        emergencyContact: {\n          name: '',\n          relationship: 'spouse',\n          phone: ''\n        },\n        personalInfo: {\n          birthDate: '',\n          gender: 'other',\n          nationality: 'ÌïúÍµ≠',\n          maritalStatus: 'single'\n        }\n      }\n    }\n  })\n\n  // Ìèº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨\n  function validateForm(): boolean {\n    const requiredFields = [\n      'employeeId',\n      'name',\n      'email',\n      'phone',\n      'department',\n      'position',\n      'hireDate'\n    ]\n\n    for (const field of requiredFields) {\n      if (!formData[field as keyof Employee]) {\n        // alert(`${getFieldLabel(field)}ÏùÄ(Îäî) ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.`)\n        return false\n      }\n    }\n\n    // Ïù¥Î©îÏùº ÌòïÏãù Í≤ÄÏÇ¨\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (!emailRegex.test(formData.email!)) {\n      // alert('Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùº ÌòïÏãùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return false\n    }\n\n    // Ï†ÑÌôîÎ≤àÌò∏ ÌòïÏãù Í≤ÄÏÇ¨\n    const phoneRegex = /^[0-9-+\\s()]+$/\n    if (!phoneRegex.test(formData.phone!)) {\n      // alert('Ïò¨Î∞îÎ•∏ Ï†ÑÌôîÎ≤àÌò∏ ÌòïÏãùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return false\n    }\n\n    return true\n  }\n\n  // ÌïÑÎìú ÎùºÎ≤® Í∞ÄÏ†∏Ïò§Í∏∞\n  // function getFieldLabel(field: string): string {\n  //   const labels: Record<string, string> = {\n  //     employeeId: 'ÏÇ¨Î≤à',\n  //     name: 'Ïù¥Î¶Ñ',\n  //     email: 'Ïù¥Î©îÏùº',\n  //     phone: 'Ï†ÑÌôîÎ≤àÌò∏',\n  //     department: 'Î∂ÄÏÑú',\n  //     position: 'ÏßÅÏúÑ',\n  //     hireDate: 'ÏûÖÏÇ¨Ïùº'\n  //   }\n  //   return labels[field] || field\n  // }\n\n  // Ï†ÄÏû• Î≤ÑÌäº ÌÅ¥Î¶≠\n  function handleSave() {\n    if (!validateForm()) return\n\n    const employeeData: Employee = {\n      ...formData,\n      id: employee?.id || `emp_${Date.now()}`,\n      createdAt: employee?.createdAt || new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    } as Employee\n\n    dispatch('save', employeeData)\n  }\n\n  // Îã´Í∏∞ Î≤ÑÌäº ÌÅ¥Î¶≠\n  function handleClose() {\n    dispatch('close')\n  }\n</script>\n\n<ThemeModal {open}>\n  <div>\n    <div>\n      <h2>\n        {employee ? 'ÏßÅÏõê Ï†ïÎ≥¥ ÏàòÏ†ï' : 'ÏÉà ÏßÅÏõê Ï∂îÍ∞Ä'}\n      </h2>\n      <button type=\"button\" onclick={handleClose}>\n        <XIcon size={20} />\n      </button>\n    </div>\n\n    <form\n      onsubmit={e => {\n        e.preventDefault()\n        handleSave()\n      }}\n    >\n      <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏÑπÏÖò -->\n      <div>\n        <h3>\n          <UserIcon size={20} />\n          Í∏∞Î≥∏ Ï†ïÎ≥¥\n        </h3>\n        <div>\n          <div>\n            <label for=\"employeeId\">ÏÇ¨Î≤à *</label>\n            <input\n              id=\"employeeId\"\n              type=\"text\"\n              bind:value={formData.employeeId}\n              placeholder=\"Ïòà: EMP001\"\n              required\n            />\n          </div>\n          <div>\n            <label for=\"name\">Ïù¥Î¶Ñ *</label>\n            <input id=\"name\" type=\"text\" bind:value={formData.name} placeholder=\"ÌôçÍ∏∏Îèô\" required />\n          </div>\n          <div>\n            <label for=\"email\">Ïù¥Î©îÏùº *</label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              bind:value={formData.email}\n              placeholder=\"hong@company.com\"\n              required\n            />\n          </div>\n          <div>\n            <label for=\"phone\">Ï†ÑÌôîÎ≤àÌò∏ *</label>\n            <input\n              id=\"phone\"\n              type=\"tel\"\n              bind:value={formData.phone}\n              placeholder=\"010-1234-5678\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- ÏßÅÎ¨¥ Ï†ïÎ≥¥ ÏÑπÏÖò -->\n      <div>\n        <h3>\n          <CalendarIcon size={20} />\n          ÏßÅÎ¨¥ Ï†ïÎ≥¥\n        </h3>\n        <div>\n          <div>\n            <label for=\"department\">Î∂ÄÏÑú *</label>\n            <select id=\"department\" bind:value={formData.department} required>\n              <option value=\"\">Î∂ÄÏÑú ÏÑ†ÌÉù</option>\n              {#each departments as dept (dept)}\n                <option value={dept}>{dept}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"position\">ÏßÅÏúÑ *</label>\n            <select id=\"position\" bind:value={formData.position} required>\n              <option value=\"\">ÏßÅÏúÑ ÏÑ†ÌÉù</option>\n              {#each positions as pos (pos)}\n                <option value={pos}>{pos}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"level\">Î†àÎ≤®</label>\n            <select id=\"level\" bind:value={formData.level}>\n              <option value=\"\">Î†àÎ≤® ÏÑ†ÌÉù</option>\n              {#each levelOptions as option (option.value)}\n                <option value={option.value}>{option.label}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"employmentType\">Í≥†Ïö© ÌòïÌÉú</label>\n            <select id=\"employmentType\" bind:value={formData.employmentType}>\n              <option value=\"\">Í≥†Ïö© ÌòïÌÉú ÏÑ†ÌÉù</option>\n              {#each employmentTypeOptions as option (option.value)}\n                <option value={option.value}>{option.label}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"hireDate\">ÏûÖÏÇ¨Ïùº *</label>\n            <input id=\"hireDate\" type=\"date\" bind:value={formData.hireDate} required />\n          </div>\n          <div>\n            <label for=\"birthDate\">ÏÉùÎÖÑÏõîÏùº</label>\n            <input id=\"birthDate\" type=\"date\" bind:value={formData.personalInfo.birthDate} />\n          </div>\n        </div>\n      </div>\n\n      <!-- ÎπÑÏÉÅ Ïó∞ÎùΩÏ≤ò ÏÑπÏÖò -->\n      <div>\n        <h3>\n          <PhoneIcon size={20} />\n          ÎπÑÏÉÅ Ïó∞ÎùΩÏ≤ò\n        </h3>\n        <div>\n          <div>\n            <label for=\"emergencyName\">Ïù¥Î¶Ñ</label>\n            <input\n              id=\"emergencyName\"\n              type=\"text\"\n              bind:value={formData.emergencyContact.name}\n              placeholder=\"ÌôçÍ∏∏Ïàú\"\n            />\n          </div>\n          <div>\n            <label for=\"relationship\">Í¥ÄÍ≥Ñ</label>\n            <select id=\"relationship\" bind:value={formData.emergencyContact.relationship}>\n              <option value=\"\">Í¥ÄÍ≥Ñ ÏÑ†ÌÉù</option>\n              {#each relationshipOptions as option (option.value)}\n                <option value={option.value}>{option.label}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"emergencyPhone\">Ï†ÑÌôîÎ≤àÌò∏</label>\n            <input\n              id=\"emergencyPhone\"\n              type=\"tel\"\n              bind:value={formData.emergencyContact.phone}\n              placeholder=\"010-9876-5432\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Í∞úÏù∏ Ï†ïÎ≥¥ ÏÑπÏÖò -->\n      <div>\n        <h3>\n          <UserIcon size={20} />\n          Í∞úÏù∏ Ï†ïÎ≥¥\n        </h3>\n        <div>\n          <div>\n            <label for=\"gender\">ÏÑ±Î≥Ñ</label>\n            <select id=\"gender\" bind:value={formData.personalInfo.gender}>\n              <option value=\"\">ÏÑ±Î≥Ñ ÏÑ†ÌÉù</option>\n              {#each genderOptions as option (option.value)}\n                <option value={option.value}>{option.label}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"nationality\">Íµ≠Ï†Å</label>\n            <input\n              id=\"nationality\"\n              type=\"text\"\n              bind:value={formData.personalInfo.nationality}\n              placeholder=\"ÌïúÍµ≠\"\n            />\n          </div>\n          <div>\n            <label for=\"maritalStatus\">Í≤∞Ìòº ÏÉÅÌÉú</label>\n            <select id=\"maritalStatus\" bind:value={formData.personalInfo.maritalStatus}>\n              <option value=\"\">Í≤∞Ìòº ÏÉÅÌÉú ÏÑ†ÌÉù</option>\n              {#each maritalStatusOptions as option (option.value)}\n                <option value={option.value}>{option.label}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label for=\"address\">Ï£ºÏÜå</label>\n            <input\n              id=\"address\"\n              type=\"text\"\n              bind:value={formData.address}\n              placeholder=\"ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨...\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- ÏÉÅÌÉú Ï†ïÎ≥¥ ÏÑπÏÖò -->\n      {#if employee}\n        <div>\n          <h3>\n            <MailIcon size={20} />\n            ÏÉÅÌÉú Ï†ïÎ≥¥\n          </h3>\n          <div>\n            <div>\n              <label for=\"status\">ÏÉÅÌÉú</label>\n              <select id=\"status\" bind:value={formData.status}>\n                <option value=\"\">ÏÉÅÌÉú ÏÑ†ÌÉù</option>\n                {#each statusOptions as option (option.value)}\n                  <option value={option.value}>{option.label}</option>\n                {/each}\n              </select>\n            </div>\n            {#if formData.status === 'terminated'}\n              <div>\n                <label for=\"terminationDate\">Ìá¥ÏÇ¨Ïùº</label>\n                <input id=\"terminationDate\" type=\"date\" bind:value={formData.terminationDate} />\n              </div>\n            {/if}\n          </div>\n        </div>\n      {/if}\n\n      <!-- Î≤ÑÌäº ÏòÅÏó≠ -->\n      <div>\n        <ThemeButton variant=\"ghost\" onclick={handleClose} disabled={loading}>Ï∑®ÏÜå</ThemeButton>\n        <ThemeButton variant=\"primary\" disabled={loading}>\n          {#if loading}\n            <div></div>\n          {:else}\n            <SaveIcon size={16} />\n          {/if}\n          {employee ? 'ÏàòÏ†ï' : 'Ï∂îÍ∞Ä'}\n        </ThemeButton>\n      </div>\n    </form>\n  </div>\n</ThemeModal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/layout/Header.svelte",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 70,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 70,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 77,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 77,
        "endColumn": 15
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 89,
        "column": 9,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 89,
        "endColumn": 141,
        "fix": { "range": [2467, 2476], "text": " " }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'style:color' should be on a new line.",
        "line": 94,
        "column": 41,
        "nodeType": "SvelteStyleDirective",
        "messageId": "requireNewline",
        "endLine": 94,
        "endColumn": 72,
        "fix": { "range": [2755, 2756], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'style:color' should be on a new line.",
        "line": 95,
        "column": 31,
        "nodeType": "SvelteStyleDirective",
        "messageId": "requireNewline",
        "endLine": 95,
        "endColumn": 72,
        "fix": { "range": [2837, 2838], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:this' should be on a new line.",
        "line": 147,
        "column": 27,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 147,
        "endColumn": 61,
        "fix": { "range": [4453, 4454], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 165,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 165,
        "endColumn": 197,
        "fix": { "range": [5142, 5157], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 181,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 181,
        "endColumn": 134,
        "fix": { "range": [5758, 5771], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 191,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 191,
        "endColumn": 215,
        "fix": { "range": [6264, 6279], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 195,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 195,
        "endColumn": 92,
        "fix": { "range": [6569, 6588], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 199,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 199,
        "endColumn": 153,
        "fix": { "range": [6751, 6772], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 211,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 211,
        "endColumn": 214,
        "fix": { "range": [7296, 7311], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 217,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 217,
        "endColumn": 157,
        "fix": { "range": [7735, 7756], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 229,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 229,
        "endColumn": 192,
        "fix": { "range": [8281, 8296], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 235,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 235,
        "endColumn": 155,
        "fix": { "range": [8697, 8718], "text": " " }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'bind:this' should be on a new line.",
        "line": 260,
        "column": 27,
        "nodeType": "SvelteDirective",
        "messageId": "requireNewline",
        "endLine": 260,
        "endColumn": 56,
        "fix": { "range": [9711, 9712], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 277,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 277,
        "endColumn": 139,
        "fix": { "range": [10399, 10412], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 282,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 282,
        "endColumn": 147,
        "fix": { "range": [10632, 10645], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 287,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 287,
        "endColumn": 136,
        "fix": { "range": [10835, 10848], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 302,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 302,
        "endColumn": 134,
        "fix": { "range": [11321, 11334], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 313,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 313,
        "endColumn": 131,
        "fix": { "range": [11784, 11803], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 329,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 329,
        "endColumn": 181,
        "fix": { "range": [12669, 12686], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 343,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 343,
        "endColumn": 181,
        "fix": { "range": [13465, 13482], "text": " " }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected no linebreak before this attribute.",
        "line": 358,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "unexpected",
        "endLine": 358,
        "endColumn": 183,
        "fix": { "range": [14347, 14364], "text": " " }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 22,
    "fixableErrorCount": 0,
    "fixableWarningCount": 22,
    "source": "<script lang=\"ts\">\n  import ThemeAvatar from '$lib/components/ui/ThemeAvatar.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeDropdown from '$lib/components/ui/ThemeDropdown.svelte'\n  import { isDark, themeManager } from '$lib/stores/theme'\n  import {\n    BellIcon,\n    BuildingIcon,\n    LogOutIcon,\n    MoonIcon,\n    SearchIcon,\n    SettingsIcon,\n    SunIcon,\n    UserIcon\n  } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  // Search and notification state\n  let searchQuery = $state('')\n  let showNotifications = $state(false)\n  let showUserMenu = $state(false)\n  let notificationsContainer: HTMLElement | undefined\n  let userMenuContainer: HTMLElement | undefined\n  let unreadCount = $state(3)\n\n  // Company information\n  let companyName = $state('(Ï£º)ÎπÑÏïÑ')\n  let companyLoading = $state(false)\n\n  // Toggle notifications\n  function toggleNotifications() {\n    showNotifications = !showNotifications\n    showUserMenu = false\n  }\n\n  // Toggle user menu\n  function toggleUserMenu() {\n    showUserMenu = !showUserMenu\n    showNotifications = false\n  }\n\n  // Close dropdowns when clicking outside\n  function handleClickOutside(event: MouseEvent) {\n    if (notificationsContainer && !notificationsContainer.contains(event.target as HTMLElement)) {\n      showNotifications = false\n    }\n    if (userMenuContainer && !userMenuContainer.contains(event.target as HTMLElement)) {\n      showUserMenu = false\n    }\n  }\n\n  onMount(() => {\n    fetchCompanyName()\n    document.addEventListener('click', handleClickOutside)\n    return () => document.removeEventListener('click', handleClickOutside)\n  })\n\n  // ÌöåÏÇ¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n  async function fetchCompanyName() {\n    try {\n      companyLoading = true\n      const response = await window.fetch('/api/company')\n      if (response.ok) {\n        const result = await response.json()\n        if (result.data && result.data.name) {\n          companyName = result.data.name\n        }\n      }\n    } catch (err) {\n      logger.error('Error fetching company name:', err)\n    } finally {\n      companyLoading = false\n    }\n  }\n</script>\n\nimport {logger} from '$lib/utils/logger';\n\n<header\n  class=\"h-16 flex items-center justify-between px-6 border-b\"\n  style:background=\"var(--color-surface)\"\n  style:border-color=\"var(--color-border)\"\n>\n  <!-- Left Section: Logo & Brand -->\n  <div class=\"flex items-center space-x-4\">\n    <!-- Logo -->\n    <div class=\"flex items-center space-x-3\">\n      <div\n        class=\"h-10 w-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 shadow-lg\"\n      >\n        <BuildingIcon class=\"h-6 w-6 text-white\" />\n      </div>\n      <div class=\"flex flex-col\">\n        <span class=\"text-lg font-bold\" style:color=\"var(--color-text)\"> WorkStream </span>\n        <span class=\"text-xs\" style:color=\"var(--color-text-secondary)\">\n          {companyLoading ? 'Î°úÎî© Ï§ë...' : companyName}\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Center Section: Search -->\n  <div class=\"flex-1 max-w-md mx-8\">\n    <div class=\"relative\">\n      <SearchIcon\n        size={16}\n        class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"\n      />\n      <input\n        type=\"search\"\n        placeholder=\"Í≤ÄÏÉâ...\"\n        class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        value={searchQuery}\n        oninput={e => {\n          const target = e.target as HTMLInputElement\n          searchQuery = target?.value || ''\n        }}\n      />\n    </div>\n  </div>\n\n  <!-- Right Section: Actions & User -->\n  <div class=\"flex items-center space-x-3\">\n    <!-- Theme Toggle -->\n    <ThemeButton\n      variant=\"ghost\"\n      size=\"sm\"\n      onclick={() => themeManager.toggleTheme()}\n      class=\"p-3 rounded-xl hover:shadow-lg transition-all duration-300 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 hover:scale-105 group\"\n    >\n      <div class=\"relative\">\n        {#if $isDark}\n          <SunIcon\n            size={22}\n            class=\"transition-transform duration-200 group-hover:scale-110 group-hover:rotate-12\"\n          />\n        {:else}\n          <MoonIcon\n            size={22}\n            class=\"transition-transform duration-200 group-hover:scale-110 group-hover:-rotate-12\"\n          />\n        {/if}\n      </div>\n    </ThemeButton>\n\n    <!-- Notifications -->\n    <div class=\"relative\" bind:this={notificationsContainer}>\n      <ThemeButton\n        variant=\"ghost\"\n        size=\"sm\"\n        onclick={toggleNotifications}\n        class=\"relative p-3 rounded-xl hover:shadow-lg transition-all duration-300 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 hover:scale-105 group {showNotifications\n          ? 'bg-blue-50 dark:bg-blue-900/20'\n          : ''}\"\n      >\n        <div class=\"relative\">\n          <BellIcon\n            size={22}\n            class=\"transition-transform duration-200 {showNotifications\n              ? 'animate-pulse'\n              : 'group-hover:scale-110'}\"\n          />\n          {#if unreadCount > 0}\n            <span\n              class=\"absolute -top-2 -right-2 h-6 w-6 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full flex items-center justify-center font-bold shadow-lg animate-bounce\"\n            >\n              {unreadCount > 9 ? '9+' : unreadCount}\n            </span>\n          {/if}\n        </div>\n      </ThemeButton>\n\n      {#if showNotifications}\n        <ThemeDropdown\n          class=\"absolute top-full right-0 mt-3 w-96 z-50 shadow-2xl border-0\"\n          position=\"top-right\"\n          open={showNotifications}\n          onchange={open => (showNotifications = open)}\n        >\n          <div\n            class=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700\"\n          >\n            <div class=\"flex items-center justify-between\">\n              <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">ÏïåÎ¶º</h3>\n              <span class=\"text-sm text-gray-500 dark:text-gray-400\">{unreadCount}Í∞ú ÏùΩÏßÄ ÏïäÏùå</span\n              >\n            </div>\n          </div>\n          <div class=\"max-h-80 overflow-y-auto\">\n            <div\n              class=\"px-6 py-4 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-gray-800 dark:hover:to-gray-700 border-b border-gray-100 transition-all duration-200 cursor-pointer group\"\n            >\n              <div class=\"flex items-start space-x-3\">\n                <div\n                  class=\"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2 animate-pulse\"\n                ></div>\n                <div class=\"flex-1 min-w-0\">\n                  <p\n                    class=\"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors\"\n                  >\n                    ÏÉàÎ°úÏö¥ ÌîÑÎ°úÏ†ùÌä∏ ÏäπÏù∏ ÏöîÏ≤≠\n                  </p>\n                  <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                    PSRÌåÄÏóêÏÑú ÏÉàÎ°úÏö¥ Ïó∞Íµ¨ ÌîÑÎ°úÏ†ùÌä∏ ÏäπÏù∏ÏùÑ ÏöîÏ≤≠ÌñàÏäµÎãàÎã§.\n                  </p>\n                  <p class=\"text-xs text-gray-400 dark:text-gray-500 mt-2\">2Î∂Ñ Ï†Ñ</p>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"px-6 py-4 hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 dark:hover:from-gray-800 dark:hover:to-gray-700 border-b border-gray-100 transition-all duration-200 cursor-pointer group\"\n            >\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 w-2 h-2 bg-orange-500 rounded-full mt-2\"></div>\n                <div class=\"flex-1 min-w-0\">\n                  <p\n                    class=\"text-sm font-medium text-gray-900 dark:text-white group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors\"\n                  >\n                    ÏõîÍ∞Ñ Î≥¥Í≥†ÏÑú Ï†úÏ∂ú ÎßàÍ∞ê\n                  </p>\n                  <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                    Ïù¥Î≤à Îã¨ Ïó∞Íµ¨ Î≥¥Í≥†ÏÑú Ï†úÏ∂ú ÎßàÍ∞êÏù¥ 3Ïùº ÎÇ®ÏïòÏäµÎãàÎã§.\n                  </p>\n                  <p class=\"text-xs text-gray-400 dark:text-gray-500 mt-2\">1ÏãúÍ∞Ñ Ï†Ñ</p>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"px-6 py-4 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 dark:hover:from-gray-800 dark:hover:to-gray-700 transition-all duration-200 cursor-pointer group\"\n            >\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 w-2 h-2 bg-green-500 rounded-full mt-2\"></div>\n                <div class=\"flex-1 min-w-0\">\n                  <p\n                    class=\"text-sm font-medium text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors\"\n                  >\n                    ÌåÄ ÌöåÏùò ÏùºÏ†ï Î≥ÄÍ≤Ω\n                  </p>\n                  <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                    ÎÇ¥Ïùº Ïò§Ï†Ñ 10Ïãú ÌåÄ ÌöåÏùòÍ∞Ä Ïò§ÌõÑ 2ÏãúÎ°ú Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.\n                  </p>\n                  <p class=\"text-xs text-gray-400 dark:text-gray-500 mt-2\">3ÏãúÍ∞Ñ Ï†Ñ</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"px-6 py-3 border-t border-gray-100 bg-gray-50 dark:bg-gray-800\">\n            <button\n              type=\"button\"\n              class=\"w-full text-center text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors\"\n            >\n              Î™®Îì† ÏïåÎ¶º Î≥¥Í∏∞\n            </button>\n          </div>\n        </ThemeDropdown>\n      {/if}\n    </div>\n\n    <!-- User Profile -->\n    <div class=\"relative\" bind:this={userMenuContainer}>\n      <ThemeButton\n        variant=\"ghost\"\n        size=\"sm\"\n        onclick={toggleUserMenu}\n        class=\"flex items-center space-x-3 p-3 rounded-xl hover:shadow-lg transition-all duration-300 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 hover:scale-105 group {showUserMenu\n          ? 'bg-blue-50 dark:bg-blue-900/20'\n          : ''}\"\n      >\n        <div class=\"relative\">\n          <ThemeAvatar\n            src=\"\"\n            size=\"md\"\n            fallback=\"ÍπÄ\"\n            class=\"ring-2 ring-transparent group-hover:ring-blue-200 dark:group-hover:ring-blue-800 transition-all duration-300\"\n          />\n          <div\n            class=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-gray-900 rounded-full animate-pulse\"\n          ></div>\n        </div>\n        <div class=\"text-left hidden sm:block\">\n          <p\n            class=\"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors\"\n          >\n            ÍπÄÍ∞úÎ∞ú\n          </p>\n          <p\n            class=\"text-xs text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors\"\n          >\n            Í∞úÎ∞úÌåÄ ‚Ä¢ Ïò®ÎùºÏù∏\n          </p>\n        </div>\n      </ThemeButton>\n\n      {#if showUserMenu}\n        <ThemeDropdown\n          class=\"absolute top-full right-0 mt-3 w-72 z-50 shadow-2xl border-0\"\n          position=\"top-right\"\n          open={showUserMenu}\n          onchange={open => (showUserMenu = open)}\n        >\n          <div\n            class=\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700\"\n          >\n            <div class=\"flex items-center space-x-4\">\n              <div class=\"relative\">\n                <ThemeAvatar\n                  src=\"\"\n                  size=\"lg\"\n                  fallback=\"ÍπÄ\"\n                  class=\"ring-4 ring-white dark:ring-gray-700 shadow-lg\"\n                />\n                <div\n                  class=\"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 border-2 border-white dark:border-gray-700 rounded-full\"\n                ></div>\n              </div>\n              <div class=\"flex-1 min-w-0\">\n                <p class=\"text-lg font-semibold text-gray-900 dark:text-white\">ÍπÄÍ∞úÎ∞ú</p>\n                <p class=\"text-sm text-gray-500 dark:text-gray-400\">Í∞úÎ∞úÌåÄ ‚Ä¢ ÏÑ†ÏûÑÏó∞Íµ¨Ïõê</p>\n                <p class=\"text-xs text-green-600 dark:text-green-400 font-medium mt-1\">‚óè Ïò®ÎùºÏù∏</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"py-2\">\n            <a\n              href=\"/profile\"\n              class=\"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-gray-800 dark:hover:to-gray-700 transition-all duration-200 group\"\n            >\n              <div\n                class=\"flex items-center justify-center w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900 mr-3 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors\"\n              >\n                <UserIcon class=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n              </div>\n              <div>\n                <p class=\"font-medium\">ÌîÑÎ°úÌïÑ</p>\n                <p class=\"text-xs text-gray-500 dark:text-gray-400\">Í∞úÏù∏ Ï†ïÎ≥¥ Î∞è ÏÑ§Ï†ï</p>\n              </div>\n            </a>\n            <a\n              href=\"/settings\"\n              class=\"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-gray-50 hover:to-slate-50 dark:hover:from-gray-800 dark:hover:to-gray-700 transition-all duration-200 group\"\n            >\n              <div\n                class=\"flex items-center justify-center w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700 mr-3 group-hover:bg-gray-200 dark:group-hover:bg-gray-600 transition-colors\"\n              >\n                <SettingsIcon class=\"h-4 w-4 text-gray-600 dark:text-gray-400\" />\n              </div>\n              <div>\n                <p class=\"font-medium\">ÏÑ§Ï†ï</p>\n                <p class=\"text-xs text-gray-500 dark:text-gray-400\">Í≥ÑÏ†ï Î∞è ÏãúÏä§ÌÖú ÏÑ§Ï†ï</p>\n              </div>\n            </a>\n            <div class=\"border-t border-gray-100 dark:border-gray-700 my-2\"></div>\n            <a\n              href=\"/logout\"\n              class=\"flex items-center px-6 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 transition-all duration-200 group\"\n            >\n              <div\n                class=\"flex items-center justify-center w-8 h-8 rounded-lg bg-red-100 dark:bg-red-900/30 mr-3 group-hover:bg-red-200 dark:group-hover:bg-red-900/50 transition-colors\"\n              >\n                <LogOutIcon class=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n              </div>\n              <div>\n                <p class=\"font-medium\">Î°úÍ∑∏ÏïÑÏõÉ</p>\n                <p class=\"text-xs text-red-500 dark:text-red-400\">Í≥ÑÏ†ïÏóêÏÑú Î°úÍ∑∏ÏïÑÏõÉ</p>\n              </div>\n            </a>\n          </div>\n        </ThemeDropdown>\n      {/if}\n    </div>\n  </div>\n</header>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/layout/PageLayout.svelte",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 56,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 56,
        "endColumn": 28
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 64,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 64,
        "endColumn": 15
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'subtitle' should be on a new line.",
        "line": 68,
        "column": 28,
        "nodeType": "SvelteShorthandAttribute",
        "messageId": "requireNewline",
        "endLine": 68,
        "endColumn": 38,
        "fix": { "range": [1802, 1803], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'mdCols' should be on a new line.",
        "line": 72,
        "column": 25,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 72,
        "endColumn": 35,
        "fix": { "range": [1905, 1906], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "<script lang=\"ts\">\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeGrid from '$lib/components/ui/ThemeGrid.svelte'\n  import ThemeInput from '$lib/components/ui/ThemeInput.svelte'\n  import ThemePageHeader from '$lib/components/ui/ThemePageHeader.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import ThemeStatCard from '$lib/components/ui/ThemeStatCard.svelte'\n  import { FilterIcon, RefreshCwIcon, SearchIcon, SettingsIcon } from '@lucide/svelte'\n\n  interface Props {\n    title: string\n    subtitle?: string\n    children?: any\n    showSearch?: boolean\n    showFilters?: boolean\n    showActions?: boolean\n    searchPlaceholder?: string\n    actions?: any[]\n    stats?: Array<{\n      title: string\n      value: string | number\n      badge?: string\n      icon?: any\n      href?: string\n      color?: 'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow' | 'indigo' | 'pink'\n    }>\n  }\n\n  let {\n    title,\n    subtitle = '',\n    children,\n    showSearch = true,\n    showFilters = true,\n    showActions = true,\n    searchPlaceholder = 'Í≤ÄÏÉâ...',\n    actions = [],\n    stats = []\n  }: Props = $props()\n\n  let searchTerm = $state('')\n  let selectedFilter = $state('all')\n  let showFiltersDropdown = $state(false)\n\n  const defaultActions = [\n    {\n      label: 'ÏÉàÎ°úÍ≥†Ïπ®',\n      icon: RefreshCwIcon,\n      onclick: () => window.location.reload(),\n      variant: 'ghost' as const\n    },\n    {\n      label: 'ÏÑ§Ï†ï',\n      icon: SettingsIcon,\n      onclick: () => logger.log('Settings clicked'),\n      variant: 'ghost' as const\n    }\n  ]\n\n  const allActions = [...defaultActions, ...actions]\n</script>\n\nimport {logger} from '$lib/utils/logger';\n\n<div>\n  <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->\n  <ThemePageHeader {title} {subtitle} children={undefined} />\n\n  <!-- ÌÜµÍ≥Ñ Ïπ¥ÎìúÎì§ -->\n  {#if stats.length > 0}\n    <ThemeGrid cols={1} mdCols={2} lgCols={4} gap={6}>\n      {#each stats as stat (stat.title)}\n        <ThemeStatCard\n          title={stat.title}\n          value={String(stat.value)}\n          badge={stat.badge}\n          icon={stat.icon}\n          href={stat.href}\n          color={stat.color}\n        />\n      {/each}\n    </ThemeGrid>\n  {/if}\n\n  <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ ÏÑπÏÖò -->\n  {#if showSearch || showFilters || showActions}\n    <ThemeCard class=\"p-4\">\n      <div>\n        <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ -->\n        <div>\n          {#if showSearch}\n            <div>\n              <SearchIcon\n                size={20}\n                class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"\n              />\n              <ThemeInput\n                type=\"text\"\n                placeholder={searchPlaceholder}\n                bind:value={searchTerm}\n                class=\"pl-10\"\n              />\n            </div>\n          {/if}\n\n          {#if showFilters}\n            <div>\n              <ThemeButton\n                variant=\"ghost\"\n                size=\"sm\"\n                onclick={() => (showFiltersDropdown = !showFiltersDropdown)}\n                class=\"flex items-center gap-2\"\n              >\n                <FilterIcon size={16} />\n                ÌïÑÌÑ∞\n              </ThemeButton>\n\n              {#if showFiltersDropdown}\n                <div\n                  style:background=\"var(--color-surface)\"\n                  style:border-color=\"var(--color-border)\"\n                >\n                  <div>\n                    <button\n                      type=\"button\"\n                      onclick={() => {\n                        selectedFilter = 'all'\n                        showFiltersDropdown = false\n                      }}\n                      class=\"block w-full text-left px-4 py-2 text-sm hover:opacity-80 transition-opacity\"\n                      class:bg-blue-50={selectedFilter === 'all'}\n                      class:dark:bg-blue-900={selectedFilter === 'all'}\n                      style:color=\"var(--color-text)\"\n                    >\n                      Ï†ÑÏ≤¥\n                    </button>\n                    <button\n                      type=\"button\"\n                      onclick={() => {\n                        selectedFilter = 'active'\n                        showFiltersDropdown = false\n                      }}\n                      class=\"block w-full text-left px-4 py-2 text-sm hover:opacity-80 transition-opacity\"\n                      class:bg-blue-50={selectedFilter === 'active'}\n                      class:dark:bg-blue-900={selectedFilter === 'active'}\n                      style:color=\"var(--color-text)\"\n                    >\n                      ÌôúÏÑ±\n                    </button>\n                    <button\n                      type=\"button\"\n                      onclick={() => {\n                        selectedFilter = 'inactive'\n                        showFiltersDropdown = false\n                      }}\n                      class=\"block w-full text-left px-4 py-2 text-sm hover:opacity-80 transition-opacity\"\n                      class:bg-blue-50={selectedFilter === 'inactive'}\n                      class:dark:bg-blue-900={selectedFilter === 'inactive'}\n                      style:color=\"var(--color-text)\"\n                    >\n                      ÎπÑÌôúÏÑ±\n                    </button>\n                  </div>\n                </div>\n              {/if}\n            </div>\n          {/if}\n        </div>\n\n        <!-- Ïï°ÏÖò Î≤ÑÌäºÎì§ -->\n        {#if showActions && allActions.length > 0}\n          <div class=\"flex gap-2\">\n            {#each allActions as action (action.label)}\n              <ThemeButton\n                variant={action.variant || 'primary'}\n                size=\"sm\"\n                onclick={action.onclick}\n                class=\"flex items-center gap-2\"\n              >\n                {#if action.icon}\n                  <action.icon size={16} />\n                {/if}\n                {action.label}\n              </ThemeButton>\n            {/each}\n          </div>\n        {/if}\n      </div>\n    </ThemeCard>\n  {/if}\n\n  <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->\n  <ThemeSpacer size={6}>\n    {@render children()}\n  </ThemeSpacer>\n</div>\n\n<style>\n  /* Ï∂îÍ∞Ä Ïä§ÌÉÄÏùºÏù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞ Ïó¨Í∏∞Ïóê ÏûëÏÑ± */\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/layout/Sidebar.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-optimized-style-attribute",
        "severity": 1,
        "message": "It cannot be optimized because too complex.",
        "line": 82,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "complex",
        "endLine": 84,
        "endColumn": 80
      },
      {
        "ruleId": "svelte/no-unknown-style-directive-property",
        "severity": 2,
        "message": "Unexpected unknown style directive property 'hover'.",
        "line": 86,
        "column": 17,
        "nodeType": "SvelteName",
        "messageId": "unknown",
        "endLine": 86,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import { page } from '$app/stores'\n  import {\n    HomeIcon,\n    BarChart3Icon,\n    UsersIcon,\n    BriefcaseIcon,\n    FileTextIcon,\n    SettingsIcon,\n    BanknoteIcon,\n    FlaskConicalIcon,\n    BuildingIcon,\n    CalendarIcon,\n    MessageSquareIcon,\n    ChevronLeftIcon,\n    ChevronRightIcon,\n    DollarSignIcon\n  } from '@lucide/svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n\n  let { isCollapsed = $bindable(true) } = $props<{ isCollapsed?: boolean }>()\n\n  const navigationItems = [\n    { name: 'ÎåÄÏãúÎ≥¥Îìú', href: '/', icon: HomeIcon },\n    { name: 'Ïû¨Î¨¥Í¥ÄÎ¶¨', href: '/finance', icon: BanknoteIcon },\n    { name: 'Í∏âÏó¨Í¥ÄÎ¶¨', href: '/salary', icon: DollarSignIcon },\n    { name: 'Ïù∏ÏÇ¨Í¥ÄÎ¶¨', href: '/hr', icon: UsersIcon },\n    { name: 'Ïó∞Íµ¨Í∞úÎ∞ú', href: '/project-management', icon: FlaskConicalIcon },\n    { name: 'ÏòÅÏóÖÍ¥ÄÎ¶¨', href: '/sales', icon: BriefcaseIcon },\n    { name: 'Í≥†Í∞ùÍ¥ÄÎ¶¨', href: '/crm', icon: BuildingIcon },\n    { name: 'ÏùºÏ†ïÍ¥ÄÎ¶¨', href: '/calendar', icon: CalendarIcon },\n    { name: 'Î≥¥Í≥†ÏÑú', href: '/reports', icon: FileTextIcon },\n    { name: 'Î∂ÑÏÑù', href: '/analytics', icon: BarChart3Icon },\n    { name: 'Î©îÏãúÏßÄ', href: '/messages', icon: MessageSquareIcon },\n    { name: 'ÏÑ§Ï†ï', href: '/settings', icon: SettingsIcon }\n  ]\n\n  function toggleCollapse() {\n    isCollapsed = !isCollapsed\n  }\n</script>\n\n<aside\n  class=\"transition-all duration-300 {isCollapsed\n    ? 'w-16'\n    : 'w-64'} flex-shrink-0 h-screen sticky top-0\"\n  style:background=\"var(--color-surface)\"\n  style:border-right=\"1px solid var(--color-border)\"\n>\n  <div class=\"flex h-full flex-col\">\n    <!-- Toggle Button -->\n    <div\n      class=\"flex h-12 items-center justify-center\"\n      style:border-bottom=\"1px solid var(--color-border)\"\n    >\n      <ThemeButton\n        variant=\"ghost\"\n        size=\"sm\"\n        onclick={toggleCollapse}\n        class=\"p-2 transition-colors text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n      >\n        {#if isCollapsed}\n          <ChevronRightIcon size={16} />\n        {:else}\n          <ChevronLeftIcon size={16} />\n        {/if}\n      </ThemeButton>\n    </div>\n\n    <!-- Navigation -->\n    <nav class=\"flex-1 px-3 py-4 space-y-1\">\n      {#each navigationItems as item (item.name)}\n        {@const currentPath = $page.url.pathname}\n        {@const isCurrent =\n          (item.href === '/' && currentPath === '/') ||\n            (item.href !== '/' && currentPath.startsWith(item.href))}\n        <a\n          href={item.href}\n          class=\"group flex items-center px-3 py-3 text-sm font-medium rounded-xl transition-all duration-200 relative\n            {isCurrent ? 'text-white shadow-lg' : 'hover:scale-[1.02] hover:shadow-md'}\"\n          style=\"\n            {isCurrent\n              ? 'background: var(--color-primary);'\n              : 'color: var(--color-text-secondary); background: transparent;'}\n          \"\n          style:hover={isCurrent ? null : 'background: var(--color-surface-elevated)'}\n          title={isCollapsed ? item.name : ''}\n        >\n          {#if isCurrent}\n            <div class=\"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-white rounded-r-full\"\n            ></div>\n          {/if}\n          {#if item.icon}\n            <item.icon\n              size={20}\n              class=\"flex-shrink-0 {isCurrent ? 'text-white' : ''}\" />\n          {/if}\n          {#if !isCollapsed}\n            <span\n              class=\"ml-3 font-medium\"\n              class:text-white={isCurrent}>{item.name}</span>\n          {/if}\n          {#if isCurrent && !isCollapsed}\n            <div class=\"ml-auto\">\n              <div class=\"w-2 h-2 bg-white rounded-full\"></div>\n            </div>\n          {/if}\n        </a>\n      {/each}\n    </nav>\n  </div>\n</aside>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/AnnualBudgetForm.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 166,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 166,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import type { AnnualBudget, AnnualBudgetFormData, BudgetSummary } from '$lib/types/project-budget'\n  import { CheckIcon, PlusIcon, TrashIcon, XIcon } from '@lucide/svelte'\n  import { createEventDispatcher } from 'svelte'\n\n  const dispatch = createEventDispatcher()\n\n  // Props\n  let {\n    projectId = '',\n    existingBudgets = [],\n    readonly = false\n  } = $props<{\n    projectId?: string\n    existingBudgets?: AnnualBudget[]\n    readonly?: boolean\n  }>()\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞ ÏÉÅÌÉú\n  let budgetData = $state<AnnualBudgetFormData[]>([])\n  let isSubmitting = $state(false)\n  let validationErrors = $state<string[]>([])\n\n  // Í≥ÑÏÇ∞Îêú ÏöîÏïΩ Ï†ïÎ≥¥\n  let budgetSummary = $derived(calculateBudgetSummary(budgetData))\n\n  // Ï¥àÍ∏∞Ìôî\n  $effect(() => {\n    if (existingBudgets.length > 0) {\n      budgetData = existingBudgets.map(budget => ({\n        year: budget.year,\n        startDate: budget.startDate,\n        endDate: budget.endDate,\n        governmentFunding: budget.governmentFunding,\n        companyCash: budget.companyCash,\n        companyInKind: budget.companyInKind,\n        notes: budget.notes\n      }))\n    } else {\n      // Í∏∞Î≥∏Ï†ÅÏúºÎ°ú 1Ï∞®ÎÖÑÎèÑ Ï∂îÍ∞Ä\n      addYear()\n    }\n  })\n\n  // Ïó∞Ï∞® Ï∂îÍ∞Ä\n  function addYear() {\n    const nextYear = budgetData.length > 0 ? Math.max(...budgetData.map(b => b.year)) + 1 : 1\n    budgetData.push({\n      year: nextYear,\n      startDate: '',\n      endDate: '',\n      governmentFunding: 0,\n      companyCash: 0,\n      companyInKind: 0,\n      notes: ''\n    })\n  }\n\n  // Ïó∞Ï∞® ÏÇ≠Ï†ú\n  function removeYear(index: number) {\n    if (budgetData.length > 1) {\n      budgetData.splice(index, 1)\n      // Ïó∞Ï∞® Î≤àÌò∏ Ïû¨Ï†ïÎ†¨\n      budgetData.forEach((budget, idx) => {\n        budget.year = idx + 1\n      })\n    }\n  }\n\n  // ÏòàÏÇ∞ ÏöîÏïΩ Í≥ÑÏÇ∞\n  function calculateBudgetSummary(budgets: AnnualBudgetFormData[]): BudgetSummary {\n    const totalGovernmentFunding = budgets.reduce((sum, b) => sum + (b.governmentFunding || 0), 0)\n    const totalCompanyCash = budgets.reduce((sum, b) => sum + (b.companyCash || 0), 0)\n    const totalCompanyInKind = budgets.reduce((sum, b) => sum + (b.companyInKind || 0), 0)\n    const totalCash = totalGovernmentFunding + totalCompanyCash\n    const totalInKind = totalCompanyInKind\n    const totalBudget = totalCash + totalInKind\n\n    return {\n      projectId,\n      totalYears: budgets.length,\n      totalBudget,\n      totalGovernmentFunding,\n      totalCompanyCash,\n      totalCompanyInKind,\n      totalCash,\n      totalInKind,\n      governmentFundingRatio: totalBudget > 0 ? (totalGovernmentFunding / totalBudget) * 100 : 0,\n      companyBurdenRatio:\n        totalBudget > 0 ? ((totalCompanyCash + totalCompanyInKind) / totalBudget) * 100 : 0,\n      cashRatio: totalBudget > 0 ? (totalCash / totalBudget) * 100 : 0,\n      inKindRatio: totalBudget > 0 ? (totalInKind / totalBudget) * 100 : 0\n    }\n  }\n\n  // Ìèº Í≤ÄÏ¶ù\n  function validateForm(): boolean {\n    const errors: string[] = []\n\n    if (budgetData.length === 0) {\n      errors.push('ÏµúÏÜå 1Í∞ú Ïó∞Ï∞®Ïùò ÏòàÏÇ∞ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n    }\n\n    budgetData.forEach(budget => {\n      const yearLabel = `${budget.year}Ï∞®ÎÖÑÎèÑ`\n\n      if (budget.governmentFunding < 0) {\n        errors.push(`${yearLabel}: ÏßÄÏõêÍ∏àÏùÄ 0 Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.`)\n      }\n\n      if (budget.companyCash < 0) {\n        errors.push(`${yearLabel}: Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à(ÌòÑÍ∏à)ÏùÄ 0 Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.`)\n      }\n\n      if (budget.companyInKind < 0) {\n        errors.push(`${yearLabel}: Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à(ÌòÑÎ¨º)ÏùÄ 0 Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.`)\n      }\n\n      const yearTotal =\n        (budget.governmentFunding || 0) + (budget.companyCash || 0) + (budget.companyInKind || 0)\n      if (yearTotal === 0) {\n        errors.push(`${yearLabel}: Ï¥ù ÏòàÏÇ∞Ïù¥ 0ÏõêÏûÖÎãàÎã§. ÏµúÏÜå ÌïòÎÇòÏùò ÏòàÏÇ∞ Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.`)\n      }\n\n      // ÎÇ†Ïßú Í≤ÄÏ¶ù\n      if (budget.startDate && budget.endDate) {\n        const startDate = new Date(budget.startDate)\n        const endDate = new Date(budget.endDate)\n        if (startDate > endDate) {\n          errors.push(`${yearLabel}: ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îä¶ÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`)\n        }\n      }\n    })\n\n    validationErrors = errors\n    return errors.length === 0\n  }\n\n  // Ï†ÄÏû•\n  async function saveBudgets() {\n    if (!validateForm()) return\n\n    isSubmitting = true\n\n    try {\n      const response = await window.fetch(\n        `/api/project-management/projects/${projectId}/annual-budgets`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ budgets: budgetData })\n        }\n      )\n\n      const result = await response.json()\n\n      if (result.success) {\n        dispatch('budgetSaved', result.data)\n      } else {\n        validationErrors = [result.error || 'ÏòàÏÇ∞ Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.']\n      }\n    } catch (error) {\n      logger.error('ÏòàÏÇ∞ Ï†ÄÏû• Ïò§Î•ò:', error)\n      validationErrors = ['ÏòàÏÇ∞ Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.']\n    } finally {\n      isSubmitting = false\n    }\n  }\n\n  // Ïà´Ïûê Ìè¨Îß∑ÌåÖ\n  function formatCurrency(amount: number): string {\n    return new Intl.NumberFormat('ko-KR').format(amount)\n  }\n</script>\n\n<div class=\"max-w-6xl mx-auto space-y-6\">\n  <div class=\"bg-white rounded-lg shadow-lg p-6\">\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-6\">Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Í≥ÑÌöç</h2>\n\n    <!-- Í≤ÄÏ¶ù Ïò§Î•ò ÌëúÏãú -->\n    {#if validationErrors.length > 0}\n      <div class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n        <div class=\"flex items-center\">\n          <XIcon class=\"w-5 h-5 text-red-500 mr-2\" />\n          <h3 class=\"text-sm font-medium text-red-800\">Í≤ÄÏ¶ù Ïò§Î•ò</h3>\n        </div>\n        <ul class=\"mt-2 text-sm text-red-700\">\n          {#each validationErrors as error (error)}\n            <li>‚Ä¢ {error}</li>\n          {/each}\n        </ul>\n      </div>\n    {/if}\n\n    <!-- ÏòàÏÇ∞ ÏöîÏïΩ -->\n    <div class=\"mb-8 p-4 bg-blue-50 rounded-lg\">\n      <h3 class=\"text-lg font-semibold text-blue-900 mb-4\">ÏòàÏÇ∞ ÏöîÏïΩ</h3>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n        <div>\n          <div class=\"text-blue-700 font-medium\">Ï†ÑÏ≤¥ ÏÇ¨ÏóÖÎπÑ</div>\n          <div class=\"text-xl font-bold text-blue-900\">\n            {formatCurrency(budgetSummary.totalBudget)}Ïõê\n          </div>\n        </div>\n        <div>\n          <div class=\"text-green-700 font-medium\">ÏßÄÏõêÍ∏à (ÌòÑÍ∏à)</div>\n          <div class=\"text-lg font-semibold text-green-800\">\n            {formatCurrency(budgetSummary.totalGovernmentFunding)}Ïõê\n            <span class=\"text-sm text-green-600\"\n            >({budgetSummary.governmentFundingRatio.toFixed(1)}%)</span\n            >\n          </div>\n        </div>\n        <div>\n          <div class=\"text-orange-700 font-medium\">Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à (ÌòÑÍ∏à)</div>\n          <div class=\"text-lg font-semibold text-orange-800\">\n            {formatCurrency(budgetSummary.totalCompanyCash)}Ïõê\n          </div>\n        </div>\n        <div>\n          <div class=\"text-purple-700 font-medium\">Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à (ÌòÑÎ¨º)</div>\n          <div class=\"text-lg font-semibold text-purple-800\">\n            {formatCurrency(budgetSummary.totalCompanyInKind)}Ïõê\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-4 pt-4 border-t border-blue-200\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span class=\"text-blue-700 font-medium\">ÌòÑÍ∏à Ï¥ùÏï°:</span>\n            <span class=\"ml-2 font-semibold\"\n            >{formatCurrency(budgetSummary.totalCash)}Ïõê ({budgetSummary.cashRatio.toFixed(\n              1\n            )}%)</span\n            >\n          </div>\n          <div>\n            <span class=\"text-blue-700 font-medium\">ÌòÑÎ¨º Ï¥ùÏï°:</span>\n            <span class=\"ml-2 font-semibold\"\n            >{formatCurrency(budgetSummary.totalInKind)}Ïõê ({budgetSummary.inKindRatio.toFixed(\n              1\n            )}%)</span\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏûÖÎ†• -->\n    <div class=\"space-y-6\">\n      <div class=\"flex items-center justify-between\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">Ïó∞Ï∞®Î≥Ñ ÏÑ∏Î∂Ä ÏòàÏÇ∞</h3>\n        {#if !readonly}\n          <button\n            type=\"button\"\n            onclick={addYear}\n            class=\"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            <PlusIcon class=\"w-4 h-4 mr-1\" />\n            Ïó∞Ï∞® Ï∂îÍ∞Ä\n          </button>\n        {/if}\n      </div>\n\n      {#each budgetData as budget, index (budget.year)}\n        <div class=\"border border-gray-200 rounded-lg p-6\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h4 class=\"text-lg font-medium text-gray-900\">{budget.year}Ï∞®ÎÖÑÎèÑ</h4>\n            {#if !readonly && budgetData.length > 1}\n              <button\n                type=\"button\"\n                onclick={() => removeYear(index)}\n                class=\"text-red-600 hover:text-red-800\"\n              >\n                <TrashIcon class=\"w-4 h-4\" />\n              </button>\n            {/if}\n          </div>\n\n          <!-- ÎÇ†Ïßú ÏûÖÎ†• -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n            <div>\n              <label\n                for=\"start-date-{index}\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                ÏãúÏûëÏùº (ÏÑ†ÌÉùÏÇ¨Ìï≠)\n              </label>\n              <input\n                id=\"start-date-{index}\"\n                type=\"date\"\n                bind:value={budget.startDate}\n                disabled={readonly}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"end-date-{index}\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Ï¢ÖÎ£åÏùº (ÏÑ†ÌÉùÏÇ¨Ìï≠)\n              </label>\n              <input\n                id=\"end-date-{index}\"\n                type=\"date\"\n                bind:value={budget.endDate}\n                disabled={readonly}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100\"\n              />\n            </div>\n          </div>\n\n          <!-- ÏòàÏÇ∞ ÏûÖÎ†• -->\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label\n                for=\"gov-funding-{index}\"\n                class=\"block text-sm font-medium text-green-700 mb-1\"\n              >\n                ÏßÄÏõêÍ∏à (ÌòÑÍ∏à)\n              </label>\n              <input\n                id=\"gov-funding-{index}\"\n                type=\"number\"\n                bind:value={budget.governmentFunding}\n                min=\"0\"\n                step=\"1000\"\n                disabled={readonly}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-100\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"company-cash-{index}\"\n                class=\"block text-sm font-medium text-orange-700 mb-1\"\n              >\n                Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à (ÌòÑÍ∏à)\n              </label>\n              <input\n                id=\"company-cash-{index}\"\n                type=\"number\"\n                bind:value={budget.companyCash}\n                min=\"0\"\n                step=\"1000\"\n                disabled={readonly}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:bg-gray-100\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"company-inkind-{index}\"\n                class=\"block text-sm font-medium text-purple-700 mb-1\"\n              >\n                Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à (ÌòÑÎ¨º)\n              </label>\n              <input\n                id=\"company-inkind-{index}\"\n                type=\"number\"\n                bind:value={budget.companyInKind}\n                min=\"0\"\n                step=\"1000\"\n                disabled={readonly}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n\n          <!-- Ïó∞Ï∞® ÏÜåÍ≥Ñ -->\n          <div class=\"bg-gray-50 p-3 rounded-md mb-4\">\n            <div class=\"text-sm text-gray-600 space-y-1\">\n              <div class=\"flex justify-between\">\n                <span>ÌòÑÍ∏à Ìï©Í≥Ñ:</span>\n                <span class=\"font-medium\">\n                  {formatCurrency((budget.governmentFunding || 0) + (budget.companyCash || 0))}Ïõê\n                </span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span>ÌòÑÎ¨º Ìï©Í≥Ñ:</span>\n                <span class=\"font-medium\">{formatCurrency(budget.companyInKind || 0)}Ïõê</span>\n              </div>\n              <div class=\"flex justify-between border-t pt-1 font-semibold text-gray-900\">\n                <span>{budget.year}Ï∞®ÎÖÑÎèÑ ÏÇ¨ÏóÖÎπÑ:</span>\n                <span>\n                  {formatCurrency(\n                    (budget.governmentFunding || 0) +\n                    (budget.companyCash || 0) +\n                    (budget.companyInKind || 0)\n                  )}Ïõê\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Î©îÎ™® -->\n          <div>\n            <label\n              for=\"notes-{index}\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Î©îÎ™® (ÏÑ†ÌÉùÏÇ¨Ìï≠)\n            </label>\n            <textarea\n              id=\"notes-{index}\"\n              bind:value={budget.notes}\n              disabled={readonly}\n              rows=\"2\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100\"\n              placeholder=\"Ïó∞Ï∞®Î≥Ñ ÌäπÏù¥ÏÇ¨Ìï≠Ïù¥ÎÇò Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            ></textarea>\n          </div>\n        </div>\n      {/each}\n    </div>\n\n    <!-- Ï†ÄÏû• Î≤ÑÌäº -->\n    {#if !readonly}\n      <div class=\"flex justify-end mt-8 pt-6 border-t border-gray-200\">\n        <button\n          type=\"button\"\n          onclick={saveBudgets}\n          disabled={isSubmitting}\n          class=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n        >\n          {#if isSubmitting}\n            <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n            Ï†ÄÏû• Ï§ë...\n          {:else}\n            <CheckIcon class=\"w-4 h-4 mr-2\" />\n            ÏòàÏÇ∞ Ï†ÄÏû•\n          {/if}\n        </button>\n      </div>\n    {/if}\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ParticipationCard.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ProjectBudgetSummary.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 41,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 41,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 49,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 49,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 52,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 52,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import type { BudgetSummary } from '$lib/types/project-budget'\n  import { formatDate } from '$lib/utils/format'\n  import { DollarSignIcon } from '@lucide/svelte'\n\n  let {\n    projectId,\n    compact = false,\n    refreshTrigger = 0\n  } = $props<{\n    projectId: string\n    compact?: boolean\n    refreshTrigger?: number\n  }>()\n\n  // ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ ÏÉÅÌÉú\n  let budgetSummary = $state<BudgetSummary | null>(null)\n  let budgetDetails = $state<any[] | null>(null)\n  let loading = $state(true)\n  let error = $state<string | null>(null)\n\n  // ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  async function loadBudgetSummary() {\n    if (!projectId) return\n\n    try {\n      loading = true\n      error = null\n\n      const response = await window.fetch(\n        `/api/project-management/projects/${projectId}/annual-budgets`\n      )\n      const result = await response.json()\n\n      if (result.success && result.data) {\n        budgetSummary = result.data.summary || null\n        budgetDetails = result.data.budgets || null\n\n        // ÎîîÎ≤ÑÍπÖ: Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏\n        logger.log('ProjectBudgetSummary - Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞:', {\n          summary: budgetSummary,\n          budgets: budgetDetails,\n          Ï≤´Î≤àÏß∏ÏòàÏÇ∞: budgetDetails?.[0]\n        })\n      } else {\n        budgetSummary = null\n        budgetDetails = null\n        logger.log('ProjectBudgetSummary - Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', result)\n      }\n    } catch (err) {\n      logger.error('ÏòàÏÇ∞ ÏöîÏïΩ Î°úÎìú Ïã§Ìå®:', err)\n      error = 'ÏòàÏÇ∞ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.'\n    } finally {\n      loading = false\n    }\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ID Î≥ÄÍ≤Ω Ïãú ÎòêÎäî refreshTrigger Î≥ÄÍ≤Ω Ïãú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    if (projectId) {\n      loadBudgetSummary()\n    }\n    // refreshTriggerÍ∞Ä Î≥ÄÍ≤ΩÎê† ÎïåÎßàÎã§ Îç∞Ïù¥ÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (refreshTrigger > 0) {\n      loadBudgetSummary()\n    }\n  })\n\n  // Ïà´Ïûê Ìè¨Îß∑ÌåÖ (Ï≤úÏõê Îã®ÏúÑ)\n  function formatCurrency(amount: number): string {\n    const thousands = amount / 1000\n    return thousands.toLocaleString()\n  }\n\n// ÎπÑÏú® ÏÉâÏÉÅ\n  // function getRatioColor(ratio: number): string {\n  //   if (ratio >= 70) return 'text-green-600'\n  //   if (ratio >= 50) return 'text-blue-600'\n  //   if (ratio >= 30) return 'text-orange-600'\n  //   return 'text-red-600'\n  // }\n</script>\n\n{#if loading}\n  <div class=\"flex items-center justify-center py-4\">\n    <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600\"></div>\n    <span class=\"ml-2 text-sm text-gray-500\">ÏòàÏÇ∞ Î°úÎî© Ï§ë...</span>\n  </div>\n{:else if error}\n  <div class=\"py-2 text-sm text-gray-500 text-center\">\n    {error}\n  </div>\n{:else if budgetSummary}\n  {#if compact}\n    <!-- Ïó∞Ï∞®Î≥Ñ ÏÇ¨ÏóÖÎπÑ Íµ¨ÏÑ± Ìëú -->\n    <div class=\"space-y-4\">\n      <!-- Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Íµ¨ÏÑ± Ìëú -->\n      {#if budgetDetails && budgetDetails.length > 0}\n        <!-- Îã®ÏúÑ ÌëúÏãú -->\n        <div class=\"text-right text-sm text-gray-500 mb-2\">Îã®ÏúÑ: Ï≤úÏõê</div>\n        <div class=\"overflow-x-auto\">\n          <table class=\"w-full text-sm border border-gray-200 rounded-lg\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th class=\"px-4 py-3 text-left font-medium text-gray-700 border-b min-w-[80px]\"\n                >Ïó∞Ï∞®</th\n                >\n                <th class=\"px-4 py-3 text-center font-medium text-gray-700 border-b min-w-[200px]\"\n                >ÏÇ¨ÏóÖÍ∏∞Í∞Ñ</th\n                >\n                <th class=\"px-4 py-3 text-right font-medium text-green-700 border-b min-w-[120px]\"\n                >Ï†ïÎ∂ÄÏßÄÏõêÍ∏à</th\n                >\n                <th class=\"px-4 py-3 text-right font-medium text-orange-700 border-b min-w-[130px]\"\n                >Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à(ÌòÑÍ∏à)</th\n                >\n                <th class=\"px-4 py-3 text-right font-medium text-purple-700 border-b min-w-[130px]\"\n                >Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à(ÌòÑÎ¨º)</th\n                >\n                <th class=\"px-4 py-3 text-right font-medium text-blue-700 border-b min-w-[120px]\"\n                >Ìï©Í≥Ñ ÌòÑÍ∏à</th\n                >\n                <th class=\"px-4 py-3 text-right font-medium text-purple-700 border-b min-w-[120px]\"\n                >Ìï©Í≥Ñ ÌòÑÎ¨º</th\n                >\n                <th class=\"px-4 py-3 text-right font-medium text-gray-900 border-b min-w-[120px]\"\n                >Ï¥ù Ìï©Í≥Ñ</th\n                >\n              </tr>\n            </thead>\n            <tbody class=\"divide-y divide-gray-200\">\n              {#each budgetDetails as budget, i (i)}\n                <tr class=\"hover:bg-gray-50\">\n                  <td class=\"px-4 py-3 font-medium text-gray-900\">{budget.year}Ï∞®ÎÖÑÎèÑ</td>\n                  <td class=\"px-4 py-3 text-center text-gray-700 text-xs\">\n                    {#if budget.startDate && budget.endDate}\n                      {formatDate(budget.startDate)} ~ {formatDate(budget.endDate)}\n                    {:else}\n                      ÎØ∏Ï†ï\n                    {/if}\n                  </td>\n                  <td class=\"px-4 py-3 text-right text-green-800\"\n                  >{formatCurrency(budget.governmentFunding)}</td\n                  >\n                  <td class=\"px-4 py-3 text-right text-orange-800\"\n                  >{formatCurrency(budget.companyCash)}</td\n                  >\n                  <td class=\"px-4 py-3 text-right text-purple-800\"\n                  >{formatCurrency(budget.companyInKind)}</td\n                  >\n                  <td class=\"px-4 py-3 text-right text-blue-800 font-medium\"\n                  >{formatCurrency(budget.totalCash)}</td\n                  >\n                  <td class=\"px-4 py-3 text-right text-purple-800 font-medium\"\n                  >{formatCurrency(budget.totalInKind)}</td\n                  >\n                  <td class=\"px-4 py-3 text-right text-gray-900 font-bold\"\n                  >{formatCurrency(budget.yearlyTotal)}</td\n                  >\n                </tr>\n              {/each}\n              <!-- Ï¥ùÌï©Í≥Ñ Ìñâ -->\n              <tr class=\"bg-blue-50 font-bold\">\n                <td class=\"px-4 py-3 text-gray-900\">Ï¥ùÍ≥Ñ</td>\n                <td class=\"px-4 py-3 text-center text-gray-700 text-xs\">\n                  {#if budgetDetails.length > 0}\n                    {@const firstBudget = budgetDetails[0]}\n                    {@const lastBudget = budgetDetails[budgetDetails.length - 1]}\n                    {#if firstBudget.startDate && lastBudget.endDate}\n                      {formatDate(firstBudget.startDate)} ~ {formatDate(lastBudget.endDate)}\n                    {:else}\n                      Ï†ÑÏ≤¥ Í∏∞Í∞Ñ\n                    {/if}\n                  {:else}\n                    Ï†ÑÏ≤¥ Í∏∞Í∞Ñ\n                  {/if}\n                </td>\n                <td class=\"px-4 py-3 text-right text-green-800\"\n                >{formatCurrency(budgetSummary.totalGovernmentFunding)}</td\n                >\n                <td class=\"px-4 py-3 text-right text-orange-800\"\n                >{formatCurrency(budgetSummary.totalCompanyCash)}</td\n                >\n                <td class=\"px-4 py-3 text-right text-purple-800\"\n                >{formatCurrency(budgetSummary.totalCompanyInKind)}</td\n                >\n                <td class=\"px-4 py-3 text-right text-blue-800\"\n                >{formatCurrency(budgetSummary.totalCash)}</td\n                >\n                <td class=\"px-4 py-3 text-right text-purple-800\"\n                >{formatCurrency(budgetSummary.totalInKind)}</td\n                >\n                <td class=\"px-4 py-3 text-right text-gray-900\"\n                >{formatCurrency(budgetSummary.totalBudget)}</td\n                >\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- ÎπÑÏú® ÏöîÏïΩ -->\n        <div class=\"grid grid-cols-2 gap-3 text-xs text-center mt-3\">\n          <div class=\"p-2 bg-green-50 rounded\">\n            <span class=\"text-green-700\"\n            >ÏßÄÏõêÍ∏à ÎπÑÏú®: {budgetSummary.governmentFundingRatio.toFixed(1)}%</span\n            >\n          </div>\n          <div class=\"p-2 bg-orange-50 rounded\">\n            <span class=\"text-orange-700\"\n            >Í∏∞ÏóÖÎ∂ÄÎã¥ ÎπÑÏú®: {budgetSummary.companyBurdenRatio.toFixed(1)}%</span\n            >\n          </div>\n        </div>\n      {:else}\n        <div class=\"text-center py-4 text-gray-500\">\n          <p class=\"text-sm\">Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.</p>\n        </div>\n      {/if}\n    </div>\n  {:else}\n    <!-- ÏÉÅÏÑ∏Ìïú ÏòàÏÇ∞ ÏöîÏïΩ -->\n    <div class=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100\">\n      <div class=\"flex items-center justify-between mb-3\">\n        <div class=\"flex items-center\">\n          <DollarSignIcon class=\"w-5 h-5 text-blue-600 mr-2\" />\n          <h4 class=\"font-semibold text-blue-900\">ÏòàÏÇ∞ Íµ¨Ï°∞</h4>\n        </div>\n        <span class=\"text-sm text-blue-700 bg-blue-100 px-2 py-1 rounded\">\n          {budgetSummary.totalYears}ÎÖÑÏ∞® ÏÇ¨ÏóÖ\n        </span>\n      </div>\n\n      <!-- Ï¥ù ÏÇ¨ÏóÖÎπÑ -->\n      <div class=\"mb-4 text-center\">\n        <div class=\"text-2xl font-bold text-blue-900\">\n          {formatCurrency(budgetSummary.totalBudget)}\n        </div>\n        <div class=\"text-sm text-blue-600\">Ï†ÑÏ≤¥ ÏÇ¨ÏóÖÎπÑ</div>\n      </div>\n\n      <!-- ÏûêÍ∏à Íµ¨Ï°∞ -->\n      <div class=\"grid grid-cols-2 gap-4 mb-4\">\n        <div class=\"text-center\">\n          <div class=\"text-lg font-semibold text-green-700\">\n            {formatCurrency(budgetSummary.totalGovernmentFunding)}\n          </div>\n          <div class=\"text-xs text-green-600\">\n            ÏßÄÏõêÍ∏à ({budgetSummary.governmentFundingRatio.toFixed(1)}%)\n          </div>\n        </div>\n        <div class=\"text-center\">\n          <div class=\"text-lg font-semibold text-orange-700\">\n            {formatCurrency(budgetSummary.totalCompanyCash + budgetSummary.totalCompanyInKind)}\n          </div>\n          <div class=\"text-xs text-orange-600\">\n            Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à ({budgetSummary.companyBurdenRatio.toFixed(1)}%)\n          </div>\n        </div>\n      </div>\n\n      <!-- ÌòÑÍ∏à/ÌòÑÎ¨º Íµ¨Ï°∞ -->\n      <div class=\"grid grid-cols-2 gap-4 pt-3 border-t border-blue-200\">\n        <div class=\"text-center\">\n          <div class=\"text-sm font-medium text-blue-700\">\n            {formatCurrency(budgetSummary.totalCash)}\n          </div>\n          <div class=\"text-xs text-blue-600\">\n            ÌòÑÍ∏à ({budgetSummary.cashRatio.toFixed(1)}%)\n          </div>\n        </div>\n        <div class=\"text-center\">\n          <div class=\"text-sm font-medium text-purple-700\">\n            {formatCurrency(budgetSummary.totalInKind)}\n          </div>\n          <div class=\"text-xs text-purple-600\">\n            ÌòÑÎ¨º ({budgetSummary.inKindRatio.toFixed(1)}%)\n          </div>\n        </div>\n      </div>\n\n      <!-- ÏÑ∏Î∂Ä Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à Íµ¨Ï°∞ -->\n      {#if budgetSummary.totalCompanyCash > 0 || budgetSummary.totalCompanyInKind > 0}\n        <div class=\"mt-3 pt-3 border-t border-blue-200\">\n          <div class=\"text-xs text-blue-600 mb-2\">Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à ÏÉÅÏÑ∏</div>\n          <div class=\"grid grid-cols-2 gap-2 text-xs\">\n            <div class=\"flex justify-between\">\n              <span class=\"text-gray-600\">ÌòÑÍ∏à:</span>\n              <span class=\"font-medium\">{formatCurrency(budgetSummary.totalCompanyCash)}</span>\n            </div>\n            <div class=\"flex justify-between\">\n              <span class=\"text-gray-600\">ÌòÑÎ¨º:</span>\n              <span class=\"font-medium\">{formatCurrency(budgetSummary.totalCompanyInKind)}</span>\n            </div>\n          </div>\n        </div>\n      {/if}\n    </div>\n  {/if}\n{:else}\n  <div class=\"py-4 text-center\">\n    <div class=\"text-sm text-gray-500 mb-2\">ÏòàÏÇ∞Ïù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§</div>\n    <div class=\"text-xs text-gray-400\">ÌîÑÎ°úÏ†ùÌä∏ ÏÉÅÏÑ∏ÏóêÏÑú ÏòàÏÇ∞ÏùÑ ÏÑ§Ï†ïÌï¥Ï£ºÏÑ∏Ïöî</div>\n  </div>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ProjectCreationForm.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 48,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 48,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 49,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 49,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 62,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 62,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 74,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 74,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 78,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 78,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 96,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 96,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [2319, 2337], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'CustomEvent' is not defined.",
        "line": 96,
        "column": 37,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 96,
        "endColumn": 48
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 224,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 224,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "error" },
            "fix": { "range": [6299, 6304], "text": "" },
            "desc": "Remove unused variable 'error'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { CheckIcon, XIcon } from '@lucide/svelte'\n  import { createEventDispatcher } from 'svelte'\n\n  const dispatch = createEventDispatcher()\n\n  // Í∞ÑÏÜåÌôîÎêú Ìèº Îç∞Ïù¥ÌÑ∞ ÏÉÅÌÉú\n  let projectData = $state({\n    title: '',\n    code: '',\n    description: '',\n    status: 'planning' // Í∏∞Î≥∏Í∞íÏùÑ 'Í∏∞Ìöç'ÏúºÎ°ú ÏÑ§Ï†ï\n  })\n\n  // ÏòàÏÇ∞ ÏûÖÎ†• Îã®Í≥Ñ Í¥ÄÎ¶¨\n  let showBudgetStep = $state(false)\n  let createdProjectId = $state<string | null>(null)\n\n  // UI ÏÉÅÌÉú\n  let isSubmitting = $state(false)\n  let validationErrors = $state<string[]>([])\n\n  // Í∞ÑÏÜåÌôîÎêú Ìèº Í≤ÄÏ¶ù\n  function validateForm(): boolean {\n    const errors: string[] = []\n\n    if (!projectData.title.trim()) {\n      errors.push('ÌîÑÎ°úÏ†ùÌä∏Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n    }\n\n    if (!projectData.code.trim()) {\n      errors.push('ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n    }\n\n    validationErrors = errors\n    return errors.length === 0\n  }\n\n  // Í∞ÑÏÜåÌôîÎêú ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±\n  async function createProject() {\n    if (!validateForm()) return\n\n    isSubmitting = true\n    validationErrors = []\n\n    try {\n      logger.log('üöÄ [UI] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏöîÏ≤≠ ÏãúÏûë')\n      logger.log('üìã [UI] Ï†ÑÏÜ° Îç∞Ïù¥ÌÑ∞:', JSON.stringify(projectData, null, 2))\n\n      const response = await fetch('/api/project-management/projects', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(projectData)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        logger.log('‚úÖ [UI] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏÑ±Í≥µ:', result)\n        createdProjectId = result.data?.id\n\n        if (createdProjectId) {\n          // ÏòàÏÇ∞ ÏûÖÎ†• Îã®Í≥ÑÎ°ú Ïù¥Îèô\n          showBudgetStep = true\n        } else {\n          // ÏòàÏÇ∞ ÏûÖÎ†• ÏóÜÏù¥ ÏôÑÎ£å\n          dispatch('projectCreated', result)\n          resetForm()\n        }\n      } else {\n        logger.log('‚ùå [UI] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ïã§Ìå®:', result.error)\n        validationErrors = [result.error || 'ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.']\n      }\n    } catch (error) {\n      logger.error('üí• [UI] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ï§ë Ïò§Î•ò:', error)\n      validationErrors = ['ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.']\n    } finally {\n      isSubmitting = false\n    }\n  }\n\n  // Ìèº Ï¥àÍ∏∞Ìôî\n  function resetForm() {\n    projectData.title = ''\n    projectData.code = ''\n    projectData.description = ''\n    projectData.status = 'planning'\n    showBudgetStep = false\n    createdProjectId = null\n  }\n\n  // ÏòàÏÇ∞ Ï†ÄÏû• ÏôÑÎ£å Ìï∏Îì§Îü¨\n  function handleBudgetSaved(event: CustomEvent) {\n    dispatch('projectCreated', {\n      success: true,\n      data: { id: createdProjectId },\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ÏôÄ ÏòàÏÇ∞Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n    resetForm()\n  }\n\n  // ÏòàÏÇ∞ ÏûÖÎ†• Í±¥ÎÑàÎõ∞Í∏∞\n  function skipBudgetStep() {\n    dispatch('projectCreated', {\n      success: true,\n      data: { id: createdProjectId },\n      message: 'ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§. ÏòàÏÇ∞ÏùÄ ÎÇòÏ§ëÏóê ÏÑ§Ï†ïÌï† Ïàò ÏûàÏäµÎãàÎã§.'\n    })\n    resetForm()\n  }\n</script>\n\n<div class=\"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg\">\n  <h2 class=\"text-2xl font-bold text-gray-900 mb-6\">ÏÉà ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±</h2>\n\n  <!-- Í≤ÄÏ¶ù Ïò§Î•ò ÌëúÏãú -->\n  {#if validationErrors.length > 0}\n    <div class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n      <div class=\"flex items-center\">\n        <XIcon class=\"w-5 h-5 text-red-500 mr-2\" />\n        <h3 class=\"text-sm font-medium text-red-800\">Í≤ÄÏ¶ù Ïò§Î•ò</h3>\n      </div>\n      <ul class=\"mt-2 text-sm text-red-700\">\n        {#each validationErrors as error, i (i)}\n          <li>‚Ä¢ {error}</li>\n        {/each}\n      </ul>\n    </div>\n  {/if}\n  {#if !showBudgetStep}\n    <!-- 1Îã®Í≥Ñ: Í∏∞Î≥∏ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏûÖÎ†• -->\n    <div class=\"space-y-6\">\n      <div>\n        <label\n          for=\"projectTitle\"\n          class=\"block text-sm font-medium text-gray-700 mb-2\">\n          ÌîÑÎ°úÏ†ùÌä∏Î™Ö *\n        </label>\n        <input\n          id=\"projectTitle\"\n          type=\"text\"\n          bind:value={projectData.title}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"ÌîÑÎ°úÏ†ùÌä∏Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n        />\n      </div>\n\n      <div>\n        <label\n          for=\"projectCode\"\n          class=\"block text-sm font-medium text-gray-700 mb-2\">\n          ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú *\n        </label>\n        <input\n          id=\"projectCode\"\n          type=\"text\"\n          bind:value={projectData.code}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"Ïòà: PROJ-2024-001\"\n        />\n      </div>\n\n      <div>\n        <label\n          for=\"description\"\n          class=\"block text-sm font-medium text-gray-700 mb-2\">\n          ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Î™Ö (ÏÑ†ÌÉùÏÇ¨Ìï≠)\n        </label>\n        <textarea\n          id=\"description\"\n          bind:value={projectData.description}\n          rows=\"4\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"ÌîÑÎ°úÏ†ùÌä∏Ïóê ÎåÄÌïú ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n        ></textarea>\n      </div>\n\n      <div>\n        <label\n          for=\"status\"\n          class=\"block text-sm font-medium text-gray-700 mb-2\">\n          ÌîÑÎ°úÏ†ùÌä∏ ÏÉÅÌÉú\n        </label>\n        <select\n          id=\"status\"\n          bind:value={projectData.status}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"planning\">Í∏∞Ìöç</option>\n          <option value=\"active\">ÏßÑÌñâ</option>\n          <option value=\"completed\">ÏôÑÎ£å</option>\n        </select>\n      </div>\n    </div>\n  {:else}\n    <!-- 2Îã®Í≥Ñ: Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏûÖÎ†• -->\n    <div class=\"mb-6\">\n      <div class=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-6\">\n        <div class=\"flex items-center\">\n          <CheckIcon class=\"w-5 h-5 text-green-500 mr-2\" />\n          <div>\n            <h3 class=\"text-sm font-medium text-green-800\">ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§!</h3>\n            <p class=\"text-sm text-green-700 mt-1\">Ïù¥Ï†ú Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ÏùÑ ÏÑ§Ï†ïÌï¥Ï£ºÏÑ∏Ïöî.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    {#await import('$lib/components/project-management/AnnualBudgetForm.svelte')}\n      <div class=\"text-center py-8\">\n        <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n        <p class=\"mt-2 text-gray-600\">ÏòàÏÇ∞ ÏûÖÎ†• ÌèºÏùÑ Î°úÎî© Ï§ë...</p>\n      </div>\n    {:then { default: AnnualBudgetForm }}\n      <AnnualBudgetForm\n        projectId={createdProjectId || ''}\n        existingBudgets={[]}\n        readonly={false}\n        onbudgetSaved={handleBudgetSaved}\n      />\n    {:catch error}\n      <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div class=\"flex items-center\">\n          <XIcon class=\"w-5 h-5 text-red-500 mr-2\" />\n          <div>\n            <h3 class=\"text-sm font-medium text-red-800\">ÏòàÏÇ∞ Ìèº Î°úÎî© Ïã§Ìå®</h3>\n            <p class=\"text-sm text-red-700 mt-1\">ÏòàÏÇ∞ ÏûÖÎ†• ÌèºÏùÑ Î°úÎî©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.</p>\n          </div>\n        </div>\n      </div>\n    {/await}\n  {/if}\n\n  <!-- ÌïòÎã® Î≤ÑÌäº -->\n  <div class=\"flex justify-between mt-8 pt-6 border-t border-gray-200\">\n    {#if showBudgetStep}\n      <button\n        type=\"button\"\n        onclick={skipBudgetStep}\n        class=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n      >\n        ÎÇòÏ§ëÏóê ÏÑ§Ï†ï\n      </button>\n    {:else}\n      <div></div>\n    {/if}\n\n    {#if !showBudgetStep}\n      <button\n        type=\"button\"\n        onclick={createProject}\n        disabled={isSubmitting}\n        class=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n      >\n        {#if isSubmitting}\n          <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n          ÏÉùÏÑ± Ï§ë...\n        {:else}\n          <CheckIcon class=\"w-4 h-4 mr-2\" />\n          ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±\n        {/if}\n      </button>\n    {/if}\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ProjectDetailView.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getPersonnelCost' is defined but never used.",
        "line": 61,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getPersonnelCost" },
            "fix": { "range": [1695, 1819], "text": "" },
            "desc": "Remove unused variable 'getPersonnelCost'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getResearchMaterialCost' is defined but never used.",
        "line": 69,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 69,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getResearchMaterialCost" },
            "fix": { "range": [1964, 2110], "text": "" },
            "desc": "Remove unused variable 'getResearchMaterialCost'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getResearchActivityCost' is defined but never used.",
        "line": 77,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 77,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getResearchActivityCost" },
            "fix": { "range": [2277, 2423], "text": "" },
            "desc": "Remove unused variable 'getResearchActivityCost'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getResearchStipend' is defined but never used.",
        "line": 85,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 85,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getResearchStipend" },
            "fix": { "range": [2590, 2720], "text": "" },
            "desc": "Remove unused variable 'getResearchStipend'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 170,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 170,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getProjectStartDate' is defined but never used.",
        "line": 282,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 282,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getProjectStartDate" },
            "fix": { "range": [8946, 9065], "text": "" },
            "desc": "Remove unused variable 'getProjectStartDate'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getProjectEndDate' is defined but never used.",
        "line": 286,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 286,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getProjectEndDate" },
            "fix": { "range": [9069, 9182], "text": "" },
            "desc": "Remove unused variable 'getProjectEndDate'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showMemberModal' is assigned a value but never used.",
        "line": 317,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 317,
        "endColumn": 22
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'evidenceList' is assigned a value but never used.",
        "line": 377,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 377,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'evidenceTypes' is assigned a value but never used.",
        "line": 381,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 381,
        "endColumn": 20
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'autoValidationEnabled' is assigned a value but never used.",
        "line": 394,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 394,
        "endColumn": 28
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'editProjectForm' is assigned a value but never used.",
        "line": 413,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 413,
        "endColumn": 22
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'budgetCategories' is assigned a value but never used.",
        "line": 429,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 429,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'memberValidation' is assigned a value but never used.",
        "line": 433,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 433,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'memberValidationLastChecked' is assigned a value but never used.",
        "line": 435,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 435,
        "endColumn": 34
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 479,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 479,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 483,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 483,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 509,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 509,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 512,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 512,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 565,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 565,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 571,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 571,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 573,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 573,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 577,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 577,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 580,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 580,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 595,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 595,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 608,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 608,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 615,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 615,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 619,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 619,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 623,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 623,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 625,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 625,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 627,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 627,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 629,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 629,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 632,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 632,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 708,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 708,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 746,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 746,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 769,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 769,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 770,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 770,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 771,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 771,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 788,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 788,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 827,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 827,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 828,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 828,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 834,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 834,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 843,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 843,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 864,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 864,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 868,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 868,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 876,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 876,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 886,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 886,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 890,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 890,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 909,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 909,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1013,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1013,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1036,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1036,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1087,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1087,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1126,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1126,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1140,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1140,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1153,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1153,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1159,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1159,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1169,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1169,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1174,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1174,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1177,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1177,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1179,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1179,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1186,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1186,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1187,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1187,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1190,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1190,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1196,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1196,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1200,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1200,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1233,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1233,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1267,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1267,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'openEvidenceModal' is defined but never used.",
        "line": 1275,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1275,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "openEvidenceModal" },
            "fix": { "range": [38016, 38156], "text": "" },
            "desc": "Remove unused variable 'openEvidenceModal'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1295,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1295,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1310,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1310,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1336,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1336,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1369,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1369,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'updateEvidenceItem' is defined but never used.",
        "line": 1375,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1375,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "updateEvidenceItem" },
            "fix": { "range": [40540, 41125], "text": "" },
            "desc": "Remove unused variable 'updateEvidenceItem'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1394,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1394,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'deleteEvidenceItem' is defined but never used.",
        "line": 1400,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1400,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "deleteEvidenceItem" },
            "fix": { "range": [41143, 41575], "text": "" },
            "desc": "Remove unused variable 'deleteEvidenceItem'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1414,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1414,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1453,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1453,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1471,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1471,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1484,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1484,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 1910,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1910,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "error" },
            "fix": { "range": [55432, 55437], "text": "" },
            "desc": "Remove unused variable 'error'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalBudget' is assigned a value but never used.",
        "line": 1995,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1995,
        "endColumn": 34
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 3087,
        "column": 31,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 3087,
        "endColumn": 44,
        "fix": { "range": [106642, 106643], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 3094,
        "column": 31,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 3094,
        "endColumn": 44,
        "fix": { "range": [107003, 107004], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 3160,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 3160,
        "endColumn": 32,
        "fix": { "range": [109308, 109309], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 3591,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 3591,
        "endColumn": 32,
        "fix": { "range": [128277, 128278], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 3836,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 3836,
        "endColumn": 32,
        "fix": { "range": [138938, 138939], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 82,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 7,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import { formatCurrency, formatDate, formatDateForInput } from '$lib/utils/format'\n  import { isKoreanName } from '$lib/utils/korean-name'\n  import { calculateMonthlySalary } from '$lib/utils/salary-calculator'\n  import {\n    AlertTriangleIcon,\n    CalendarIcon,\n    CheckCircleIcon,\n    CheckIcon,\n    ChevronDownIcon,\n    ChevronRightIcon,\n    ChevronUpIcon,\n    DollarSignIcon,\n    EditIcon,\n    FileTextIcon,\n    PlusIcon,\n    RefreshCwIcon,\n    ShieldAlertIcon,\n    ShieldCheckIcon,\n    TrashIcon,\n    UserIcon,\n    UsersIcon,\n    XCircleIcon,\n    XIcon\n  } from '@lucide/svelte'\n  import { createEventDispatcher, onMount } from 'svelte'\n\n  const dispatch = createEventDispatcher()\n\n  // ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ ÌïÑÎìú Ï†ëÍ∑º Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\n  function getBudgetField(\n    budget: any,\n    camelCase: string,\n    snakeCase: string,\n    defaultValue: any = null\n  ) {\n    return budget[camelCase] || budget[snakeCase] || defaultValue\n  }\n\n  function getPeriodNumber(budget: any): number {\n    return getBudgetField(budget, 'periodNumber', 'period_number', 1)\n  }\n\n  function getStartDate(budget: any): string {\n    return getBudgetField(budget, 'startDate', 'start_date')\n  }\n\n  function getEndDate(budget: any): string {\n    return getBudgetField(budget, 'endDate', 'end_date')\n  }\n\n  function getFiscalYear(budget: any): string {\n    return getBudgetField(budget, 'fiscalYear', 'fiscal_year')\n  }\n\n  function getPersonnelCost(budget: any): number {\n    return getBudgetField(budget, 'personnelCost', 'personnel_cost', 0)\n  }\n\n  function getPersonnelCostCash(budget: any): number {\n    return getBudgetField(budget, 'personnelCostCash', 'personnel_cost_cash', 0)\n  }\n\n  function getResearchMaterialCost(budget: any): number {\n    return getBudgetField(budget, 'researchMaterialCost', 'research_material_cost', 0)\n  }\n\n  function getResearchMaterialCostCash(budget: any): number {\n    return getBudgetField(budget, 'researchMaterialCostCash', 'research_material_cost_cash', 0)\n  }\n\n  function getResearchActivityCost(budget: any): number {\n    return getBudgetField(budget, 'researchActivityCost', 'research_activity_cost', 0)\n  }\n\n  function getResearchActivityCostCash(budget: any): number {\n    return getBudgetField(budget, 'researchActivityCostCash', 'research_activity_cost_cash', 0)\n  }\n\n  function getResearchStipend(budget: any): number {\n    return getBudgetField(budget, 'researchStipend', 'research_stipend', 0)\n  }\n  function getResearchStipendCash(budget: any): number {\n    return getBudgetField(budget, 'researchStipendCash', 'research_stipend_cash', 0)\n  }\n  function getResearchStipendInKind(budget: any): number {\n    return getBudgetField(budget, 'researchStipendInKind', 'research_stipend_in_kind', 0)\n  }\n\n  function getIndirectCost(budget: any): number {\n    return getBudgetField(budget, 'indirectCost', 'indirect_cost', 0)\n  }\n  function getIndirectCostCash(budget: any): number {\n    return getBudgetField(budget, 'indirectCostCash', 'indirect_cost_cash', 0)\n  }\n\n  function getPersonnelCostInKind(budget: any): number {\n    return getBudgetField(budget, 'personnelCostInKind', 'personnel_cost_in_kind', 0)\n  }\n\n  function getResearchMaterialCostInKind(budget: any): number {\n    return getBudgetField(budget, 'researchMaterialCostInKind', 'research_material_cost_in_kind', 0)\n  }\n\n  function getResearchActivityCostInKind(budget: any): number {\n    return getBudgetField(budget, 'researchActivityCostInKind', 'research_activity_cost_in_kind', 0)\n  }\n\n  function getIndirectCostInKind(budget: any): number {\n    return getBudgetField(budget, 'indirectCostInKind', 'indirect_cost_in_kind', 0)\n  }\n\n  function formatPeriodDisplay(budget: any): string {\n    return `Y${getPeriodNumber(budget)}`\n  }\n\n  function formatPeriodTooltip(budget: any): string {\n    const startDate = getStartDate(budget)\n    const endDate = getEndDate(budget)\n    const fiscalYear = getFiscalYear(budget)\n\n    const startDisplay = startDate ? formatDate(startDate) : `${fiscalYear}ÎÖÑ`\n    const endDisplay = endDate ? formatDate(endDate) : `${fiscalYear}ÎÖÑ`\n    const monthsDisplay =\n      startDate && endDate ? `${calculatePeriodMonths(startDate, endDate)}Í∞úÏõî` : '1ÎÖÑ'\n\n    return `Í∏∞Í∞Ñ: ${startDisplay} ~ ${endDisplay} (${monthsDisplay})`\n  }\n\n  // ÎÇ†Ïßú Ï≤òÎ¶¨ Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§ (ÌëúÏ§ÄÌôîÎêú Ìï®Ïàò ÏÇ¨Ïö©)\n\n  // Ïó∞Ï∞® Ï†ïÎ≥¥ Í∏∞Î∞ò ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ Í≥ÑÏÇ∞\n  async function updateProjectPeriodFromBudgets() {\n    if (!selectedProject?.id) return\n\n    try {\n      const response = await fetch(\n        `/api/project-management/projects/${selectedProject.id}/annual-budgets`\n      )\n      const result = await response.json()\n\n      if (result.success && result.data?.budgets && result.data.budgets.length > 0) {\n        const budgets = result.data.budgets\n        const firstBudget = budgets[0]\n        const lastBudget = budgets[budgets.length - 1]\n\n        if (firstBudget.startDate && lastBudget.endDate) {\n          const periodElement = document.getElementById('project-period')\n          if (periodElement) {\n            periodElement.textContent = `${formatDate(firstBudget.startDate)} ~ ${formatDate(lastBudget.endDate)}`\n          }\n        } else {\n          const periodElement = document.getElementById('project-period')\n          if (periodElement) {\n            periodElement.textContent = 'Ïó∞Ï∞®Î≥Ñ Í∏∞Í∞Ñ Ï†ïÎ≥¥ ÏóÜÏùå'\n          }\n        }\n      } else {\n        const periodElement = document.getElementById('project-period')\n        if (periodElement) {\n          periodElement.textContent = 'Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ï†ïÎ≥¥ ÏóÜÏùå'\n        }\n      }\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:', error)\n      const periodElement = document.getElementById('project-period')\n      if (periodElement) {\n        periodElement.textContent = 'Í∏∞Í∞Ñ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®'\n      }\n    }\n  }\n\n  // Î©§Î≤Ñ Îç∞Ïù¥ÌÑ∞ ÌïÑÎìú Ï†ëÍ∑º Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\n  function getMemberField(\n    member: any,\n    camelCase: string,\n    snakeCase: string,\n    defaultValue: any = null\n  ) {\n    return member[camelCase] || member[snakeCase] || defaultValue\n  }\n\n  function getMemberStartDate(member: any): string {\n    return getMemberField(member, 'startDate', 'start_date', '')\n  }\n\n  function getMemberEndDate(member: any): string {\n    return getMemberField(member, 'endDate', 'end_date', '')\n  }\n\n  function getMemberEmployeeId(member: any): string {\n    return getMemberField(member, 'employeeId', 'employee_id')\n  }\n\n  function getMemberParticipationRate(member: any): number {\n    return getMemberField(member, 'participationRate', 'participation_rate', 0)\n  }\n\n  function getMemberMonthlyAmount(member: any): number {\n    return getMemberField(member, 'monthlyAmount', 'monthly_amount', 0)\n  }\n\n  function getMemberContributionType(member: any): string {\n    return getMemberField(member, 'contributionType', 'contribution_type', 'cash')\n  }\n\n  function getMemberEmployeeName(member: any): string {\n    return getMemberField(member, 'employeeName', 'employee_name')\n  }\n\n  // ÌïúÍµ≠Ïãù Ïù¥Î¶Ñ Ï≤òÎ¶¨ Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò (ÌÜµÌï©Îêú Ïú†Ìã∏Î¶¨Ìã∞ ÏÇ¨Ïö©)\n  function formatKoreanName(name: string): string {\n    if (!name) return ''\n\n    const trimmed = name.trim()\n\n    // Ïù¥ÎØ∏ ÌëúÏ§Ä ÌòïÏãùÏù∏ Í≤ΩÏö∞ (ÎùÑÏñ¥Ïì∞Í∏∞ ÏóÜÏùå)\n    if (!trimmed.includes(' ')) {\n      return trimmed\n    }\n\n    // ÌïúÍµ≠ Ïù¥Î¶ÑÏù∏ Í≤ΩÏö∞ ÌëúÏ§Ä ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò\n    if (isKoreanName(trimmed)) {\n      const parts = trimmed.split(/\\s+/)\n      if (parts.length === 2) {\n        const [first, second] = parts\n\n        // ÏùºÎ∞òÏ†ÅÏúºÎ°ú ÏÑ±ÏùÄ 1Í∏ÄÏûê, Ïù¥Î¶ÑÏùÄ 2Í∏ÄÏûê Ïù¥ÏÉÅ\n        if (first.length >= 2 && second.length === 1) {\n          // \"ÏßÄÏùÄ Ï∞®\" -> \"Ï∞®ÏßÄÏùÄ\" (Ïù¥Î¶Ñ ÏÑ± -> ÏÑ± Ïù¥Î¶Ñ)\n          return `${second}${first}`\n        } else if (first.length === 1 && second.length >= 2) {\n          // \"Ï∞® ÏßÄÏùÄ\" -> \"Ï∞®ÏßÄÏùÄ\" (Ïù¥ÎØ∏ Ïò¨Î∞îÎ•∏ ÏàúÏÑú)\n          return `${first}${second}`\n        }\n      }\n    }\n\n    // ÌïúÍµ≠ Ïù¥Î¶ÑÏù¥ ÏïÑÎãå Í≤ΩÏö∞ ÏõêÎ≥∏ Î∞òÌôò\n    return trimmed\n  }\n\n  // Îã¥ÎãπÏûê Ïù¥Î¶Ñ Ï≤òÎ¶¨ ÌÜµÏùºÎêú Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\n  function formatAssigneeName(\n    assigneeName: string | null | undefined,\n    fallback: string = 'ÎØ∏Ìï†Îãπ'\n  ): string {\n    if (!assigneeName) return fallback\n    // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏóêÏÑú \"ÏßÄÏùÄ Ï∞®\" ÌòïÏãùÏúºÎ°ú Ï†ÄÏû•Îêú Í≤ÉÏùÑ \"Ï∞®ÏßÄÏùÄ\" ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò\n    return formatKoreanName(assigneeName)\n  }\n\n  function formatAssigneeNameFromFields(item: any, fallback: string = 'ÎØ∏Ìï†Îãπ'): string {\n    const name = item.assignee_full_name || item.assignee_name\n    return formatAssigneeName(name, fallback)\n  }\n\n  function createAssigneeNameFromEmployee(employee: any): string {\n    if (!employee) return ''\n    return formatKoreanName(`${employee.last_name}${employee.first_name}`)\n  }\n\n  function formatEmployeeForSelect(employee: any): string {\n    return createAssigneeNameFromEmployee(employee)\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ ÌïÑÎìú Ï†ëÍ∑º Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\n  function getProjectField(\n    project: any,\n    camelCase: string,\n    snakeCase: string,\n    defaultValue: any = null\n  ) {\n    return project[camelCase] || project[snakeCase] || defaultValue\n  }\n\n  function getProjectStartDate(project: any): string {\n    return getProjectField(project, 'startDate', 'start_date')\n  }\n\n  function getProjectEndDate(project: any): string {\n    return getProjectField(project, 'endDate', 'end_date')\n  }\n\n  function getProjectCode(project: any): string {\n    return getProjectField(project, 'code', 'code')\n  }\n\n  function getProjectDescription(project: any): string {\n    return getProjectField(project, 'description', 'description')\n  }\n\n  function getProjectStatus(project: any): string {\n    return getProjectField(project, 'status', 'status', 'active')\n  }\n\n  function getProjectSponsorType(project: any): string {\n    return getProjectField(project, 'sponsorType', 'sponsor_type', 'internal')\n  }\n\n  let { selectedProject }: { selectedProject: any } = $props()\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Î≥ÄÍ≤Ω Ïãú Í∏∞Í∞Ñ ÏóÖÎç∞Ïù¥Ìä∏\n  $effect(() => {\n    if (selectedProject?.id) {\n      updateProjectPeriodFromBudgets()\n    }\n  })\n\n  // Î™®Îã¨ ÏÉÅÌÉú\n  let showBudgetModal = $state(false)\n  let showMemberModal = $state(false)\n  let showEditProjectModal = $state(false)\n  let showDeleteConfirmModal = $state(false)\n  let isUpdating = $state(false)\n  let editingBudget = $state<any>(null)\n  let editingMember = $state<any>(null)\n  let addingMember = $state(false)\n  let isDeleting = $state(false)\n  let deleteConfirmationCode = $state('')\n  let budgetRefreshTrigger = $state(0)\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let budgetForm = $state({\n    periodNumber: 1, // Ïó∞Ï∞® Î≤àÌò∏ (1Ïó∞Ï∞®, 2Ïó∞Ï∞®, ...)\n    startDate: '', // Ïó∞Ï∞® ÏãúÏûëÏùº\n    endDate: '', // Ïó∞Ï∞® Ï¢ÖÎ£åÏùº\n    // ÌòÑÍ∏à ÎπÑÎ™©Îì§\n    personnelCostCash: '',\n    researchMaterialCostCash: '',\n    researchActivityCostCash: '',\n    researchStipendCash: '',\n    indirectCostCash: '',\n    // ÌòÑÎ¨º ÎπÑÎ™©Îì§\n    personnelCostInKind: '',\n    researchMaterialCostInKind: '',\n    researchActivityCostInKind: '',\n    researchStipendInKind: '',\n    indirectCostInKind: ''\n  })\n\n  let projectForm = $state({\n    title: '',\n    code: '',\n    description: '',\n    status: 'active',\n    sponsorType: 'internal',\n    priority: 'medium',\n    researchType: 'applied'\n  })\n\n  let memberForm = $state({\n    employeeId: '',\n    role: 'researcher',\n    startDate: '',\n    endDate: '',\n    participationRate: 100, // Í∏∞Î≥∏ Ï∞∏Ïó¨Ïú® 100%\n    monthlyAmount: '0', // ÏõîÍ∞Ñ Í∏àÏï°\n    contributionType: 'cash' // 'cash' or 'in_kind'\n  })\n\n  // ÏÇ¨Ïö©ÏûêÍ∞Ä ÏàòÎèôÏúºÎ°ú ÏõîÍ∞ÑÍ∏àÏï°ÏùÑ ÏûÖÎ†•ÌñàÎäîÏßÄ Ï∂îÏ†Å\n  let isManualMonthlyAmount = $state(false)\n\n  let calculatedMonthlyAmount = $state(0)\n  let isCalculatingMonthlyAmount = $state(false)\n  let isPersonnelSummaryExpanded = $state(false)\n\n  // Ï¶ùÎπô ÎÇ¥Ïó≠ Í¥ÄÎ¶¨ ÏÉÅÌÉú\n  let showEvidenceModal = $state(false)\n  let selectedBudgetForEvidence = $state(null)\n  let evidenceList = $state([])\n  let selectedEvidencePeriod = $state(1)\n  let showEvidenceDetailModal = $state(false)\n  let selectedEvidenceItem = $state(null)\n  let evidenceTypes = $state([])\n  let expandedEvidenceSections = $state({\n    personnel: true,\n    material: true,\n    activity: true,\n    indirect: true\n  })\n\n  // Í≤ÄÏ¶ù Î∞è ÏûêÎèôÌôî ÏÉÅÌÉú\n  let showValidationModal = $state(false)\n  let validationResults = $state<any>(null)\n  let isRunningValidation = $state(false)\n  let validationHistory = $state<any[]>([])\n  let autoValidationEnabled = $state(true)\n  let evidenceCategories = $state([])\n  let evidenceItems = $state([])\n  let isLoadingEvidence = $state(false)\n\n  // Ï¶ùÎπô Ï∂îÍ∞Ä Ìèº\n  let newEvidenceForm = $state({\n    categoryId: '',\n    name: '',\n    description: '',\n    budgetAmount: '',\n    assigneeId: '',\n    dueDate: ''\n  })\n\n  // Ï¶ùÎπô Îì±Î°ù Í≤ÄÏ¶ù ÏÉÅÌÉú\n  let evidenceValidation = $state<any>(null)\n  let isValidatingEvidence = $state(false)\n\n  let editProjectForm = $state({\n    title: '',\n    description: '',\n    sponsorType: '',\n    sponsorName: '',\n    startDate: '',\n    endDate: '',\n    budgetTotal: '',\n    researchType: '',\n    priority: '',\n    status: ''\n  })\n\n  // Îç∞Ïù¥ÌÑ∞\n  let projectMembers = $state<any[]>([])\n  let projectBudgets = $state<any[]>([])\n  let budgetCategories = $state<any[]>([])\n  let availableEmployees = $state<any[]>([])\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù ÏÉÅÌÉú (ÌÖåÏù¥Î∏îÏö©)\n  let memberValidation = $state<any>(null)\n  let isValidatingMembers = $state(false)\n  let memberValidationLastChecked = $state<Date | null>(null)\n\n  // Í∞úÎ≥Ñ Î©§Î≤Ñ Í≤ÄÏ¶ù ÏÉÅÌÉú\n  let memberValidationStatuses = $state<Record<string, any>>({})\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Ï¥àÍ∏∞Ìôî\n  onMount(async () => {\n    if (selectedProject?.id) {\n      await loadProjectBudgets()\n      await loadProjectMembers()\n      await loadEvidenceCategories()\n    }\n  })\n\n  // Ï¶ùÎπô Îì±Î°ù Ïãú Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù Ìï®Ïàò\n  async function validateEvidenceRegistration() {\n    if (!newEvidenceForm.assigneeId || !newEvidenceForm.dueDate || !selectedBudgetForEvidence?.id) {\n      evidenceValidation = null\n      return\n    }\n\n    // Ïù∏Í±¥ÎπÑ Ïπ¥ÌÖåÍ≥†Î¶¨Ïù∏ Í≤ΩÏö∞ÏóêÎßå Í≤ÄÏ¶ù\n    const selectedCategory = evidenceCategories.find(cat => cat.id === newEvidenceForm.categoryId)\n    if (selectedCategory?.name !== 'Ïù∏Í±¥ÎπÑ') {\n      evidenceValidation = null\n      return\n    }\n\n    isValidatingEvidence = true\n    try {\n      const response = await fetch('/api/project-management/evidence-items/validate-employment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          assigneeId: newEvidenceForm.assigneeId,\n          dueDate: newEvidenceForm.dueDate,\n          projectBudgetId: selectedBudgetForEvidence.id\n        })\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        evidenceValidation = data\n      } else {\n        logger.error('Ï¶ùÎπô Îì±Î°ù Í≤ÄÏ¶ù Ïã§Ìå®:', response.statusText)\n        evidenceValidation = null\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Îì±Î°ù Í≤ÄÏ¶ù Ï§ë Ïò§Î•ò:', error)\n      evidenceValidation = null\n    } finally {\n      isValidatingEvidence = false\n    }\n  }\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù Ìï®Ïàò (ÌÖåÏù¥Î∏îÏö©)\n  async function validateMembers() {\n    if (!selectedProject?.id) return\n\n    isValidatingMembers = true\n    try {\n      const response = await fetch(\n        `/api/project-management/researcher-validation?projectId=${selectedProject.id}`\n      )\n      if (response.ok) {\n        const data = await response.json()\n        memberValidation = data\n        memberValidationLastChecked = new Date()\n\n        // Í∞úÎ≥Ñ Î©§Î≤Ñ Í≤ÄÏ¶ù ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n        if (data.success && data.data?.validation?.issues) {\n          updateMemberValidationStatuses(data.data.validation.issues)\n        }\n      } else {\n        logger.error('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù Ïã§Ìå®:', response.statusText)\n      }\n    } catch (error) {\n      logger.error('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù Ï§ë Ïò§Î•ò:', error)\n    } finally {\n      isValidatingMembers = false\n    }\n  }\n\n  // Í∞úÎ≥Ñ Î©§Î≤Ñ Í≤ÄÏ¶ù ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n  function updateMemberValidationStatuses(issues: any[]) {\n    // Ï¥àÍ∏∞Ìôî\n    memberValidationStatuses = {}\n\n    // Í∞Å Î©§Î≤ÑÎ≥ÑÎ°ú Í≤ÄÏ¶ù ÏÉÅÌÉú ÏÑ§Ï†ï\n    projectMembers.forEach(member => {\n      const memberIssues = issues.filter(issue => issue.memberId === member.id)\n\n      if (memberIssues.length === 0) {\n        memberValidationStatuses[member.id] = {\n          status: 'valid',\n          message: 'Í≤ÄÏ¶ù ÏôÑÎ£å',\n          issues: []\n        }\n      } else {\n        const hasErrors = memberIssues.some(issue => issue.severity === 'error')\n        const hasWarnings = memberIssues.some(issue => issue.severity === 'warning')\n        const errorCount = memberIssues.filter(i => i.severity === 'error').length\n        const warningCount = memberIssues.filter(i => i.severity === 'warning').length\n\n        // Îçî ÏûêÏÑ∏Ìïú Î©îÏãúÏßÄ ÏÉùÏÑ±\n        let detailedMessage = ''\n        if (hasErrors && hasWarnings) {\n          detailedMessage = `${errorCount}Í∞ú Ïò§Î•ò, ${warningCount}Í∞ú Í≤ΩÍ≥†`\n        } else if (hasErrors) {\n          detailedMessage = `${errorCount}Í∞ú Ïò§Î•ò`\n        } else {\n          detailedMessage = `${warningCount}Í∞ú Í≤ΩÍ≥†`\n        }\n\n        memberValidationStatuses[member.id] = {\n          status: hasErrors ? 'error' : 'warning',\n          message: detailedMessage,\n          issues: memberIssues.map(issue => ({\n            ...issue,\n            // APIÏóêÏÑú Ï†úÍ≥µÌïòÎäî Ïã§Ï†ú Î©îÏãúÏßÄ ÏÇ¨Ïö©\n            priority: issue.severity === 'error' ? 'high' : 'medium'\n          }))\n        }\n      }\n    })\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î°úÎìú\n  async function loadProjectMembers() {\n    try {\n      logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Î™©Î°ù Î°úÎìú ÏãúÏûë, ÌîÑÎ°úÏ†ùÌä∏ ID:', selectedProject.id)\n      const response = await fetch(\n        `/api/project-management/project-members?projectId=${selectedProject.id}`\n      )\n      if (response.ok) {\n        const data = await response.json()\n        logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Î™©Î°ù Î°úÎìú ÏÑ±Í≥µ:', data.data?.length, 'Î™Ö')\n        projectMembers = data.data || []\n        logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å:', projectMembers.length, 'Î™Ö')\n\n      // ÏûêÎèô Í≤ÄÏ¶ù Ï†úÍ±∞ - ÏàòÏûëÏóÖÏúºÎ°úÎßå Í≤ÄÏ¶ù Ïã§Ìñâ\n      } else {\n        logger.error('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Î™©Î°ù Î°úÎìú Ïã§Ìå®, ÏùëÎãµ ÏÉÅÌÉú:', response.status)\n      }\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Î°úÎìú\n  async function loadProjectBudgets() {\n    try {\n      const response = await fetch(\n        `/api/project-management/project-budgets?projectId=${selectedProject.id}`\n      )\n      if (response.ok) {\n        const data = await response.json()\n        projectBudgets = data.data || []\n      }\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÏÇ¨ÏóÖÎπÑ Ìï≠Î™© Î°úÎìú\n  async function loadBudgetCategories() {\n    try {\n      const response = await fetch('/api/project-management/budget-categories')\n      if (response.ok) {\n        const data = await response.json()\n        budgetCategories = data.data || []\n      }\n    } catch (error) {\n      logger.error('ÏÇ¨ÏóÖÎπÑ Ìï≠Î™© Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÏßÅÏõê Î°úÎìú\n  async function loadAvailableEmployees() {\n    try {\n      logger.log('ÏßÅÏõê Î™©Î°ù Î°úÎî© ÏãúÏûë, ÌîÑÎ°úÏ†ùÌä∏ ID:', selectedProject.id)\n      const response = await fetch(\n        `/api/project-management/employees?excludeProjectMembers=true&projectId=${selectedProject.id}`\n      )\n      logger.log('ÏßÅÏõê Î™©Î°ù API ÏùëÎãµ ÏÉÅÌÉú:', response.status)\n\n      if (response.ok) {\n        const data = await response.json()\n        logger.log('ÏßÅÏõê Î™©Î°ù API ÏùëÎãµ Îç∞Ïù¥ÌÑ∞:', data)\n        availableEmployees = data.data || []\n        logger.log('Î°úÎìúÎêú ÏßÅÏõê Ïàò:', availableEmployees.length)\n      } else {\n        logger.error('ÏßÅÏõê Î™©Î°ù API Ïò§Î•ò:', response.status, response.statusText)\n        const errorData = await response.text()\n        logger.error('Ïò§Î•ò ÏÉÅÏÑ∏:', errorData)\n      }\n    } catch (error) {\n      logger.error('ÏßÅÏõê Î™©Î°ù Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞Ä\n  async function addBudget() {\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!budgetForm.startDate || !budgetForm.endDate) {\n      alert('Ïó∞Ï∞® Í∏∞Í∞Ñ(ÏãúÏûëÏùº, Ï¢ÖÎ£åÏùº)ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îä¶ÏùÄÏßÄ Í≤ÄÏ¶ù\n    if (new Date(budgetForm.startDate) >= new Date(budgetForm.endDate)) {\n      alert('ÏãúÏûëÏùºÏùÄ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îπ®ÎùºÏïº Ìï©ÎãàÎã§.')\n      return\n    }\n\n    try {\n      const response = await fetch('/api/project-management/project-budgets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectId: selectedProject.id,\n          periodNumber: budgetForm.periodNumber,\n          startDate: budgetForm.startDate,\n          endDate: budgetForm.endDate,\n          // ÌòÑÍ∏à ÎπÑÎ™©Îì§ (Ï≤úÏõê Îã®ÏúÑÎ•º Ïõê Îã®ÏúÑÎ°ú Î≥ÄÌôò, Ïù∏Í±¥ÎπÑÎäî 100ÎßåÏõê Îã®ÏúÑÎ°ú Ï°∞Ï†ï)\n          personnelCostCash: fromThousands(budgetForm.personnelCostCash),\n          researchMaterialCostCash: fromThousands(budgetForm.researchMaterialCostCash),\n          researchActivityCostCash: fromThousands(budgetForm.researchActivityCostCash),\n          researchStipendCash: fromThousands(budgetForm.researchStipendCash),\n          indirectCostCash: fromThousands(budgetForm.indirectCostCash),\n          // ÌòÑÎ¨º ÎπÑÎ™©Îì§ (Ï≤úÏõê Îã®ÏúÑÎ•º Ïõê Îã®ÏúÑÎ°ú Î≥ÄÌôò)\n          personnelCostInKind: fromThousands(budgetForm.personnelCostInKind),\n          researchMaterialCostInKind: fromThousands(budgetForm.researchMaterialCostInKind),\n          researchActivityCostInKind: fromThousands(budgetForm.researchActivityCostInKind),\n          researchStipendInKind: fromThousands(budgetForm.researchStipendInKind),\n          indirectCostInKind: fromThousands(budgetForm.indirectCostInKind)\n        })\n      })\n\n      if (response.ok) {\n        const result = await response.json()\n        showBudgetModal = false\n        budgetForm = {\n          periodNumber: 1,\n          startDate: '',\n          endDate: '',\n          personnelCostCash: '',\n          researchMaterialCostCash: '',\n          researchActivityCostCash: '',\n          researchStipendCash: '',\n          indirectCostCash: '',\n          personnelCostInKind: '',\n          researchMaterialCostInKind: '',\n          researchActivityCostInKind: '',\n          researchStipendInKind: '',\n          indirectCostInKind: ''\n        }\n        await loadProjectBudgets()\n        // ÏòàÏÇ∞ Ï∂îÍ∞Ä ÌõÑ ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n        updateProjectPeriodFromBudgets()\n        // ÏòàÏÇ∞ ÏöîÏïΩ ÏÉàÎ°úÍ≥†Ïπ®\n        budgetRefreshTrigger++\n        dispatch('refresh')\n\n        // ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú\n        if (result.message) {\n          alert(result.message)\n        }\n      } else {\n        const errorData = await response.json()\n        alert(errorData.message || 'ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n      alert('ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞Ä Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // Î©§Î≤Ñ Ï∂îÍ∞Ä\n  async function addMember() {\n    // Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n    if (memberForm.participationRate < 0 || memberForm.participationRate > 100) {\n      alert('Ï∞∏Ïó¨Ïú®ÏùÄ 0-100 ÏÇ¨Ïù¥Ïùò Í∞íÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.')\n      return\n    }\n\n    try {\n      const response = await fetch('/api/project-management/project-members', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectId: selectedProject.id,\n          employeeId: memberForm.employeeId,\n          role: memberForm.role,\n          startDate: memberForm.startDate,\n          endDate: memberForm.endDate,\n          participationRate: memberForm.participationRate,\n          contributionType: memberForm.contributionType\n        })\n      })\n\n      if (response.ok) {\n        addingMember = false\n        resetMemberForm()\n        await loadProjectMembers()\n        dispatch('refresh')\n      } else {\n        const errorData = await response.json()\n        alert(errorData.message || 'Î©§Î≤Ñ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Î©§Î≤Ñ Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n      alert('Î©§Î≤Ñ Ï∂îÍ∞Ä Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // Î©§Î≤Ñ Ï∂îÍ∞Ä ÏãúÏûë\n  function startAddMember() {\n    addingMember = true\n    editingMember = null\n    resetMemberForm()\n  }\n\n  // Î©§Î≤Ñ Ï∂îÍ∞Ä Ï∑®ÏÜå\n  function cancelAddMember() {\n    addingMember = false\n    resetMemberForm()\n  }\n\n  // Î©§Î≤Ñ ÏàòÏ†ï ÏãúÏûë\n  function editMember(member: any) {\n    editingMember = member\n\n    // ÎîîÎ≤ÑÍπÖ: Î©§Î≤Ñ Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏\n    logger.log('editMember - member data:', member)\n    logger.log('editMember - startDate raw:', getMemberStartDate(member))\n    logger.log('editMember - endDate raw:', getMemberEndDate(member))\n\n    // ÎÇ†Ïßú Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏ Î∞è ÏïàÏ†ÑÌïú Ï≤òÎ¶¨\n    const rawStartDate = getMemberStartDate(member)\n    const rawEndDate = getMemberEndDate(member)\n\n    memberForm = {\n      employeeId: getMemberEmployeeId(member),\n      role: member.role,\n      startDate: rawStartDate ? formatDateForInput(rawStartDate) : '',\n      endDate: rawEndDate ? formatDateForInput(rawEndDate) : '',\n      participationRate: getMemberParticipationRate(member) || 0,\n      monthlyAmount: (getMemberMonthlyAmount(member) || 0).toString(),\n      contributionType: getMemberContributionType(member)\n    }\n\n    // ÎîîÎ≤ÑÍπÖ: memberForm ÌôïÏù∏\n    logger.log('editMember - memberForm after setting:', memberForm)\n\n    // ÏàòÏ†ï Ïãú ÏõîÍ∞ÑÍ∏àÏï° ÏûêÎèô Í≥ÑÏÇ∞ (ÏàòÎèô ÏûÖÎ†• ÌîåÎûòÍ∑∏ Ï¥àÍ∏∞Ìôî)\n    isManualMonthlyAmount = false\n    updateMonthlyAmount()\n  }\n\n  // Î©§Î≤Ñ Ìèº Ï¥àÍ∏∞Ìôî\n  function resetMemberForm() {\n    memberForm = {\n      employeeId: '',\n      role: 'researcher',\n      startDate: '',\n      endDate: '',\n      participationRate: 100,\n      monthlyAmount: '0',\n      contributionType: 'cash'\n    }\n    calculatedMonthlyAmount = 0\n    isManualMonthlyAmount = false\n  }\n\n  // Î©§Î≤Ñ ÏàòÏ†ï Ï∑®ÏÜå\n  function cancelEditMember() {\n    editingMember = null\n    resetMemberForm()\n  }\n\n  // Î©§Î≤Ñ ÏàòÏ†ï ÏôÑÎ£å\n  async function updateMember() {\n    if (!editingMember) return\n\n    // Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n    if (memberForm.participationRate < 0 || memberForm.participationRate > 100) {\n      alert('Ï∞∏Ïó¨Ïú®ÏùÄ 0-100 ÏÇ¨Ïù¥Ïùò Í∞íÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.')\n      return\n    }\n\n    // ÎîîÎ≤ÑÍπÖ: ÌïÑÎìú Í∞í ÌôïÏù∏\n    logger.log('updateMember - memberForm:', memberForm)\n    logger.log(\n      'updateMember - startDate:',\n      memberForm.startDate,\n      'type:',\n      typeof memberForm.startDate\n    )\n    logger.log('updateMember - endDate:', memberForm.endDate, 'type:', typeof memberForm.endDate)\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!memberForm.startDate || !memberForm.endDate) {\n      alert('Ï∞∏Ïó¨Í∏∞Í∞Ñ(ÏãúÏûëÏùº, Ï¢ÖÎ£åÏùº)ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    try {\n      logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏàòÏ†ï ÏöîÏ≤≠ Îç∞Ïù¥ÌÑ∞:', {\n        id: editingMember.id,\n        role: memberForm.role,\n        startDate: memberForm.startDate,\n        endDate: memberForm.endDate,\n        participationRate: memberForm.participationRate,\n        contributionType: memberForm.contributionType\n      })\n\n      const response = await fetch(`/api/project-management/project-members/${editingMember.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          role: memberForm.role,\n          startDate: memberForm.startDate,\n          endDate: memberForm.endDate,\n          participationRate: memberForm.participationRate,\n          contributionType: memberForm.contributionType\n        })\n      })\n\n      logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏàòÏ†ï ÏùëÎãµ ÏÉÅÌÉú:', response.status)\n\n      if (response.ok) {\n        const result = await response.json()\n        logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏàòÏ†ï ÏÑ±Í≥µ ÏùëÎãµ:', result)\n\n        editingMember = null\n        addingMember = false\n        resetMemberForm()\n\n        // Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®\n        await loadProjectMembers()\n        logger.log('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ® ÏôÑÎ£å')\n\n        dispatch('refresh')\n\n        // ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú\n        if (result.message) {\n          alert(result.message)\n        }\n      } else {\n        const errorData = await response.json()\n        logger.error('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏàòÏ†ï API ÏóêÎü¨ ÏùëÎãµ:', errorData)\n        alert(errorData.message || 'Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Î©§Î≤Ñ ÏàòÏ†ï Ïã§Ìå®:', error)\n      alert('Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥ ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // Î©§Î≤Ñ ÏÇ≠Ï†ú\n  async function removeMember(memberId: string) {\n    if (!confirm('Ï†ïÎßêÎ°ú Ïù¥ Î©§Î≤ÑÎ•º Ï†úÍ±∞ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return\n\n    try {\n      const response = await fetch(`/api/project-management/project-members/${memberId}`, {\n        method: 'DELETE'\n      })\n\n      if (response.ok) {\n        await loadProjectMembers()\n        dispatch('refresh')\n      }\n    } catch (error) {\n      logger.error('Î©§Î≤Ñ ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÏÇ¨ÏóÖÎπÑ Ìé∏Ïßë\n  function editBudget(budget: any) {\n    editingBudget = budget\n\n    // Ï§ëÎ≥µÎêú formatDateForInput Ìï®Ïàò Ï†úÍ±∞Îê® - ÏÉÅÎã®Ïùò Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò ÏÇ¨Ïö©\n\n    budgetForm = {\n      periodNumber: getPeriodNumber(budget),\n      startDate: formatDateForInput(getStartDate(budget)),\n      endDate: formatDateForInput(getEndDate(budget)),\n      // ÌòÑÍ∏à ÎπÑÎ™©Îì§ (Ï≤úÏõê Îã®ÏúÑÎ°ú Î≥ÄÌôò, Ïù∏Í±¥ÎπÑÎäî Ï°∞Ï†ïÎêú Í∞í ÌëúÏãú)\n      personnelCostCash: toThousands(getPersonnelCostCash(budget)),\n      researchMaterialCostCash: toThousands(getResearchMaterialCostCash(budget)),\n      researchActivityCostCash: toThousands(getResearchActivityCostCash(budget)),\n      researchStipendCash: toThousands(getResearchStipendCash(budget)),\n      indirectCostCash: toThousands(getIndirectCost(budget)),\n      // ÌòÑÎ¨º ÎπÑÎ™©Îì§ (Ï≤úÏõê Îã®ÏúÑÎ°ú Î≥ÄÌôò)\n      personnelCostInKind: toThousands(getPersonnelCostInKind(budget)),\n      researchMaterialCostInKind: toThousands(getResearchMaterialCostInKind(budget)),\n      researchActivityCostInKind: toThousands(getResearchActivityCostInKind(budget)),\n      researchStipendInKind: toThousands(getResearchStipendInKind(budget)),\n      indirectCostInKind: toThousands(getIndirectCostInKind(budget))\n    }\n    showBudgetModal = true\n  }\n\n  // ÏÇ¨ÏóÖÎπÑ ÏóÖÎç∞Ïù¥Ìä∏\n  async function updateBudget() {\n    if (!editingBudget) return\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!budgetForm.startDate || !budgetForm.endDate) {\n      alert('Ïó∞Ï∞® Í∏∞Í∞Ñ(ÏãúÏûëÏùº, Ï¢ÖÎ£åÏùº)ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îä¶ÏùÄÏßÄ Í≤ÄÏ¶ù\n    if (new Date(budgetForm.startDate) >= new Date(budgetForm.endDate)) {\n      alert('ÏãúÏûëÏùºÏùÄ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îπ®ÎùºÏïº Ìï©ÎãàÎã§.')\n      return\n    }\n\n    try {\n      const response = await fetch(`/api/project-management/project-budgets/${editingBudget.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          periodNumber: budgetForm.periodNumber,\n          startDate: budgetForm.startDate,\n          endDate: budgetForm.endDate,\n          // ÌòÑÍ∏à ÎπÑÎ™©Îì§ (Ï≤úÏõê Îã®ÏúÑÎ•º Ïõê Îã®ÏúÑÎ°ú Î≥ÄÌôò, Ïù∏Í±¥ÎπÑÎäî 100ÎßåÏõê Îã®ÏúÑÎ°ú Ï°∞Ï†ï)\n          personnelCostCash: fromThousands(budgetForm.personnelCostCash),\n          researchMaterialCostCash: fromThousands(budgetForm.researchMaterialCostCash),\n          researchActivityCostCash: fromThousands(budgetForm.researchActivityCostCash),\n          researchStipendCash: fromThousands(budgetForm.researchStipendCash),\n          indirectCostCash: fromThousands(budgetForm.indirectCostCash),\n          // ÌòÑÎ¨º ÎπÑÎ™©Îì§ (Ï≤úÏõê Îã®ÏúÑÎ•º Ïõê Îã®ÏúÑÎ°ú Î≥ÄÌôò)\n          personnelCostInKind: fromThousands(budgetForm.personnelCostInKind),\n          researchMaterialCostInKind: fromThousands(budgetForm.researchMaterialCostInKind),\n          researchActivityCostInKind: fromThousands(budgetForm.researchActivityCostInKind),\n          researchStipendInKind: fromThousands(budgetForm.researchStipendInKind),\n          indirectCostInKind: fromThousands(budgetForm.indirectCostInKind)\n        })\n      })\n\n      if (response.ok) {\n        const result = await response.json()\n        showBudgetModal = false\n        editingBudget = null\n        budgetForm = {\n          periodNumber: 1,\n          startDate: '',\n          endDate: '',\n          personnelCostCash: '',\n          researchMaterialCostCash: '',\n          researchActivityCostCash: '',\n          researchStipendCash: '',\n          indirectCostCash: '',\n          personnelCostInKind: '',\n          researchMaterialCostInKind: '',\n          researchActivityCostInKind: '',\n          researchStipendInKind: '',\n          indirectCostInKind: ''\n        }\n        await loadProjectBudgets()\n        // ÏòàÏÇ∞ ÏàòÏ†ï ÌõÑ ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n        updateProjectPeriodFromBudgets()\n        // ÏòàÏÇ∞ ÏöîÏïΩ ÏÉàÎ°úÍ≥†Ïπ®\n        budgetRefreshTrigger++\n        dispatch('refresh')\n\n        // ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú\n        if (result.message) {\n          alert(result.message)\n        }\n      } else {\n        const errorData = await response.json()\n        alert(errorData.message || 'ÏÇ¨ÏóÖÎπÑ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('ÏÇ¨ÏóÖÎπÑ ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:', error)\n      alert('ÏÇ¨ÏóÖÎπÑ ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // ÏÇ¨ÏóÖÎπÑ ÏÇ≠Ï†ú\n  async function removeBudget(budgetId: string) {\n    if (!confirm('Ï†ïÎßêÎ°ú Ïù¥ ÏÇ¨ÏóÖÎπÑ Ìï≠Î™©ÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return\n\n    try {\n      const response = await fetch(`/api/project-management/project-budgets/${budgetId}`, {\n        method: 'DELETE'\n      })\n\n      if (response.ok) {\n        await loadProjectBudgets()\n        // ÏòàÏÇ∞ ÏÇ≠Ï†ú ÌõÑ ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n        updateProjectPeriodFromBudgets()\n        // ÏòàÏÇ∞ ÏöîÏïΩ ÏÉàÎ°úÍ≥†Ïπ®\n        budgetRefreshTrigger++\n        dispatch('refresh')\n      }\n    } catch (error) {\n      logger.error('ÏÇ¨ÏóÖÎπÑ ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï Ìèº Ï¥àÍ∏∞Ìôî\n  function initProjectForm() {\n    if (selectedProject) {\n      projectForm = {\n        title: selectedProject.title || '',\n        code: getProjectCode(selectedProject),\n        description: getProjectDescription(selectedProject),\n        status: getProjectStatus(selectedProject),\n        sponsorType: getProjectSponsorType(selectedProject),\n        priority: selectedProject.priority || 'medium',\n        researchType: selectedProject.research_type || selectedProject.researchType || 'applied'\n      }\n    }\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï\n  async function updateProject() {\n    if (!selectedProject) return\n\n    isUpdating = true\n    try {\n      const response = await fetch(`/api/project-management/projects/${selectedProject.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(projectForm)\n      })\n\n      const result = await response.json()\n\n      if (response.ok && result.success) {\n        // ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n        selectedProject = { ...selectedProject, ...result.data }\n        showEditProjectModal = false\n\n        // Î∂ÄÎ™® Ïª¥Ìè¨ÎÑåÌä∏Ïóê ÌîÑÎ°úÏ†ùÌä∏ ÏóÖÎç∞Ïù¥Ìä∏ Ïù¥Î≤§Ìä∏ Ï†ÑÏÜ°\n        dispatch('project-updated', {\n          projectId: selectedProject.id,\n          updatedProject: result.data\n        })\n\n        alert('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.')\n      } else {\n        alert(result.message || 'ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï Ïã§Ìå®:', error)\n      alert('ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      isUpdating = false\n    }\n  }\n\n  // ÏÇ≠Ï†ú ÌôïÏù∏ ÏΩîÎìú Í≤ÄÏ¶ù\n  function isDeleteCodeValid(): boolean {\n    return deleteConfirmationCode === selectedProject?.code\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú\n  async function deleteProject() {\n    if (!selectedProject) return\n\n    // ÏÇ≠Ï†ú ÌôïÏù∏ ÏΩîÎìú Í≤ÄÏ¶ù\n    if (!isDeleteCodeValid()) {\n      alert('ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÍ∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§. Ï†ïÌôïÌïú ÏΩîÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    isDeleting = true\n    try {\n      const response = await fetch(`/api/project-management/projects/${selectedProject.id}`, {\n        method: 'DELETE'\n      })\n\n      const result = await response.json()\n\n      if (response.ok && result.success) {\n        showDeleteConfirmModal = false\n        deleteConfirmationCode = '' // ÏÇ≠Ï†ú ÌõÑ ÏΩîÎìú Ï¥àÍ∏∞Ìôî\n        dispatch('project-deleted', { projectId: selectedProject.id })\n        dispatch('refresh')\n      } else {\n        alert(result.message || 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n      alert('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      isDeleting = false\n    }\n  }\n\n  // ÏõîÍ∞ÑÍ∏àÏï° ÏûêÎèô Í≥ÑÏÇ∞ (Ï∞∏Ïó¨Í∏∞Í∞Ñ ÎÇ¥ Í≥ÑÏïΩ Ï†ïÎ≥¥ Í∏∞Î∞ò)\n  async function calculateMonthlyAmount(\n    employeeId: string,\n    participationRate: number | string,\n    startDate?: string,\n    endDate?: string\n  ): Promise<number> {\n    logger.log('calculateMonthlyAmount Ìò∏Ï∂ú:', {\n      employeeId,\n      participationRate,\n      startDate,\n      endDate,\n      type: typeof participationRate\n    })\n\n    // participationRateÎ•º Ïà´ÏûêÎ°ú Î≥ÄÌôò\n    const rate =\n      typeof participationRate === 'string' ? parseFloat(participationRate) : participationRate\n\n    if (!employeeId || !rate || isNaN(rate)) {\n      logger.log('employeeId ÎòêÎäî participationRateÍ∞Ä ÏóÜÍ±∞ÎÇò Ïú†Ìö®ÌïòÏßÄ ÏïäÏùå:', { employeeId, rate })\n      return 0\n    }\n\n    // Ï∞∏Ïó¨Í∏∞Í∞ÑÏù¥ ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í ÏÇ¨Ïö©\n    if (!startDate || !endDate) {\n      logger.log('Ï∞∏Ïó¨Í∏∞Í∞ÑÏù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏùå')\n      return 0\n    }\n\n    try {\n      // Ï∞∏Ïó¨Í∏∞Í∞Ñ ÎÇ¥Ïùò Í≥ÑÏïΩ Ï†ïÎ≥¥ Ï°∞Ìöå\n      const response = await fetch(\n        `/api/project-management/employees/${employeeId}/contract?startDate=${startDate}&endDate=${endDate}`\n      )\n      if (!response.ok) {\n        logger.log('Í≥ÑÏïΩ Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:', response.status)\n        return 0\n      }\n\n      const contractData = await response.json()\n      logger.log('Í≥ÑÏïΩ Ï†ïÎ≥¥:', contractData)\n\n      if (!contractData.success || !contractData.data) {\n        logger.log('Í≥ÑÏïΩ Ï†ïÎ≥¥Í∞Ä ÏóÜÏùå:', contractData.message)\n        if (contractData.debug) {\n          logger.log('ÎîîÎ≤ÑÍ∑∏ Ï†ïÎ≥¥:', contractData.debug)\n        }\n        return 0\n      }\n\n      const contract = contractData.data\n      const annualSalary = parseFloat(contract.annual_salary) || 0\n      logger.log('Í≥ÑÏïΩ Ïó∞Î¥â (ÏõêÎ≥∏):', contract.annual_salary)\n      logger.log('Í≥ÑÏïΩ Ïó∞Î¥â (Î≥ÄÌôò):', annualSalary)\n\n      if (annualSalary === 0) {\n        logger.log('Ïó∞Î¥âÏù¥ 0ÏõêÏûÑ')\n        return 0\n      }\n\n      // Ï§ëÏïôÌôîÎêú Í∏âÏó¨ Í≥ÑÏÇ∞ Ìï®Ïàò ÏÇ¨Ïö©\n      const monthlyAmount = calculateMonthlySalary(annualSalary, rate)\n      logger.log('Í≥ÑÏÇ∞Îêú ÏõîÍ∞ÑÍ∏àÏï°:', monthlyAmount)\n\n      return monthlyAmount\n    } catch (error) {\n      logger.error('ÏõîÍ∞ÑÍ∏àÏï° Í≥ÑÏÇ∞ Ï§ë Ïò§Î•ò:', error)\n      return 0\n    }\n  }\n\n  // ÏõîÍ∞ÑÍ∏àÏï° Í≥ÑÏÇ∞ Î∞è ÏóÖÎç∞Ïù¥Ìä∏\n  async function updateMonthlyAmount() {\n    if (\n      !memberForm.employeeId ||\n      !memberForm.participationRate ||\n      !memberForm.startDate ||\n      !memberForm.endDate\n    ) {\n      calculatedMonthlyAmount = 0\n      return\n    }\n\n    // ÏÇ¨Ïö©ÏûêÍ∞Ä ÏàòÎèôÏúºÎ°ú ÏõîÍ∞ÑÍ∏àÏï°ÏùÑ ÏûÖÎ†•Ìïú Í≤ΩÏö∞ ÏûêÎèô Í≥ÑÏÇ∞ÌïòÏßÄ ÏïäÏùå\n    if (isManualMonthlyAmount) {\n      calculatedMonthlyAmount = parseFloat(memberForm.monthlyAmount) || 0\n      return\n    }\n\n    isCalculatingMonthlyAmount = true\n    try {\n      const amount = await calculateMonthlyAmount(\n        memberForm.employeeId,\n        memberForm.participationRate,\n        memberForm.startDate,\n        memberForm.endDate\n      )\n      calculatedMonthlyAmount = amount\n    } catch (error) {\n      logger.error('ÏõîÍ∞ÑÍ∏àÏï° Í≥ÑÏÇ∞ Ïã§Ìå®:', error)\n      calculatedMonthlyAmount = 0\n    } finally {\n      isCalculatingMonthlyAmount = false\n    }\n  }\n\n  // Ï¢ÖÌï© Í≤ÄÏ¶ù Ïã§Ìñâ\n  async function runComprehensiveValidation() {\n    if (!selectedProject) return\n\n    isRunningValidation = true\n    try {\n      const response = await fetch(\n        `/api/project-management/comprehensive-validation?projectId=${selectedProject.id}&scope=all`\n      )\n      const result = await response.json()\n\n      validationResults = result\n\n      // Í≤ÄÏ¶ù ÌûàÏä§ÌÜ†Î¶¨Ïóê Ï∂îÍ∞Ä\n      validationHistory.unshift({\n        timestamp: new Date().toISOString(),\n        projectId: selectedProject.id,\n        results: result\n      })\n\n      // ÏµúÎåÄ 10Í∞úÍπåÏßÄÎßå Ïú†ÏßÄ\n      if (validationHistory.length > 10) {\n        validationHistory = validationHistory.slice(0, 10)\n      }\n\n      showValidationModal = true\n    } catch (error) {\n      logger.error('Í≤ÄÏ¶ù Ïã§Ìñâ Ïã§Ìå®:', error)\n      alert('Í≤ÄÏ¶ù Ïã§Ìñâ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      isRunningValidation = false\n    }\n  }\n\n  // Ï¶ùÎπô ÎÇ¥Ïó≠ Î™®Îã¨ ÌëúÏãú\n  function openEvidenceModal(budget) {\n    selectedBudgetForEvidence = budget\n    showEvidenceModal = true\n    loadEvidenceList(budget.id)\n  }\n\n  async function openEvidenceDetail(item) {\n    selectedEvidenceItem = item\n    showEvidenceDetailModal = true\n\n    // Ï¶ùÎπô Ìï≠Î™© ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î°úÎìú\n    if (item.id) {\n      try {\n        const response = await fetch(`/api/project-management/evidence/${item.id}`)\n        const result = await response.json()\n\n        if (result.success) {\n          selectedEvidenceItem = result.data\n        }\n      } catch (error) {\n        logger.error('Ï¶ùÎπô Ìï≠Î™© ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®:', error)\n      }\n    }\n  }\n\n  // Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨ Î°úÎìú\n  async function loadEvidenceCategories() {\n    try {\n      const response = await fetch('/api/project-management/evidence-categories')\n      const result = await response.json()\n\n      if (result.success) {\n        evidenceCategories = result.data\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // Ï¶ùÎπô Ìï≠Î™© Î°úÎìú (Î™®Îì† Ïó∞Ï∞®)\n  async function loadEvidenceItems() {\n    if (!selectedProject || projectBudgets.length === 0) return\n\n    try {\n      isLoadingEvidence = true\n      let allEvidenceItems = []\n\n      // Î™®Îì† Ïó∞Ï∞®Ïùò Ï¶ùÎπô Îç∞Ïù¥ÌÑ∞Î•º Î°úÎìú\n      for (const budget of projectBudgets) {\n        const response = await fetch(\n          `/api/project-management/evidence?projectBudgetId=${budget.id}`\n        )\n        const result = await response.json()\n\n        if (result.success) {\n          allEvidenceItems = [...allEvidenceItems, ...result.data]\n        }\n      }\n\n      evidenceItems = allEvidenceItems\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ìï≠Î™© Î°úÎìú Ïã§Ìå®:', error)\n    } finally {\n      isLoadingEvidence = false\n    }\n  }\n\n  // Ï¶ùÎπô Ìï≠Î™© Ï∂îÍ∞Ä\n  async function addEvidenceItem(categoryId, itemData) {\n    try {\n      const currentBudget =\n        projectBudgets.find(b => getPeriodNumber(b) === selectedEvidencePeriod) || projectBudgets[0]\n\n      const response = await fetch('/api/project-management/evidence', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          projectBudgetId: currentBudget.id,\n          categoryId: categoryId,\n          ...itemData\n        })\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await loadEvidenceItems()\n        return result.data\n      } else {\n        throw new Error(result.message)\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ìï≠Î™© Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n      throw error\n    }\n  }\n\n  // Ï¶ùÎπô Ìï≠Î™© ÏàòÏ†ï\n  async function updateEvidenceItem(itemId, updateData) {\n    try {\n      const response = await fetch(`/api/project-management/evidence/${itemId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updateData)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await loadEvidenceItems()\n        return result.data\n      } else {\n        throw new Error(result.message)\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ìï≠Î™© ÏàòÏ†ï Ïã§Ìå®:', error)\n      throw error\n    }\n  }\n\n  // Ï¶ùÎπô Ìï≠Î™© ÏÇ≠Ï†ú\n  async function deleteEvidenceItem(itemId) {\n    try {\n      const response = await fetch(`/api/project-management/evidence/${itemId}`, {\n        method: 'DELETE'\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await loadEvidenceItems()\n      } else {\n        throw new Error(result.message)\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ìï≠Î™© ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n      throw error\n    }\n  }\n\n  // Ï¶ùÎπô Ìï≠Î™© Ï∂îÍ∞Ä Ìï∏Îì§Îü¨\n  async function handleAddEvidenceItem() {\n    if (!newEvidenceForm.categoryId || !newEvidenceForm.name || !newEvidenceForm.budgetAmount) {\n      alert('ÌïÑÏàò ÌïÑÎìúÎ•º Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    try {\n      isUpdating = true\n\n      const selectedEmployee = availableEmployees.find(emp => emp.id === newEvidenceForm.assigneeId)\n      const assigneeName = createAssigneeNameFromEmployee(selectedEmployee)\n\n      await addEvidenceItem(newEvidenceForm.categoryId, {\n        name: newEvidenceForm.name,\n        description: newEvidenceForm.description,\n        budgetAmount: parseFloat(newEvidenceForm.budgetAmount),\n        assigneeId: newEvidenceForm.assigneeId,\n        assigneeName: assigneeName,\n        dueDate: newEvidenceForm.dueDate\n      })\n\n      // Ìèº Ï¥àÍ∏∞Ìôî\n      newEvidenceForm = {\n        categoryId: '',\n        name: '',\n        description: '',\n        budgetAmount: '',\n        assigneeId: '',\n        dueDate: ''\n      }\n\n      showEvidenceModal = false\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ìï≠Î™© Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n      alert('Ï¶ùÎπô Ìï≠Î™© Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    } finally {\n      isUpdating = false\n    }\n  }\n\n  // Ï¶ùÎπô ÎÇ¥Ïó≠ Î™©Î°ù Î°úÎìú\n  async function loadEvidenceList(budgetId) {\n    try {\n      const response = await fetch(\n        `/api/project-management/budget-evidence?projectBudgetId=${budgetId}`\n      )\n      if (response.ok) {\n        const data = await response.json()\n        evidenceList = data.data || []\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô ÎÇ¥Ïó≠ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // Ï¶ùÎπô Ïú†Ìòï Î™©Î°ù Î°úÎìú\n  async function loadEvidenceTypes() {\n    try {\n      const response = await fetch('/api/project-management/evidence-types')\n      if (response.ok) {\n        const data = await response.json()\n        evidenceTypes = data.data || []\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Ïú†Ìòï Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ Î∞òÌôò\n  function getStatusColor(\n    status: string\n  ): 'success' | 'warning' | 'info' | 'error' | 'default' | 'primary' | 'ghost' {\n    switch (status) {\n      case 'active':\n        return 'success'\n      case 'planning':\n        return 'warning'\n      case 'completed':\n        return 'info'\n      case 'cancelled':\n        return 'error'\n      case 'suspended':\n        return 'default'\n      default:\n        return 'default'\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÌÖçÏä§Ìä∏ Î∞òÌôò\n  function getStatusText(status: string) {\n    switch (status) {\n      case 'active':\n        return 'ÏßÑÌñâÏ§ë'\n      case 'planning':\n        return 'Í≥ÑÌöçÏ§ë'\n      case 'completed':\n        return 'ÏôÑÎ£å'\n      case 'cancelled':\n        return 'Ï∑®ÏÜå'\n      case 'suspended':\n        return 'Ï§ëÎã®'\n      default:\n        return status\n    }\n  }\n\n  // Ïö∞ÏÑ†ÏàúÏúÑÎ≥Ñ ÏÉâÏÉÅ Î∞òÌôò\n  function getPriorityColor(\n    priority: string\n  ): 'success' | 'warning' | 'info' | 'error' | 'default' | 'primary' | 'ghost' {\n    switch (priority) {\n      case 'critical':\n        return 'error'\n      case 'high':\n        return 'warning'\n      case 'medium':\n        return 'info'\n      case 'low':\n        return 'default'\n      default:\n        return 'default'\n    }\n  }\n\n  // Ïö∞ÏÑ†ÏàúÏúÑÎ≥Ñ ÌÖçÏä§Ìä∏ Î∞òÌôò\n  function getPriorityText(priority: string) {\n    switch (priority) {\n      case 'critical':\n        return 'Í∏¥Í∏â'\n      case 'high':\n        return 'ÎÜíÏùå'\n      case 'medium':\n        return 'Î≥¥ÌÜµ'\n      case 'low':\n        return 'ÎÇÆÏùå'\n      default:\n        return priority\n    }\n  }\n\n  // Ïä§Ìè∞ÏÑú Ïú†ÌòïÎ≥Ñ ÌÖçÏä§Ìä∏ Î∞òÌôò\n  function getSponsorTypeText(sponsorType: string) {\n    switch (sponsorType) {\n      case 'government':\n        return 'Ï†ïÎ∂Ä'\n      case 'private':\n        return 'ÎØºÍ∞Ñ'\n      case 'internal':\n        return 'ÎÇ¥Î∂Ä'\n      default:\n        return sponsorType\n    }\n  }\n\n  // Ïó∞Íµ¨ Ïú†ÌòïÎ≥Ñ ÌÖçÏä§Ìä∏ Î∞òÌôò\n  function getResearchTypeText(researchType: string) {\n    switch (researchType) {\n      case 'basic':\n        return 'Í∏∞Ï¥àÏó∞Íµ¨'\n      case 'applied':\n        return 'ÏùëÏö©Ïó∞Íµ¨'\n      case 'development':\n        return 'Í∞úÎ∞úÏó∞Íµ¨'\n      default:\n        return researchType\n    }\n  }\n\n  // Ïó∞Ï∞® Í∏∞Í∞Ñ Í≥ÑÏÇ∞ (Í∞úÏõî Ïàò)\n  function calculatePeriodMonths(startDate: string, endDate: string): number {\n    if (!startDate || !endDate) return 0\n\n    const start = new Date(startDate)\n    const end = new Date(endDate)\n    const diffTime = Math.abs(end.getTime() - start.getTime())\n    const diffMonths = Math.ceil(diffTime / (1000 * 60 * 60 * 24 * 30.44)) // ÌèâÍ∑† Ïõî ÏùºÏàò\n\n    return diffMonths\n  }\n\n  // Ï≤úÏõê Îã®ÏúÑÎ°ú Î≥ÄÌôò (ÏûÖÎ†•Ïö©)\n  function toThousands(value: string | number): string {\n    const num = typeof value === 'string' ? parseFloat(value) : value\n    return (num / 1000).toString()\n  }\n\n  // Ï≤úÏõê Îã®ÏúÑÏóêÏÑú Ïõê Îã®ÏúÑÎ°ú Î≥ÄÌôò (Ï†ÄÏû•Ïö©)\n  function fromThousands(value: string): number {\n    const num = parseFloat(value) || 0\n    return num * 1000\n  }\n\n  // ÏÇ¨ÏóÖÎπÑ Ìï©Í≥Ñ Í≥ÑÏÇ∞\n  function calculateBudgetTotals() {\n    if (!projectBudgets || projectBudgets.length === 0) {\n      return {\n        personnelCash: 0,\n        personnelInKind: 0,\n        researchMaterialCash: 0,\n        researchMaterialInKind: 0,\n        researchActivityCash: 0,\n        researchActivityInKind: 0,\n        indirectCash: 0,\n        indirectInKind: 0,\n        totalCash: 0,\n        totalInKind: 0,\n        totalBudget: 0\n      }\n    }\n\n    const totals = projectBudgets.reduce(\n      (acc, budget) => {\n        // Î™®Îì† Ìï≠Î™©ÏùÑ ÏòàÏÇ∞ Ìé∏ÏÑ± Îç∞Ïù¥ÌÑ∞ÏóêÏÑú ÏßÅÏ†ë Í∞ÄÏ†∏Ïò§Í∏∞ (ÎØ∏Îûò Í∏∞Í∞Ñ Íµ¨Î∂Ñ ÏóÜÏù¥)\n        acc.personnelCash += parseFloat(budget.personnel_cost_cash) || 0\n        acc.personnelInKind += parseFloat(budget.personnel_cost_in_kind) || 0\n        acc.researchMaterialCash += parseFloat(budget.research_material_cost_cash) || 0\n        acc.researchMaterialInKind += parseFloat(budget.research_material_cost_in_kind) || 0\n        acc.researchActivityCash += parseFloat(budget.research_activity_cost_cash) || 0\n        acc.researchActivityInKind += parseFloat(budget.research_activity_cost_in_kind) || 0\n        acc.researchStipendCash += parseFloat(budget.research_stipend_cash) || 0\n        acc.researchStipendInKind += parseFloat(budget.research_stipend_in_kind) || 0\n        acc.indirectCash += parseFloat(budget.indirect_cost_cash) || 0\n        acc.indirectInKind += parseFloat(budget.indirect_cost_in_kind) || 0\n\n        return acc\n      },\n      {\n        personnelCash: 0,\n        personnelInKind: 0,\n        researchMaterialCash: 0,\n        researchMaterialInKind: 0,\n        researchActivityCash: 0,\n        researchActivityInKind: 0,\n        researchStipendCash: 0,\n        researchStipendInKind: 0,\n        indirectCash: 0,\n        indirectInKind: 0,\n        totalBudget: 0,\n        totalSpent: 0\n      }\n    )\n\n    // Ï¥ù ÏòàÏÇ∞ÏùÄ Í∞Å ÎπÑÎ™©Ïùò Ìï©Í≥ÑÎ°ú ÏßÅÏ†ë Í≥ÑÏÇ∞ (reduce Ïô∏Î∂ÄÏóêÏÑú)\n    totals.totalBudget =\n      totals.personnelCash +\n      totals.personnelInKind +\n      totals.researchMaterialCash +\n      totals.researchMaterialInKind +\n      totals.researchActivityCash +\n      totals.researchActivityInKind +\n      totals.researchStipendCash +\n      totals.researchStipendInKind +\n      totals.indirectCash +\n      totals.indirectInKind\n\n    totals.totalCash =\n      totals.personnelCash +\n      totals.researchMaterialCash +\n      totals.researchActivityCash +\n      totals.researchStipendCash +\n      totals.indirectCash\n    totals.totalInKind =\n      totals.personnelInKind +\n      totals.researchMaterialInKind +\n      totals.researchActivityInKind +\n      totals.researchStipendInKind +\n      totals.indirectInKind\n\n    return totals\n  }\n\n  // Ïù∏Í±¥ÎπÑ ÏöîÏïΩ Í≥ÑÏÇ∞ (Ìï¥Îãπ Ïó∞Ï∞®Ïùò Ïù∏Í±¥ÎπÑ Ìï©Í≥Ñ Î∞è ÏõîÎ≥Ñ ÏÉÅÏÑ∏)\n  function calculatePersonnelCostSummary() {\n    if (\n      !projectMembers ||\n      projectMembers.length === 0 ||\n      !projectBudgets ||\n      projectBudgets.length === 0\n    ) {\n      return {\n        totalCash: 0,\n        totalInKind: 0,\n        totalCost: 0,\n        monthlyCosts: [],\n        periodInfo: null\n      }\n    }\n\n    // ÌòÑÏû¨ Ïó∞Ï∞®Ïùò Ï≤´ Î≤àÏß∏ ÏÇ¨ÏóÖÎπÑ Ï†ïÎ≥¥Î•º Í∏∞Ï§ÄÏúºÎ°ú Í∏∞Í∞Ñ ÏÑ§Ï†ï\n    const currentBudget = projectBudgets[0]\n    if (!currentBudget.start_date || !currentBudget.end_date) {\n      return {\n        totalCash: 0,\n        totalInKind: 0,\n        totalCost: 0,\n        monthlyCosts: [],\n        periodInfo: null\n      }\n    }\n\n    const startDate = new Date(currentBudget.start_date)\n    const endDate = new Date(currentBudget.end_date)\n\n    let totalCash = 0\n    let totalInKind = 0\n    const monthlyCosts = []\n\n    // ÏõîÎ≥Ñ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±\n    const currentDate = new Date(startDate)\n    let monthIndex = 1\n\n    while (currentDate <= endDate) {\n      const year = currentDate.getFullYear()\n      const month = currentDate.getMonth() + 1\n      const monthName = currentDate.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long' })\n\n      let monthlyCash = 0\n      let monthlyInKind = 0\n\n      // Í∞Å Î©§Î≤ÑÏùò Ìï¥Îãπ Ïõî Ïù∏Í±¥ÎπÑ Í≥ÑÏÇ∞\n      projectMembers.forEach(member => {\n        const memberStartDate = new Date(member.startDate || member.start_date)\n        const memberEndDate = new Date(member.endDate || member.end_date)\n        const monthStart = new Date(year, month - 1, 1)\n        const monthEnd = new Date(year, month, 0) // Ìï¥Îãπ ÏõîÏùò ÎßàÏßÄÎßâ ÎÇ†\n\n        // Ìï¥Îãπ ÏõîÏóê Ï∞∏Ïó¨ÌïòÎäîÏßÄ ÌôïÏù∏\n        if (memberStartDate <= monthEnd && memberEndDate >= monthStart) {\n          const memberMonthlyCost = parseFloat(member.monthlyAmount || member.monthly_amount) || 0\n\n          if ((member.contributionType || member.contribution_type) === 'cash') {\n            monthlyCash += memberMonthlyCost\n          } else {\n            monthlyInKind += memberMonthlyCost\n          }\n        }\n      })\n\n      monthlyCosts.push({\n        month: monthIndex,\n        year: year,\n        monthNumber: month,\n        monthName: monthName,\n        cash: monthlyCash,\n        inKind: monthlyInKind,\n        total: monthlyCash + monthlyInKind\n      })\n\n      // Îã§Ïùå Îã¨Î°ú Ïù¥Îèô\n      currentDate.setMonth(currentDate.getMonth() + 1)\n      monthIndex++\n    }\n\n    // Ï¥ùÌï© Í≥ÑÏÇ∞\n    totalCash = monthlyCosts.reduce((sum, month) => sum + month.cash, 0)\n    totalInKind = monthlyCosts.reduce((sum, month) => sum + month.inKind, 0)\n    const totalCost = totalCash + totalInKind\n\n    return {\n      totalCash,\n      totalInKind,\n      totalCost,\n      monthlyCosts,\n      periodInfo: {\n        startDate: getStartDate(currentBudget),\n        endDate: getEndDate(currentBudget),\n        periodNumber: getPeriodNumber(currentBudget)\n      }\n    }\n  }\n\n  // Ï¥àÍ∏∞Ìôî\n  $effect(() => {\n    if (selectedProject && selectedProject.id) {\n      loadProjectMembers()\n      loadProjectBudgets()\n      loadBudgetCategories()\n      loadAvailableEmployees()\n      loadEvidenceTypes()\n      loadEvidenceCategories()\n    }\n  })\n\n  // Svelte 5: Ï¶ùÎπô Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    if (selectedProject && projectBudgets.length > 0) {\n      loadEvidenceItems()\n    }\n  })\n</script>\n\n{#if selectedProject}\n  <div class=\"space-y-6\">\n    <!-- ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n    <ThemeCard class=\"p-6\">\n      <!-- Ìó§Îçî: Ï†úÎ™©Í≥º Ïï°ÏÖò Î≤ÑÌäº -->\n      <div class=\"flex items-start justify-between mb-6\">\n        <div class=\"flex-1\">\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©Í≥º ÏΩîÎìú -->\n          <div class=\"flex items-center gap-3 mb-3\">\n            <h2 class=\"text-2xl font-bold text-gray-900\">{selectedProject.title}</h2>\n            <span class=\"text-sm text-gray-500 font-mono\">{selectedProject.code}</span>\n          </div>\n\n          <!-- ÏÉÅÌÉú Î∞è Ïö∞ÏÑ†ÏàúÏúÑ ÌÉúÍ∑∏ -->\n          <div class=\"flex items-center gap-2 mb-3\">\n            <ThemeBadge\n              variant={getStatusColor(selectedProject.status)}\n              size=\"md\">\n              {getStatusText(selectedProject.status)}\n            </ThemeBadge>\n            <ThemeBadge\n              variant={getPriorityColor(selectedProject.priority)}\n              size=\"md\">\n              {getPriorityText(selectedProject.priority)}\n            </ThemeBadge>\n            <ThemeBadge\n              variant=\"info\"\n              size=\"md\">\n              {getSponsorTypeText(selectedProject.sponsor_type || selectedProject.sponsorType)}\n            </ThemeBadge>\n            <ThemeBadge\n              variant=\"primary\"\n              size=\"md\">\n              {getResearchTypeText(selectedProject.research_type || selectedProject.researchType)}\n            </ThemeBadge>\n          </div>\n\n          {#if selectedProject.description}\n            <p class=\"text-gray-700 mb-3\">{selectedProject.description}</p>\n          {/if}\n\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ (Ïó∞Ï∞® Ï†ïÎ≥¥ Í∏∞Î∞ò) -->\n          <div class=\"flex items-center text-sm text-gray-600\">\n            <CalendarIcon\n              size={16}\n              class=\"mr-2 text-orange-600\" />\n            <span id=\"project-period\">Ïó∞Ï∞® Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</span>\n          </div>\n        </div>\n\n        <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n        <div class=\"flex gap-2 ml-4\">\n          <ThemeButton\n            variant=\"primary\"\n            size=\"sm\"\n            onclick={() => {\n              initProjectForm()\n              showEditProjectModal = true\n            }}\n          >\n            <EditIcon\n              size={16}\n              class=\"mr-2\" />\n            Ï†ïÎ≥¥ ÏàòÏ†ï\n          </ThemeButton>\n          <ThemeButton\n            variant=\"primary\"\n            size=\"sm\"\n            onclick={() => dispatch('showBudgetModal')}>\n            <DollarSignIcon\n              size={16}\n              class=\"mr-2\" />\n            ÏòàÏÇ∞ ÏàòÏ†ï\n          </ThemeButton>\n          <ThemeButton\n            variant=\"error\"\n            size=\"sm\"\n            onclick={() => (showDeleteConfirmModal = true)}>\n            <TrashIcon\n              size={16}\n              class=\"mr-2\" />\n            ÏÇ≠Ï†ú\n          </ThemeButton>\n        </div>\n      </div>\n\n      <!-- ÏÇ¨ÏóÖÎπÑ ÏòàÏÇ∞ -->\n      <div class=\"bg-gray-50 rounded-lg p-6\">\n        {#await import('$lib/components/project-management/ProjectBudgetSummary.svelte')}\n          <div class=\"flex items-center justify-center py-4\">\n            <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600\"></div>\n            <span class=\"ml-2 text-gray-600 text-sm\">Î°úÎî© Ï§ë...</span>\n          </div>\n        {:then { default: ProjectBudgetSummary }}\n          <ProjectBudgetSummary\n            projectId={selectedProject.id}\n            compact={true}\n            refreshTrigger={budgetRefreshTrigger}\n          />\n        {:catch error}\n          <div class=\"text-center py-4 text-gray-500\">\n            <p class=\"text-sm\">ÏòàÏÇ∞ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.</p>\n          </div>\n        {/await}\n      </div>\n    </ThemeCard>\n\n    <!-- Ïó∞Ï∞®Î≥Ñ ÏÇ¨ÏóÖÎπÑ Í¥ÄÎ¶¨ -->\n    <ThemeCard class=\"p-6\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">Ïó∞Íµ¨Í∞úÎ∞úÎπÑ</h3>\n        <div class=\"flex gap-2\">\n          <ThemeButton\n            onclick={runComprehensiveValidation}\n            size=\"sm\"\n            disabled={isRunningValidation}\n          >\n            <ShieldCheckIcon\n              size={16}\n              class=\"mr-2\" />\n            {isRunningValidation ? 'Í≤ÄÏ¶ù Ï§ë...' : 'Í≤ÄÏ¶ù Ïã§Ìñâ'}\n          </ThemeButton>\n          <ThemeButton\n            onclick={() => (showBudgetModal = true)}\n            size=\"sm\">\n            <PlusIcon\n              size={16}\n              class=\"mr-2\" />\n            ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞Ä\n          </ThemeButton>\n        </div>\n      </div>\n\n      <!-- Îã®ÏúÑ ÏïàÎÇ¥ -->\n      <div class=\"mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"text-sm text-gray-700\">\n            <span class=\"font-medium\">Í∏àÏï° Îã®ÏúÑ: Ï≤úÏõê</span>\n            <span class=\"ml-4 text-gray-600\"> (ÌòÑÍ∏à) | (ÌòÑÎ¨º) </span>\n          </div>\n          <div class=\"text-xs text-gray-600\">Ïòà: 1,000 = 1,000Ï≤úÏõê</div>\n        </div>\n      </div>\n\n      <div class=\"overflow-x-auto\">\n        <table\n          class=\"w-full divide-y divide-gray-200\"\n          style:min-width=\"100%\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24\"\n              >Ïó∞Ï∞®</th\n              >\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                <div>Ïù∏Í±¥ÎπÑ</div>\n              </th>\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                <div>Ïó∞Íµ¨Ïû¨Î£åÎπÑ</div>\n              </th>\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                <div>Ïó∞Íµ¨ÌôúÎèôÎπÑ</div>\n              </th>\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                <div>Ïó∞Íµ¨ÏàòÎãπ</div>\n              </th>\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                <div>Í∞ÑÏ†ëÎπÑ</div>\n              </th>\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                <div>Ï¥ù ÏòàÏÇ∞</div>\n              </th>\n              <th class=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-32\"\n              >Ïï°ÏÖò</th\n              >\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            {#each projectBudgets as budget, i (i)}\n              {@const totalBudget =\n                getPersonnelCostCash(budget) +\n                  getPersonnelCostInKind(budget) +\n                  getResearchMaterialCostCash(budget) +\n                  getResearchMaterialCostInKind(budget) +\n                  getResearchActivityCostCash(budget) +\n                  getResearchActivityCostInKind(budget) +\n                  getResearchStipendCash(budget) +\n                  getResearchStipendInKind(budget) +\n                  getIndirectCostCash(budget) +\n                  getIndirectCostInKind(budget)}\n              {@const personnelCash = Number(getPersonnelCostCash(budget)) || 0}\n              {@const materialCash = Number(getResearchMaterialCostCash(budget)) || 0}\n              {@const activityCash = Number(getResearchActivityCostCash(budget)) || 0}\n              {@const stipendCash = Number(getResearchStipendCash(budget)) || 0}\n              {@const indirectCash = Number(getIndirectCostCash(budget)) || 0}\n              {@const cashTotal =\n                personnelCash + materialCash + activityCash + stipendCash + indirectCash}\n              {@const personnelInKind = Number(getPersonnelCostInKind(budget)) || 0}\n              {@const materialInKind = Number(getResearchMaterialCostInKind(budget)) || 0}\n              {@const activityInKind = Number(getResearchActivityCostInKind(budget)) || 0}\n              {@const stipendInKind = Number(getResearchStipendInKind(budget)) || 0}\n              {@const indirectInKind = Number(getIndirectCostInKind(budget)) || 0}\n              {@const inKindTotal =\n                personnelInKind + materialInKind + activityInKind + stipendInKind + indirectInKind}\n              <tr class=\"hover:bg-gray-50\">\n                <!-- Ïó∞Ï∞® -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 w-24\">\n                  <div\n                    class=\"text-sm cursor-help\"\n                    title={formatPeriodTooltip(budget)}>\n                    <div class=\"font-medium\">{formatPeriodDisplay(budget)}</div>\n                    <div class=\"text-xs text-gray-500 mt-1\">ÌòÑÍ∏à | ÌòÑÎ¨º</div>\n                  </div>\n                </td>\n                <!-- Ïù∏Í±¥ÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(personnelCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(personnelInKind, false)}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ïó∞Íµ¨Ïû¨Î£åÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(materialCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">{formatCurrency(materialInKind, false)}</div>\n                  </div>\n                </td>\n                <!-- Ïó∞Íµ¨ÌôúÎèôÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(activityCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">{formatCurrency(activityInKind, false)}</div>\n                  </div>\n                </td>\n                <!-- Ïó∞Íµ¨ÏàòÎãπ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(stipendCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">{formatCurrency(stipendInKind, false)}</div>\n                  </div>\n                </td>\n                <!-- Í∞ÑÏ†ëÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(indirectCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">{formatCurrency(indirectInKind, false)}</div>\n                  </div>\n                </td>\n                <!-- Ï¥ù ÏòàÏÇ∞ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right\"\n                >\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-semibold\">\n                      {formatCurrency(cashTotal, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600 font-semibold\">\n                      {formatCurrency(inKindTotal, false)}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ïï°ÏÖò -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm font-medium w-32\">\n                  <div class=\"flex space-x-1 justify-center\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => editBudget(budget)}>\n                      <EditIcon\n                        size={16}\n                        class=\"text-blue-600 mr-1\" />\n                      ÏàòÏ†ï\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => removeBudget(budget.id)}>\n                      <TrashIcon\n                        size={16}\n                        class=\"text-red-600 mr-1\" />\n                      ÏÇ≠Ï†ú\n                    </ThemeButton>\n                  </div>\n                </td>\n              </tr>\n            {:else}\n              <tr>\n                <td\n                  colspan=\"7\"\n                  class=\"px-4 py-12 text-center text-gray-500\">\n                  <DollarSignIcon\n                    size={48}\n                    class=\"mx-auto mb-2 text-gray-300\" />\n                  <p>Îì±Î°ùÎêú ÏÇ¨ÏóÖÎπÑÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\n                </td>\n              </tr>\n            {/each}\n\n            <!-- Ìï©Í≥Ñ Ìñâ -->\n            {#if projectBudgets && projectBudgets.length > 0}\n              {@const totals = calculateBudgetTotals()}\n              <tr class=\"bg-gray-100 border-t-2 border-gray-300\">\n                <!-- Ïó∞Ï∞® -->\n                <td class=\"px-6 py-6 whitespace-nowrap text-sm text-gray-900 w-24\">\n                  <div class=\"text-center\">\n                    <div class=\"font-medium\">Ìï©Í≥Ñ</div>\n                    <div class=\"text-xs text-gray-600\">{projectBudgets.length}Í∞ú Ïó∞Ï∞®</div>\n                  </div>\n                </td>\n                <!-- Ïù∏Í±¥ÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(totals.personnelCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(totals.personnelInKind, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-800 font-medium border-t pt-2\">\n                      ÏÜåÍ≥Ñ: {formatCurrency(\n                        (totals.personnelCash || 0) + (totals.personnelInKind || 0),\n                        false\n                      )}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ïó∞Íµ¨Ïû¨Î£åÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(totals.researchMaterialCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(totals.researchMaterialInKind, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-800 font-medium border-t pt-2\">\n                      ÏÜåÍ≥Ñ: {formatCurrency(\n                        (totals.researchMaterialCash || 0) + (totals.researchMaterialInKind || 0),\n                        false\n                      )}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ïó∞Íµ¨ÌôúÎèôÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(totals.researchActivityCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(totals.researchActivityInKind, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-800 font-medium border-t pt-2\">\n                      ÏÜåÍ≥Ñ: {formatCurrency(\n                        (totals.researchActivityCash || 0) + (totals.researchActivityInKind || 0),\n                        false\n                      )}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ïó∞Íµ¨ÏàòÎãπ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(totals.researchStipendCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(totals.researchStipendInKind, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-800 font-medium border-t pt-2\">\n                      ÏÜåÍ≥Ñ: {formatCurrency(\n                        (totals.researchStipendCash || 0) + (totals.researchStipendInKind || 0),\n                        false\n                      )}\n                    </div>\n                  </div>\n                </td>\n                <!-- Í∞ÑÏ†ëÎπÑ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(totals.indirectCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(totals.indirectInKind, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-800 font-medium border-t pt-2\">\n                      ÏÜåÍ≥Ñ: {formatCurrency(\n                        (totals.indirectCash || 0) + (totals.indirectInKind || 0),\n                        false\n                      )}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ï¥ù ÏòàÏÇ∞ (ÌòÑÍ∏à/ÌòÑÎ¨º) -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-blue-600 font-medium\">\n                      {formatCurrency(totals.totalCash, false)}\n                    </div>\n                    <div class=\"text-sm text-gray-600\">\n                      {formatCurrency(totals.totalInKind, false)}\n                    </div>\n                    <div class=\"text-base text-gray-900 font-bold border-t-2 pt-2\">\n                      Ï¥ùÍ≥Ñ: {formatCurrency(totals.totalBudget, false)}\n                    </div>\n                  </div>\n                </td>\n                <!-- Ïï°ÏÖò -->\n                <td class=\"px-4 py-4 whitespace-nowrap text-sm font-medium w-32\">\n                  <div class=\"text-sm text-gray-500 text-center\">-</div>\n                </td>\n              </tr>\n            {/if}\n          </tbody>\n        </table>\n      </div>\n    </ThemeCard>\n  </div>\n\n  <!-- ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞Ä/Ìé∏Ïßë Î™®Îã¨ -->\n  <ThemeModal\n    open={showBudgetModal}\n    onclose={() => {\n      showBudgetModal = false\n      editingBudget = null\n      budgetForm = {\n        periodNumber: 1,\n        startDate: '',\n        endDate: '',\n        personnelCostCash: '',\n        researchMaterialCostCash: '',\n        researchActivityCostCash: '',\n        researchStipendCash: '',\n        indirectCostCash: '',\n        personnelCostInKind: '',\n        researchMaterialCostInKind: '',\n        researchActivityCostInKind: '',\n        researchStipendInKind: '',\n        indirectCostInKind: ''\n      }\n    }}\n    size=\"lg\"\n  >\n    <div class=\"space-y-6\">\n      <!-- Î™®Îã¨ Ï†úÎ™© -->\n      <div class=\"flex justify-between items-center mb-4\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">\n          {editingBudget ? 'ÏÇ¨ÏóÖÎπÑ Ìé∏Ïßë' : 'ÏÇ¨ÏóÖÎπÑ Ï∂îÍ∞Ä'}\n        </h3>\n      </div>\n\n      <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n      <div class=\"space-y-4\">\n        <div class=\"grid grid-cols-3 gap-4\">\n          <div>\n            <label\n              for=\"pm-budget-period-number\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">Ïó∞Ï∞® Î≤àÌò∏ *</label\n            >\n            <input\n              id=\"pm-budget-period-number\"\n              type=\"number\"\n              bind:value={budgetForm.periodNumber}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"1\"\n              max=\"10\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"pm-budget-start-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >ÏãúÏûëÏùº *</label\n            >\n            <input\n              id=\"pm-budget-start-date\"\n              type=\"date\"\n              bind:value={budgetForm.startDate}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"pm-budget-end-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >Ï¢ÖÎ£åÏùº *</label\n            >\n            <input\n              id=\"pm-budget-end-date\"\n              type=\"date\"\n              bind:value={budgetForm.endDate}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- ÏßÅÏ†ëÎπÑ -->\n      <div class=\"space-y-4\">\n        <h4 class=\"text-lg font-medium text-gray-900\">ÏßÅÏ†ëÎπÑ</h4>\n\n        <!-- Ïù∏Í±¥ÎπÑ -->\n        <div class=\"space-y-2\">\n          <div class=\"block text-sm font-medium text-gray-700\">Ïù∏Í±¥ÎπÑ</div>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"pm-budget-personnel-cash\"\n                class=\"block text-xs text-gray-500 mb-1\"\n              >ÌòÑÍ∏à (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-personnel-cash\"\n                type=\"number\"\n                bind:value={budgetForm.personnelCostCash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"pm-budget-personnel-in-kind\"\n                class=\"block text-xs text-gray-500 mb-1\"\n              >ÌòÑÎ¨º (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-personnel-in-kind\"\n                type=\"number\"\n                bind:value={budgetForm.personnelCostInKind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <!-- Ïó∞Íµ¨Ïû¨Î£åÎπÑ -->\n        <div class=\"space-y-2\">\n          <div class=\"block text-sm font-medium text-gray-700\">Ïó∞Íµ¨Ïû¨Î£åÎπÑ</div>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"pm-budget-research-material-cash\"\n                class=\"block text-xs text-gray-500 mb-1\"\n              >ÌòÑÍ∏à (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-research-material-cash\"\n                type=\"number\"\n                bind:value={budgetForm.researchMaterialCostCash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"pm-budget-research-material-in-kind\"\n                class=\"block text-xs text-gray-500 mb-1\">ÌòÑÎ¨º (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-research-material-in-kind\"\n                type=\"number\"\n                bind:value={budgetForm.researchMaterialCostInKind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <!-- Ïó∞Íµ¨ÌôúÎèôÎπÑ -->\n        <div class=\"space-y-2\">\n          <div class=\"block text-sm font-medium text-gray-700\">Ïó∞Íµ¨ÌôúÎèôÎπÑ</div>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"pm-budget-research-activity-cash\"\n                class=\"block text-xs text-gray-500 mb-1\"\n              >ÌòÑÍ∏à (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-research-activity-cash\"\n                type=\"number\"\n                bind:value={budgetForm.researchActivityCostCash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"pm-budget-research-activity-in-kind\"\n                class=\"block text-xs text-gray-500 mb-1\">ÌòÑÎ¨º (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-research-activity-in-kind\"\n                type=\"number\"\n                bind:value={budgetForm.researchActivityCostInKind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Ïó∞Íµ¨ÏàòÎãπ -->\n      <div class=\"space-y-4\">\n        <h4 class=\"text-lg font-medium text-gray-900\">Ïó∞Íµ¨ÏàòÎãπ</h4>\n        <div class=\"space-y-2\">\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"pm-budget-research-stipend-cash\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >\n                Ïó∞Íµ¨ÏàòÎãπ (ÌòÑÍ∏à)\n              </label>\n              <input\n                id=\"pm-budget-research-stipend-cash\"\n                type=\"number\"\n                bind:value={budgetForm.researchStipendCash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"pm-budget-research-stipend-in-kind\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >\n                Ïó∞Íµ¨ÏàòÎãπ (ÌòÑÎ¨º)\n              </label>\n              <input\n                id=\"pm-budget-research-stipend-in-kind\"\n                type=\"number\"\n                bind:value={budgetForm.researchStipendInKind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Í∞ÑÏ†ëÎπÑ -->\n      <div class=\"space-y-4\">\n        <h4 class=\"text-lg font-medium text-gray-900\">Í∞ÑÏ†ëÎπÑ</h4>\n        <div class=\"space-y-2\">\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"pm-budget-indirect-cash\"\n                class=\"block text-xs text-gray-500 mb-1\"\n              >ÌòÑÍ∏à (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-indirect-cash\"\n                type=\"number\"\n                bind:value={budgetForm.indirectCostCash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"pm-budget-indirect-in-kind\"\n                class=\"block text-xs text-gray-500 mb-1\"\n              >ÌòÑÎ¨º (Ï≤úÏõê)</label\n              >\n              <input\n                id=\"pm-budget-indirect-in-kind\"\n                type=\"number\"\n                bind:value={budgetForm.indirectCostInKind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex justify-end space-x-3 mt-6\">\n      <ThemeButton\n        variant=\"ghost\"\n        onclick={() => {\n          showBudgetModal = false\n          editingBudget = null\n          budgetForm = {\n            periodNumber: 1,\n            startDate: '',\n            endDate: '',\n            personnelCostCash: '',\n            researchMaterialCostCash: '',\n            researchActivityCostCash: '',\n            researchStipendCash: '',\n            indirectCostCash: '',\n            personnelCostInKind: '',\n            researchMaterialCostInKind: '',\n            researchActivityCostInKind: '',\n            researchStipendInKind: '',\n            indirectCostInKind: ''\n          }\n        }}\n      >\n        Ï∑®ÏÜå\n      </ThemeButton>\n      <ThemeButton onclick={editingBudget ? updateBudget : addBudget}>\n        {editingBudget ? 'ÏàòÏ†ï' : 'Ï∂îÍ∞Ä'}\n      </ThemeButton>\n    </div>\n  </ThemeModal>\n\n  <!-- Ïó∞Íµ¨Ïõê Ï∂îÍ∞Ä Ìèº Ïπ¥Îìú -->\n  {#if addingMember}\n    <ThemeCard class=\"p-6 mb-6 border-green-200 bg-gradient-to-r from-green-50 to-emerald-50\">\n      <div class=\"flex items-center mb-4\">\n        <div class=\"w-1 h-6 bg-green-500 rounded-full mr-3\"></div>\n        <h3 class=\"text-lg font-semibold text-green-800\">Ïó∞Íµ¨Ïõê Ï∂îÍ∞Ä</h3>\n      </div>\n\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <!-- Ïó∞Íµ¨Ïõê ÏÑ†ÌÉù -->\n        <div>\n          <label\n            for=\"member-employee-select\"\n            class=\"block text-sm font-medium text-gray-700 mb-2\"\n          >Ïó∞Íµ¨Ïõê</label\n          >\n          <select\n            id=\"member-employee-select\"\n            bind:value={memberForm.employeeId}\n            class=\"w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm font-medium bg-white shadow-sm\"\n            onchange={() => {\n              isManualMonthlyAmount = false\n              updateMonthlyAmount()\n            }}\n          >\n            <option value=\"\">üë• Ïó∞Íµ¨Ïõê ÏÑ†ÌÉù ({availableEmployees.length}Î™Ö)</option>\n            {#each availableEmployees as employee, i (i)}\n              <option value={employee.id}\n              >{formatKoreanName(employee.name)} ({employee.department})</option\n              >\n            {/each}\n          </select>\n        </div>\n\n        <!-- Ïó≠Ìï† -->\n        <div>\n          <label\n            for=\"member-role-select\"\n            class=\"block text-sm font-medium text-gray-700 mb-2\"\n          >Ïó≠Ìï†</label\n          >\n          <select\n            id=\"member-role-select\"\n            bind:value={memberForm.role}\n            class=\"w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm font-medium bg-white shadow-sm\"\n          >\n            <option value=\"researcher\">üë®‚Äçüî¨ Ïó∞Íµ¨Ïõê</option>\n            <option value=\"lead\">üëë Ïó∞Íµ¨Ï±ÖÏûÑÏûê</option>\n            <option value=\"support\">ü§ù ÏßÄÏõê</option>\n          </select>\n        </div>\n\n        <!-- Ï∞∏Ïó¨Ïú® -->\n        <div>\n          <label\n            for=\"member-participation-rate\"\n            class=\"block text-sm font-medium text-gray-700 mb-2\">Ï∞∏Ïó¨Ïú®</label\n          >\n          <div class=\"relative\">\n            <input\n              id=\"member-participation-rate\"\n              type=\"number\"\n              bind:value={memberForm.participationRate}\n              class=\"w-full px-3 py-2 pr-8 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm font-medium bg-white shadow-sm\"\n              min=\"0\"\n              max=\"100\"\n              step=\"0.1\"\n              placeholder=\"100\"\n              oninput={e => {\n                const target = e.target as HTMLInputElement\n                const value = parseFloat(target.value)\n                if (value < 0) memberForm.participationRate = 0\n                if (value > 100) memberForm.participationRate = 100\n                isManualMonthlyAmount = false\n                updateMonthlyAmount()\n              }}\n            />\n            <span class=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500 pointer-events-none\"\n            >%</span\n            >\n          </div>\n        </div>\n\n        <!-- Í∏∞Ïó¨ Ïú†Ìòï -->\n        <div>\n          <label\n            for=\"member-contribution-type\"\n            class=\"block text-sm font-medium text-gray-700 mb-2\"\n          >Í∏∞Ïó¨ Ïú†Ìòï</label\n          >\n          <select\n            id=\"member-contribution-type\"\n            bind:value={memberForm.contributionType}\n            class=\"w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm font-medium bg-white shadow-sm\"\n          >\n            <option value=\"cash\">üí∞ ÌòÑÍ∏à</option>\n            <option value=\"in_kind\">üì¶ ÌòÑÎ¨º</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n        <!-- ÏõîÍ∞ÑÍ∏àÏï° -->\n        <div>\n          <label\n            for=\"member-monthly-amount\"\n            class=\"block text-sm font-medium text-gray-700 mb-2\"\n          >ÏõîÍ∞ÑÍ∏àÏï°</label\n          >\n          <div class=\"flex items-center space-x-2\">\n            <input\n              id=\"member-monthly-amount\"\n              type=\"number\"\n              bind:value={memberForm.monthlyAmount}\n              oninput={() => {\n                isManualMonthlyAmount = true\n                calculatedMonthlyAmount = parseFloat(memberForm.monthlyAmount) || 0\n              }}\n              class=\"flex-1 px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm font-medium bg-white shadow-sm\"\n              placeholder=\"0\"\n            />\n            <div class=\"text-sm min-w-0\">\n              {#if isCalculatingMonthlyAmount}\n                <div class=\"flex items-center text-blue-600\">\n                  <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"\n                  ></div>\n                  Í≥ÑÏÇ∞ Ï§ë...\n                </div>\n              {:else if calculatedMonthlyAmount > 0 && !isManualMonthlyAmount}\n                <div class=\"flex items-center text-green-600\">\n                  <div class=\"w-2 h-2 bg-green-500 rounded-full mr-2\"></div>\n                  <span class=\"font-medium\">ÏûêÎèô: {formatCurrency(calculatedMonthlyAmount)}</span>\n                </div>\n              {:else if isManualMonthlyAmount}\n                <div class=\"flex items-center text-purple-600\">\n                  <div class=\"w-2 h-2 bg-purple-500 rounded-full mr-2\"></div>\n                  <span class=\"font-medium\">ÏàòÎèô ÏûÖÎ†•</span>\n                </div>\n              {:else if memberForm.employeeId && memberForm.participationRate && memberForm.startDate && memberForm.endDate}\n                <div class=\"flex items-center text-blue-600\">\n                  <div class=\"w-2 h-2 bg-blue-500 rounded-full mr-2\"></div>\n                  <span>Í≥ÑÏÇ∞ Í∞ÄÎä•</span>\n                </div>\n              {:else}\n                <div class=\"flex items-center text-gray-400\">\n                  <div class=\"w-2 h-2 bg-gray-400 rounded-full mr-2\"></div>\n                  <span>ÏûêÎèô Í≥ÑÏÇ∞</span>\n                </div>\n              {/if}\n            </div>\n          </div>\n        </div>\n\n        <!-- Ï∞∏Ïó¨Í∏∞Í∞Ñ -->\n        <div>\n          <div class=\"block text-sm font-medium text-gray-700 mb-2\">Ï∞∏Ïó¨Í∏∞Í∞Ñ</div>\n          <div class=\"flex space-x-2\">\n            <div class=\"flex-1\">\n              <label\n                for=\"member-start-date\"\n                class=\"sr-only\">ÏãúÏûëÏùº</label>\n              <input\n                id=\"member-start-date\"\n                type=\"date\"\n                bind:value={memberForm.startDate}\n                class=\"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white shadow-sm\"\n                onchange={() => {\n                  isManualMonthlyAmount = false\n                  updateMonthlyAmount()\n                }}\n              />\n            </div>\n            <div class=\"flex-1\">\n              <label\n                for=\"member-end-date\"\n                class=\"sr-only\">Ï¢ÖÎ£åÏùº</label>\n              <input\n                id=\"member-end-date\"\n                type=\"date\"\n                bind:value={memberForm.endDate}\n                class=\"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white shadow-sm\"\n                onchange={() => {\n                  isManualMonthlyAmount = false\n                  updateMonthlyAmount()\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Ìèº Í≤ÄÏ¶ù Î©îÏãúÏßÄ -->\n      {#if !memberForm.employeeId || !memberForm.startDate || !memberForm.endDate}\n        <div class=\"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg\">\n          <div class=\"flex items-center\">\n            <div class=\"w-5 h-5 text-amber-600 mr-2\">‚ö†Ô∏è</div>\n            <div class=\"text-sm text-amber-800\">\n              {#if !memberForm.employeeId}\n                Ïó∞Íµ¨ÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.\n              {:else if !memberForm.startDate || !memberForm.endDate}\n                Ï∞∏Ïó¨Í∏∞Í∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\n              {/if}\n            </div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n      <div class=\"flex justify-end space-x-3 mt-6\">\n        <ThemeButton\n          variant=\"secondary\"\n          onclick={cancelAddMember}\n          class=\"px-6 py-2\">\n          <XIcon\n            size={16}\n            class=\"mr-2\" />\n          Ï∑®ÏÜå\n        </ThemeButton>\n        <ThemeButton\n          variant=\"primary\"\n          onclick={addMember}\n          disabled={!memberForm.employeeId || !memberForm.startDate || !memberForm.endDate}\n          class=\"px-6 py-2\"\n        >\n          <CheckIcon\n            size={16}\n            class=\"mr-2\" />\n          Ï∂îÍ∞Ä\n        </ThemeButton>\n      </div>\n    </ThemeCard>\n  {/if}\n\n  <!-- ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Í¥ÄÎ¶¨ -->\n  <ThemeCard class=\"p-6\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <h3 class=\"text-lg font-semibold text-gray-900\">Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê</h3>\n      <div class=\"flex items-center gap-2\">\n        {#if projectMembers.length > 0}\n          <ThemeButton\n            onclick={validateMembers}\n            size=\"sm\"\n            variant=\"primary\"\n            disabled={isValidatingMembers}\n          >\n            {#if isValidatingMembers}\n              <RefreshCwIcon\n                size={14}\n                class=\"mr-2 animate-spin\" />\n              Í≤ÄÏ¶ù Ï§ë...\n            {:else}\n              <ShieldCheckIcon\n                size={14}\n                class=\"mr-2\" />\n              Í≤ÄÏ¶ù Ïã§Ìñâ\n            {/if}\n          </ThemeButton>\n        {/if}\n        <ThemeButton\n          onclick={startAddMember}\n          size=\"sm\"\n          disabled={addingMember || editingMember !== null}\n        >\n          <PlusIcon\n            size={16}\n            class=\"mr-2\" />\n          Ïó∞Íµ¨Ïõê Ï∂îÍ∞Ä\n        </ThemeButton>\n      </div>\n    </div>\n\n    <div class=\"overflow-x-auto\">\n      <table\n        class=\"min-w-full divide-y divide-gray-200\"\n        style:min-width=\"1000px\">\n        <thead class=\"bg-gray-50\">\n          <tr>\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-48\"\n            >Ïó∞Íµ¨Ïõê</th\n            >\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24\"\n            >Ï∞∏Ïó¨Ïú®</th\n            >\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40\"\n            >ÏõîÍ∞ÑÍ∏àÏï°</th\n            >\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-56\"\n            >Ï∞∏Ïó¨Í∏∞Í∞Ñ</th\n            >\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32\"\n            >Í∏∞Ïó¨ Ïú†Ìòï</th\n            >\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32\"\n            >Í≤ÄÏ¶ù ÏÉÅÌÉú</th\n            >\n            <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40\"\n            >Ïï°ÏÖò</th\n            >\n          </tr>\n        </thead>\n        <tbody class=\"bg-white divide-y divide-gray-200\">\n          {#each projectMembers as member, i (i)}\n            <tr\n              class=\"hover:bg-gray-50 {editingMember && editingMember.id === member.id\n                ? 'bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400 shadow-sm'\n                : ''}\"\n            >\n              <td class=\"px-4 py-4 whitespace-nowrap w-48\">\n                <div class=\"flex items-center\">\n                  <UserIcon\n                    size={20}\n                    class=\"text-gray-400 mr-2\" />\n                  <div class=\"flex-1 min-w-0\">\n                    <div class=\"flex items-center gap-2 mb-1\">\n                      <div class=\"text-sm font-medium text-gray-900 truncate\">\n                        {formatKoreanName(getMemberEmployeeName(member))}\n                      </div>\n                      <ThemeBadge\n                        variant=\"info\"\n                        size=\"sm\">{member.role}</ThemeBadge>\n                    </div>\n                    <div class=\"text-xs text-gray-500 truncate\">\n                      {member.employee_department} / {member.employee_position}\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 w-24\">\n                {#if editingMember && editingMember.id === member.id}\n                  <div class=\"relative\">\n                    <input\n                      type=\"number\"\n                      bind:value={memberForm.participationRate}\n                      class=\"w-20 px-3 py-2 border border-blue-300 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.1\"\n                      onchange={() => {\n                        isManualMonthlyAmount = false\n                        updateMonthlyAmount()\n                      }}\n                    />\n                    <span class=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500 pointer-events-none\"\n                    >%</span\n                    >\n                  </div>\n                {:else}\n                  {member.participationRate}%\n                {/if}\n              </td>\n              <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\n                {#if editingMember && editingMember.id === member.id}\n                  <div class=\"relative\">\n                    <input\n                      type=\"number\"\n                      bind:value={memberForm.monthlyAmount}\n                      oninput={() => {\n                        isManualMonthlyAmount = true\n                        calculatedMonthlyAmount = parseFloat(memberForm.monthlyAmount) || 0\n                      }}\n                      class=\"w-32 px-3 py-2 border border-blue-300 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm\"\n                      placeholder=\"0\"\n                    />\n                  </div>\n                {:else}\n                  {formatCurrency(getMemberMonthlyAmount(member))}\n                {/if}\n              </td>\n              <td class=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\n                {#if editingMember && editingMember.id === member.id}\n                  <div class=\"space-y-2\">\n                    <div class=\"flex items-center gap-3\">\n                      <span class=\"text-xs font-medium text-blue-700 w-10\">ÏãúÏûë:</span>\n                      <input\n                        type=\"date\"\n                        bind:value={memberForm.startDate}\n                        class=\"flex-1 px-3 py-2 border border-blue-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm\"\n                        onchange={() => {\n                          isManualMonthlyAmount = false\n                          updateMonthlyAmount()\n                        }}\n                      />\n                    </div>\n                    <div class=\"flex items-center gap-3\">\n                      <span class=\"text-xs font-medium text-blue-700 w-10\">Ï¢ÖÎ£å:</span>\n                      <input\n                        type=\"date\"\n                        bind:value={memberForm.endDate}\n                        class=\"flex-1 px-3 py-2 border border-blue-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm\"\n                        onchange={() => {\n                          isManualMonthlyAmount = false\n                          updateMonthlyAmount()\n                        }}\n                      />\n                    </div>\n                  </div>\n                {:else}\n                  <div class=\"space-y-1\">\n                    <div class=\"text-xs text-gray-500\">\n                      ÏãúÏûë: {formatDate(getMemberStartDate(member))}\n                    </div>\n                    <div class=\"text-xs text-gray-500\">\n                      Ï¢ÖÎ£å: {formatDate(getMemberEndDate(member))}\n                    </div>\n                  </div>\n                {/if}\n              </td>\n              <td class=\"px-4 py-4 whitespace-nowrap\">\n                {#if editingMember && editingMember.id === member.id}\n                  <select\n                    bind:value={memberForm.contributionType}\n                    class=\"w-full px-3 py-2 border border-blue-300 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm\"\n                  >\n                    <option value=\"cash\">üí∞ ÌòÑÍ∏à</option>\n                    <option value=\"in_kind\">üè¢ ÌòÑÎ¨º</option>\n                  </select>\n                {:else}\n                  <ThemeBadge\n                    variant={(member.contributionType || member.contribution_type) === 'cash'\n                      ? 'success'\n                      : 'warning'}\n                    size=\"sm\"\n                  >\n                    {(member.contributionType || member.contribution_type) === 'cash'\n                      ? 'ÌòÑÍ∏à'\n                      : 'ÌòÑÎ¨º'}\n                  </ThemeBadge>\n                {/if}\n              </td>\n              <!-- Í≤ÄÏ¶ù ÏÉÅÌÉú -->\n              <td class=\"px-4 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center justify-center\">\n                  {#if memberValidationStatuses[member.id]}\n                    {@const validationStatus = memberValidationStatuses[member.id]}\n                    {#if validationStatus.status === 'valid'}\n                      <div class=\"relative inline-block group\">\n                        <CheckCircleIcon class=\"h-6 w-6 text-green-500 cursor-help hover:text-green-600 transition-colors\"\n                        />\n                        <div class=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-4 py-3 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-20 max-w-xs\"\n                        >\n                          <div class=\"font-semibold text-green-400 mb-1\">‚úÖ Í≤ÄÏ¶ù ÏôÑÎ£å</div>\n                          <div class=\"text-gray-300\">Î™®Îì† Í≤ÄÏ¶ù Ìï≠Î™©Ïù¥ Ï†ïÏÉÅÏûÖÎãàÎã§.</div>\n                          <div class=\"text-gray-400 mt-1\">‚Ä¢ Í∑ºÎ°úÍ≥ÑÏïΩÏÑú Ïú†Ìö®</div>\n                          <div class=\"text-gray-400\">‚Ä¢ Ï∞∏Ïó¨Ïú® Ï†ÅÏ†ï</div>\n                          <div class=\"text-gray-400\">‚Ä¢ ÏõîÍ∞ÑÍ∏àÏï° Ï†ïÏÉÅ</div>\n                        </div>\n                      </div>\n                    {:else if validationStatus.status === 'warning'}\n                      <div class=\"relative inline-block group\">\n                        <AlertTriangleIcon class=\"h-6 w-6 text-yellow-500 cursor-help hover:text-yellow-600 transition-colors\"\n                        />\n                        <div class=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-4 py-3 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-20 max-w-sm\"\n                        >\n                          <div class=\"font-semibold text-yellow-400 mb-2\">‚ö†Ô∏è Í≤ΩÍ≥† ÏÇ¨Ìï≠</div>\n                          <div class=\"text-gray-300 mb-1\">{validationStatus.message}</div>\n                          {#if validationStatus.issues && validationStatus.issues.length > 0}\n                            {#each validationStatus.issues as issue, i (i)}\n                              <div class=\"mb-2 last:mb-0 p-2 bg-gray-800 rounded\">\n                                <div class=\"text-gray-300 font-medium\">{issue.message}</div>\n                                {#if issue.suggestedFix}\n                                  <div class=\"text-gray-400 mt-1 text-xs\">\n                                    üí° {issue.suggestedFix}\n                                  </div>\n                                {/if}\n                                {#if issue.data}\n                                  <div class=\"text-gray-500 mt-1 text-xs\">\n                                    {#if issue.type === 'participation_rate_excess'}\n                                      ÌòÑÏû¨ Ï∞∏Ïó¨Ïú®: {issue.data.participationRate}%\n                                    {:else if issue.type === 'amount_excess'}\n                                      ÌòÑÏû¨: {issue.data.monthlyAmount?.toLocaleString()}Ïõê<br />\n                                      ÏòàÏÉÅ: {issue.data.expectedMonthlyAmount?.toLocaleString()}Ïõê\n                                    {:else if issue.type === 'duplicate_participation'}\n                                      Ï¥ù Ï∞∏Ïó¨Ïú®: {issue.data.totalParticipationRate?.toFixed(1)}%\n                                      {#if issue.data.conflictingProjects && issue.data.conflictingProjects.length > 0}\n                                        <br />Ï∂©Îèå ÌîÑÎ°úÏ†ùÌä∏: {issue.data.conflictingProjects\n                                          .length}Í∞ú\n                                      {/if}\n                                    {:else if issue.type === 'contract_missing' || issue.type === 'contract_period_mismatch'}\n                                      Ï∞∏Ïó¨ Í∏∞Í∞Ñ: {issue.data.participationPeriod}\n                                    {/if}\n                                  </div>\n                                {/if}\n                              </div>\n                            {/each}\n                          {/if}\n                        </div>\n                      </div>\n                    {:else if validationStatus.status === 'error'}\n                      <div class=\"relative inline-block group\">\n                        <XCircleIcon class=\"h-6 w-6 text-red-500 cursor-help hover:text-red-600 transition-colors\"\n                        />\n                        <div class=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-4 py-3 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-20 max-w-sm\"\n                        >\n                          <div class=\"font-semibold text-red-400 mb-2\">‚ùå Í≤ÄÏ¶ù Ïã§Ìå®</div>\n                          <div class=\"text-gray-300 mb-1\">{validationStatus.message}</div>\n                          {#if validationStatus.issues && validationStatus.issues.length > 0}\n                            {#each validationStatus.issues as issue, i (i)}\n                              <div class=\"mb-2 last:mb-0 p-2 bg-gray-800 rounded\">\n                                <div class=\"text-gray-300 font-medium\">{issue.message}</div>\n                                {#if issue.suggestedFix}\n                                  <div class=\"text-gray-400 mt-1 text-xs\">\n                                    üîß {issue.suggestedFix}\n                                  </div>\n                                {/if}\n                                {#if issue.data}\n                                  <div class=\"text-gray-500 mt-1 text-xs\">\n                                    {#if issue.type === 'participation_rate_excess'}\n                                      ÌòÑÏû¨ Ï∞∏Ïó¨Ïú®: {issue.data.participationRate}%\n                                    {:else if issue.type === 'amount_excess'}\n                                      ÌòÑÏû¨: {issue.data.monthlyAmount?.toLocaleString()}Ïõê<br />\n                                      ÏòàÏÉÅ: {issue.data.expectedMonthlyAmount?.toLocaleString()}Ïõê\n                                    {:else if issue.type === 'duplicate_participation'}\n                                      Ï¥ù Ï∞∏Ïó¨Ïú®: {issue.data.totalParticipationRate?.toFixed(1)}%\n                                      {#if issue.data.conflictingProjects && issue.data.conflictingProjects.length > 0}\n                                        <br />Ï∂©Îèå ÌîÑÎ°úÏ†ùÌä∏: {issue.data.conflictingProjects\n                                          .length}Í∞ú\n                                      {/if}\n                                    {:else if issue.type === 'contract_missing' || issue.type === 'contract_period_mismatch'}\n                                      Ï∞∏Ïó¨ Í∏∞Í∞Ñ: {issue.data.participationPeriod}\n                                    {/if}\n                                  </div>\n                                {/if}\n                              </div>\n                            {/each}\n                          {/if}\n                        </div>\n                      </div>\n                    {/if}\n                  {:else}\n                    <div class=\"relative inline-block group\">\n                      <div class=\"animate-pulse bg-gray-300 rounded-full w-6 h-6 cursor-help hover:bg-gray-400 transition-colors\"\n                      ></div>\n                      <div class=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10\"\n                      >\n                        <div class=\"font-semibold text-gray-400\">‚è≥ Í≤ÄÏ¶ù ÎåÄÍ∏∞ Ï§ë</div>\n                        <div class=\"text-gray-500\">ÏïÑÏßÅ Í≤ÄÏ¶ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.</div>\n                      </div>\n                    </div>\n                  {/if}\n                </div>\n              </td>\n              <td class=\"px-4 py-4 whitespace-nowrap text-sm font-medium\">\n                <div class=\"flex space-x-1 justify-center\">\n                  {#if editingMember && editingMember.id === member.id}\n                    <div class=\"flex space-x-1\">\n                      <button type=\"button\"\n                        onclick={updateMember}\n                        class=\"p-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors duration-200 shadow-sm\"\n                        title=\"Ï†ÄÏû•\"\n                      >\n                        <CheckIcon size={14} />\n                      </button>\n                      <button type=\"button\"\n                        onclick={cancelEditMember}\n                        class=\"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200 shadow-sm\"\n                        title=\"Ï∑®ÏÜå\"\n                      >\n                        <XIcon size={14} />\n                      </button>\n                    </div>\n                  {:else}\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => editMember(member)}\n                      disabled={editingMember !== null}\n                    >\n                      <EditIcon\n                        size={16}\n                        class=\"text-blue-600 mr-1\" />\n                      ÏàòÏ†ï\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => removeMember(member.id)}\n                      disabled={editingMember !== null}\n                    >\n                      <TrashIcon\n                        size={16}\n                        class=\"text-red-600 mr-1\" />\n                      ÏÇ≠Ï†ú\n                    </ThemeButton>\n                  {/if}\n                </div>\n              </td>\n            </tr>\n          {/each}\n\n          {#if projectMembers.length === 0 && !addingMember}\n            <tr>\n              <td\n                colspan=\"7\"\n                class=\"px-6 py-12 text-center text-gray-500\">\n                <UsersIcon\n                  size={48}\n                  class=\"mx-auto mb-2 text-gray-300\" />\n                <p>Ï∞∏Ïó¨ Ïó∞Íµ¨ÏõêÏù¥ ÏóÜÏäµÎãàÎã§.</p>\n              </td>\n            </tr>\n          {/if}\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Ïù∏Í±¥ÎπÑ ÏöîÏïΩ -->\n    {#if projectMembers.length > 0}\n      {@const personnelSummary = calculatePersonnelCostSummary()}\n      <div class=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n        <div class=\"flex items-center justify-between mb-2\">\n          <h4 class=\"text-sm font-medium text-gray-700\">\n            Ïù∏Í±¥ÎπÑ Ìï©Í≥Ñ\n            {#if personnelSummary.periodInfo}\n              <span class=\"text-xs text-gray-500 ml-2\">\n                (Y{personnelSummary.periodInfo.periodNumber})\n              </span>\n            {/if}\n          </h4>\n          <button type=\"button\"\n            onclick={() => (isPersonnelSummaryExpanded = !isPersonnelSummaryExpanded)}\n            class=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700\"\n          >\n            {#if isPersonnelSummaryExpanded}\n              <ChevronUpIcon size={16} />\n              Ï†ëÍ∏∞\n            {:else}\n              <ChevronDownIcon size={16} />\n              ÏõîÎ≥Ñ ÏÉÅÏÑ∏\n            {/if}\n          </button>\n        </div>\n\n        <!-- Í∏∞Î≥∏ ÏöîÏïΩ Ï†ïÎ≥¥ -->\n        <div class=\"grid grid-cols-3 gap-4\">\n          <div class=\"text-center\">\n            <div class=\"text-sm font-semibold text-green-600\">\n              {formatCurrency(personnelSummary.totalCash)}\n            </div>\n            <div class=\"text-xs text-gray-500\">ÌòÑÍ∏à</div>\n          </div>\n          <div class=\"text-center\">\n            <div class=\"text-sm font-semibold text-orange-600\">\n              {formatCurrency(personnelSummary.totalInKind)}\n            </div>\n            <div class=\"text-xs text-gray-500\">ÌòÑÎ¨º</div>\n          </div>\n          <div class=\"text-center\">\n            <div class=\"text-sm font-semibold text-blue-600\">\n              {formatCurrency(personnelSummary.totalCost)}\n            </div>\n            <div class=\"text-xs text-gray-500\">Ìï©Í≥Ñ</div>\n          </div>\n        </div>\n\n        <!-- ÏõîÎ≥Ñ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ -->\n        {#if isPersonnelSummaryExpanded}\n          <div class=\"mt-4 pt-4 border-t border-gray-200\">\n            <h5 class=\"text-xs font-medium text-gray-600 mb-3\">ÏõîÎ≥Ñ Ïù∏Í±¥ÎπÑ ÏÉÅÏÑ∏</h5>\n            <div class=\"overflow-x-auto\">\n              <table class=\"min-w-full divide-y divide-gray-200\">\n                <thead class=\"bg-gray-100\">\n                  <tr>\n                    <th class=\"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >Ïõî</th\n                    >\n                    <th class=\"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >ÌòÑÍ∏à</th\n                    >\n                    <th class=\"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >ÌòÑÎ¨º</th\n                    >\n                    <th class=\"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >Ìï©Í≥Ñ</th\n                    >\n                  </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-gray-200\">\n                  {#each personnelSummary.monthlyCosts as monthData, i (i)}\n                    <tr class=\"hover:bg-gray-50\">\n                      <td class=\"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900\">\n                        {monthData.monthName}\n                      </td>\n                      <td class=\"px-3 py-2 whitespace-nowrap text-sm text-right text-green-600\">\n                        {formatCurrency(monthData.cash)}\n                      </td>\n                      <td class=\"px-3 py-2 whitespace-nowrap text-sm text-right text-orange-600\">\n                        {formatCurrency(monthData.inKind)}\n                      </td>\n                      <td class=\"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-gray-900\"\n                      >\n                        {formatCurrency(monthData.total)}\n                      </td>\n                    </tr>\n                  {/each}\n                  <!-- Ìï©Í≥Ñ Ìñâ -->\n                  <tr class=\"bg-gray-100 border-t-2 border-gray-300\">\n                    <td class=\"px-3 py-2 whitespace-nowrap text-sm font-bold text-gray-900\">\n                      Ïó∞Ï∞® Ìï©Í≥Ñ\n                    </td>\n                    <td class=\"px-3 py-2 whitespace-nowrap text-sm text-right font-bold text-green-600\"\n                    >\n                      {formatCurrency(personnelSummary.totalCash)}\n                    </td>\n                    <td class=\"px-3 py-2 whitespace-nowrap text-sm text-right font-bold text-orange-600\"\n                    >\n                      {formatCurrency(personnelSummary.totalInKind)}\n                    </td>\n                    <td class=\"px-3 py-2 whitespace-nowrap text-sm text-right font-bold text-blue-600\"\n                    >\n                      {formatCurrency(personnelSummary.totalCost)}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        {/if}\n      </div>\n    {/if}\n  </ThemeCard>\n\n  <!-- Ï¶ùÎπô Í¥ÄÎ¶¨ -->\n  <ThemeCard class=\"p-6\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <div class=\"flex items-center gap-4\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">Ï¶ùÎπô Í¥ÄÎ¶¨</h3>\n        {#if projectBudgets.length > 0}\n          <select\n            bind:value={selectedEvidencePeriod}\n            class=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            {#each projectBudgets as budget, i (i)}\n              <option value={getPeriodNumber(budget)}>\n                {formatPeriodDisplay(budget)}\n              </option>\n            {/each}\n          </select>\n        {/if}\n      </div>\n      <ThemeButton\n        onclick={() => (showEvidenceModal = true)}\n        size=\"sm\">\n        <PlusIcon\n          size={16}\n          class=\"mr-2\" />\n        Ï¶ùÎπô Ï∂îÍ∞Ä\n      </ThemeButton>\n    </div>\n\n    {#if projectBudgets.length > 0}\n      {@const currentBudget =\n        projectBudgets.find(b => getPeriodNumber(b) === selectedEvidencePeriod) ||\n          projectBudgets[0]}\n      {@const budgetCategories = [\n        {\n          id: 'personnel',\n          type: 'personnel',\n          name: 'Ïù∏Í±¥ÎπÑ',\n          cash: parseFloat(currentBudget.personnel_cost) || 0,\n          inKind: parseFloat(currentBudget.personnel_cost_in_kind) || 0\n        },\n        {\n          id: 'material',\n          type: 'material',\n          name: 'Ïó∞Íµ¨Ïû¨Î£åÎπÑ',\n          cash: parseFloat(currentBudget.research_material_cost) || 0,\n          inKind: parseFloat(currentBudget.research_material_cost_in_kind) || 0\n        },\n        {\n          id: 'activity',\n          type: 'activity',\n          name: 'Ïó∞Íµ¨ÌôúÎèôÎπÑ',\n          cash: parseFloat(currentBudget.research_activity_cost) || 0,\n          inKind: parseFloat(currentBudget.research_activity_cost_in_kind) || 0\n        },\n        {\n          id: 'stipend',\n          type: 'stipend',\n          name: 'Ïó∞Íµ¨ÏàòÎãπ',\n          cash: parseFloat(currentBudget.research_stipend) || 0,\n          inKind: parseFloat(currentBudget.research_stipend_in_kind) || 0\n        },\n        {\n          id: 'indirect',\n          type: 'indirect',\n          name: 'Í∞ÑÏ†ëÎπÑ',\n          cash: parseFloat(currentBudget.indirect_cost) || 0,\n          inKind: parseFloat(currentBudget.indirect_cost_in_kind) || 0\n        }\n      ].filter(category => category.cash + category.inKind > 0)}\n\n      {#if isLoadingEvidence}\n        <div class=\"text-center py-8\">\n          <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n          ></div>\n          <p class=\"mt-2 text-sm text-gray-500\">Ï¶ùÎπô Îç∞Ïù¥ÌÑ∞Î•º Î°úÎìúÌïòÎäî Ï§ë...</p>\n        </div>\n      {:else}\n        <div class=\"space-y-4\">\n          {#each budgetCategories as budgetCategory, i (i)}\n            {@const categoryItems = evidenceItems.filter(\n              item => item.category_name === budgetCategory.name\n            )}\n            {@const totalAmount = budgetCategory.cash + budgetCategory.inKind}\n            {@const totalItems = categoryItems.length}\n            {@const completedItems = categoryItems.filter(\n              item => item.status === 'completed'\n            ).length}\n            {@const inProgressItems = categoryItems.filter(\n              item => item.status === 'in_progress'\n            ).length}\n            {@const overallProgress =\n              totalItems > 0 ? Math.floor((completedItems / totalItems) * 100) : 0}\n\n            <div class=\"border border-gray-200 rounded-lg\">\n              <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ Ìó§Îçî -->\n              <button\n                type=\"button\"\n                class=\"flex items-center justify-between p-4 bg-gray-50 cursor-pointer hover:bg-gray-100 w-full text-left\"\n                onclick={() =>\n                  (expandedEvidenceSections[budgetCategory.type] =\n                    !expandedEvidenceSections[budgetCategory.type])}\n                onkeydown={e =>\n                  e.key === 'Enter' &&\n                    (expandedEvidenceSections[budgetCategory.type] =\n                      !expandedEvidenceSections[budgetCategory.type])}\n              >\n                <div class=\"flex items-center space-x-3\">\n                  {#if expandedEvidenceSections[budgetCategory.type]}\n                    <ChevronDownIcon\n                      size={16}\n                      class=\"text-gray-500\" />\n                  {:else}\n                    <ChevronRightIcon\n                      size={16}\n                      class=\"text-gray-500\" />\n                  {/if}\n                  <div>\n                    <h4 class=\"text-md font-medium text-gray-900\">{budgetCategory.name}</h4>\n                    <div class=\"text-xs text-gray-500\">\n                      ÏòàÏÇ∞: {formatCurrency(totalAmount)} | Ï¶ùÎπô: {totalItems}Í∞ú | ÏôÑÎ£å: {completedItems}Í∞ú\n                      | ÏßÑÌñâÏ§ë: {inProgressItems}Í∞ú\n                    </div>\n                  </div>\n                </div>\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"flex items-center\">\n                    <div class=\"w-20 bg-gray-200 rounded-full h-2 mr-2\">\n                      <div\n                        class=\"h-2 rounded-full {overallProgress >= 100\n                          ? 'bg-green-600'\n                          : overallProgress >= 70\n                          ? 'bg-blue-600'\n                          : overallProgress >= 30\n                          ? 'bg-yellow-500'\n                          : 'bg-red-500'}\"\n                        style:width=\"{Math.min(overallProgress, 100)}%\"\n                      ></div>\n                    </div>\n                    <span class=\"text-xs text-gray-600\">{overallProgress}%</span>\n                  </div>\n                  <ThemeButton\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onclick={() => openEvidenceDetail(budgetCategory)}\n                  >\n                    <PlusIcon\n                      size={14}\n                      class=\"mr-1\" />\n                    Ï∂îÍ∞Ä\n                  </ThemeButton>\n                </div>\n              </button>\n\n              <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÎÇ¥Ïö© -->\n              {#if expandedEvidenceSections[budgetCategory.type]}\n                <div class=\"p-4 border-t border-gray-200\">\n                  {#if categoryItems.length > 0}\n                    <div class=\"overflow-x-auto\">\n                      <table class=\"min-w-full divide-y divide-gray-200\">\n                        <thead class=\"bg-gray-50\">\n                          <tr>\n                            <th class=\"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-48\"\n                            >Ï¶ùÎπô Ìï≠Î™©</th\n                            >\n                            <th class=\"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-32\"\n                            >Í∏àÏï°</th\n                            >\n                            <th class=\"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-24\"\n                            >Îã¥ÎãπÏûê</th\n                            >\n                            <th class=\"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-24\"\n                            >ÏßÑÌñâÎ•†</th\n                            >\n                            <th class=\"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-24\"\n                            >ÎßàÍ∞êÏùº</th\n                            >\n                            <th class=\"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-24\"\n                            >ÏÉÅÌÉú</th\n                            >\n                            <th class=\"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-32\"\n                            >Ïï°ÏÖò</th\n                            >\n                          </tr>\n                        </thead>\n                        <tbody class=\"bg-white divide-y divide-gray-200\">\n                          {#each categoryItems as item, i (i)}\n                            {@const isOverdue =\n                              new Date(item.due_date) < new Date() && item.status !== 'completed'}\n                            <tr class=\"hover:bg-gray-50\">\n                              <!-- Ï¶ùÎπô Ìï≠Î™© -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900\"\n                              >\n                                {item.name}\n                              </td>\n\n                              <!-- Í∏àÏï° -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm text-gray-900 text-center\"\n                              >\n                                <span class=\"font-medium\">{formatCurrency(item.budget_amount)}</span\n                                >\n                              </td>\n\n                              <!-- Îã¥ÎãπÏûê -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm text-gray-900 text-center\"\n                              >\n                                <span class=\"text-gray-600\"\n                                >{formatAssigneeNameFromFields(item)}</span\n                                >\n                              </td>\n\n                              <!-- ÏßÑÌñâÎ•† -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm text-gray-900\">\n                                <div class=\"flex items-center\">\n                                  <div class=\"w-12 bg-gray-200 rounded-full h-2 mr-2\">\n                                    <div\n                                      class=\"h-2 rounded-full {item.progress >= 100\n                                        ? 'bg-green-600'\n                                        : item.progress >= 70\n                                        ? 'bg-blue-600'\n                                        : item.progress >= 30\n                                        ? 'bg-yellow-500'\n                                        : 'bg-red-500'}\"\n                                      style:width=\"{Math.min(item.progress, 100)}%\"\n                                    ></div>\n                                  </div>\n                                  <span class=\"text-xs text-gray-600\">{item.progress}%</span>\n                                </div>\n                              </td>\n\n                              <!-- ÎßàÍ∞êÏùº -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm text-center\">\n                                <span\n                                  class=\"text-xs {isOverdue\n                                    ? 'text-red-600 font-medium'\n                                    : 'text-gray-600'}\"\n                                >\n                                  {item.due_date ? formatDate(item.due_date) : '-'}\n                                </span>\n                              </td>\n\n                              <!-- ÏÉÅÌÉú -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm text-center\">\n                                <span\n                                  class=\"px-2 py-1 text-xs font-medium rounded-full {item.status ===\n                                    'completed'\n                                    ? 'bg-green-100 text-green-800'\n                                    : item.status === 'in_progress'\n                                    ? 'bg-blue-100 text-blue-800'\n                                    : item.status === 'planned'\n                                    ? 'bg-gray-100 text-gray-800'\n                                    : 'bg-yellow-100 text-yellow-800'}\"\n                                >\n                                  {item.status === 'completed'\n                                    ? 'ÏôÑÎ£å'\n                                    : item.status === 'in_progress'\n                                    ? 'ÏßÑÌñâÏ§ë'\n                                    : item.status === 'planned'\n                                    ? 'Í≥ÑÌöç'\n                                    : 'Í≤ÄÌÜ†Ï§ë'}\n                                </span>\n                              </td>\n\n                              <!-- Ïï°ÏÖò -->\n                              <td class=\"px-3 py-3 whitespace-nowrap text-sm font-medium text-center\"\n                              >\n                                <div class=\"flex space-x-1 justify-center\">\n                                  <ThemeButton\n                                    variant=\"ghost\"\n                                    size=\"sm\"\n                                    onclick={() => openEvidenceDetail(item)}\n                                  >\n                                    <EditIcon\n                                      size={12}\n                                      class=\"mr-1\" />\n                                    ÏÉÅÏÑ∏\n                                  </ThemeButton>\n                                </div>\n                              </td>\n                            </tr>\n                          {/each}\n                        </tbody>\n                      </table>\n                    </div>\n                  {:else}\n                    <div class=\"text-center py-8 text-gray-500\">\n                      <FileTextIcon\n                        size={48}\n                        class=\"mx-auto mb-2 text-gray-300\" />\n                      <p>Îì±Î°ùÎêú Ï¶ùÎπô Ìï≠Î™©Ïù¥ ÏóÜÏäµÎãàÎã§.</p>\n                      <ThemeButton\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        class=\"mt-2\"\n                        onclick={() => openEvidenceDetail(budgetCategory)}\n                      >\n                        <PlusIcon\n                          size={14}\n                          class=\"mr-1\" />\n                        Ï≤´ Î≤àÏß∏ Ï¶ùÎπô Ï∂îÍ∞Ä\n                      </ThemeButton>\n                    </div>\n                  {/if}\n                </div>\n              {/if}\n            </div>\n          {/each}\n        </div>\n      {/if}\n    {:else}\n      <div class=\"text-center py-8 text-gray-500\">\n        <FileTextIcon\n          size={48}\n          class=\"mx-auto mb-2 text-gray-300\" />\n        <p>Îì±Î°ùÎêú ÏÇ¨ÏóÖÎπÑÍ∞Ä ÏóÜÏñ¥ Ï¶ùÎπôÏùÑ Í¥ÄÎ¶¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.</p>\n      </div>\n    {/if}\n  </ThemeCard>\n\n  <!-- Ï¶ùÎπô ÏÉÅÏÑ∏ Î™®Îã¨ -->\n  {#if showEvidenceDetailModal}\n    <ThemeModal\n      open={showEvidenceDetailModal}\n      onclose={() => (showEvidenceDetailModal = false)}>\n      <div class=\"p-6 max-w-4xl\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            {selectedEvidenceItem?.name} Ï¶ùÎπô Í¥ÄÎ¶¨\n          </h3>\n          <button type=\"button\"\n            onclick={() => (showEvidenceDetailModal = false)}\n            class=\"text-gray-400 hover:text-gray-600\"\n          >\n            <XIcon size={20} />\n          </button>\n        </div>\n\n        {#if selectedEvidenceItem}\n          <div class=\"space-y-6\">\n            <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n            <div class=\"bg-gray-50 rounded-lg p-4\">\n              <h4 class=\"text-md font-medium text-gray-900 mb-3\">Í∏∞Î≥∏ Ï†ïÎ≥¥</h4>\n              <div class=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span class=\"text-gray-600\">ÏòàÏÇ∞Ïï°:</span>\n                  <span class=\"ml-2 font-medium\">\n                    {formatCurrency(selectedEvidenceItem.budget_amount || 0)}\n                  </span>\n                </div>\n                <div>\n                  <span class=\"text-gray-600\">Îã¥ÎãπÏûê:</span>\n                  <span class=\"ml-2\"\n                  >{formatAssigneeNameFromFields(selectedEvidenceItem, 'ÎØ∏ÏßÄÏ†ï')}</span\n                  >\n                </div>\n                <div>\n                  <span class=\"text-gray-600\">ÏßÑÌñâÎ•†:</span>\n                  <span class=\"ml-2\">{selectedEvidenceItem.progress || 0}%</span>\n                </div>\n                <div>\n                  <span class=\"text-gray-600\">ÎßàÍ∞êÏùº:</span>\n                  <span class=\"ml-2\"\n                  >{selectedEvidenceItem.due_date\n                    ? formatDate(selectedEvidenceItem.due_date)\n                    : 'ÎØ∏ÏÑ§Ï†ï'}</span\n                  >\n                </div>\n                <div>\n                  <span class=\"text-gray-600\">ÏÉÅÌÉú:</span>\n                  <span class=\"ml-2\">\n                    {#if selectedEvidenceItem.status === 'completed'}\n                      <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\"\n                      >ÏôÑÎ£å</span\n                      >\n                    {:else if selectedEvidenceItem.status === 'in_progress'}\n                      <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800\"\n                      >ÏßÑÌñâÏ§ë</span\n                      >\n                    {:else if selectedEvidenceItem.status === 'planned'}\n                      <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800\"\n                      >Í≥ÑÌöç</span\n                      >\n                    {:else}\n                      <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\"\n                      >{selectedEvidenceItem.status}</span\n                      >\n                    {/if}\n                  </span>\n                </div>\n                <div>\n                  <span class=\"text-gray-600\">Ïπ¥ÌÖåÍ≥†Î¶¨:</span>\n                  <span class=\"ml-2\">{selectedEvidenceItem.category_name}</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Ï¶ùÎπô ÏÑúÎ•ò Í¥ÄÎ¶¨ -->\n            <div class=\"space-y-4\">\n              <div class=\"flex items-center justify-between\">\n                <h5 class=\"text-md font-medium text-gray-900\">Ï¶ùÎπô ÏÑúÎ•ò</h5>\n                <ThemeButton size=\"sm\">\n                  <PlusIcon\n                    size={14}\n                    class=\"mr-1\" />\n                  ÏÑúÎ•ò Ï∂îÍ∞Ä\n                </ThemeButton>\n              </div>\n\n              <div class=\"space-y-2\">\n                {#if selectedEvidenceItem.documents && selectedEvidenceItem.documents.length > 0}\n                  {#each selectedEvidenceItem.documents as document, i (i)}\n                    <div class=\"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg\"\n                    >\n                      <div class=\"flex items-center space-x-3\">\n                        <div>\n                          <div class=\"font-medium text-sm\">{document.document_type}</div>\n                          <div class=\"text-xs text-gray-500\">{document.document_name}</div>\n                          {#if document.uploader_name}\n                            <div class=\"text-xs text-gray-400\">\n                              ÏóÖÎ°úÎçî: {document.uploader_name}\n                            </div>\n                          {/if}\n                        </div>\n                        {#if document.file_size}\n                          <div class=\"text-xs text-gray-500\">\n                            ÌÅ¨Í∏∞: {(document.file_size / 1024).toFixed(1)}KB\n                          </div>\n                        {/if}\n                      </div>\n                      <div class=\"flex items-center space-x-2\">\n                        {#if document.status === 'approved'}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\"\n                          >\n                            ÏäπÏù∏Îê®\n                          </span>\n                        {:else if document.status === 'reviewed'}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\"\n                          >\n                            Í≤ÄÌÜ†Îê®\n                          </span>\n                        {:else if document.status === 'rejected'}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800\"\n                          >\n                            Í±∞Î∂ÄÎê®\n                          </span>\n                        {:else}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800\"\n                          >\n                            ÏóÖÎ°úÎìúÎê®\n                          </span>\n                        {/if}\n                        <ThemeButton\n                          variant=\"ghost\"\n                          size=\"sm\">\n                          <FileTextIcon\n                            size={12}\n                            class=\"mr-1\" />\n                          Î≥¥Í∏∞\n                        </ThemeButton>\n                      </div>\n                    </div>\n                  {/each}\n                {:else}\n                  <div class=\"text-center py-8 text-gray-500\">\n                    <FileTextIcon\n                      size={48}\n                      class=\"mx-auto mb-2 text-gray-300\" />\n                    <p>Îì±Î°ùÎêú Ï¶ùÎπô ÏÑúÎ•òÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\n                  </div>\n                {/if}\n              </div>\n            </div>\n\n            <!-- Ï¶ùÎπô ÏùºÏ†ï Í¥ÄÎ¶¨ -->\n            <div class=\"space-y-4\">\n              <div class=\"flex items-center justify-between\">\n                <h5 class=\"text-md font-medium text-gray-900\">Ï¶ùÎπô ÏùºÏ†ï</h5>\n                <ThemeButton size=\"sm\">\n                  <PlusIcon\n                    size={14}\n                    class=\"mr-1\" />\n                  ÏùºÏ†ï Ï∂îÍ∞Ä\n                </ThemeButton>\n              </div>\n\n              <div class=\"space-y-2\">\n                {#if selectedEvidenceItem.schedules && selectedEvidenceItem.schedules.length > 0}\n                  {#each selectedEvidenceItem.schedules as schedule, i (i)}\n                    <div class=\"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg\"\n                    >\n                      <div class=\"flex items-center space-x-3\">\n                        <div>\n                          <div class=\"font-medium text-sm\">{schedule.task_name}</div>\n                          {#if schedule.description}\n                            <div class=\"text-xs text-gray-500\">{schedule.description}</div>\n                          {/if}\n                          <div class=\"text-xs text-gray-400\">\n                            ÎßàÍ∞êÏùº: {formatDate(schedule.due_date)}\n                            {#if schedule.assignee_name}\n                              | Îã¥ÎãπÏûê: {formatAssigneeName(schedule.assignee_name)}\n                            {/if}\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"flex items-center space-x-2\">\n                        {#if schedule.status === 'completed'}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\"\n                          >\n                            ÏôÑÎ£å\n                          </span>\n                        {:else if schedule.status === 'in_progress'}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800\"\n                          >\n                            ÏßÑÌñâÏ§ë\n                          </span>\n                        {:else if schedule.status === 'overdue'}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800\"\n                          >\n                            ÏßÄÏó∞\n                          </span>\n                        {:else}\n                          <span class=\"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800\"\n                          >\n                            ÎåÄÍ∏∞\n                          </span>\n                        {/if}\n                        {#if schedule.priority === 'high'}\n                          <span class=\"px-1 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800\"\n                          >\n                            ÎÜíÏùå\n                          </span>\n                        {:else if schedule.priority === 'urgent'}\n                          <span class=\"px-1 py-1 text-xs font-medium rounded-full bg-red-200 text-red-900\"\n                          >\n                            Í∏¥Í∏â\n                          </span>\n                        {/if}\n                      </div>\n                    </div>\n                  {/each}\n                {:else}\n                  <div class=\"text-center py-8 text-gray-500\">\n                    <CalendarIcon\n                      size={48}\n                      class=\"mx-auto mb-2 text-gray-300\" />\n                    <p>Îì±Î°ùÎêú Ï¶ùÎπô ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§.</p>\n                  </div>\n                {/if}\n              </div>\n            </div>\n\n            <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n            <div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n              <ThemeButton\n                variant=\"ghost\"\n                onclick={() => (showEvidenceDetailModal = false)}>\n                Îã´Í∏∞\n              </ThemeButton>\n              <ThemeButton>Ï†ÄÏû•</ThemeButton>\n            </div>\n          </div>\n        {/if}\n      </div>\n    </ThemeModal>\n  {/if}\n\n  <!-- Ï¶ùÎπô Ï∂îÍ∞Ä Î™®Îã¨ -->\n  {#if showEvidenceModal}\n    <ThemeModal\n      open={showEvidenceModal}\n      onclose={() => (showEvidenceModal = false)}>\n      <div class=\"p-6 max-w-2xl\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h3 class=\"text-lg font-medium text-gray-900\">Ï¶ùÎπô Ìï≠Î™© Ï∂îÍ∞Ä</h3>\n          <button type=\"button\"\n            onclick={() => (showEvidenceModal = false)}\n            class=\"text-gray-400 hover:text-gray-600\"\n          >\n            <XIcon size={20} />\n          </button>\n        </div>\n\n        <div class=\"space-y-4\">\n          <!-- Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†ÌÉù -->\n          <div>\n            <label\n              for=\"evidence-category\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨ *\n            </label>\n            <select\n              id=\"evidence-category\"\n              bind:value={newEvidenceForm.categoryId}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            >\n              <option value=\"\">Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n              {#each evidenceCategories as category, i (i)}\n                <option value={category.id}>{category.name}</option>\n              {/each}\n            </select>\n          </div>\n\n          <!-- Ï¶ùÎπô Ìï≠Î™©Î™Ö -->\n          <div>\n            <label\n              for=\"evidence-name\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Ï¶ùÎπô Ìï≠Î™©Î™Ö *\n            </label>\n            <input\n              id=\"evidence-name\"\n              type=\"text\"\n              bind:value={newEvidenceForm.name}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Ïòà: Î∞ïÍ∏∞ÏÑ† (2025-01), Î™®ÌÑ∞ 10Í∞ú, Ï∂úÏû•ÎπÑ (Íµ≠ÎÇ¥)\"\n              required\n            />\n          </div>\n\n          <!-- ÏÑ§Î™Ö -->\n          <div>\n            <label\n              for=\"evidence-description\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              ÏÑ§Î™Ö\n            </label>\n            <textarea\n              id=\"evidence-description\"\n              bind:value={newEvidenceForm.description}\n              rows=\"3\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Ï¶ùÎπô Ìï≠Î™©Ïóê ÎåÄÌïú ÏÉÅÏÑ∏ ÏÑ§Î™Ö\"\n            ></textarea>\n          </div>\n\n          <!-- ÏòàÏÇ∞Ïï° -->\n          <div>\n            <label\n              for=\"evidence-budget-amount\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >\n              ÏòàÏÇ∞Ïï° *\n            </label>\n            <input\n              id=\"evidence-budget-amount\"\n              type=\"number\"\n              bind:value={newEvidenceForm.budgetAmount}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"0\"\n              required\n            />\n          </div>\n\n          <!-- Îã¥ÎãπÏûê -->\n          <div>\n            <label\n              for=\"evidence-assignee\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Îã¥ÎãπÏûê\n            </label>\n            <select\n              id=\"evidence-assignee\"\n              bind:value={newEvidenceForm.assigneeId}\n              onchange={validateEvidenceRegistration}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Îã¥ÎãπÏûêÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n              {#each availableEmployees as employee, i (i)}\n                <option value={employee.id}>\n                  {formatEmployeeForSelect(employee)}\n                </option>\n              {/each}\n            </select>\n          </div>\n\n          <!-- ÎßàÍ∞êÏùº -->\n          <div>\n            <label\n              for=\"evidence-due-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              ÎßàÍ∞êÏùº\n            </label>\n            <input\n              id=\"evidence-due-date\"\n              type=\"date\"\n              bind:value={newEvidenceForm.dueDate}\n              onchange={validateEvidenceRegistration}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <!-- Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù Í≤∞Í≥º (Ïù∏Í±¥ÎπÑÏù∏ Í≤ΩÏö∞ÏóêÎßå ÌëúÏãú) -->\n          {#if newEvidenceForm.categoryId && evidenceCategories.find(cat => cat.id === newEvidenceForm.categoryId)?.name === 'Ïù∏Í±¥ÎπÑ'}\n            {#if isValidatingEvidence}\n              <div class=\"p-3 bg-gray-50 border border-gray-200 rounded-md\">\n                <div class=\"flex items-center space-x-2\">\n                  <RefreshCwIcon class=\"h-4 w-4 text-gray-600 animate-spin\" />\n                  <span class=\"text-sm text-gray-700\">Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù Ï§ë...</span>\n                </div>\n              </div>\n            {:else if evidenceValidation}\n              <div\n                class=\"p-3 border rounded-md {evidenceValidation.validation.isValid\n                  ? 'bg-green-50 border-green-200'\n                  : 'bg-red-50 border-red-200'}\"\n              >\n                <div class=\"flex items-center space-x-2 mb-2\">\n                  {#if evidenceValidation.validation.isValid}\n                    <ShieldCheckIcon class=\"h-4 w-4 text-green-600\" />\n                    <span class=\"text-sm font-medium text-green-800\">Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù ÌÜµÍ≥º</span>\n                  {:else}\n                    <ShieldAlertIcon class=\"h-4 w-4 text-red-600\" />\n                    <span class=\"text-sm font-medium text-red-800\">Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù Ïã§Ìå®</span>\n                  {/if}\n                </div>\n                <p\n                  class=\"text-sm {evidenceValidation.validation.isValid\n                    ? 'text-green-700'\n                    : 'text-red-700'}\"\n                >\n                  {evidenceValidation.validation.message}\n                </p>\n                {#if evidenceValidation.validation.warnings && evidenceValidation.validation.warnings.length > 0}\n                  <div class=\"mt-2\">\n                    {#each evidenceValidation.validation.warnings as warning, i (i)}\n                      <p class=\"text-sm text-yellow-700\">‚ö†Ô∏è {warning}</p>\n                    {/each}\n                  </div>\n                {/if}\n              </div>\n            {/if}\n          {/if}\n        </div>\n\n        <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n        <div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200 mt-6\">\n          <ThemeButton\n            variant=\"ghost\"\n            onclick={() => (showEvidenceModal = false)}>\n            Ï∑®ÏÜå\n          </ThemeButton>\n          <ThemeButton\n            onclick={handleAddEvidenceItem}\n            disabled={isUpdating || (evidenceValidation && !evidenceValidation.validation.isValid)}\n          >\n            {isUpdating ? 'Ï∂îÍ∞Ä Ï§ë...' : 'Ï∂îÍ∞Ä'}\n          </ThemeButton>\n        </div>\n      </div>\n    </ThemeModal>\n  {/if}\n\n  <!-- ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï Î™®Îã¨ -->\n  {#if showEditProjectModal}\n    <ThemeModal\n      open={showEditProjectModal}\n      onclose={() => (showEditProjectModal = false)}>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï</h3>\n\n        <div class=\"space-y-4\">\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™© -->\n          <div>\n            <label\n              for=\"edit-project-title\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™© *\n            </label>\n            <input\n              id=\"edit-project-title\"\n              type=\"text\"\n              bind:value={projectForm.title}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              required\n            />\n          </div>\n\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú -->\n          <div>\n            <label\n              for=\"edit-project-code\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú *\n            </label>\n            <input\n              id=\"edit-project-code\"\n              type=\"text\"\n              bind:value={projectForm.code}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              required\n            />\n          </div>\n\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Î™Ö -->\n          <div>\n            <label\n              for=\"edit-project-description\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >\n              ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Î™Ö\n            </label>\n            <textarea\n              id=\"edit-project-description\"\n              bind:value={projectForm.description}\n              rows=\"3\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            ></textarea>\n          </div>\n\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ ÏÉÅÌÉú Î∞è Ïö∞ÏÑ†ÏàúÏúÑ -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"edit-project-status\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                ÏÉÅÌÉú *\n              </label>\n              <select\n                id=\"edit-project-status\"\n                bind:value={projectForm.status}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              >\n                <option value=\"planning\">Í≥ÑÌöç</option>\n                <option value=\"active\">ÏßÑÌñâÏ§ë</option>\n                <option value=\"completed\">ÏôÑÎ£å</option>\n                <option value=\"cancelled\">Ï∑®ÏÜå</option>\n                <option value=\"suspended\">Ï§ëÎã®</option>\n              </select>\n            </div>\n            <div>\n              <label\n                for=\"edit-project-priority\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >\n                Ïö∞ÏÑ†ÏàúÏúÑ *\n              </label>\n              <select\n                id=\"edit-project-priority\"\n                bind:value={projectForm.priority}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              >\n                <option value=\"low\">ÎÇÆÏùå</option>\n                <option value=\"medium\">Î≥¥ÌÜµ</option>\n                <option value=\"high\">ÎÜíÏùå</option>\n                <option value=\"critical\">Í∏¥Í∏â</option>\n              </select>\n            </div>\n          </div>\n\n          <!-- ÌõÑÏõêÍ∏∞Í¥Ä Î∞è Ïó∞Íµ¨Ïú†Ìòï -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"edit-project-sponsor\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >\n                ÌõÑÏõêÍ∏∞Í¥Ä *\n              </label>\n              <select\n                id=\"edit-project-sponsor\"\n                bind:value={projectForm.sponsorType}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              >\n                <option value=\"internal\">ÎÇ¥Î∂Ä</option>\n                <option value=\"government\">Ï†ïÎ∂Ä</option>\n                <option value=\"private\">ÎØºÍ∞Ñ</option>\n                <option value=\"international\">Íµ≠Ï†ú</option>\n              </select>\n            </div>\n            <div>\n              <label\n                for=\"edit-project-research-type\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >\n                Ïó∞Íµ¨Ïú†Ìòï *\n              </label>\n              <select\n                id=\"edit-project-research-type\"\n                bind:value={projectForm.researchType}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              >\n                <option value=\"basic\">Í∏∞Ï¥àÏó∞Íµ¨</option>\n                <option value=\"applied\">ÏùëÏö©Ïó∞Íµ¨</option>\n                <option value=\"development\">Í∞úÎ∞úÏó∞Íµ¨</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex justify-end space-x-3 mt-6\">\n          <ThemeButton\n            variant=\"ghost\"\n            onclick={() => (showEditProjectModal = false)}\n            disabled={isUpdating}\n          >\n            Ï∑®ÏÜå\n          </ThemeButton>\n          <ThemeButton\n            onclick={updateProject}\n            disabled={isUpdating}>\n            {#if isUpdating}\n              ÏàòÏ†ï Ï§ë...\n            {:else}\n              ÏàòÏ†ï\n            {/if}\n          </ThemeButton>\n        </div>\n      </div>\n    </ThemeModal>\n  {/if}\n\n  <!-- ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú ÌôïÏù∏ Î™®Îã¨ -->\n  {#if showDeleteConfirmModal}\n    <ThemeModal\n      open={showDeleteConfirmModal}\n      onclose={() => {\n        showDeleteConfirmModal = false\n        deleteConfirmationCode = '' // Î™®Îã¨ Îã´ÏùÑ Îïå ÏΩîÎìú Ï¥àÍ∏∞Ìôî\n      }}\n    >\n      <div class=\"p-6\">\n        <div class=\"flex items-center mb-4\">\n          <AlertTriangleIcon class=\"h-6 w-6 text-red-500 mr-3\" />\n          <h3 class=\"text-lg font-medium text-gray-900\">ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú ÌôïÏù∏</h3>\n        </div>\n\n        <div class=\"mb-6\">\n          <p class=\"text-sm text-gray-600 mb-4\">Îã§Ïùå ÌîÑÎ°úÏ†ùÌä∏Î•º ÏôÑÏ†ÑÌûà ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>\n          <div class=\"bg-gray-50 p-4 rounded-lg\">\n            <p class=\"font-medium text-gray-900\">{selectedProject?.title}</p>\n            <p class=\"text-sm text-gray-600\">ÏΩîÎìú: {selectedProject?.code}</p>\n          </div>\n          <div class=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n            <p class=\"text-sm text-red-800 font-medium mb-2\">‚ö†Ô∏è ÏÇ≠Ï†úÎê† Îç∞Ïù¥ÌÑ∞:</p>\n            <ul class=\"text-sm text-red-700 space-y-1\">\n              <li>‚Ä¢ Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥ ({projectMembers.length}Î™Ö)</li>\n              <li>‚Ä¢ ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Ï†ïÎ≥¥ ({projectBudgets.length}Í∞ú Ïó∞Ï∞®)</li>\n              <li>‚Ä¢ Ï∞∏Ïó¨Ïú® Ïù¥Î†• Îç∞Ïù¥ÌÑ∞</li>\n              <li>‚Ä¢ ÌîÑÎ°úÏ†ùÌä∏ ÎßàÏùºÏä§ÌÜ§</li>\n              <li>‚Ä¢ ÌîÑÎ°úÏ†ùÌä∏ ÏúÑÌóò ÏöîÏÜå</li>\n            </ul>\n            <p class=\"text-sm text-red-800 font-medium mt-3\">Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.</p>\n          </div>\n\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú ÏûÖÎ†• ÌôïÏù∏ -->\n          <div class=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n            <p class=\"text-sm text-yellow-800 font-medium mb-3\">\n              üîí ÏÇ≠Ï†úÎ•º ÌôïÏù∏ÌïòÎ†§Î©¥ ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\n            </p>\n            <div>\n              <label\n                for=\"delete-confirmation-code\"\n                class=\"block text-sm font-medium text-gray-700 mb-2\"\n              >\n                ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú ÏûÖÎ†•\n              </label>\n              <input\n                id=\"delete-confirmation-code\"\n                type=\"text\"\n                bind:value={deleteConfirmationCode}\n                placeholder=\"ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÎ•º Ï†ïÌôïÌûà ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n                autocomplete=\"off\"\n              />\n              {#if deleteConfirmationCode && !isDeleteCodeValid()}\n                <p class=\"text-sm text-red-600 mt-1\">‚ùå ÏΩîÎìúÍ∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§</p>\n              {:else if isDeleteCodeValid()}\n                <p class=\"text-sm text-green-600 mt-1\">‚úÖ ÏΩîÎìúÍ∞Ä ÏùºÏπòÌï©ÎãàÎã§</p>\n              {/if}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex justify-end space-x-3\">\n          <ThemeButton\n            variant=\"ghost\"\n            onclick={() => {\n              showDeleteConfirmModal = false\n              deleteConfirmationCode = '' // Î™®Îã¨ Îã´ÏùÑ Îïå ÏΩîÎìú Ï¥àÍ∏∞Ìôî\n            }}\n            disabled={isDeleting}\n          >\n            Ï∑®ÏÜå\n          </ThemeButton>\n          <ThemeButton\n            variant=\"error\"\n            onclick={deleteProject}\n            disabled={isDeleting || !isDeleteCodeValid()}\n          >\n            {#if isDeleting}\n              ÏÇ≠Ï†ú Ï§ë...\n            {:else}\n              ÏÇ≠Ï†ú\n            {/if}\n          </ThemeButton>\n        </div>\n      </div>\n    </ThemeModal>\n  {/if}\n\n  <!-- Í≤ÄÏ¶ù Í≤∞Í≥º Î™®Îã¨ -->\n  <ThemeModal\n    open={showValidationModal}\n    onclose={() => (showValidationModal = false)}>\n    <div class=\"max-w-4xl\">\n      <div class=\"flex justify-between items-center mb-4\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Í≤∞Í≥º</h3>\n        <ThemeButton\n          variant=\"ghost\"\n          onclick={() => (showValidationModal = false)}>\n          <XIcon size={16} />\n        </ThemeButton>\n      </div>\n\n      {#if validationResults}\n        <div class=\"space-y-6\">\n          <!-- Í≤ÄÏ¶ù ÏöîÏïΩ -->\n          <div class=\"bg-gray-50 p-4 rounded-lg\">\n            <h4 class=\"font-medium text-gray-900 mb-2\">Í≤ÄÏ¶ù ÏöîÏïΩ</h4>\n            <div class=\"grid grid-cols-3 gap-4 text-sm\">\n              <div>\n                <span class=\"text-gray-600\">Ï¥ù Í≤ÄÏ¶ù Ìï≠Î™©:</span>\n                <span class=\"font-medium ml-2\">{validationResults.summary?.total || 0}</span>\n              </div>\n              <div>\n                <span class=\"text-gray-600\">Ïú†Ìö®:</span>\n                <span class=\"font-medium text-green-600 ml-2\"\n                >{validationResults.summary?.valid || 0}</span\n                >\n              </div>\n              <div>\n                <span class=\"text-gray-600\">Î¨∏Ï†ú:</span>\n                <span class=\"font-medium text-red-600 ml-2\"\n                >{validationResults.summary?.invalid || 0}</span\n                >\n              </div>\n            </div>\n          </div>\n\n          <!-- Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù Í≤∞Í≥º -->\n          {#if validationResults.schema}\n            <div class=\"border rounded-lg p-4\">\n              <h4 class=\"font-medium text-gray-900 mb-3\">Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù</h4>\n              <div class=\"space-y-2 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span>Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà:</span>\n                  <span\n                    class={validationResults.schema.database?.isValid\n                      ? 'text-green-600'\n                      : 'text-red-600'}\n                  >\n                    {validationResults.schema.database?.isValid ? 'Ïú†Ìö®' : 'Î¨∏Ï†ú ÏûàÏùå'}\n                  </span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span>Ïª¨Îüº Î™ÖÎ™Ö Í∑úÏπô:</span>\n                  <span\n                    class={validationResults.schema.naming?.isValid\n                      ? 'text-green-600'\n                      : 'text-red-600'}\n                  >\n                    {validationResults.schema.naming?.isValid ? 'Ïú†Ìö®' : 'Î¨∏Ï†ú ÏûàÏùå'}\n                  </span>\n                </div>\n              </div>\n            </div>\n          {/if}\n\n          <!-- ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Í≤∞Í≥º -->\n          {#if validationResults.project}\n            <div class=\"border rounded-lg p-4\">\n              <h4 class=\"font-medium text-gray-900 mb-3\">ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù</h4>\n              <div class=\"space-y-2 text-sm\">\n                {#each validationResults.project.validationResults || [] as result, i (i)}\n                  <div class=\"flex justify-between\">\n                    <span>{result.ruleName}:</span>\n                    <span class={result.isValid ? 'text-green-600' : 'text-red-600'}>\n                      {result.isValid ? 'Ïú†Ìö®' : 'Î¨∏Ï†ú ÏûàÏùå'}\n                    </span>\n                  </div>\n                {/each}\n              </div>\n            </div>\n          {/if}\n\n          <!-- Î¨∏Ï†úÏ†ê Î™©Î°ù -->\n          {#if validationResults.summary?.issues?.length > 0}\n            <div class=\"border border-red-200 rounded-lg p-4 bg-red-50\">\n              <h4 class=\"font-medium text-red-900 mb-3\">Î∞úÍ≤¨Îêú Î¨∏Ï†úÏ†ê</h4>\n              <ul class=\"space-y-1 text-sm text-red-800\">\n                {#each validationResults.summary.issues as issue, i (i)}\n                  <li>‚Ä¢ {issue}</li>\n                {/each}\n              </ul>\n            </div>\n          {/if}\n        </div>\n      {/if}\n    </div>\n  </ThemeModal>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ProjectListCard.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ProjectOverviewCard.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/ResearcherValidationTable.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'memberId' is defined but never used.",
        "line": 25,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 25,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "memberId" },
            "fix": { "range": [597, 614], "text": "" },
            "desc": "Remove unused variable 'memberId'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'updates' is defined but never used.",
        "line": 25,
        "column": 41,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 25,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "updates" },
            "fix": { "range": [613, 627], "text": "" },
            "desc": "Remove unused variable 'updates'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 123,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 123,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 126,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 126,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 172,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 172,
        "endColumn": 13
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 441,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 441,
        "endColumn": 32,
        "fix": { "range": [12740, 12741], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 3,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import {\n    AlertTriangleIcon,\n    CheckCircleIcon,\n    RefreshCwIcon,\n    SettingsIcon,\n    UserIcon,\n    WrenchIcon,\n    XCircleIcon\n  } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  // Props\n  let {\n    projectId,\n    members = [],\n    onMemberUpdate\n  }: {\n    projectId: string\n    members?: any[]\n    onMemberUpdate?: (memberId: string, updates: any) => void\n  } = $props()\n\n  // Default function for onMemberUpdate\n  if (!onMemberUpdate) {\n    onMemberUpdate = () => {}\n  }\n\n  // State\n  let validationState = $state({\n    isValidating: false,\n    isValid: false,\n    lastValidated: null as string | null,\n    issues: [] as any[],\n    summary: {\n      totalMembers: 0,\n      validMembers: 0,\n      invalidMembers: 0\n    }\n  })\n\n  let showValidationDetails = $state(false)\n  let selectedMember = $state<any>(null)\n\n  // Í≤ÄÏ¶ù ÏÉÅÌÉú ÏïÑÏù¥ÏΩò\n  function getValidationIcon() {\n    if (validationState.isValidating) {\n      return RefreshCwIcon\n    }\n    return validationState.isValid ? CheckCircleIcon : AlertTriangleIcon\n  }\n\n  // Í≤ÄÏ¶ù ÏÉÅÌÉú ÏÉâÏÉÅ\n  function getValidationColor() {\n    if (validationState.isValidating) {\n      return 'text-blue-600'\n    }\n    return validationState.isValid ? 'text-green-600' : 'text-red-600'\n  }\n\n  // Í≤ÄÏ¶ù ÏÉÅÌÉú ÌÖçÏä§Ìä∏\n  function getValidationText() {\n    if (validationState.isValidating) {\n      return 'Í≤ÄÏ¶ù Ï§ë...'\n    }\n    return validationState.isValid\n      ? 'Í≤ÄÏ¶ù ÏôÑÎ£å'\n      : `${validationState.summary.invalidMembers}Í∞ú Ïù¥Ïäà Î∞úÍ≤¨`\n  }\n\n  // Î©§Î≤ÑÎ≥Ñ Í≤ÄÏ¶ù ÏÉÅÌÉú\n  function getMemberValidationStatus(member: any) {\n    const memberIssues = validationState.issues.filter(issue => issue.memberId === member.id)\n\n    if (memberIssues.length === 0) {\n      return {\n        status: 'valid',\n        icon: CheckCircleIcon,\n        color: 'text-green-600',\n        text: 'Ï†ïÏÉÅ'\n      }\n    }\n\n    const hasErrors = memberIssues.some(issue => issue.severity === 'error')\n    return {\n      status: hasErrors ? 'error' : 'warning',\n      icon: hasErrors ? XCircleIcon : AlertTriangleIcon,\n      color: hasErrors ? 'text-red-600' : 'text-yellow-600',\n      text: hasErrors ? 'Ïò§Î•ò' : 'Ï£ºÏùò'\n    }\n  }\n\n  // Ï∞∏Ïó¨Ïú® ÏÉâÏÉÅ\n  function getParticipationRateColor(rate: number) {\n    if (rate > 100) return 'danger'\n    if (rate >= 80) return 'success'\n    if (rate >= 50) return 'warning'\n    return 'secondary'\n  }\n\n  // Í≤ÄÏ¶ù Ïã§Ìñâ\n  async function runValidation() {\n    if (!projectId) return\n\n    validationState.isValidating = true\n\n    try {\n      const response = await fetch(\n        `/api/project-management/researcher-validation?projectId=${projectId}`\n      )\n      const result = await response.json()\n\n      if (result.success) {\n        validationState.isValid = result.data.validation.isValid\n        validationState.issues = result.data.validation.issues\n        validationState.summary = result.data.validation.summary\n        validationState.lastValidated = new Date().toISOString()\n      } else {\n        logger.error('Í≤ÄÏ¶ù Ïã§Ìå®:', result.error)\n      }\n    } catch (error) {\n      logger.error('Í≤ÄÏ¶ù Ïò§Î•ò:', error)\n    } finally {\n      validationState.isValidating = false\n    }\n  }\n\n  // ÏûêÎèô ÏàòÏ†ï Ïã§Ìñâ\n  async function runAutoFix() {\n    if (!projectId) return\n\n    // ÏàòÏ†ï Í∞ÄÎä•Ìïú Ïù¥ÏäàÎì§ ÏàòÏßë\n    const fixes = validationState.issues\n      .filter(issue => issue.type === 'participation_rate_excess')\n      .map(issue => ({\n        type: 'participation_rate_adjustment',\n        memberId: issue.memberId,\n        oldValue: issue.data?.participationRate || 100,\n        newValue: 100\n      }))\n\n    if (fixes.length === 0) {\n      return\n    }\n\n    try {\n      const response = await fetch('/api/project-management/researcher-validation', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          projectId,\n          fixes\n        })\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        // ÏàòÏ†ï ÏôÑÎ£å ÌõÑ Ïû¨Í≤ÄÏ¶ù\n        await runValidation()\n\n        // Î©§Î≤Ñ Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®\n        onMemberUpdate('refresh', {})\n      }\n    } catch (error) {\n      logger.error('ÏûêÎèô ÏàòÏ†ï Ïò§Î•ò:', error)\n    }\n  }\n\n  // Î©§Î≤Ñ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î≥¥Í∏∞\n  function showMemberDetails(member: any) {\n    selectedMember = member\n    showValidationDetails = true\n  }\n\n  // ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ\n  function formatDate(dateString: string) {\n    if (!dateString) return '-'\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Í∏àÏï° Ìè¨Îß∑ÌåÖ\n  function formatCurrency(amount: number) {\n    if (!amount) return '0Ïõê'\n    return new Intl.NumberFormat('ko-KR', {\n      style: 'currency',\n      currency: 'KRW',\n      minimumFractionDigits: 0\n    }).format(amount)\n  }\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú ÏûêÎèô Í≤ÄÏ¶ù\n  onMount(() => {\n    if (projectId && members.length > 0) {\n      runValidation()\n    }\n  })\n\n  // Î©§Î≤Ñ Îç∞Ïù¥ÌÑ∞ Î≥ÄÍ≤Ω Ïãú Ïû¨Í≤ÄÏ¶ù\n  $effect(() => {\n    if (projectId && members.length > 0 && !validationState.isValidating) {\n      runValidation()\n    }\n  })\n</script>\n\n<div class=\"space-y-4\">\n  <!-- Í≤ÄÏ¶ù ÏÉÅÌÉú Ìó§Îçî -->\n  <ThemeCard>\n    <div class=\"p-4\">\n      <div class=\"flex items-center justify-between\">\n        <div class=\"flex items-center gap-3\">\n          <svelte:component\n            this={getValidationIcon()}\n            size={24}\n            class={getValidationColor()} />\n          <div>\n            <h3\n              class=\"text-lg font-semibold\"\n              style:color=\"var(--color-text)\">\n              Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù ÏÉÅÌÉú\n            </h3>\n            <p\n              class=\"text-sm\"\n              style:color=\"var(--color-text-secondary)\">\n              {getValidationText()}\n              {#if validationState.lastValidated}\n                ‚Ä¢ ÎßàÏßÄÎßâ Í≤ÄÏ¶ù: {new Date(validationState.lastValidated).toLocaleString('ko-KR')}\n              {/if}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"flex items-center gap-2\">\n          {#if !validationState.isValid && validationState.issues.some(issue => issue.type === 'participation_rate_excess')}\n            <ThemeButton\n              variant=\"warning\"\n              size=\"sm\"\n              onclick={runAutoFix}\n              disabled={validationState.isValidating}\n            >\n              <WrenchIcon\n                size={16}\n                class=\"mr-1\" />\n              ÏûêÎèô ÏàòÏ†ï\n            </ThemeButton>\n          {/if}\n\n          <ThemeButton\n            variant=\"secondary\"\n            size=\"sm\"\n            onclick={runValidation}\n            disabled={validationState.isValidating}\n          >\n            <RefreshCwIcon\n              size={16}\n              class=\"mr-1 {validationState.isValidating ? 'animate-spin' : ''}\"\n            />\n            Îã§Ïãú Í≤ÄÏ¶ù\n          </ThemeButton>\n        </div>\n      </div>\n\n      <!-- Í≤ÄÏ¶ù ÏöîÏïΩ -->\n      {#if validationState.summary.totalMembers > 0}\n        <div class=\"mt-4 grid grid-cols-3 gap-4\">\n          <div class=\"text-center\">\n            <div class=\"text-2xl font-bold text-gray-900\">\n              {validationState.summary.totalMembers}\n            </div>\n            <div class=\"text-sm text-gray-600\">Ï†ÑÏ≤¥ Ïó∞Íµ¨Ïõê</div>\n          </div>\n          <div class=\"text-center\">\n            <div class=\"text-2xl font-bold text-green-600\">\n              {validationState.summary.validMembers}\n            </div>\n            <div class=\"text-sm text-gray-600\">Ï†ïÏÉÅ</div>\n          </div>\n          <div class=\"text-center\">\n            <div class=\"text-2xl font-bold text-red-600\">\n              {validationState.summary.invalidMembers}\n            </div>\n            <div class=\"text-sm text-gray-600\">Ïù¥Ïäà ÏûàÏùå</div>\n          </div>\n        </div>\n      {/if}\n    </div>\n  </ThemeCard>\n\n  <!-- Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÌÖåÏù¥Î∏î -->\n  <ThemeCard>\n    <div class=\"overflow-x-auto\">\n      <table class=\"w-full\">\n        <thead>\n          <tr\n            class=\"border-b\"\n            style:border-color=\"var(--color-border)\">\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\">Ïó∞Íµ¨Ïõê</th>\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\">Ï∞∏Ïó¨Ïú®</th>\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\">ÏõîÍ∞ÑÍ∏àÏï°</th\n            >\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\">Ï∞∏Ïó¨Í∏∞Í∞Ñ</th\n            >\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\"\n            >Í∏∞Ïó¨ Ïú†Ìòï</th\n            >\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\"\n            >Í≤ÄÏ¶ù ÏÉÅÌÉú</th\n            >\n            <th\n              class=\"text-left py-3 px-4 font-medium\"\n              style:color=\"var(--color-text)\">Ïï°ÏÖò</th>\n          </tr>\n        </thead>\n        <tbody>\n          {#each members as member, i (i)}\n            {@const validationStatus = getMemberValidationStatus(member)}\n            <tr\n              class=\"border-b hover:bg-opacity-50\"\n              style:border-color=\"var(--color-border)\">\n              <!-- Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥ -->\n              <td class=\"py-3 px-4\">\n                <div class=\"flex items-center gap-2\">\n                  <UserIcon\n                    size={16}\n                    style=\"color: var(--color-primary);\" />\n                  <div>\n                    <div\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">\n                      {member.employee_name}\n                    </div>\n                    <div\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {member.employee_department} / {member.employee_position}\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              <!-- Ï∞∏Ïó¨Ïú® -->\n              <td class=\"py-3 px-4\">\n                <ThemeBadge\n                  variant={getParticipationRateColor(\n                    parseFloat(member.participation_rate) || 0\n                  ) as any}\n                >\n                  {member.participation_rate}%\n                </ThemeBadge>\n              </td>\n\n              <!-- ÏõîÍ∞ÑÍ∏àÏï° -->\n              <td\n                class=\"py-3 px-4\"\n                style:color=\"var(--color-text)\">\n                {formatCurrency(parseFloat(member.monthly_amount) || 0)}\n              </td>\n\n              <!-- Ï∞∏Ïó¨Í∏∞Í∞Ñ -->\n              <td\n                class=\"py-3 px-4\"\n                style:color=\"var(--color-text)\">\n                <div class=\"text-sm\">\n                  <div>ÏãúÏûë: {formatDate(member.start_date)}</div>\n                  <div>Ï¢ÖÎ£å: {formatDate(member.end_date)}</div>\n                </div>\n              </td>\n\n              <!-- Í∏∞Ïó¨ Ïú†Ìòï -->\n              <td class=\"py-3 px-4\">\n                <ThemeBadge variant=\"success\">\n                  {member.contribution_type === 'cash' ? 'ÌòÑÍ∏à' : member.contribution_type}\n                </ThemeBadge>\n              </td>\n\n              <!-- Í≤ÄÏ¶ù ÏÉÅÌÉú -->\n              <td class=\"py-3 px-4\">\n                <div class=\"flex items-center gap-2\">\n                  <svelte:component\n                    this={validationStatus.icon}\n                    size={16}\n                    class={validationStatus.color}\n                  />\n                  <span\n                    class=\"text-sm\"\n                    style:color=\"var(--color-text)\">\n                    {validationStatus.text}\n                  </span>\n                </div>\n              </td>\n\n              <!-- Ïï°ÏÖò -->\n              <td class=\"py-3 px-4\">\n                <div class=\"flex items-center gap-2\">\n                  <ThemeButton\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    onclick={() => showMemberDetails(member)}\n                  >\n                    <SettingsIcon\n                      size={14}\n                      class=\"mr-1\" />\n                    ÏÉÅÏÑ∏\n                  </ThemeButton>\n                </div>\n              </td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  </ThemeCard>\n\n  <!-- Í≤ÄÏ¶ù ÏÉÅÏÑ∏ Î™®Îã¨ -->\n  {#if showValidationDetails && selectedMember}\n    <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div class=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">\n            {selectedMember.employee_name} Í≤ÄÏ¶ù ÏÉÅÏÑ∏\n          </h3>\n          <button type=\"button\"\n            onclick={() => (showValidationDetails = false)}\n            class=\"text-gray-400 hover:text-gray-600\"\n          >\n            <XCircleIcon size={24} />\n          </button>\n        </div>\n\n        <!-- Î©§Î≤Ñ Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n        <div class=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n          <h4 class=\"font-medium text-gray-900 mb-2\">Í∏∞Î≥∏ Ï†ïÎ≥¥</h4>\n          <div class=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span class=\"text-gray-600\">Î∂ÄÏÑú/ÏßÅÍ∏â:</span>\n              <span class=\"ml-2\"\n              >{selectedMember.employee_department} / {selectedMember.employee_position}</span\n              >\n            </div>\n            <div>\n              <span class=\"text-gray-600\">Ï∞∏Ïó¨Ïú®:</span>\n              <span class=\"ml-2\">{selectedMember.participation_rate}%</span>\n            </div>\n            <div>\n              <span class=\"text-gray-600\">ÏõîÍ∞ÑÍ∏àÏï°:</span>\n              <span class=\"ml-2\"\n              >{formatCurrency(parseFloat(selectedMember.monthly_amount) || 0)}</span\n              >\n            </div>\n            <div>\n              <span class=\"text-gray-600\">Ï∞∏Ïó¨Í∏∞Í∞Ñ:</span>\n              <span class=\"ml-2\"\n              >{formatDate(selectedMember.start_date)} ~ {formatDate(\n                selectedMember.end_date\n              )}</span\n              >\n            </div>\n          </div>\n        </div>\n\n        <!-- Í≤ÄÏ¶ù Ïù¥Ïäà -->\n        {@const memberIssues = validationState.issues.filter(\n          issue => issue.memberId === selectedMember.id\n        )}\n\n        {#if memberIssues.length > 0}\n          <div class=\"space-y-3\">\n            <h4 class=\"font-medium text-gray-900\">Î∞úÍ≤¨Îêú Ïù¥Ïäà</h4>\n            {#each memberIssues as issue, i (i)}\n              <div\n                class=\"p-3 rounded-lg border {issue.severity === 'error'\n                  ? 'border-red-200 bg-red-50'\n                  : 'border-yellow-200 bg-yellow-50'}\"\n              >\n                <div class=\"flex items-start gap-2\">\n                  <svelte:component\n                    this={issue.severity === 'error' ? XCircleIcon : AlertTriangleIcon}\n                    size={20}\n                    class={issue.severity === 'error' ? 'text-red-600' : 'text-yellow-600'}\n                  />\n                  <div class=\"flex-1\">\n                    <div class=\"font-medium text-gray-900\">{issue.message}</div>\n                    {#if issue.suggestedFix}\n                      <div class=\"text-sm text-gray-600 mt-1\">\n                        üí° {issue.suggestedFix}\n                      </div>\n                    {/if}\n                  </div>\n                </div>\n              </div>\n            {/each}\n          </div>\n        {:else}\n          <div class=\"text-center py-8\">\n            <CheckCircleIcon\n              size={48}\n              class=\"text-green-600 mx-auto mb-2\" />\n            <div class=\"text-lg font-medium text-gray-900\">Í≤ÄÏ¶ù ÌÜµÍ≥º</div>\n            <div class=\"text-sm text-gray-600\">Ïù¥ Ïó∞Íµ¨ÏõêÏùò Î™®Îì† Í≤ÄÏ¶ù Ìï≠Î™©Ïù¥ Ï†ïÏÉÅÏûÖÎãàÎã§.</div>\n          </div>\n        {/if}\n\n        <div class=\"flex justify-end gap-2 mt-6\">\n          <ThemeButton\n            variant=\"secondary\"\n            onclick={() => (showValidationDetails = false)}>\n            Îã´Í∏∞\n          </ThemeButton>\n        </div>\n      </div>\n    </div>\n  {/if}\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/project-management/SimpleBudgetForm.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 264,
        "column": 37
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import type { AnnualBudgetFormData } from '$lib/types/project-budget'\n  import { toUTC } from '$lib/utils/date-handler'\n  import { formatDateForInput } from '$lib/utils/format'\n  import { CheckIcon, PlusIcon, TrashIcon } from '@lucide/svelte'\n  import { createEventDispatcher } from 'svelte'\n\n  const dispatch = createEventDispatcher()\n\n  let { projectId } = $props<{\n    projectId: string\n  }>()\n\n  // Í∞ÑÎã®Ìïú Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ (Í∏∞Í∞Ñ Ìè¨Ìï®)\n  let budgets = $state<AnnualBudgetFormData[]>([\n    {\n      year: 1,\n      startDate: '',\n      endDate: '',\n      governmentFunding: 0,\n      companyCash: 0,\n      companyInKind: 0\n    }\n  ])\n\n  let isSubmitting = $state(false)\n  let validationErrors = $state<string[]>([])\n  let isLoading = $state(true)\n\n  // Í∏∞Ï°¥ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  async function loadExistingBudgets() {\n    if (!projectId) return\n\n    try {\n      isLoading = true\n      const response = await fetch(`/api/project-management/projects/${projectId}/annual-budgets`)\n      const result = await response.json()\n\n      if (result.success && result.data?.budgets && result.data.budgets.length > 0) {\n        // Í∏∞Ï°¥ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏûàÏúºÎ©¥ Î°úÎìú (UTC ÎÇ†Ïßú Ï≤òÎ¶¨ Ìï®Ïàò ÏÇ¨Ïö©)\n        logger.log('Í∏∞Ï°¥ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú:', result.data.budgets)\n        budgets = result.data.budgets.map(budget => ({\n          year: budget.year,\n          startDate: budget.startDate ? formatDateForInput(budget.startDate) : '',\n          endDate: budget.endDate ? formatDateForInput(budget.endDate) : '',\n          governmentFunding: budget.governmentFunding || 0,\n          companyCash: budget.companyCash || 0,\n          companyInKind: budget.companyInKind || 0,\n          notes: budget.notes || ''\n        }))\n        logger.log('Î≥ÄÌôòÎêú ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞:', budgets)\n      } else {\n        logger.log('Í∏∞Ï°¥ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå - Í∏∞Î≥∏Í∞í ÏÇ¨Ïö©')\n      }\n    } catch (error) {\n      logger.error('Í∏∞Ï°¥ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error)\n    } finally {\n      isLoading = false\n    }\n  }\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    if (projectId) {\n      loadExistingBudgets()\n    }\n  })\n\n  // Ïó∞Ï∞® Ï∂îÍ∞Ä\n  function addYear() {\n    const nextYear = budgets.length + 1\n    const lastBudget = budgets[budgets.length - 1]\n\n    // Ïù¥Ï†Ñ Ïó∞Ï∞®Ïùò Ï¢ÖÎ£åÏùº Îã§ÏùåÎÇ†ÏùÑ ÏãúÏûëÏùºÎ°ú ÏÑ§Ï†ï\n    let startDate = ''\n    let endDate = ''\n\n    if (lastBudget?.endDate) {\n      // UTC Í∏∞Ï§ÄÏúºÎ°ú ÎÇ†Ïßú Í≥ÑÏÇ∞\n      const lastEndUTC = toUTC(lastBudget.endDate)\n      const lastEndDate = new Date(lastEndUTC)\n\n      // Îã§ÏùåÎÇ†ÏùÑ ÏãúÏûëÏùºÎ°ú ÏÑ§Ï†ï\n      const nextStartDate = new Date(lastEndDate)\n      nextStartDate.setUTCDate(nextStartDate.getUTCDate() + 1)\n      startDate = formatDateForInput(nextStartDate.toISOString())\n\n      // 1ÎÖÑ ÌõÑÎ•º Ï¢ÖÎ£åÏùºÎ°ú ÏÑ§Ï†ï\n      const nextEndDate = new Date(nextStartDate)\n      nextEndDate.setUTCFullYear(nextEndDate.getUTCFullYear() + 1)\n      nextEndDate.setUTCDate(nextEndDate.getUTCDate() - 1)\n      endDate = formatDateForInput(nextEndDate.toISOString())\n    }\n\n    budgets.push({\n      year: nextYear,\n      startDate,\n      endDate,\n      governmentFunding: 0,\n      companyCash: 0,\n      companyInKind: 0\n    })\n  }\n\n  // Ïó∞Ï∞® ÏÇ≠Ï†ú\n  function removeYear(index: number) {\n    if (budgets.length > 1) {\n      budgets.splice(index, 1)\n      // Ïó∞Ï∞® Î≤àÌò∏ Ïû¨Ï†ïÎ†¨\n      budgets.forEach((budget, idx) => {\n        budget.year = idx + 1\n      })\n    }\n  }\n\n  // Ï¥ùÏï° Í≥ÑÏÇ∞\n  function calculateTotal(budget: AnnualBudgetFormData): number {\n    return (budget.governmentFunding || 0) + (budget.companyCash || 0) + (budget.companyInKind || 0)\n  }\n\n  // Ï†ÑÏ≤¥ Ï¥ùÏï° Í≥ÑÏÇ∞\n  function calculateGrandTotal(): number {\n    return budgets.reduce((sum, budget) => sum + calculateTotal(budget), 0)\n  }\n\n  // Ï†ÑÏ≤¥ ÏÇ¨ÏóÖ Í∏∞Í∞Ñ Í≥ÑÏÇ∞ (UTC Í∏∞Ï§Ä)\n  function calculateProjectPeriod(): { startDate: string | null; endDate: string | null } {\n    const validBudgets = budgets.filter(b => b.startDate && b.endDate)\n    if (validBudgets.length === 0) {\n      return { startDate: null, endDate: null }\n    }\n\n    // UTC Í∏∞Ï§ÄÏúºÎ°ú ÎÇ†Ïßú Î≥ÄÌôò\n    const startDatesUTC = validBudgets.map(b => new Date(toUTC(b.startDate!)))\n    const endDatesUTC = validBudgets.map(b => new Date(toUTC(b.endDate!)))\n\n    const projectStartDate = new Date(Math.min(...startDatesUTC.map(d => d.getTime())))\n    const projectEndDate = new Date(Math.max(...endDatesUTC.map(d => d.getTime())))\n\n    return {\n      startDate: formatDateForInput(projectStartDate.toISOString()),\n      endDate: formatDateForInput(projectEndDate.toISOString())\n    }\n  }\n\n  // Í≤ÄÏ¶ù\n  function validateForm(): boolean {\n    const errors: string[] = []\n\n    budgets.forEach((budget, index) => {\n      const yearLabel = `${budget.year}Ï∞®ÎÖÑÎèÑ`\n\n      // Í∏∞Í∞Ñ Í≤ÄÏ¶ù\n      if (!budget.startDate) {\n        errors.push(`${yearLabel}: ÏãúÏûëÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.`)\n      }\n      if (!budget.endDate) {\n        errors.push(`${yearLabel}: Ï¢ÖÎ£åÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.`)\n      }\n\n      // ÎÇ†Ïßú ÏàúÏÑú Í≤ÄÏ¶ù (UTC Í∏∞Ï§Ä)\n      if (budget.startDate && budget.endDate) {\n        const startDateUTC = new Date(toUTC(budget.startDate))\n        const endDateUTC = new Date(toUTC(budget.endDate))\n        if (startDateUTC > endDateUTC) {\n          errors.push(`${yearLabel}: ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îä¶ÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`)\n        }\n      }\n\n      // ÏòàÏÇ∞ Í≤ÄÏ¶ù\n      const total = calculateTotal(budget)\n      if (total === 0) {\n        errors.push(`${yearLabel}: ÏòàÏÇ∞ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.`)\n      }\n    })\n\n    // Ïó∞Ï∞® Í∞Ñ Í∏∞Í∞Ñ Ï§ëÎ≥µ Í≤ÄÏ¶ù\n    for (let i = 0; i < budgets.length - 1; i++) {\n      const current = budgets[i]\n      const next = budgets[i + 1]\n\n      if (current.endDate && next.startDate) {\n        const currentEndUTC = new Date(toUTC(current.endDate))\n        const nextStartUTC = new Date(toUTC(next.startDate))\n\n        if (currentEndUTC >= nextStartUTC) {\n          errors.push(`${current.year}Ï∞®ÎÖÑÎèÑÏôÄ ${next.year}Ï∞®ÎÖÑÎèÑ Í∏∞Í∞ÑÏù¥ Ï§ëÎ≥µÎê©ÎãàÎã§.`)\n        }\n      }\n    }\n\n    validationErrors = errors\n    return errors.length === 0\n  }\n\n  // Ï†ÄÏû•\n  async function saveBudgets() {\n    if (!validateForm()) return\n\n    isSubmitting = true\n\n    try {\n      // Ï†ÑÏ≤¥ ÏÇ¨ÏóÖ Í∏∞Í∞Ñ Í≥ÑÏÇ∞\n      const projectPeriod = calculateProjectPeriod()\n\n      const response = await fetch(`/api/project-management/projects/${projectId}/annual-budgets`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          budgets,\n          projectPeriod // Ï†ÑÏ≤¥ ÏÇ¨ÏóÖ Í∏∞Í∞ÑÎèÑ Ìï®Íªò Ï†ÑÏÜ°\n        })\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        dispatch('budgetSaved', result.data)\n      } else {\n        validationErrors = [result.error || 'ÏòàÏÇ∞ Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.']\n      }\n    } catch (error) {\n      logger.error('ÏòàÏÇ∞ Ï†ÄÏû• Ïò§Î•ò:', error)\n      validationErrors = ['ÏòàÏÇ∞ Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.']\n    } finally {\n      isSubmitting = false\n    }\n  }\n\n  // Ïà´Ïûê Ìè¨Îß∑ÌåÖ\n  function formatNumber(num: number): string {\n    return new Intl.NumberFormat('ko-KR').format(num)\n  }\n</script>\n\n<div class=\"space-y-6\">\n  <div class=\"text-center\">\n    <h3 class=\"text-lg font-semibold text-gray-900\">Ïó∞Ï∞®Î≥Ñ Ïó∞Íµ¨Í∞úÎ∞úÎπÑ ÏòàÏÇ∞</h3>\n    <p class=\"text-sm text-gray-600 mt-1\">ÏßÄÏõêÍ∏à, Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à, ÌòÑÎ¨ºÏßÄÏõêÏùÑ Ïó∞Ï∞®Î≥ÑÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî</p>\n  </div>\n\n  {#if isLoading}\n    <div class=\"flex items-center justify-center py-8\">\n      <div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n      <span class=\"ml-2 text-gray-600\">Í∏∞Ï°¥ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</span>\n    </div>\n  {:else}\n    <!-- Í≤ÄÏ¶ù Ïò§Î•ò ÌëúÏãú -->\n    {#if validationErrors.length > 0}\n      <div class=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n        <ul class=\"text-sm text-red-700\">\n          {#each validationErrors as error, i (i)}\n            <li>‚Ä¢ {error}</li>\n          {/each}\n        </ul>\n      </div>\n    {/if}\n\n    <!-- Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏûÖÎ†• -->\n    <div class=\"space-y-4\">\n      {#each budgets as budget, index, i (i)}\n        <div class=\"border border-gray-200 rounded-lg p-4\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h4 class=\"font-medium text-gray-900\">{budget.year}Ï∞®ÎÖÑÎèÑ</h4>\n            {#if budgets.length > 1}\n              <button\n                type=\"button\"\n                onclick={() => removeYear(index)}\n                class=\"text-red-600 hover:text-red-800\"\n              >\n                <TrashIcon class=\"w-4 h-4\" />\n              </button>\n            {/if}\n          </div>\n\n          <!-- Í∏∞Í∞Ñ ÏÑ§Ï†ï -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label\n                for=\"start-date-{index}\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                ÏãúÏûëÏùº *\n              </label>\n              <input\n                id=\"start-date-{index}\"\n                type=\"date\"\n                bind:value={budget.startDate}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"end-date-{index}\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Ï¢ÖÎ£åÏùº *\n              </label>\n              <input\n                id=\"end-date-{index}\"\n                type=\"date\"\n                bind:value={budget.endDate}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <!-- ÏòàÏÇ∞ ÏûÖÎ†• -->\n          <div class=\"space-y-3\">\n            <!-- Îã®ÏúÑ ÏïàÎÇ¥ -->\n            <div class=\"text-xs text-gray-500 text-center bg-gray-50 py-1 rounded\">\n              Í∏àÏï° Îã®ÏúÑ: Ï≤úÏõê (Ïòà: 1000 ÏûÖÎ†• = 1,000Ï≤úÏõê)\n            </div>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <label\n                  for=\"gov-funding-{index}\"\n                  class=\"block text-sm font-medium text-green-700 mb-1\"\n                >\n                  ÏßÄÏõêÍ∏à\n                </label>\n                <div class=\"relative\">\n                  <input\n                    id=\"gov-funding-{index}\"\n                    type=\"number\"\n                    bind:value={budget.governmentFunding}\n                    min=\"0\"\n                    step=\"1000\"\n                    class=\"w-full px-3 py-2 pr-12 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                    placeholder=\"0\"\n                  />\n                  <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\"\n                  >\n                    <span class=\"text-gray-500 text-sm\">Ï≤úÏõê</span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <label\n                  for=\"company-cash-{index}\"\n                  class=\"block text-sm font-medium text-orange-700 mb-1\"\n                >\n                  Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à\n                </label>\n                <div class=\"relative\">\n                  <input\n                    id=\"company-cash-{index}\"\n                    type=\"number\"\n                    bind:value={budget.companyCash}\n                    min=\"0\"\n                    step=\"1000\"\n                    class=\"w-full px-3 py-2 pr-12 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500\"\n                    placeholder=\"0\"\n                  />\n                  <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\"\n                  >\n                    <span class=\"text-gray-500 text-sm\">Ï≤úÏõê</span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <label\n                  for=\"company-inkind-{index}\"\n                  class=\"block text-sm font-medium text-purple-700 mb-1\"\n                >\n                  ÌòÑÎ¨º ÏßÄÏõê\n                </label>\n                <div class=\"relative\">\n                  <input\n                    id=\"company-inkind-{index}\"\n                    type=\"number\"\n                    bind:value={budget.companyInKind}\n                    min=\"0\"\n                    step=\"1000\"\n                    class=\"w-full px-3 py-2 pr-12 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                    placeholder=\"0\"\n                  />\n                  <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\"\n                  >\n                    <span class=\"text-gray-500 text-sm\">Ï≤úÏõê</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Ïó∞Ï∞® ÏÜåÍ≥Ñ -->\n          <div class=\"mt-3 p-3 bg-gray-50 rounded-md\">\n            <div class=\"text-sm font-medium text-gray-900\">\n              {budget.year}Ï∞®ÎÖÑÎèÑ ÏÇ¨ÏóÖÎπÑ: {formatNumber(calculateTotal(budget))}Ïõê\n            </div>\n            <div class=\"text-xs text-gray-500 mt-1\">\n              ÏßÄÏõêÍ∏à {formatNumber(budget.governmentFunding || 0)}Ï≤úÏõê + Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à {formatNumber(\n                budget.companyCash || 0\n              )}Ï≤úÏõê + ÌòÑÎ¨ºÏßÄÏõê {formatNumber(budget.companyInKind || 0)}Ï≤úÏõê\n            </div>\n          </div>\n        </div>\n      {/each}\n    </div>\n\n    <!-- Ïó∞Ï∞® Ï∂îÍ∞Ä Î≤ÑÌäº -->\n    <div class=\"text-center\">\n      <button\n        type=\"button\"\n        onclick={addYear}\n        class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n      >\n        <PlusIcon class=\"w-4 h-4 mr-2\" />\n        {budgets.length + 1}Ï∞®ÎÖÑÎèÑ Ï∂îÍ∞Ä\n      </button>\n    </div>\n\n    <!-- Ï†ÑÏ≤¥ Ìï©Í≥Ñ Î∞è ÏÇ¨ÏóÖ Í∏∞Í∞Ñ -->\n    <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n      <div class=\"text-center space-y-3\">\n        <!-- Ï†ÑÏ≤¥ ÏÇ¨ÏóÖÎπÑ -->\n        <div>\n          <div class=\"text-sm text-blue-700 mb-1\">Ï†ÑÏ≤¥ ÏÇ¨ÏóÖÎπÑ</div>\n          <div class=\"text-2xl font-bold text-blue-900\">\n            {formatNumber(calculateGrandTotal())}Ïõê\n          </div>\n          <div class=\"text-sm text-blue-600\">\n            {budgets.length}ÎÖÑÏ∞® ÏÇ¨ÏóÖ Ï¥ùÏï°\n          </div>\n          <!-- ÏÑ∏Î∂Ä ÎÇ¥Ïó≠ -->\n          <div class=\"mt-2 text-xs text-blue-500 space-y-1\">\n            <div>\n              ÏßÄÏõêÍ∏à: {formatNumber(\n                budgets.reduce((sum, b) => sum + (b.governmentFunding || 0), 0)\n              )}Ï≤úÏõê\n            </div>\n            <div>\n              Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à: {formatNumber(\n                budgets.reduce((sum, b) => sum + (b.companyCash || 0), 0)\n              )}Ï≤úÏõê\n            </div>\n            <div>\n              ÌòÑÎ¨ºÏßÄÏõê: {formatNumber(\n                budgets.reduce((sum, b) => sum + (b.companyInKind || 0), 0)\n              )}Ï≤úÏõê\n            </div>\n          </div>\n        </div>\n\n        <!-- Ï†ÑÏ≤¥ ÏÇ¨ÏóÖ Í∏∞Í∞Ñ -->\n        {#if calculateProjectPeriod().startDate && calculateProjectPeriod().endDate}\n          {@const period = calculateProjectPeriod()}\n          <div class=\"pt-3 border-t border-blue-200\">\n            <div class=\"text-sm text-blue-700 mb-1\">Ï†ÑÏ≤¥ ÏÇ¨ÏóÖ Í∏∞Í∞Ñ</div>\n            <div class=\"text-lg font-semibold text-blue-900\">\n              {period.startDate} ~ {period.endDate}\n            </div>\n            <div class=\"text-sm text-blue-600\">Ïó∞Ï∞®Î≥Ñ Í∏∞Í∞ÑÏúºÎ°úÎ∂ÄÌÑ∞ ÏûêÎèô Í≥ÑÏÇ∞</div>\n          </div>\n        {:else}\n          <div class=\"pt-3 border-t border-blue-200\">\n            <div class=\"text-sm text-gray-500\">\n              Ïó∞Ï∞®Î≥Ñ Í∏∞Í∞ÑÏùÑ ÏÑ§Ï†ïÌïòÎ©¥ Ï†ÑÏ≤¥ ÏÇ¨ÏóÖ Í∏∞Í∞ÑÏù¥ ÏûêÎèô Í≥ÑÏÇ∞Îê©ÎãàÎã§\n            </div>\n          </div>\n        {/if}\n      </div>\n    </div>\n\n    <!-- Ï†ÄÏû• Î≤ÑÌäº -->\n    <div class=\"flex justify-center\">\n      <button\n        type=\"button\"\n        onclick={saveBudgets}\n        disabled={isSubmitting || calculateGrandTotal() === 0}\n        class=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n      >\n        {#if isSubmitting}\n          <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n          Ï†ÄÏû• Ï§ë...\n        {:else}\n          <CheckIcon class=\"w-4 h-4 mr-2\" />\n          ÏòàÏÇ∞ Ï†ÄÏû•\n        {/if}\n      </button>\n    </div>\n  {/if}\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/salary/EmployeeSalaryHistory.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'payroll' is defined but never used.",
        "line": 153,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 153,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "payroll" },
            "fix": { "range": [3883, 3895], "text": "" },
            "desc": "Remove unused variable 'payroll'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getChangeIcon' is defined but never used.",
        "line": 194,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 194,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getChangeIcon" },
            "fix": { "range": [4808, 4959], "text": "" },
            "desc": "Remove unused variable 'getChangeIcon'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getChangeColor' is defined but never used.",
        "line": 201,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 201,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getChangeColor" },
            "fix": { "range": [4978, 5144], "text": "" },
            "desc": "Remove unused variable 'getChangeColor'."
          }
        ]
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 216,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 216,
        "endColumn": 175,
        "fix": { "range": [5476, 5477], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 223,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 223,
        "endColumn": 179,
        "fix": { "range": [5759, 5760], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 343,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 343,
        "endColumn": 30,
        "fix": { "range": [9946, 9947], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 349,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 349,
        "endColumn": 30,
        "fix": { "range": [10301, 10302], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 458,
        "column": 27,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 458,
        "endColumn": 40,
        "fix": { "range": [14932, 14933], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 464,
        "column": 27,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 464,
        "endColumn": 40,
        "fix": { "range": [15188, 15189], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 499,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 499,
        "endColumn": 32,
        "fix": { "range": [16383, 16384], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 573,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 573,
        "endColumn": 34,
        "fix": { "range": [19352, 19353], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 579,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 579,
        "endColumn": 34,
        "fix": { "range": [19622, 19623], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 9,
    "fixableErrorCount": 0,
    "fixableWarningCount": 9,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import {\n    payslips,\n    loadPayslips,\n    loadSalaryHistory\n  } from '$lib/stores/salary/salary-store'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    SearchIcon,\n    FilterIcon,\n    DownloadIcon,\n    EyeIcon,\n    CalendarIcon,\n    DollarSignIcon,\n    FileTextIcon,\n    TrendingUpIcon,\n    TrendingDownIcon,\n    MinusIcon\n  } from '@lucide/svelte'\n\n  // Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ ÏÉÅÌÉú\n  let searchQuery = $state('')\n  let selectedPeriod = $state('')\n  let selectedStatus = $state('')\n  let sortBy = $state('period')\n  let sortOrder = $state('desc')\n\n  // Î™®Îã¨ ÏÉÅÌÉú\n  let showDetailsModal = $state(false)\n  let selectedPayroll = $state(null)\n\n  // Í∏∞Í∞Ñ ÏòµÏÖò ÏÉùÏÑ±\n  const periodOptions = $derived(() => {\n    const periods = new Set()\n    $payslips.forEach(payslip => {\n      const period = payslip.period // YYYY-MM ÌòïÏãù\n      periods.add(period)\n    })\n    return Array.from(periods).sort().reverse()\n  })\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Í∏âÏó¨ Ïù¥Î†•\n  const filteredHistory = $derived(() => {\n    let filtered = [...$payslips]\n\n    // Í≤ÄÏÉâ ÌïÑÌÑ∞\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      filtered = filtered.filter(\n        payroll =>\n          payroll.employeeName.toLowerCase().includes(query) ||\n            payroll.employeeIdNumber.toLowerCase().includes(query) ||\n            payroll.department.toLowerCase().includes(query) ||\n            payroll.position.toLowerCase().includes(query)\n      )\n    }\n\n    // Í∏∞Í∞Ñ ÌïÑÌÑ∞\n    if (selectedPeriod) {\n      filtered = filtered.filter(payroll => payroll.payDate.startsWith(selectedPeriod))\n    }\n\n    // ÏÉÅÌÉú ÌïÑÌÑ∞\n    if (selectedStatus) {\n      filtered = filtered.filter(payroll => payroll.status === selectedStatus)\n    }\n\n    // Ï†ïÎ†¨\n    filtered.sort((a, b) => {\n      let aValue, bValue\n\n      switch (sortBy) {\n        case 'name':\n          aValue = a.employeeName\n          bValue = b.employeeName\n          break\n        case 'department':\n          aValue = a.department\n          bValue = b.department\n          break\n        case 'grossSalary':\n          aValue = a.grossSalary\n          bValue = b.grossSalary\n          break\n        case 'netSalary':\n          aValue = a.netSalary\n          bValue = b.netSalary\n          break\n        case 'period':\n        default:\n          aValue = a.payDate\n          bValue = b.payDate\n          break\n      }\n\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return sortOrder === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue)\n      }\n\n      if (aValue < bValue) return sortOrder === 'asc' ? -1 : 1\n      if (aValue > bValue) return sortOrder === 'asc' ? 1 : -1\n      return 0\n    })\n\n    return filtered\n  })\n\n  // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞\n  const statistics = $derived(() => {\n    const total = filteredHistory.length\n    const totalGrossSalary = filteredHistory.reduce((sum, payroll) => sum + payroll.grossSalary, 0)\n    const totalNetSalary = filteredHistory.reduce((sum, payroll) => sum + payroll.netSalary, 0)\n    const totalDeductions = filteredHistory.reduce(\n      (sum, payroll) => sum + payroll.totalDeductions,\n      0\n    )\n    const averageGrossSalary = total > 0 ? totalGrossSalary / total : 0\n    const averageNetSalary = total > 0 ? totalNetSalary / total : 0\n\n    return {\n      total,\n      totalGrossSalary,\n      totalNetSalary,\n      totalDeductions,\n      averageGrossSalary,\n      averageNetSalary\n    }\n  })\n\n  onMount(async () => {\n    await loadPayslips()\n    await loadSalaryHistory()\n  })\n\n  // Í∏âÏó¨ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î≥¥Í∏∞\n  function viewPayrollDetails(payroll: any) {\n    selectedPayroll = payroll\n    showDetailsModal = true\n  }\n\n  // Ï†ïÎ†¨ Î≥ÄÍ≤Ω\n  function handleSort(field: string) {\n    if (sortBy === field) {\n      sortOrder = sortOrder === 'asc' ? 'desc' : 'asc'\n    } else {\n      sortBy = field\n      sortOrder = 'desc'\n    }\n  }\n\n  // Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îã§Ïö¥Î°úÎìú\n  async function downloadPayslip(payroll: any) {\n  // Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îã§Ïö¥Î°úÎìú Í∏∞Îä•ÏùÄ PayslipGeneratorÏóêÏÑú Íµ¨ÌòÑÎê®\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ Î∞òÌôò\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'pending':\n        return 'text-yellow-600 bg-yellow-100'\n      case 'calculated':\n        return 'text-blue-600 bg-blue-100'\n      case 'approved':\n        return 'text-green-600 bg-green-100'\n      case 'paid':\n        return 'text-purple-600 bg-purple-100'\n      case 'error':\n        return 'text-red-600 bg-red-100'\n      default:\n        return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÎùºÎ≤® Î∞òÌôò\n  function getStatusLabel(status: string): string {\n    switch (status) {\n      case 'pending':\n        return 'ÎåÄÍ∏∞Ï§ë'\n      case 'calculated':\n        return 'Í≥ÑÏÇ∞ÏôÑÎ£å'\n      case 'approved':\n        return 'ÏäπÏù∏ÏôÑÎ£å'\n      case 'paid':\n        return 'ÏßÄÍ∏âÏôÑÎ£å'\n      case 'error':\n        return 'Ïò§Î•ò'\n      default:\n        return 'ÏïåÏàòÏóÜÏùå'\n    }\n  }\n\n  // Î≥ÄÌôîÏú® ÏïÑÏù¥ÏΩò Î∞òÌôò\n  function getChangeIcon(change: number) {\n    if (change > 0) return TrendingUpIcon\n    if (change < 0) return TrendingDownIcon\n    return MinusIcon\n  }\n\n  // Î≥ÄÌôîÏú® ÏÉâÏÉÅ Î∞òÌôò\n  function getChangeColor(change: number): string {\n    if (change > 0) return 'text-green-600'\n    if (change < 0) return 'text-red-600'\n    return 'text-gray-600'\n  }\n</script>\n\n<div class=\"space-y-6\">\n  <!-- Ìó§Îçî -->\n  <div class=\"flex items-center justify-between\">\n    <div>\n      <h2 class=\"text-2xl font-bold text-gray-900\">ÏßÅÏõêÎ≥Ñ Í∏âÏó¨ Ïù¥Î†•</h2>\n      <p class=\"mt-1 text-sm text-gray-500\">Ï†ÑÏ≤¥ ÏßÅÏõêÏùò Í∏âÏó¨ ÏßÄÍ∏â Ïù¥Î†• Î∞è ÏÉÅÏÑ∏ Ï†ïÎ≥¥</p>\n    </div>\n    <div class=\"flex items-center space-x-3\">\n      <button type=\"button\" class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n      >\n        <DownloadIcon\n          size={16}\n          class=\"mr-2\" />\n        ÏóëÏÖÄ Îã§Ïö¥Î°úÎìú\n      </button>\n      <button type=\"button\" class=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n      >\n        Í∏âÏó¨ Í≥ÑÏÇ∞\n      </button>\n    </div>\n  </div>\n\n  <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->\n  <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-medium text-gray-600\">Ï¥ù Í∏âÏó¨ Í±¥Ïàò</p>\n          <p class=\"text-2xl font-bold text-gray-900\">{$statistics.total}Í±¥</p>\n        </div>\n        <div class=\"p-2 bg-blue-100 rounded-full\">\n          <FileTextIcon\n            size={20}\n            class=\"text-blue-600\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-medium text-gray-600\">Ï¥ù ÏßÄÍ∏âÏï°</p>\n          <p class=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency($statistics.totalGrossSalary)}\n          </p>\n        </div>\n        <div class=\"p-2 bg-green-100 rounded-full\">\n          <DollarSignIcon\n            size={20}\n            class=\"text-green-600\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-medium text-gray-600\">Ï¥ù Ïã§ÏßÄÍ∏âÏï°</p>\n          <p class=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency($statistics.totalNetSalary)}\n          </p>\n        </div>\n        <div class=\"p-2 bg-purple-100 rounded-full\">\n          <TrendingUpIcon\n            size={20}\n            class=\"text-purple-600\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-medium text-gray-600\">ÌèâÍ∑† Í∏âÏó¨</p>\n          <p class=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency($statistics.averageGrossSalary)}\n          </p>\n        </div>\n        <div class=\"p-2 bg-yellow-100 rounded-full\">\n          <CalendarIcon\n            size={20}\n            class=\"text-yellow-600\" />\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ -->\n  <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n      <div class=\"relative\">\n        <SearchIcon\n          size={20}\n          class=\"absolute left-3 top-3 text-gray-400\" />\n        <input\n          type=\"text\"\n          placeholder=\"ÏßÅÏõêÎ™Ö, ÏÇ¨Î≤à, Î∂ÄÏÑúÎ°ú Í≤ÄÏÉâ...\"\n          bind:value={searchQuery}\n          class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        />\n      </div>\n\n      <div class=\"relative\">\n        <CalendarIcon\n          size={20}\n          class=\"absolute left-3 top-3 text-gray-400\" />\n        <select\n          bind:value={selectedPeriod}\n          class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">Ï†ÑÏ≤¥ Í∏∞Í∞Ñ</option>\n          {#each periodOptions as period, i (i)}\n            <option value={period}>{period}</option>\n          {/each}\n        </select>\n      </div>\n\n      <div class=\"relative\">\n        <FilterIcon\n          size={20}\n          class=\"absolute left-3 top-3 text-gray-400\" />\n        <select\n          bind:value={selectedStatus}\n          class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>\n          <option value=\"pending\">ÎåÄÍ∏∞Ï§ë</option>\n          <option value=\"calculated\">Í≥ÑÏÇ∞ÏôÑÎ£å</option>\n          <option value=\"approved\">ÏäπÏù∏ÏôÑÎ£å</option>\n          <option value=\"paid\">ÏßÄÍ∏âÏôÑÎ£å</option>\n          <option value=\"error\">Ïò§Î•ò</option>\n        </select>\n      </div>\n\n      <div class=\"flex items-center space-x-2\">\n        <button type=\"button\"\n          onclick={() => handleSort('period')}\n          class=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          Í∏∞Í∞Ñ {sortBy === 'period' ? (sortOrder === 'asc' ? '‚Üë' : '‚Üì') : ''}\n        </button>\n        <button type=\"button\"\n          onclick={() => handleSort('netSalary')}\n          class=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          Í∏âÏó¨ {sortBy === 'netSalary' ? (sortOrder === 'asc' ? '‚Üë' : '‚Üì') : ''}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Í∏âÏó¨ Ïù¥Î†• ÌÖåÏù¥Î∏î -->\n  <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n    <div class=\"overflow-x-auto\">\n      <table class=\"min-w-full divide-y divide-gray-200\">\n        <thead class=\"bg-gray-50\">\n          <tr>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              ÏßÅÏõê Ï†ïÎ≥¥\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              Î∂ÄÏÑú/ÏßÅÏúÑ\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              ÏßÄÍ∏â Í∏∞Í∞Ñ\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              Í∏∞Î≥∏Í∏â\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              ÏàòÎãπ\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              Í≥µÏ†ú\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              Ïã§ÏßÄÍ∏âÏï°\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              ÏÉÅÌÉú\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n            >\n              ÏûëÏóÖ\n            </th>\n          </tr>\n        </thead>\n        <tbody class=\"bg-white divide-y divide-gray-200\">\n          {#each filteredHistory as payroll, i (i)}\n            <tr class=\"hover:bg-gray-50\">\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <div class=\"flex-shrink-0 h-10 w-10\">\n                    <div class=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\"\n                    >\n                      <span class=\"text-sm font-medium text-blue-600\">\n                        {payroll.employeeName.charAt(0)}\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"ml-4\">\n                    <div class=\"text-sm font-medium text-gray-900\">\n                      {payroll.employeeName}\n                    </div>\n                    <div class=\"text-sm text-gray-500\">\n                      {payroll.employeeIdNumber}\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"text-sm text-gray-900\">{payroll.department}</div>\n                <div class=\"text-sm text-gray-500\">{payroll.position}</div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {formatDate(payroll.payDate)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                {formatCurrency(payroll.baseSalary)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-green-600\">\n                +{formatCurrency(payroll.totalAllowances)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-red-600\">\n                -{formatCurrency(payroll.totalDeductions)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"text-sm font-medium text-gray-900\">\n                  {formatCurrency(payroll.netSalary)}\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <span\n                  class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {getStatusColor(\n                    payroll.status\n                  )}\"\n                >\n                  {getStatusLabel(payroll.status)}\n                </span>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                <div class=\"flex items-center space-x-2\">\n                  <button type=\"button\"\n                    onclick={() => viewPayrollDetails(payroll)}\n                    class=\"text-blue-600 hover:text-blue-900\"\n                  >\n                    <EyeIcon size={16} />\n                  </button>\n                  <button type=\"button\"\n                    onclick={() => downloadPayslip(payroll)}\n                    class=\"text-green-600 hover:text-green-900\"\n                  >\n                    <DownloadIcon size={16} />\n                  </button>\n                </div>\n              </td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Í≤∞Í≥ºÍ∞Ä ÏóÜÏùÑ Îïå -->\n    {#if filteredHistory.length === 0}\n      <div class=\"text-center py-12\">\n        <FileTextIcon\n          size={48}\n          class=\"mx-auto text-gray-400\" />\n        <h3 class=\"mt-2 text-sm font-medium text-gray-900\">Í∏âÏó¨ Ïù¥Î†•Ïù¥ ÏóÜÏäµÎãàÎã§</h3>\n        <p class=\"mt-1 text-sm text-gray-500\">Í≤ÄÏÉâ Ï°∞Í±¥ÏùÑ Î≥ÄÍ≤ΩÌïòÍ±∞ÎÇò Í∏âÏó¨Î•º Í≥ÑÏÇ∞Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n      </div>\n    {/if}\n  </div>\n</div>\n\n<!-- Í∏âÏó¨ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î™®Îã¨ -->\n{#if showDetailsModal && selectedPayroll}\n  <!-- Î™®Îã¨ Íµ¨ÌòÑ (Î≥ÑÎèÑ Ïª¥Ìè¨ÎÑåÌä∏Î°ú Î∂ÑÎ¶¨ Í∞ÄÎä•) -->\n  <div class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n    <div class=\"relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white\">\n      <div class=\"mt-3\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h3 class=\"text-lg font-medium text-gray-900\">Í∏âÏó¨ ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>\n          <button type=\"button\"\n            onclick={() => (showDetailsModal = false)}\n            class=\"text-gray-400 hover:text-gray-600\"\n            aria-label=\"Î™®Îã¨ Îã´Í∏∞\"\n          >\n            <svg\n              class=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"space-y-4\">\n          <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700\">ÏßÅÏõêÎ™Ö</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{selectedPayroll.employeeInfo.name}</p>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700\">ÏÇ¨Î≤à</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{selectedPayroll.employeeInfo.employeeId}</p>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700\">Î∂ÄÏÑú</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{selectedPayroll.employeeInfo.department}</p>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700\">ÏßÅÏúÑ</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{selectedPayroll.employeeInfo.position}</p>\n            </div>\n          </div>\n\n          <!-- Í∏âÏó¨ Ï†ïÎ≥¥ -->\n          <div class=\"border-t pt-4\">\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Í∏âÏó¨ ÎÇ¥Ïó≠</h4>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700\">Í∏∞Î≥∏Í∏â</label>\n                <p class=\"mt-1 text-sm text-gray-900\">\n                  {formatCurrency(selectedPayroll.salaryInfo.baseSalary)}\n                </p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700\">Ï¥ù ÏàòÎãπ</label>\n                <p class=\"mt-1 text-sm text-green-600\">\n                  {formatCurrency(selectedPayroll.totals.totalAllowances)}\n                </p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700\">Ï¥ù Í≥µÏ†ú</label>\n                <p class=\"mt-1 text-sm text-red-600\">\n                  {formatCurrency(selectedPayroll.totals.totalDeductions)}\n                </p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700\">Ïã§ÏßÄÍ∏âÏï°</label>\n                <p class=\"mt-1 text-lg font-bold text-gray-900\">\n                  {formatCurrency(selectedPayroll.totals.netSalary)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n          <div class=\"flex justify-end space-x-3 pt-4 border-t\">\n            <button type=\"button\"\n              onclick={() => (showDetailsModal = false)}\n              class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n            >\n              Îã´Í∏∞\n            </button>\n            <button type=\"button\"\n              onclick={() => downloadPayslip(selectedPayroll)}\n              class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700\"\n            >\n              Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îã§Ïö¥Î°úÎìú\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/salary/PayslipGenerator.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 607,
        "column": 82
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n\n\n\n\n  import { formatCurrency } from '$lib/utils/format'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import {\n    UserIcon,\n    PlusIcon,\n    AlertCircleIcon,\n    EditIcon,\n    SaveIcon,\n    PrinterIcon\n  } from '@lucide/svelte'\n\n  let { payroll = undefined }: { payroll?: any } = $props()\n\n  let employeeList = $state<any[]>([])\n  let selectedEmployeeId = $state('')\n  let selectedYear = $state(new Date().getFullYear())\n  let payslipData = $state<any[]>([])\n  let isLoadingPayslipData = $state(false)\n  let editingMonth = $state<number | null>(null)\n  let editingPayslip = $state<any>(null)\n\n  // Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îç∞Ïù¥ÌÑ∞ Î°úÎìú (ÏõîÎ≥Ñ)\n  async function loadPayslipData() {\n    if (!selectedEmployeeId) {\n      payslipData = []\n      return\n    }\n\n    isLoadingPayslipData = true\n    try {\n      const response = await fetch(\n        `/api/salary/payslips/employee/${selectedEmployeeId}?year=${selectedYear}`\n      )\n      const result = await response.json()\n\n      // ÌòÑÏû¨ ÎÇ†Ïßú Í∏∞Ï§ÄÏúºÎ°ú ÌóàÏö© Í∞ÄÎä•Ìïú Ïõî Í≥ÑÏÇ∞\n      const currentDate = new Date()\n      const currentYear = currentDate.getFullYear()\n      const currentMonth = currentDate.getMonth() + 1 // 1-12\n\n      // ÏÑ†ÌÉùÎêú ÏßÅÏõêÏùò ÏûÖÏÇ¨Ïùº ÌôïÏù∏\n      const selectedEmployee = employeeList.find(emp => emp.id === selectedEmployeeId)\n      const hireDate = selectedEmployee?.hireDate ? new Date(selectedEmployee.hireDate) : null\n      const hireYear = hireDate ? hireDate.getFullYear() : null\n      const hireMonth = hireDate ? hireDate.getMonth() + 1 : null\n\n      if (result.success && result.data) {\n        // ÏõîÎ≥ÑÎ°ú Ï†ïÎ¶¨\n        const monthlyData = Array.from({ length: 12 }, (_, i) => {\n          const month = i + 1\n          const period = `${selectedYear}-${String(month).padStart(2, '0')}`\n\n          // API ÏùëÎãµÏù¥ Î∞∞Ïó¥Ïù∏ÏßÄ Îã®Ïùº Í∞ùÏ≤¥Ïù∏ÏßÄ ÌôïÏù∏\n          let payslip = null\n          if (Array.isArray(result.data)) {\n            payslip = result.data.find((p: any) => p.period === period)\n          } else if (result.data.period === period) {\n            payslip = result.data\n          }\n\n          // ÎØ∏Îûò ÏõîÏù∏ÏßÄ ÌôïÏù∏ (ÌòÑÏû¨ Ïó∞ÎèÑÏôÄ Ïõî Í∏∞Ï§Ä)\n          const isFutureMonth =\n            selectedYear > currentYear || (selectedYear === currentYear && month > currentMonth)\n\n          // ÏûÖÏÇ¨Ïùº Ïù¥Ï†Ñ ÏõîÏù∏ÏßÄ ÌôïÏù∏\n          const isBeforeHire =\n            hireDate &&\n              (selectedYear < hireYear || (selectedYear === hireYear && month < hireMonth))\n\n          return {\n            month,\n            period,\n            label: `${month}Ïõî`,\n            payslip: payslip || null,\n            hasData: !!payslip,\n            isFutureMonth,\n            isBeforeHire,\n            isLocked: isFutureMonth || isBeforeHire\n          }\n        })\n\n        payslipData = monthlyData\n      } else {\n        // Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏñ¥ÎèÑ 12Í∞úÏõî Íµ¨Ï°∞ ÏÉùÏÑ±\n        payslipData = Array.from({ length: 12 }, (_, i) => {\n          const month = i + 1\n          const isFutureMonth =\n            selectedYear > currentYear || (selectedYear === currentYear && month > currentMonth)\n\n          // ÏûÖÏÇ¨Ïùº Ïù¥Ï†Ñ ÏõîÏù∏ÏßÄ ÌôïÏù∏\n          const isBeforeHire =\n            hireDate &&\n              (selectedYear < hireYear || (selectedYear === hireYear && month < hireMonth))\n\n          return {\n            month,\n            period: `${selectedYear}-${String(month).padStart(2, '0')}`,\n            label: `${month}Ïõî`,\n            payslip: null,\n            hasData: false,\n            isFutureMonth,\n            isBeforeHire,\n            isLocked: isFutureMonth || isBeforeHire\n          }\n        })\n      }\n    } catch (error) {\n      const currentDate = new Date()\n      const currentYear = currentDate.getFullYear()\n      const currentMonth = currentDate.getMonth() + 1\n\n      // ÏÑ†ÌÉùÎêú ÏßÅÏõêÏùò ÏûÖÏÇ¨Ïùº ÌôïÏù∏\n      const selectedEmployee = employeeList.find(emp => emp.id === selectedEmployeeId)\n      const hireDate = selectedEmployee?.hireDate ? new Date(selectedEmployee.hireDate) : null\n      const hireYear = hireDate ? hireDate.getFullYear() : null\n      const hireMonth = hireDate ? hireDate.getMonth() + 1 : null\n\n      payslipData = Array.from({ length: 12 }, (_, i) => {\n        const month = i + 1\n        const isFutureMonth =\n          selectedYear > currentYear || (selectedYear === currentYear && month > currentMonth)\n\n        // ÏûÖÏÇ¨Ïùº Ïù¥Ï†Ñ ÏõîÏù∏ÏßÄ ÌôïÏù∏\n        const isBeforeHire =\n          hireDate && (selectedYear < hireYear || (selectedYear === hireYear && month < hireMonth))\n\n        return {\n          month,\n          period: `${selectedYear}-${String(month).padStart(2, '0')}`,\n          label: `${month}Ïõî`,\n          payslip: null,\n          hasData: false,\n          isFutureMonth,\n          isBeforeHire,\n          isLocked: isFutureMonth || isBeforeHire\n        }\n      })\n    } finally {\n      isLoadingPayslipData = false\n    }\n  }\n\n  // ÏßÅÏõê Î™©Î°ù Î°úÎìú\n  async function loadEmployeeList() {\n    try {\n      const response = await fetch('/api/employees')\n      const result = await response.json()\n      if (result.success) {\n        employeeList = result.data.map((emp: any) => ({\n          id: emp.id,\n          employeeId: emp.employee_id,\n          name: `${emp.last_name}${emp.first_name} (${emp.position})`,\n          department: emp.department || 'Î∂ÄÏÑúÏóÜÏùå',\n          position: emp.position,\n          hireDate: emp.hire_date\n        }))\n      }\n    } catch (error) {}\n  }\n\n  // Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Ìé∏Ïßë Î™®Îìú ÏßÑÏûÖ\n  function enterEditMode(month: number, payslip?: any) {\n    editingMonth = month\n    if (payslip) {\n      editingPayslip = {\n        ...payslip,\n        allowances: payslip.allowances || [\n          { id: 'basic_salary', name: 'Í∏∞Î≥∏Í∏â', type: 'basic', amount: 0, isTaxable: true },\n          {\n            id: 'position_allowance',\n            name: 'ÏßÅÏ±ÖÏàòÎãπ',\n            type: 'allowance',\n            amount: 0,\n            isTaxable: true\n          },\n          { id: 'bonus', name: 'ÏÉÅÏó¨Í∏à', type: 'bonus', amount: 0, isTaxable: true },\n          { id: 'meal_allowance', name: 'ÏãùÎåÄ', type: 'allowance', amount: 0, isTaxable: false },\n          {\n            id: 'vehicle_maintenance',\n            name: 'Ï∞®ÎüâÏú†ÏßÄ',\n            type: 'allowance',\n            amount: 0,\n            isTaxable: false\n          },\n          {\n            id: 'annual_leave_allowance',\n            name: 'Ïó∞Ï∞®ÏàòÎãπ',\n            type: 'allowance',\n            amount: 0,\n            isTaxable: true\n          },\n          {\n            id: 'year_end_settlement',\n            name: 'Ïó∞ÎßêÏ†ïÏÇ∞',\n            type: 'settlement',\n            amount: 0,\n            isTaxable: true\n          }\n        ],\n        deductions: payslip.deductions || [\n          {\n            id: 'health_insurance',\n            name: 'Í±¥Í∞ïÎ≥¥Ìóò',\n            rate: 0.034,\n            type: 'insurance',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'long_term_care',\n            name: 'Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò',\n            rate: 0.0034,\n            type: 'insurance',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'national_pension',\n            name: 'Íµ≠ÎØºÏó∞Í∏à',\n            rate: 0.045,\n            type: 'pension',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'employment_insurance',\n            name: 'Í≥†Ïö©Î≥¥Ìóò',\n            rate: 0.008,\n            type: 'insurance',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'income_tax',\n            name: 'Í∞ëÍ∑ºÏÑ∏',\n            rate: 0.13,\n            type: 'tax',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'local_tax',\n            name: 'Ï£ºÎØºÏÑ∏',\n            rate: 0.013,\n            type: 'tax',\n            amount: 0,\n            isMandatory: true\n          },\n          { id: 'other', name: 'Í∏∞ÌÉÄ', rate: 0, type: 'other', amount: 0, isMandatory: false }\n        ]\n      }\n    } else {\n      // ÏÉà Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏÉùÏÑ±\n      editingPayslip = {\n        period: `${selectedYear}-${String(month).padStart(2, '0')}`,\n        allowances: [\n          { id: 'basic_salary', name: 'Í∏∞Î≥∏Í∏â', type: 'basic', amount: 0, isTaxable: true },\n          {\n            id: 'position_allowance',\n            name: 'ÏßÅÏ±ÖÏàòÎãπ',\n            type: 'allowance',\n            amount: 0,\n            isTaxable: true\n          },\n          { id: 'bonus', name: 'ÏÉÅÏó¨Í∏à', type: 'bonus', amount: 0, isTaxable: true },\n          { id: 'meal_allowance', name: 'ÏãùÎåÄ', type: 'allowance', amount: 0, isTaxable: false },\n          {\n            id: 'vehicle_maintenance',\n            name: 'Ï∞®ÎüâÏú†ÏßÄ',\n            type: 'allowance',\n            amount: 0,\n            isTaxable: false\n          },\n          {\n            id: 'annual_leave_allowance',\n            name: 'Ïó∞Ï∞®ÏàòÎãπ',\n            type: 'allowance',\n            amount: 0,\n            isTaxable: true\n          },\n          {\n            id: 'year_end_settlement',\n            name: 'Ïó∞ÎßêÏ†ïÏÇ∞',\n            type: 'settlement',\n            amount: 0,\n            isTaxable: true\n          }\n        ],\n        deductions: [\n          {\n            id: 'health_insurance',\n            name: 'Í±¥Í∞ïÎ≥¥Ìóò',\n            rate: 0.034,\n            type: 'insurance',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'long_term_care',\n            name: 'Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò',\n            rate: 0.0034,\n            type: 'insurance',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'national_pension',\n            name: 'Íµ≠ÎØºÏó∞Í∏à',\n            rate: 0.045,\n            type: 'pension',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'employment_insurance',\n            name: 'Í≥†Ïö©Î≥¥Ìóò',\n            rate: 0.008,\n            type: 'insurance',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'income_tax',\n            name: 'Í∞ëÍ∑ºÏÑ∏',\n            rate: 0.13,\n            type: 'tax',\n            amount: 0,\n            isMandatory: true\n          },\n          {\n            id: 'local_tax',\n            name: 'Ï£ºÎØºÏÑ∏',\n            rate: 0.013,\n            type: 'tax',\n            amount: 0,\n            isMandatory: true\n          },\n          { id: 'other', name: 'Í∏∞ÌÉÄ', rate: 0, type: 'other', amount: 0, isMandatory: false }\n        ],\n        totalPayments: 0,\n        totalDeductions: 0,\n        netSalary: 0\n      }\n    }\n  }\n\n  // Ìé∏Ïßë Î™®Îìú Ï∑®ÏÜå\n  function cancelEdit() {\n    editingMonth = null\n    editingPayslip = null\n  }\n\n  // Ï¥ùÏï° Ïû¨Í≥ÑÏÇ∞\n  function recalculateTotals() {\n    if (!editingPayslip) return\n\n    editingPayslip.totalPayments = editingPayslip.allowances.reduce(\n      (sum: number, item: any) => sum + (item.amount || 0),\n      0\n    )\n    editingPayslip.totalDeductions = editingPayslip.deductions.reduce(\n      (sum: number, item: any) => sum + (item.amount || 0),\n      0\n    )\n    editingPayslip.netSalary = editingPayslip.totalPayments - editingPayslip.totalDeductions\n  }\n\n  // Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Ï†ÄÏû•\n  async function savePayslip() {\n    if (!editingPayslip || !editingMonth) return\n\n    try {\n      // Ï¥ùÏï° Ïû¨Í≥ÑÏÇ∞\n      recalculateTotals()\n\n      // Í∏∞Î≥∏Í∏â Í≥ÑÏÇ∞ (ÏßÄÍ∏âÏÇ¨Ìï≠ÏóêÏÑú Í∏∞Î≥∏Í∏â Ï∞æÍ∏∞)\n      const basicSalary =\n        editingPayslip.allowances.find((a: any) => a.id === 'basic_salary')?.amount || 0\n\n      // ÏßÄÍ∏âÏùº ÏÑ§Ï†ï (Ìï¥Îãπ ÏõîÏùò ÎßàÏßÄÎßâ ÎÇ†)\n      const [year, month] = editingPayslip.period.split('-')\n      const lastDay = new Date(parseInt(year), parseInt(month), 0).getDate()\n      const payDate = `${year}-${month.padStart(2, '0')}-${lastDay.toString().padStart(2, '0')}`\n\n      const response = await fetch('/api/salary/payslips', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          employeeId: selectedEmployeeId,\n          period: editingPayslip.period,\n          payDate: payDate,\n          baseSalary: basicSalary,\n          totalPayments: editingPayslip.totalPayments,\n          totalDeductions: editingPayslip.totalDeductions,\n          netSalary: editingPayslip.netSalary,\n          payments: editingPayslip.allowances,\n          deductions: editingPayslip.deductions,\n          status: 'draft',\n          isGenerated: false\n        })\n      })\n\n      const result = await response.json()\n      if (result.success) {\n        alert('Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÍ∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.')\n        cancelEdit()\n        loadPayslipData()\n      } else {\n        alert(`Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ${result.error}`)\n      }\n    } catch (error) {\n      alert('Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // ÎàÑÎùΩÎêú Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Í∞úÏàò Í≥ÑÏÇ∞ (Ïû†Í∏àÎêú Ïõî Ï†úÏô∏)\n  function getMissingPayslipCount() {\n    return payslipData.filter(month => !month.hasData && !month.isLocked).length\n  }\n\n  // Í≥ÑÏïΩ Í∏∞Í∞Ñ ÎÇ¥ ÎàÑÎùΩÎêú Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÌôïÏù∏ (Ïû†Í∏àÎêú Ïõî Ï†úÏô∏)\n  function getContractPeriodMissingPayslips() {\n    if (!selectedEmployeeId) return []\n\n    const selectedEmployee = employeeList.find(emp => emp.id === selectedEmployeeId)\n    if (!selectedEmployee?.hireDate) return []\n\n    const hireDate = new Date(selectedEmployee.hireDate)\n    const currentDate = new Date()\n    const missingPeriods = []\n\n    // ÏûÖÏÇ¨ÏùºÎ∂ÄÌÑ∞ ÌòÑÏû¨ÍπåÏßÄÏùò ÏõîÎ≥Ñ ÌôïÏù∏\n    let current = new Date(hireDate.getFullYear(), hireDate.getMonth(), 1)\n    const end = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1)\n\n    while (current <= end) {\n      const period = `${current.getFullYear()}-${String(current.getMonth() + 1).padStart(2, '0')}`\n      const monthData = payslipData.find(month => month.period === period)\n\n      // Ïû†Í∏àÎêòÏßÄ ÏïäÍ≥† Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÎäî Í≤ΩÏö∞Îßå ÎàÑÎùΩÏúºÎ°ú Í∞ÑÏ£º\n      if (monthData && !monthData.hasData && !monthData.isLocked) {\n        missingPeriods.push({\n          period,\n          year: current.getFullYear(),\n          month: current.getMonth() + 1,\n          label: `${current.getFullYear()}ÎÖÑ ${current.getMonth() + 1}Ïõî`\n        })\n      }\n\n      current.setMonth(current.getMonth() + 1)\n    }\n\n    return missingPeriods\n  }\n\n  $effect(async () => {\n    await loadEmployeeList()\n  })\n\n  // selectedEmployeeIdÎÇò selectedYearÍ∞Ä Î≥ÄÍ≤ΩÎê† ÎïåÎßàÎã§ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    if (selectedEmployeeId) {\n      loadPayslipData()\n    } else {\n      payslipData = []\n    }\n  })\n</script>\n\n{#if !payroll}\n  <!-- Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏõîÎ≥Ñ Í¥ÄÎ¶¨ -->\n  <div class=\"space-y-6\">\n    <!-- ÏßÅÏõê ÏÑ†ÌÉù Î∞è Ïó∞ÎèÑ ÏÑ†ÌÉù -->\n    <div class=\"flex items-center space-x-4\">\n      <div class=\"flex-1\">\n        <label\n          for=\"employee-select\"\n          class=\"block text-sm font-medium text-gray-700 mb-2\"\n        >ÏßÅÏõê ÏÑ†ÌÉù</label\n        >\n        <select\n          id=\"employee-select\"\n          bind:value={selectedEmployeeId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n          {#each employeeList as employee, i (i)}\n            <option value={employee.id}>{employee.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div class=\"w-32\">\n        <label\n          for=\"year-select\"\n          class=\"block text-sm font-medium text-gray-700 mb-2\">Ïó∞ÎèÑ</label>\n        <select\n          id=\"year-select\"\n          bind:value={selectedYear}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          {#each Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - i) as year}\n            <option value={year}>{year}ÎÖÑ</option>\n          {/each}\n        </select>\n      </div>\n    </div>\n\n    {#if selectedEmployeeId}\n      {@const selectedEmployee = employeeList.find(emp => emp.id === selectedEmployeeId)}\n      {@const missingCount = getMissingPayslipCount()}\n      {@const contractMissingPeriods = getContractPeriodMissingPayslips()}\n\n      <!-- ÎàÑÎùΩÎêú Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏïàÎÇ¥ -->\n      {#if missingCount > 0 || contractMissingPeriods.length > 0}\n        <div class=\"bg-amber-50 border border-amber-200 rounded-lg p-6\">\n          <div class=\"flex items-start\">\n            <AlertCircleIcon\n              size={24}\n              class=\"text-amber-600 mr-3 mt-0.5\" />\n            <div class=\"flex-1\">\n              <h3 class=\"text-lg font-semibold text-amber-800 mb-2\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏûëÏÑ± ÌïÑÏöî</h3>\n              <p class=\"text-amber-700 mb-4\">\n                {selectedEmployee?.name}ÎãòÏùò {selectedYear}ÎÖÑ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Ï§ë\n                <strong>{missingCount}Í∞úÏõî</strong>Ïù¥ ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.\n                {#if contractMissingPeriods.length > 0}\n                  <br />Í≥ÑÏïΩ Í∏∞Í∞Ñ ÎÇ¥ ÎàÑÎùΩÎêú Í∏âÏó¨Î™ÖÏÑ∏ÏÑú:\n                  <strong>{contractMissingPeriods.length}Í∞úÏõî</strong>\n                {/if}\n              </p>\n              <p class=\"text-amber-600 text-sm\">\n                ÏïÑÎûò ÌëúÏóêÏÑú Îπ®Í∞ÑÏÉâÏúºÎ°ú ÌëúÏãúÎêú ÏõîÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÎ•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.\n                <br />ÌöåÏÉâÏúºÎ°ú ÌëúÏãúÎêú ÏõîÏùÄ ÏûÖÏÇ¨Ïùº Ïù¥Ï†ÑÏù¥Í±∞ÎÇò ÎØ∏Îûò ÏõîÎ°ú Ïû†Í∏àÎêòÏñ¥ ÏûàÏäµÎãàÎã§.\n              </p>\n            </div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- ÏõîÎ≥Ñ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Ìëú -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">\n            {selectedYear}ÎÖÑ ÏõîÎ≥Ñ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú\n            {#if selectedEmployee}\n              - {selectedEmployee.name}\n            {/if}\n          </h3>\n        </div>\n\n        {#if isLoadingPayslipData}\n          <div class=\"flex items-center justify-center py-12\">\n            <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <span class=\"ml-2 text-gray-600\">Î°úÎî© Ï§ë...</span>\n          </div>\n        {:else}\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Ïõî</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Í∏∞Î≥∏Í∏â</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >ÏàòÎãπ</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >ÏßÄÍ∏âÏ¥ùÏï°</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Í≥µÏ†úÏ¥ùÏï°</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Ïã§ÏßÄÍ∏âÏï°</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >ÏÉÅÌÉú</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Ïï°ÏÖò</th\n                  >\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                {#each payslipData as monthData, i (i)}\n                  {#if editingMonth === monthData.month}\n                    <!-- Ìé∏Ïßë Î™®Îìú Ìñâ -->\n                    <tr class=\"bg-blue-50 border-2 border-blue-200\">\n                      <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-900\">\n                        {monthData.label} (Ìé∏Ïßë Ï§ë)\n                      </td>\n                      <td\n                        colspan=\"7\"\n                        class=\"px-6 py-4\">\n                        <div class=\"space-y-4\">\n                          <!-- ÏßÄÍ∏âÏÇ¨Ìï≠ Ìé∏Ïßë -->\n                          <div>\n                            <h4 class=\"text-sm font-semibold text-gray-700 mb-2\">ÏßÄÍ∏âÏÇ¨Ìï≠</h4>\n                            <div class=\"grid grid-cols-2 gap-2\">\n                              {#each editingPayslip.allowances as allowance, index, i (i)}\n                                <div class=\"flex items-center space-x-2\">\n                                  <input\n                                    type=\"text\"\n                                    value={allowance.name}\n                                    oninput={e => {\n                                      editingPayslip.allowances[index].name = e.target.value\n                                      recalculateTotals()\n                                    }}\n                                    class=\"flex-1 px-2 py-1 border border-gray-300 rounded text-sm\"\n                                  />\n                                  <input\n                                    type=\"number\"\n                                    value={allowance.amount}\n                                    oninput={e => {\n                                      editingPayslip.allowances[index].amount =\n                                        Number(e.target.value) || 0\n                                      recalculateTotals()\n                                    }}\n                                    class=\"w-24 px-2 py-1 border border-gray-300 rounded text-sm text-right\"\n                                  />\n                                </div>\n                              {/each}\n                            </div>\n                          </div>\n\n                          <!-- Í≥µÏ†úÏÇ¨Ìï≠ Ìé∏Ïßë -->\n                          <div>\n                            <h4 class=\"text-sm font-semibold text-gray-700 mb-2\">Í≥µÏ†úÏÇ¨Ìï≠</h4>\n                            <div class=\"grid grid-cols-2 gap-2\">\n                              {#each editingPayslip.deductions as deduction, index, i (i)}\n                                <div class=\"flex items-center space-x-2\">\n                                  <input\n                                    type=\"text\"\n                                    value={deduction.name}\n                                    oninput={e => {\n                                      editingPayslip.deductions[index].name = e.target.value\n                                      recalculateTotals()\n                                    }}\n                                    class=\"flex-1 px-2 py-1 border border-gray-300 rounded text-sm\"\n                                  />\n                                  <input\n                                    type=\"number\"\n                                    value={deduction.amount}\n                                    oninput={e => {\n                                      editingPayslip.deductions[index].amount =\n                                        Number(e.target.value) || 0\n                                      recalculateTotals()\n                                    }}\n                                    class=\"w-24 px-2 py-1 border border-gray-300 rounded text-sm text-right\"\n                                  />\n                                </div>\n                              {/each}\n                            </div>\n                          </div>\n\n                          <!-- Ï¥ùÏï° ÌëúÏãú -->\n                          <div class=\"bg-gray-50 p-3 rounded border\">\n                            <div class=\"grid grid-cols-3 gap-4 text-sm\">\n                              <div>\n                                <span class=\"font-medium\">ÏßÄÍ∏âÏ¥ùÏï°:</span>\n                                <span class=\"ml-2 font-semibold text-green-600\"\n                                >{formatCurrency(editingPayslip.totalPayments)}</span\n                                >\n                              </div>\n                              <div>\n                                <span class=\"font-medium\">Í≥µÏ†úÏ¥ùÏï°:</span>\n                                <span class=\"ml-2 font-semibold text-red-600\"\n                                >{formatCurrency(editingPayslip.totalDeductions)}</span\n                                >\n                              </div>\n                              <div>\n                                <span class=\"font-medium\">Ïã§ÏßÄÍ∏âÏï°:</span>\n                                <span class=\"ml-2 font-semibold text-blue-600\"\n                                >{formatCurrency(editingPayslip.netSalary)}</span\n                                >\n                              </div>\n                            </div>\n                          </div>\n\n                          <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n                          <div class=\"flex justify-end space-x-2\">\n                            <ThemeButton\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onclick={cancelEdit}>\n                              Ï∑®ÏÜå\n                            </ThemeButton>\n                            <ThemeButton\n                              size=\"sm\"\n                              onclick={savePayslip}\n                              class=\"bg-blue-600 hover:bg-blue-700\"\n                            >\n                              <SaveIcon\n                                size={16}\n                                class=\"mr-1\" />\n                              Ï†ÄÏû•\n                            </ThemeButton>\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  {:else}\n                    <!-- ÏùºÎ∞ò ÌëúÏãú Ìñâ -->\n                    <tr\n                      class=\"hover:bg-gray-50\"\n                      class:bg-gray-100={monthData.isLocked}\n                      class:bg-red-50={!monthData.hasData && !monthData.isLocked}\n                    >\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-sm font-medium {monthData.isLocked\n                          ? 'text-gray-400'\n                          : 'text-gray-900'}\"\n                      >\n                        {monthData.label}\n                        {#if monthData.isLocked}\n                          <span class=\"ml-2 text-xs text-gray-500\">\n                            {monthData.isBeforeHire ? '(ÏûÖÏÇ¨Ï†Ñ)' : '(Ïû†Í∏à)'}\n                          </span>\n                        {/if}\n                      </td>\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-sm {monthData.isLocked\n                          ? 'text-gray-400'\n                          : 'text-gray-500'}\"\n                      >\n                        {monthData.hasData\n                          ? formatCurrency(monthData.payslip?.baseSalary || 0)\n                          : monthData.isLocked\n                          ? 'Ïû†Í∏à'\n                          : '-'}\n                      </td>\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-sm {monthData.isLocked\n                          ? 'text-gray-400'\n                          : 'text-gray-500'}\"\n                      >\n                        {monthData.hasData\n                          ? formatCurrency(\n                            (monthData.payslip?.totalPayments || 0) -\n                            (monthData.payslip?.baseSalary || 0)\n                          )\n                          : monthData.isLocked\n                          ? 'Ïû†Í∏à'\n                          : '-'}\n                      </td>\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-sm {monthData.isLocked\n                          ? 'text-gray-400'\n                          : 'text-gray-500'}\"\n                      >\n                        {monthData.hasData\n                          ? formatCurrency(monthData.payslip?.totalPayments || 0)\n                          : monthData.isLocked\n                          ? 'Ïû†Í∏à'\n                          : '-'}\n                      </td>\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-sm {monthData.isLocked\n                          ? 'text-gray-400'\n                          : 'text-gray-500'}\"\n                      >\n                        {monthData.hasData\n                          ? formatCurrency(monthData.payslip?.totalDeductions || 0)\n                          : monthData.isLocked\n                          ? 'Ïû†Í∏à'\n                          : '-'}\n                      </td>\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-sm font-medium {monthData.isLocked\n                          ? 'text-gray-400'\n                          : 'text-gray-900'}\"\n                      >\n                        {monthData.hasData\n                          ? formatCurrency(monthData.payslip?.netSalary || 0)\n                          : monthData.isLocked\n                          ? 'Ïû†Í∏à'\n                          : '-'}\n                      </td>\n                      <td class=\"px-6 py-4 whitespace-nowrap\">\n                        {#if monthData.isLocked}\n                          <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-600\"\n                          >\n                            {monthData.isBeforeHire ? 'ÏûÖÏÇ¨Ï†Ñ' : 'Ïû†Í∏à'}\n                          </span>\n                        {:else if monthData.hasData}\n                          <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\"\n                          >\n                            ÏôÑÎ£å\n                          </span>\n                        {:else}\n                          <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\"\n                          >\n                            ÎØ∏ÏûëÏÑ±\n                          </span>\n                        {/if}\n                      </td>\n                      <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        {#if monthData.isLocked}\n                          <span class=\"text-gray-400 text-sm\">\n                            {monthData.isBeforeHire ? 'ÏûÖÏÇ¨Ï†Ñ' : 'Ïû†Í∏àÎê®'}\n                          </span>\n                        {:else if monthData.hasData}\n                          <ThemeButton\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onclick={() => enterEditMode(monthData.month, monthData.payslip)}\n                          >\n                            <EditIcon\n                              size={16}\n                              class=\"mr-1\" />\n                            Ìé∏Ïßë\n                          </ThemeButton>\n                        {:else}\n                          <ThemeButton\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onclick={() => enterEditMode(monthData.month)}\n                            class=\"border-red-300 text-red-700 hover:bg-red-50\"\n                          >\n                            <PlusIcon\n                              size={16}\n                              class=\"mr-1\" />\n                            ÏûëÏÑ±\n                          </ThemeButton>\n                        {/if}\n                      </td>\n                    </tr>\n                  {/if}\n                {/each}\n              </tbody>\n            </table>\n          </div>\n        {/if}\n      </div>\n    {:else}\n      <div class=\"text-center py-12 bg-gray-50 rounded-lg border border-gray-200\">\n        <UserIcon\n          size={48}\n          class=\"mx-auto text-gray-400 mb-4\" />\n        <p class=\"text-gray-500\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÎ•º Ï°∞ÌöåÌïòÎ†§Î©¥ ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.</p>\n      </div>\n    {/if}\n  </div>\n{:else}\n  <!-- payroll propÏù¥ ÏûàÎäî Í≤ΩÏö∞ (Í∏âÏó¨ Ïù¥Î†•ÏóêÏÑú ÌÅ¥Î¶≠Ìïú Í≤ΩÏö∞) -->\n  <div class=\"space-y-4\">\n    <div class=\"flex items-center justify-between\">\n      <div>\n        <h3 class=\"text-lg font-semibold text-gray-900\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑú</h3>\n        <p class=\"text-sm text-gray-500\">\n          {payroll.employeeInfo?.name || payroll.employeeName} - {payroll.period}\n        </p>\n      </div>\n      <ThemeButton onclick={() => window.print()}>\n        <PrinterIcon\n          size={16}\n          class=\"mr-1\" />\n        Ï∂úÎ†•\n      </ThemeButton>\n    </div>\n  </div>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/salary/PayslipUploader.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 71,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 71,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 105,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 105,
        "endColumn": 19
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 141,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 141,
        "endColumn": 28,
        "fix": { "range": [3464, 3465], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 298,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 298,
        "endColumn": 28,
        "fix": { "range": [8560, 8561], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "<script lang=\"ts\">\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import {\n    UploadIcon,\n    DownloadIcon,\n    FileSpreadsheetIcon,\n    CheckCircleIcon,\n    XCircleIcon,\n    AlertCircleIcon,\n    CalendarIcon\n  } from '@lucide/svelte'\n\n  let showUploadModal = $state(false)\n  let selectedFile = $state<File | null>(null)\n  let selectedYear = $state(new Date().getFullYear())\n  let selectedMonth = $state(new Date().getMonth() + 1)\n  let isUploading = $state(false)\n  let uploadResult = $state<any>(null)\n  let showResultModal = $state(false)\n\n  // Ïõî ÏòµÏÖò ÏÉùÏÑ±\n  const monthOptions = Array.from({ length: 12 }, (_, i) => ({\n    value: i + 1,\n    label: `${i + 1}Ïõî`\n  }))\n\n  // Ïó∞ÎèÑ ÏòµÏÖò ÏÉùÏÑ± (ÌòÑÏû¨ Ïó∞ÎèÑ Í∏∞Ï§Ä ¬±2ÎÖÑ)\n  const yearOptions = Array.from({ length: 5 }, (_, i) => {\n    const year = new Date().getFullYear() - 2 + i\n    return { value: year, label: `${year}ÎÖÑ` }\n  })\n\n  // ÌååÏùº ÏÑ†ÌÉù Ï≤òÎ¶¨\n  function handleFileSelect(event: Event) {\n    const target = event.target as HTMLInputElement\n    const file = target.files?.[0]\n\n    if (file) {\n      // ÌååÏùº ÌôïÏû•Ïûê Í≤ÄÏ¶ù\n      if (!file.name.endsWith('.xlsx') && !file.name.endsWith('.xls')) {\n        alert('ÏóëÏÖÄ ÌååÏùº(.xlsx, .xls)Îßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.')\n        target.value = ''\n        return\n      }\n\n      selectedFile = file\n    }\n  }\n\n  // ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú\n  async function downloadTemplate() {\n    try {\n      const response = await fetch(\n        `/api/salary/payslips/template?year=${selectedYear}&month=${selectedMonth}`\n      )\n\n      if (!response.ok) {\n        throw new Error('ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `payslip_template_${selectedYear}_${selectedMonth}.xlsx`\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      window.URL.revokeObjectURL(url)\n    } catch (error) {\n      alert('ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // ÌååÏùº ÏóÖÎ°úÎìú\n  async function uploadFile() {\n    if (!selectedFile) {\n      alert('ÌååÏùºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    isUploading = true\n\n    try {\n      const formData = new FormData()\n      formData.append('file', selectedFile)\n      formData.append('period', `${selectedYear}-${String(selectedMonth).padStart(2, '0')}`)\n\n      const response = await fetch('/api/salary/payslips/upload', {\n        method: 'POST',\n        body: formData\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        uploadResult = result\n        showResultModal = true\n        showUploadModal = false\n        selectedFile = null\n      } else {\n        alert(`ÏóÖÎ°úÎìú Ïã§Ìå®: ${result.error}`)\n      }\n    } catch (error) {\n      alert('ÏóÖÎ°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      isUploading = false\n    }\n  }\n\n  // Î™®Îã¨ Îã´Í∏∞\n  function closeUploadModal() {\n    showUploadModal = false\n    selectedFile = null\n  }\n\n  function closeResultModal() {\n    showResultModal = false\n    uploadResult = null\n  }\n</script>\n\n<!-- ÏóÖÎ°úÎìú Î≤ÑÌäº -->\n<ThemeButton\n  onclick={() => (showUploadModal = true)}\n  class=\"bg-green-600 hover:bg-green-700\">\n  <UploadIcon\n    size={16}\n    class=\"mr-2\" />\n  ÏóëÏÖÄ ÏùºÍ¥Ñ ÏóÖÎ°úÎìú\n</ThemeButton>\n\n<!-- ÏóÖÎ°úÎìú Î™®Îã¨ -->\n<ThemeModal\n  bind:open={showUploadModal}\n  size=\"lg\">\n  <div class=\"p-6\">\n    <div class=\"flex items-center justify-between mb-6\">\n      <h2 class=\"text-xl font-semibold text-gray-900\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏóëÏÖÄ ÏóÖÎ°úÎìú</h2>\n      <button type=\"button\"\n        onclick={closeUploadModal}\n        class=\"p-2 text-gray-400 hover:text-gray-600\">\n        <XCircleIcon size={20} />\n      </button>\n    </div>\n\n    <div class=\"space-y-6\">\n      <!-- Í∏∞Í∞Ñ ÏÑ†ÌÉù -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <h3 class=\"text-lg font-semibold text-blue-800 mb-3 flex items-center\">\n          <CalendarIcon\n            size={20}\n            class=\"mr-2\" />\n          Í∏âÏó¨ Í∏∞Í∞Ñ ÏÑ†ÌÉù\n        </h3>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label\n              for=\"upload-year\"\n              class=\"block text-sm font-medium text-blue-700 mb-2\"\n            >Ïó∞ÎèÑ</label\n            >\n            <select\n              id=\"upload-year\"\n              bind:value={selectedYear}\n              class=\"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {#each yearOptions as year, i (i)}\n                <option value={year.value}>{year.label}</option>\n              {/each}\n            </select>\n          </div>\n          <div>\n            <label\n              for=\"upload-month\"\n              class=\"block text-sm font-medium text-blue-700 mb-2\">Ïõî</label\n            >\n            <select\n              id=\"upload-month\"\n              bind:value={selectedMonth}\n              class=\"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {#each monthOptions as month, i (i)}\n                <option value={month.value}>{month.label}</option>\n              {/each}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <!-- ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú -->\n      <div class=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\n        <h3 class=\"text-lg font-semibold text-amber-800 mb-3 flex items-center\">\n          <FileSpreadsheetIcon\n            size={20}\n            class=\"mr-2\" />\n          ÏóëÏÖÄ ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú\n        </h3>\n        <p class=\"text-amber-700 mb-3\">\n          ÏóÖÎ°úÎìú Ï†ÑÏóê Î®ºÏ†Ä ÌÖúÌîåÎ¶øÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ Í∏âÏó¨ Îç∞Ïù¥ÌÑ∞Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.\n        </p>\n        <ThemeButton\n          onclick={downloadTemplate}\n          variant=\"ghost\"\n          class=\"border-amber-300 text-amber-700 hover:bg-amber-100\"\n        >\n          <DownloadIcon\n            size={16}\n            class=\"mr-2\" />\n          ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú\n        </ThemeButton>\n      </div>\n\n      <!-- ÌååÏùº ÏóÖÎ°úÎìú -->\n      <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n        <h3 class=\"text-lg font-semibold text-gray-800 mb-3 flex items-center\">\n          <UploadIcon\n            size={20}\n            class=\"mr-2\" />\n          ÏóëÏÖÄ ÌååÏùº ÏóÖÎ°úÎìú\n        </h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label\n              for=\"file-upload\"\n              class=\"block text-sm font-medium text-gray-700 mb-2\">\n              ÌååÏùº ÏÑ†ÌÉù\n            </label>\n            <input\n              id=\"file-upload\"\n              type=\"file\"\n              accept=\".xlsx,.xls\"\n              onchange={handleFileSelect}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          {#if selectedFile}\n            <div class=\"flex items-center p-3 bg-green-50 border border-green-200 rounded-md\">\n              <CheckCircleIcon\n                size={20}\n                class=\"text-green-600 mr-2\" />\n              <span class=\"text-green-700 font-medium\">{selectedFile.name}</span>\n            </div>\n          {/if}\n\n          <div class=\"bg-yellow-50 border border-yellow-200 rounded-md p-3\">\n            <div class=\"flex items-start\">\n              <AlertCircleIcon\n                size={20}\n                class=\"text-yellow-600 mr-2 mt-0.5\" />\n              <div class=\"text-yellow-700 text-sm\">\n                <p class=\"font-medium mb-1\">Ï£ºÏùòÏÇ¨Ìï≠:</p>\n                <ul class=\"list-disc list-inside space-y-1\">\n                  <li>ÌÖúÌîåÎ¶øÏùò ÌòïÏãùÏùÑ Í∑∏ÎåÄÎ°ú Ïú†ÏßÄÌï¥Ï£ºÏÑ∏Ïöî</li>\n                  <li>Ïà´ÏûêÎßå ÏûÖÎ†•ÌïòÍ≥† ÏΩ§ÎßàÎÇò ÏõêÌôî ÌëúÏãúÎäî Ï†úÏô∏Ìï¥Ï£ºÏÑ∏Ïöî</li>\n                  <li>Í∏∞Ï°¥ Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÍ∞Ä ÏûàÏúºÎ©¥ ÎçÆÏñ¥Ïì∞Í∏∞Îê©ÎãàÎã§</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n      <div class=\"flex justify-end space-x-3\">\n        <ThemeButton\n          variant=\"ghost\"\n          onclick={closeUploadModal}>Ï∑®ÏÜå</ThemeButton>\n        <ThemeButton\n          onclick={uploadFile}\n          disabled={!selectedFile || isUploading}\n          class=\"bg-green-600 hover:bg-green-700 disabled:bg-gray-400\"\n        >\n          {#if isUploading}\n            <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n            ÏóÖÎ°úÎìú Ï§ë...\n          {:else}\n            <UploadIcon\n              size={16}\n              class=\"mr-2\" />\n            ÏóÖÎ°úÎìú\n          {/if}\n        </ThemeButton>\n      </div>\n    </div>\n  </div>\n</ThemeModal>\n\n<!-- Í≤∞Í≥º Î™®Îã¨ -->\n<ThemeModal\n  bind:open={showResultModal}\n  size=\"xl\">\n  <div class=\"p-6\">\n    <div class=\"flex items-center justify-between mb-6\">\n      <h2 class=\"text-xl font-semibold text-gray-900\">ÏóÖÎ°úÎìú Í≤∞Í≥º</h2>\n      <button type=\"button\"\n        onclick={closeResultModal}\n        class=\"p-2 text-gray-400 hover:text-gray-600\">\n        <XCircleIcon size={20} />\n      </button>\n    </div>\n\n    {#if uploadResult}\n      <div class=\"space-y-6\">\n        <!-- ÏöîÏïΩ Ï†ïÎ≥¥ -->\n        <div class=\"grid grid-cols-3 gap-4\">\n          <div class=\"bg-green-50 border border-green-200 rounded-lg p-4 text-center\">\n            <CheckCircleIcon\n              size={32}\n              class=\"text-green-600 mx-auto mb-2\" />\n            <div class=\"text-2xl font-bold text-green-700\">{uploadResult.results.success}</div>\n            <div class=\"text-sm text-green-600\">ÏÑ±Í≥µ</div>\n          </div>\n          <div class=\"bg-red-50 border border-red-200 rounded-lg p-4 text-center\">\n            <XCircleIcon\n              size={32}\n              class=\"text-red-600 mx-auto mb-2\" />\n            <div class=\"text-2xl font-bold text-red-700\">{uploadResult.results.failed}</div>\n            <div class=\"text-sm text-red-600\">Ïã§Ìå®</div>\n          </div>\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center\">\n            <FileSpreadsheetIcon\n              size={32}\n              class=\"text-blue-600 mx-auto mb-2\" />\n            <div class=\"text-2xl font-bold text-blue-700\">\n              {uploadResult.results.success + uploadResult.results.failed}\n            </div>\n            <div class=\"text-sm text-blue-600\">Ï¥ù Ï≤òÎ¶¨</div>\n          </div>\n        </div>\n\n        <!-- Ïò§Î•ò Î™©Î°ù -->\n        {#if uploadResult.results.errors.length > 0}\n          <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <h3 class=\"text-lg font-semibold text-red-800 mb-3\">Ïò§Î•ò Î™©Î°ù</h3>\n            <div class=\"max-h-40 overflow-y-auto\">\n              {#each uploadResult.results.errors as error, i (i)}\n                <div class=\"text-sm text-red-700 py-1\">{error}</div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n\n        <!-- ÏÉÅÏÑ∏ Í≤∞Í≥º -->\n        {#if uploadResult.results.details.length > 0}\n          <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">ÏÉÅÏÑ∏ Í≤∞Í≥º</h3>\n            <div class=\"max-h-60 overflow-y-auto\">\n              <table class=\"min-w-full text-sm\">\n                <thead class=\"bg-gray-100\">\n                  <tr>\n                    <th class=\"px-3 py-2 text-left\">Ìñâ</th>\n                    <th class=\"px-3 py-2 text-left\">ÏÇ¨Î≤à</th>\n                    <th class=\"px-3 py-2 text-left\">ÏÑ±Î™Ö</th>\n                    <th class=\"px-3 py-2 text-left\">ÏÉÅÌÉú</th>\n                    <th class=\"px-3 py-2 text-left\">ÏßÄÍ∏âÏ¥ùÏï°</th>\n                    <th class=\"px-3 py-2 text-left\">Ïã§ÏßÄÍ∏âÏï°</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {#each uploadResult.results.details as detail, i (i)}\n                    <tr class=\"border-t\">\n                      <td class=\"px-3 py-2\">{detail.row}</td>\n                      <td class=\"px-3 py-2\">{detail.employeeId}</td>\n                      <td class=\"px-3 py-2\">{detail.name}</td>\n                      <td class=\"px-3 py-2\">\n                        {#if detail.status === 'success'}\n                          <span class=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\"\n                          >ÏÑ±Í≥µ</span\n                          >\n                        {:else}\n                          <span class=\"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs\"\n                          >Ïã§Ìå®</span\n                          >\n                        {/if}\n                      </td>\n                      <td class=\"px-3 py-2\">\n                        {#if detail.totalPayments}\n                          {new Intl.NumberFormat('ko-KR').format(detail.totalPayments)}Ïõê\n                        {/if}\n                      </td>\n                      <td class=\"px-3 py-2\">\n                        {#if detail.netSalary}\n                          {new Intl.NumberFormat('ko-KR').format(detail.netSalary)}Ïõê\n                        {/if}\n                      </td>\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        {/if}\n\n        <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n        <div class=\"flex justify-end\">\n          <ThemeButton\n            onclick={closeResultModal}\n            class=\"bg-blue-600 hover:bg-blue-700\">\n            ÌôïÏù∏\n          </ThemeButton>\n        </div>\n      </div>\n    {/if}\n  </div>\n</ThemeModal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/salary/SalaryContracts.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 105,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 105,
        "endColumn": 21
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 126,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 126,
        "endColumn": 19
      },
      {
        "ruleId": "no-empty",
        "severity": 2,
        "message": "Empty block statement.",
        "line": 126,
        "column": 21,
        "nodeType": "BlockStatement",
        "messageId": "unexpected",
        "endLine": 126,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestComment",
            "data": { "type": "block" },
            "fix": { "range": [3601, 3601], "text": " /* empty */ " },
            "desc": "Add comment inside empty block statement."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 283,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 283,
        "endColumn": 19
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 602,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 602,
        "endColumn": 42,
        "fix": { "range": [18170, 18171], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 610,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 610,
        "endColumn": 42,
        "fix": { "range": [18487, 18488], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "<script lang=\"ts\">\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import { createContract, updateContract, deleteContract } from '$lib/stores/salary/contract-store'\n  import { formatCurrency, formatDate, formatDateForInput } from '$lib/utils/format'\n  import type { SalaryContract, CreateSalaryContractRequest } from '$lib/types/salary-contracts'\n  import {\n    PlusIcon,\n    SearchIcon,\n    FilterIcon,\n    PencilIcon,\n    TrashIcon,\n    CalendarIcon,\n    DollarSignIcon,\n    FileTextIcon,\n    UserIcon\n  } from '@lucide/svelte'\n\n  let mounted = $state(false)\n  let showCreateModal = $state(false)\n  let showEditModal = $state(false)\n  let showDeleteModal = $state(false)\n  let selectedContract: SalaryContract | null = $state(null)\n  let showFilters = $state(false)\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let formData: CreateSalaryContractRequest = $state({\n    employeeId: '',\n    startDate: new Date().toISOString().split('T')[0], // Ïò§Îäò ÎÇ†Ïßú\n    endDate: '',\n    annualSalary: 0,\n    monthlySalary: 0,\n    contractType: 'full_time',\n    status: 'active',\n    notes: ''\n  })\n\n  // ÏßÅÏõê Î™©Î°ù\n  let employees: any[] = $state([])\n\n  // Î°úÏª¨ Í≥ÑÏïΩ Îç∞Ïù¥ÌÑ∞\n  let localContracts: any[] = $state([])\n  let localLoading = $state(false)\n  let localError: string | null = $state(null)\n\n  // Î°úÏª¨ ÌïÑÌÑ∞\n  let localFilter = $state({\n    status: '',\n    contractType: '',\n    employeeId: '',\n    department: '',\n    startDateFrom: ''\n  })\n\n  // Î°úÏª¨ ÌÜµÍ≥Ñ Í≥ÑÏÇ∞ (localContractsÍ∞Ä Î≥ÄÍ≤ΩÎê† ÎïåÎßàÎã§ ÏûêÎèô Í≥ÑÏÇ∞)\n  let localStats = $derived(\n    (() => {\n      if (localContracts.length > 0) {\n        const activeContracts = localContracts.filter(contract => contract.status === 'active')\n        const totalAnnualSalary = localContracts.reduce(\n          (sum, contract) => sum + (contract.annualSalary || 0),\n          0\n        )\n\n        return {\n          totalContracts: localContracts.length,\n          activeContracts: activeContracts.length,\n          totalAnnualSalary: totalAnnualSalary,\n          averageAnnualSalary:\n            localContracts.length > 0 ? Math.round(totalAnnualSalary / localContracts.length) : 0\n        }\n      }\n      return {\n        totalContracts: 0,\n        activeContracts: 0,\n        totalAnnualSalary: 0,\n        averageAnnualSalary: 0\n      }\n    })()\n  )\n\n  $effect(async () => {\n    if (!mounted) {\n      mounted = true\n\n      // ÏßÅÏ†ë API Ìò∏Ï∂úÎ°ú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n      try {\n        localLoading = true\n        localError = null\n\n        // ÏßÅÏ†ë API Ìò∏Ï∂ú\n        const response = await fetch('/api/salary/contracts?page=1&limit=20')\n        const result = await response.json()\n\n        if (result.success && result.data) {\n          localContracts = result.data.data\n        } else {\n          localError = result.error || 'Í∏âÏó¨ Í≥ÑÏïΩ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n        }\n\n        await loadEmployees()\n      } catch (error) {\n        localError = 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      } finally {\n        localLoading = false\n      }\n    }\n  })\n\n  // ÏßÅÏõê Î™©Î°ù Î°úÎìú\n  async function loadEmployees() {\n    try {\n      const response = await fetch('/api/employees')\n      const result = await response.json()\n      if (result.success) {\n        employees = result.data.map((emp: any) => ({\n          id: emp.id,\n          name: `${emp.last_name}${emp.first_name}`,\n          department: emp.department || 'Î∂ÄÏÑúÏóÜÏùå',\n          position: emp.position || 'Ïó∞Íµ¨Ïõê'\n        }))\n      }\n    } catch (error) {}\n  }\n\n  // Í≥ÑÏïΩ Ïú†ÌòïÎ≥Ñ ÏÉâÏÉÅ\n  function getContractTypeColor(type: string): string {\n    switch (type) {\n      case 'full_time':\n        return 'bg-blue-100 text-blue-800'\n      case 'part_time':\n        return 'bg-green-100 text-green-800'\n      case 'contract':\n        return 'bg-yellow-100 text-yellow-800'\n      case 'intern':\n        return 'bg-purple-100 text-purple-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  // Í≥ÑÏïΩ Ïú†Ìòï ÌëúÏãúÎ™Ö\n  function getContractTypeLabel(type: string): string {\n    switch (type) {\n      case 'full_time':\n        return 'Ï†ïÍ∑úÏßÅ'\n      case 'part_time':\n        return 'ÌååÌä∏ÌÉÄÏûÑ'\n      case 'contract':\n        return 'Í≥ÑÏïΩÏßÅ'\n      case 'intern':\n        return 'Ïù∏ÌÑ¥'\n      default:\n        return type\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'active':\n        return 'bg-green-100 text-green-800'\n      case 'expired':\n        return 'bg-red-100 text-red-800'\n      case 'terminated':\n        return 'bg-gray-100 text-gray-800'\n      case 'draft':\n        return 'bg-yellow-100 text-yellow-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  // ÏÉÅÌÉú ÌëúÏãúÎ™Ö\n  function getStatusLabel(status: string): string {\n    switch (status) {\n      case 'active':\n        return 'ÏßÑÌñâÏ§ë'\n      case 'expired':\n        return 'ÎßåÎ£åÎê®'\n      case 'terminated':\n        return 'Ï¢ÖÎ£åÎê®'\n      case 'draft':\n        return 'ÏûÑÏãúÏ†ÄÏû•'\n      default:\n        return status\n    }\n  }\n\n  // ÏÉà Í≥ÑÏïΩ ÏÉùÏÑ± Î™®Îã¨ Ïó¥Í∏∞\n  function openCreateModal() {\n    formData = {\n      employeeId: '',\n      startDate: '',\n      endDate: '',\n      annualSalary: 0,\n      monthlySalary: 0,\n      contractType: 'full_time',\n      status: 'active',\n      notes: ''\n    }\n    showCreateModal = true\n  }\n\n  // Í≥ÑÏïΩ ÏàòÏ†ï Î™®Îã¨ Ïó¥Í∏∞\n  function openEditModal(contract: SalaryContract) {\n    selectedContract = contract\n    formData = {\n      employeeId: contract.employeeId,\n      startDate: formatDateForInput(contract.startDate),\n      endDate: contract.endDate ? formatDateForInput(contract.endDate) : '',\n      annualSalary: contract.annualSalary,\n      monthlySalary: contract.monthlySalary,\n      contractType: contract.contractType,\n      status: contract.status,\n      notes: contract.notes || ''\n    }\n    showEditModal = true\n  }\n\n  // Í≥ÑÏïΩ ÏÇ≠Ï†ú Î™®Îã¨ Ïó¥Í∏∞\n  function openDeleteModal(contract: SalaryContract) {\n    selectedContract = contract\n    showDeleteModal = true\n  }\n\n  // Í≥ÑÏïΩ ÏÉùÏÑ±/ÏàòÏ†ï Ï†ÄÏû•\n  async function saveContract() {\n    if (\n      !formData.employeeId ||\n      !formData.startDate ||\n      !formData.annualSalary ||\n      !formData.monthlySalary\n    ) {\n      alert('ÌïÑÏàò ÌïÑÎìúÎ•º Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // endDateÍ∞Ä Îπà Î¨∏ÏûêÏó¥Ïù∏ Í≤ΩÏö∞ nullÎ°ú Î≥ÄÌôòÌïòÍ≥†, ÎÇ†ÏßúÎ•º ÌïúÍµ≠ÏãúÍ∞ÑÏúºÎ°ú Ï≤òÎ¶¨\n    const submitData = {\n      ...formData,\n      startDate: formData.startDate + 'T00:00:00+09:00',\n      endDate: formData.endDate === '' ? null : formData.endDate + 'T00:00:00+09:00'\n    }\n\n    let success = false\n    if (showCreateModal) {\n      success = await createContract(submitData)\n    } else if (showEditModal && selectedContract) {\n      success = await updateContract(selectedContract.id, submitData)\n    }\n\n    if (success) {\n      showCreateModal = false\n      showEditModal = false\n      selectedContract = null\n      // Î°úÏª¨ ÏÉÅÌÉú ÏÉàÎ°úÍ≥†Ïπ®\n      await refreshLocalData()\n    }\n  }\n\n  // Î°úÏª¨ Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®\n  async function refreshLocalData() {\n    try {\n      // Í≥ÑÏïΩ Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ®\n      const response = await fetch('/api/salary/contracts?page=1&limit=20')\n      const result = await response.json()\n\n      if (result.success && result.data) {\n        localContracts = result.data.data\n      }\n\n      // ÌÜµÍ≥Ñ ÏÉàÎ°úÍ≥†Ïπ®\n      const statsResponse = await fetch('/api/salary/contracts/stats')\n      const statsResult = await statsResponse.json()\n\n      if (statsResult.success && statsResult.data) {\n        localStats = statsResult.data\n      }\n    } catch (error) {\n    // ÏóêÎü¨Îäî Ï°∞Ïö©Ìûà Ï≤òÎ¶¨\n    }\n  }\n\n  // Í≥ÑÏïΩ ÏÇ≠Ï†ú\n  async function confirmDelete() {\n    if (selectedContract) {\n      const success = await deleteContract(selectedContract.id)\n      if (success) {\n        showDeleteModal = false\n        selectedContract = null\n        await refreshLocalData()\n      }\n    }\n  }\n\n  // ÌïÑÌÑ∞ Ï†ÅÏö©\n  function applyFilter() {\n  // Î°úÏª¨ ÌïÑÌÑ∞ÎßÅ Î°úÏßÅ (ÌïÑÏöîÏãú Íµ¨ÌòÑ)\n  }\n\n  // ÌïÑÌÑ∞ Ï¥àÍ∏∞Ìôî\n  function clearFilters() {\n    localFilter = {\n      status: '',\n      contractType: '',\n      employeeId: '',\n      department: '',\n      startDateFrom: ''\n    }\n  }\n\n  // ÏõîÍ∏â ÏûêÎèô Í≥ÑÏÇ∞ (Ïó∞Î¥â Î≥ÄÍ≤Ω Ïãú)\n  function calculateMonthlySalary() {\n    if (formData.annualSalary > 0) {\n      formData.monthlySalary = Math.round(formData.annualSalary / 12)\n    }\n  }\n\n  // Ïó∞Î¥â ÏûêÎèô Í≥ÑÏÇ∞ (ÏõîÍ∏â Î≥ÄÍ≤Ω Ïãú)\n  function calculateAnnualSalary() {\n    if (formData.monthlySalary > 0) {\n      formData.annualSalary = formData.monthlySalary * 12\n    }\n  }\n</script>\n\n<div class=\"space-y-6\">\n  <!-- ÌÜµÍ≥Ñ Ïπ¥ÎìúÎì§ -->\n  <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n    <ThemeCard class=\"p-6\">\n      <div class=\"flex items-center\">\n        <div class=\"p-3 bg-blue-100 rounded-full\">\n          <FileTextIcon\n            size={24}\n            class=\"text-blue-600\" />\n        </div>\n        <div class=\"ml-4\">\n          <p class=\"text-sm font-medium text-gray-600\">Ï¥ù Í≥ÑÏïΩ Ïàò</p>\n          <p class=\"text-2xl font-bold text-gray-900\">{localStats.totalContracts}Í∞ú</p>\n        </div>\n      </div>\n    </ThemeCard>\n\n    <ThemeCard class=\"p-6\">\n      <div class=\"flex items-center\">\n        <div class=\"p-3 bg-green-100 rounded-full\">\n          <UserIcon\n            size={24}\n            class=\"text-green-600\" />\n        </div>\n        <div class=\"ml-4\">\n          <p class=\"text-sm font-medium text-gray-600\">ÏßÑÌñâÏ§ë Í≥ÑÏïΩ</p>\n          <p class=\"text-2xl font-bold text-gray-900\">{localStats.activeContracts}Í∞ú</p>\n        </div>\n      </div>\n    </ThemeCard>\n\n    <ThemeCard class=\"p-6\">\n      <div class=\"flex items-center\">\n        <div class=\"p-3 bg-purple-100 rounded-full\">\n          <DollarSignIcon\n            size={24}\n            class=\"text-purple-600\" />\n        </div>\n        <div class=\"ml-4\">\n          <p class=\"text-sm font-medium text-gray-600\">ÌèâÍ∑† Ïó∞Î¥â</p>\n          <p class=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency(localStats.averageAnnualSalary)}\n          </p>\n        </div>\n      </div>\n    </ThemeCard>\n\n    <ThemeCard class=\"p-6\">\n      <div class=\"flex items-center\">\n        <div class=\"p-3 bg-yellow-100 rounded-full\">\n          <CalendarIcon\n            size={24}\n            class=\"text-yellow-600\" />\n        </div>\n        <div class=\"ml-4\">\n          <p class=\"text-sm font-medium text-gray-600\">Ï¥ù Í∏âÏó¨</p>\n          <p class=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency(localStats.totalAnnualSalary)}\n          </p>\n        </div>\n      </div>\n    </ThemeCard>\n  </div>\n\n  <!-- ÌïÑÌÑ∞ Î∞è Ïï°ÏÖò Î∞î -->\n  <ThemeCard class=\"p-6\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <ThemeSectionHeader title=\"Í∏âÏó¨ Í≥ÑÏïΩ Î™©Î°ù\" />\n      <div class=\"flex items-center space-x-3\">\n        <ThemeButton\n          variant=\"outline\"\n          size=\"sm\"\n          onclick={() => (showFilters = !showFilters)}>\n          <FilterIcon\n            size={16}\n            class=\"mr-2\" />\n          ÌïÑÌÑ∞\n        </ThemeButton>\n        <ThemeButton\n          variant=\"primary\"\n          size=\"sm\"\n          onclick={openCreateModal}>\n          <PlusIcon\n            size={16}\n            class=\"mr-2\" />\n          ÏÉà Í≥ÑÏïΩ\n        </ThemeButton>\n      </div>\n    </div>\n\n    <!-- ÌïÑÌÑ∞ ÏòÅÏó≠ -->\n    {#if showFilters}\n      <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4 p-4 bg-gray-50 rounded-lg\"\n      >\n        <div>\n          <label\n            for=\"employee-search\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏßÅÏõê Í≤ÄÏÉâ</label\n          >\n          <input\n            id=\"employee-search\"\n            type=\"text\"\n            placeholder=\"ÏßÅÏõêÎ™Ö, ÏÇ¨Î≤àÏúºÎ°ú Í≤ÄÏÉâ\"\n            bind:value={localFilter.employeeId}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n        <div>\n          <label\n            for=\"department-filter\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >Î∂ÄÏÑú</label\n          >\n          <select\n            id=\"department-filter\"\n            bind:value={localFilter.department}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Ï†ÑÏ≤¥</option>\n            <option value=\"ÎåÄÌëú\">ÎåÄÌëú</option>\n            <option value=\"Ïó∞Íµ¨ÏÜå\">Ïó∞Íµ¨ÏÜå</option>\n            <option value=\"Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ\">Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ</option>\n            <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n          </select>\n        </div>\n        <div>\n          <label\n            for=\"contract-type-filter\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >Í≥ÑÏïΩ Ïú†Ìòï</label\n          >\n          <select\n            id=\"contract-type-filter\"\n            bind:value={localFilter.contractType}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Ï†ÑÏ≤¥</option>\n            <option value=\"full_time\">Ï†ïÍ∑úÏßÅ</option>\n            <option value=\"part_time\">ÌååÌä∏ÌÉÄÏûÑ</option>\n            <option value=\"contract\">Í≥ÑÏïΩÏßÅ</option>\n            <option value=\"intern\">Ïù∏ÌÑ¥</option>\n          </select>\n        </div>\n        <div>\n          <label\n            for=\"sc-status-filter\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏÉÅÌÉú</label\n          >\n          <select\n            id=\"sc-status-filter\"\n            bind:value={localFilter.status}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Ï†ÑÏ≤¥</option>\n            <option value=\"active\">ÏßÑÌñâÏ§ë</option>\n            <option value=\"expired\">ÎßåÎ£åÎê®</option>\n            <option value=\"terminated\">Ï¢ÖÎ£åÎê®</option>\n            <option value=\"draft\">ÏûÑÏãúÏ†ÄÏû•</option>\n          </select>\n        </div>\n        <div>\n          <label\n            for=\"start-date-filter\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏãúÏûëÏùº (Î∂ÄÌÑ∞)</label\n          >\n          <input\n            id=\"start-date-filter\"\n            type=\"date\"\n            bind:value={localFilter.startDateFrom}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n        <div class=\"flex items-end space-x-2\">\n          <ThemeButton\n            variant=\"primary\"\n            size=\"sm\"\n            onclick={applyFilter}>\n            <SearchIcon\n              size={16}\n              class=\"mr-1\" />\n            Í≤ÄÏÉâ\n          </ThemeButton>\n          <ThemeButton\n            variant=\"outline\"\n            size=\"sm\"\n            onclick={clearFilters}>Ï¥àÍ∏∞Ìôî</ThemeButton>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Í≥ÑÏïΩ Î™©Î°ù ÌÖåÏù¥Î∏î -->\n    {#if localLoading && localContracts.length === 0}\n      <div class=\"flex items-center justify-center py-12\">\n        <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        <span class=\"ml-2 text-gray-600\">Î°úÎî© Ï§ë...</span>\n      </div>\n    {:else if localError}\n      <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <span class=\"text-red-800\">{localError}</span>\n      </div>\n    {:else if localContracts.length === 0}\n      <div class=\"text-center py-12\">\n        <FileTextIcon\n          size={48}\n          class=\"mx-auto text-gray-400 mb-4\" />\n        <p class=\"text-gray-500\">Í∏âÏó¨ Í≥ÑÏïΩÏù¥ ÏóÜÏäµÎãàÎã§.</p>\n      </div>\n    {:else}\n      <div class=\"overflow-x-auto\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >ÏßÅÏõê Ï†ïÎ≥¥</th\n              >\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >Í≥ÑÏïΩ Í∏∞Í∞Ñ</th\n              >\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >Í∏âÏó¨</th\n              >\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >Í≥ÑÏïΩ Ïú†Ìòï</th\n              >\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >ÏÉÅÌÉú</th\n              >\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >Ïï°ÏÖò</th\n              >\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            {#each localContracts as contract, i (i)}\n              <tr class=\"hover:bg-gray-50\">\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div>\n                    <div class=\"text-sm font-medium text-gray-900\">{contract.employeeName}</div>\n                    <div class=\"text-sm text-gray-500\">\n                      {contract.employeeIdNumber} ‚Ä¢ {contract.department}\n                    </div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"text-sm text-gray-900\">\n                    {formatDate(contract.startDate)} ~ {contract.endDate\n                      ? formatDate(contract.endDate)\n                      : 'Î¨¥Í∏∞Ìïú'}\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"text-sm text-gray-900\">\n                    <div>Ïó∞Î¥â: {formatCurrency(contract.annualSalary)}</div>\n                    <div class=\"text-gray-500\">ÏõîÍ∏â: {formatCurrency(contract.monthlySalary)}</div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <ThemeBadge class={getContractTypeColor(contract.contractType)}>\n                    {getContractTypeLabel(contract.contractType)}\n                  </ThemeBadge>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <ThemeBadge class={getStatusColor(contract.status)}>\n                    {getStatusLabel(contract.status)}\n                  </ThemeBadge>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <div class=\"flex items-center space-x-2\">\n                    <button type=\"button\"\n                      onclick={() => {\n                        openEditModal(contract)\n                      }}\n                      class=\"text-blue-600 hover:text-blue-900\"\n                    >\n                      <PencilIcon size={16} />\n                    </button>\n                    <button type=\"button\"\n                      onclick={() => openDeleteModal(contract)}\n                      class=\"text-red-600 hover:text-red-900\"\n                    >\n                      <TrashIcon size={16} />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            {/each}\n          </tbody>\n        </table>\n      </div>\n    {/if}\n  </ThemeCard>\n</div>\n\n<!-- ÏÉà Í≥ÑÏïΩ ÏÉùÏÑ± Î™®Îã¨ -->\n<ThemeModal\n  open={showCreateModal}\n  onclose={() => (showCreateModal = false)}\n  title=\"ÏÉà Í∏âÏó¨ Í≥ÑÏïΩ\">\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-employee\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏßÅÏõê ÏÑ†ÌÉù *</label\n        >\n        <select\n          id=\"create-employee\"\n          bind:value={formData.employeeId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n          {#each employees as employee, i (i)}\n            <option value={employee.id}>{employee.name} ({employee.department})</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-contractType\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Í≥ÑÏïΩ Ïú†Ìòï *</label\n        >\n        <select\n          id=\"create-contractType\"\n          bind:value={formData.contractType}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"full_time\">Ï†ïÍ∑úÏßÅ</option>\n          <option value=\"part_time\">ÌååÌä∏ÌÉÄÏûÑ</option>\n          <option value=\"contract\">Í≥ÑÏïΩÏßÅ</option>\n          <option value=\"intern\">Ïù∏ÌÑ¥</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-startDate\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏãúÏûëÏùº *</label\n        >\n        <input\n          id=\"create-startDate\"\n          type=\"date\"\n          bind:value={formData.startDate}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"create-endDate\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Ï¢ÖÎ£åÏùº</label\n        >\n        <input\n          id=\"create-endDate\"\n          type=\"date\"\n          bind:value={formData.endDate}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"create-annualSalary\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Ïó∞Î¥â (Ïõê) *</label\n        >\n        <input\n          id=\"create-annualSalary\"\n          type=\"number\"\n          bind:value={formData.annualSalary}\n          oninput={calculateMonthlySalary}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"Ïòà: 50000000\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"create-monthlySalary\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏõîÍ∏â (Ïõê) *</label\n        >\n        <input\n          id=\"create-monthlySalary\"\n          type=\"number\"\n          bind:value={formData.monthlySalary}\n          oninput={calculateAnnualSalary}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"Ïòà: 4166667\"\n        />\n      </div>\n    </div>\n    <div>\n      <label\n        for=\"create-notes\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\">ÎπÑÍ≥†</label>\n      <textarea\n        id=\"create-notes\"\n        bind:value={formData.notes}\n        rows=\"3\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        placeholder=\"Í≥ÑÏïΩ Í¥ÄÎ†® ÌäπÏù¥ÏÇ¨Ìï≠Ïù¥ÎÇò Î©îÎ™®\"\n      ></textarea>\n    </div>\n  </div>\n\n  <div class=\"flex justify-end space-x-3 mt-6\">\n    <ThemeButton\n      variant=\"outline\"\n      onclick={() => (showCreateModal = false)}>Ï∑®ÏÜå</ThemeButton>\n    <ThemeButton\n      variant=\"primary\"\n      onclick={saveContract}>ÏÉùÏÑ±</ThemeButton>\n  </div>\n</ThemeModal>\n\n<!-- Í≥ÑÏïΩ ÏàòÏ†ï Î™®Îã¨ -->\n<ThemeModal\n  open={showEditModal}\n  onclose={() => (showEditModal = false)}\n  title=\"Í∏âÏó¨ Í≥ÑÏïΩ ÏàòÏ†ï\">\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"edit-contractType\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Í≥ÑÏïΩ Ïú†Ìòï</label\n        >\n        <select\n          id=\"edit-contractType\"\n          bind:value={formData.contractType}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"full_time\">Ï†ïÍ∑úÏßÅ</option>\n          <option value=\"part_time\">ÌååÌä∏ÌÉÄÏûÑ</option>\n          <option value=\"contract\">Í≥ÑÏïΩÏßÅ</option>\n          <option value=\"intern\">Ïù∏ÌÑ¥</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"edit-status\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÉÅÌÉú</label>\n        <select\n          id=\"edit-status\"\n          bind:value={formData.status}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"active\">ÏßÑÌñâÏ§ë</option>\n          <option value=\"expired\">ÎßåÎ£åÎê®</option>\n          <option value=\"terminated\">Ï¢ÖÎ£åÎê®</option>\n          <option value=\"draft\">ÏûÑÏãúÏ†ÄÏû•</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"edit-startDate\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏãúÏûëÏùº</label\n        >\n        <input\n          id=\"edit-startDate\"\n          type=\"date\"\n          bind:value={formData.startDate}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"edit-endDate\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Ï¢ÖÎ£åÏùº</label\n        >\n        <input\n          id=\"edit-endDate\"\n          type=\"date\"\n          bind:value={formData.endDate}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"edit-annualSalary\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Ïó∞Î¥â (Ïõê)</label\n        >\n        <input\n          id=\"edit-annualSalary\"\n          type=\"number\"\n          bind:value={formData.annualSalary}\n          oninput={calculateMonthlySalary}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"edit-monthlySalary\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏõîÍ∏â (Ïõê)</label\n        >\n        <input\n          id=\"edit-monthlySalary\"\n          type=\"number\"\n          bind:value={formData.monthlySalary}\n          oninput={calculateAnnualSalary}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n    </div>\n    <div>\n      <label\n        for=\"edit-notes\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\">ÎπÑÍ≥†</label>\n      <textarea\n        id=\"edit-notes\"\n        bind:value={formData.notes}\n        rows=\"3\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      ></textarea>\n    </div>\n  </div>\n\n  <div class=\"flex justify-end space-x-3 mt-6\">\n    <ThemeButton\n      variant=\"outline\"\n      onclick={() => (showEditModal = false)}>Ï∑®ÏÜå</ThemeButton>\n    <ThemeButton\n      variant=\"primary\"\n      onclick={saveContract}>ÏàòÏ†ï</ThemeButton>\n  </div>\n</ThemeModal>\n\n<!-- Í≥ÑÏïΩ ÏÇ≠Ï†ú ÌôïÏù∏ Î™®Îã¨ -->\n<ThemeModal\n  open={showDeleteModal}\n  onclose={() => (showDeleteModal = false)}\n  title=\"Í∏âÏó¨ Í≥ÑÏïΩ ÏÇ≠Ï†ú\">\n  <div class=\"space-y-4\">\n    <p class=\"text-gray-700\">Ï†ïÎßêÎ°ú Ïù¥ Í∏âÏó¨ Í≥ÑÏïΩÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>\n    {#if selectedContract}\n      <div class=\"bg-gray-50 p-4 rounded-lg\">\n        <p class=\"font-medium\">{selectedContract.employeeName}</p>\n        <p class=\"text-sm text-gray-600\">\n          {formatDate(selectedContract.startDate)} ~ {selectedContract.endDate\n            ? formatDate(selectedContract.endDate)\n            : 'Î¨¥Í∏∞Ìïú'}\n        </p>\n        <p class=\"text-sm text-gray-600\">{formatCurrency(selectedContract.annualSalary)}</p>\n      </div>\n    {/if}\n    <p class=\"text-sm text-red-600\">Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.</p>\n  </div>\n\n  <div class=\"flex justify-end space-x-3 mt-6\">\n    <ThemeButton\n      variant=\"outline\"\n      onclick={() => (showDeleteModal = false)}>Ï∑®ÏÜå</ThemeButton>\n    <ThemeButton\n      variant=\"danger\"\n      onclick={confirmDelete}>ÏÇ≠Ï†ú</ThemeButton>\n  </div>\n</ThemeModal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/salary/SalaryDashboard.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getStatusIcon' is defined but never used.",
        "line": 39,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getStatusIcon" },
            "fix": { "range": [914, 1282], "text": "" },
            "desc": "Remove unused variable 'getStatusIcon'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'ClockIcon' is not defined.",
        "line": 42,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 42,
        "endColumn": 25
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'FileTextIcon' is not defined.",
        "line": 44,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 44,
        "endColumn": 28
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'CheckCircleIcon' is not defined.",
        "line": 46,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 46,
        "endColumn": 31
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'DollarSignIcon' is not defined.",
        "line": 48,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 48,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'ClockIcon' is not defined.",
        "line": 52,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 52,
        "endColumn": 25
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'calculateChangeRate' is defined but never used.",
        "line": 57,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 57,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "calculateChangeRate" },
            "fix": { "range": [1298, 1479], "text": "" },
            "desc": "Remove unused variable 'calculateChangeRate'."
          }
        ]
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 86,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 109,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 172,
        "column": 31,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 172,
        "endColumn": 92,
        "fix": { "range": [6053, 6054], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "<script lang=\"ts\">\n  import {\n    salaryStatistics,\n    departmentSalaryStats,\n    loadPayslips,\n    error\n  } from '$lib/stores/salary/salary-store'\n  import { formatCurrency, formatPercentage } from '$lib/utils/format'\n  import { AlertCircleIcon } from '@lucide/svelte'\n\n  let mounted = $state(false)\n\n  $effect(async () => {\n    if (!mounted) {\n      mounted = true\n      await loadPayslips()\n    }\n  })\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ Î∞òÌôò\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'draft':\n        return 'text-gray-600 bg-gray-100'\n      case 'calculated':\n        return 'text-blue-600 bg-blue-100'\n      case 'approved':\n        return 'text-green-600 bg-green-100'\n      case 'paid':\n        return 'text-purple-600 bg-purple-100'\n      case 'cancelled':\n        return 'text-red-600 bg-red-100'\n      default:\n        return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏïÑÏù¥ÏΩò Î∞òÌôò\n  function getStatusIcon(status: string) {\n    switch (status) {\n      case 'draft':\n        return ClockIcon\n      case 'calculated':\n        return FileTextIcon\n      case 'approved':\n        return CheckCircleIcon\n      case 'paid':\n        return DollarSignIcon\n      case 'cancelled':\n        return AlertCircleIcon\n      default:\n        return ClockIcon\n    }\n  }\n\n  // Î≥ÄÌôîÏú® Í≥ÑÏÇ∞\n  function calculateChangeRate(current: number, previous: number): number {\n    if (previous === 0) return current > 0 ? 100 : 0\n    return ((current - previous) / previous) * 100\n  }\n</script>\n\n<div class=\"space-y-6\">\n  <!-- Î°úÎî© Î∞è ÏóêÎü¨ ÏÉÅÌÉú -->\n  {#if !mounted}\n    <div class=\"flex items-center justify-center py-12\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      <span class=\"ml-2 text-gray-600\">Í∏âÏó¨ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</span>\n    </div>\n  {:else if $error}\n    <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n      <div class=\"flex items-center\">\n        <AlertCircleIcon\n          size={20}\n          class=\"text-red-600 mr-2\" />\n        <span class=\"text-red-800\">{$error}</span>\n      </div>\n    </div>\n  {:else}\n    <!-- Î∂ÄÏÑúÎ≥Ñ Í∏âÏó¨ ÌÜµÍ≥Ñ -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <!-- Î∂ÄÏÑúÎ≥Ñ Í∏âÏó¨ ÌòÑÌô© -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Î∂ÄÏÑúÎ≥Ñ Í∏âÏó¨ ÌòÑÌô©</h3>\n        <div class=\"space-y-4\">\n          {#each Object.entries($departmentSalaryStats) as [department, stats]}\n            <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n              <div class=\"flex-1\">\n                <div class=\"flex items-center justify-between\">\n                  <h4 class=\"font-medium text-gray-900\">{department}</h4>\n                  <span class=\"text-sm text-gray-500\">{stats.employeeCount}Î™Ö</span>\n                </div>\n                <div class=\"mt-1 grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span class=\"text-gray-500\">ÌèâÍ∑† Í∏âÏó¨:</span>\n                    <span class=\"font-medium text-gray-900 ml-1\">\n                      {formatCurrency(stats.averageGrossSalary)}\n                    </span>\n                  </div>\n                  <div>\n                    <span class=\"text-gray-500\">Ï¥ù ÏßÄÍ∏âÏï°:</span>\n                    <span class=\"font-medium text-gray-900 ml-1\">\n                      {formatCurrency(stats.totalGrossSalary)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n\n      <!-- Í∏âÏó¨ Íµ¨ÏÑ± ÎπÑÏú® -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Í∏âÏó¨ Íµ¨ÏÑ± ÎπÑÏú®</h3>\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <span class=\"text-sm text-gray-600\">Ï¥ù ÏßÄÍ∏âÏï°</span>\n            <span class=\"font-medium text-gray-900\">\n              {formatCurrency($salaryStatistics.currentMonth.totalGrossSalary)}\n            </span>\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <span class=\"text-sm text-gray-600\">Ï¥ù Í≥µÏ†úÏï°</span>\n            <span class=\"font-medium text-red-600\">\n              {formatCurrency($salaryStatistics.currentMonth.totalDeductions)}\n            </span>\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <span class=\"text-sm text-gray-600\">Ïã§ÏßÄÍ∏âÏï°</span>\n            <span class=\"font-medium text-green-600\">\n              {formatCurrency($salaryStatistics.currentMonth.totalNetSalary)}\n            </span>\n          </div>\n\n          <!-- Í≥µÏ†úÏú® ÌëúÏãú -->\n          <div class=\"mt-4\">\n            <div class=\"flex items-center justify-between mb-2\">\n              <span class=\"text-sm text-gray-600\">Í≥µÏ†úÏú®</span>\n              <span class=\"text-sm font-medium text-gray-900\">\n                {formatPercentage(\n                  $salaryStatistics.currentMonth.totalGrossSalary > 0\n                    ? ($salaryStatistics.currentMonth.totalDeductions /\n                      $salaryStatistics.currentMonth.totalGrossSalary) *\n                      100\n                    : 0\n                )}\n              </span>\n            </div>\n            <div class=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                class=\"bg-red-500 h-2 rounded-full transition-all duration-300\"\n                style:width=\"{Math.min(\n                  $salaryStatistics.currentMonth.totalGrossSalary > 0\n                    ? ($salaryStatistics.currentMonth.totalDeductions /\n                      $salaryStatistics.currentMonth.totalGrossSalary) *\n                      100\n                    : 0,\n                  100\n                )}%\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- ÏµúÍ∑º Í∏âÏó¨ Ïù¥Î†• -->\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">ÏµúÍ∑º Í∏âÏó¨ Ïù¥Î†•</h3>\n        <button type=\"button\" class=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"> Ï†ÑÏ≤¥ Î≥¥Í∏∞ </button>\n      </div>\n      <div class=\"overflow-x-auto\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                Í∏∞Í∞Ñ\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                ÏßÅÏõê Ïàò\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                Ï¥ù ÏßÄÍ∏âÏï°\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                Ïã§ÏßÄÍ∏âÏï°\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                ÏÉÅÌÉú\n              </th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <!-- ÌòÑÏû¨ Í∏∞Í∞Ñ -->\n            <tr class=\"hover:bg-gray-50\">\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                {$salaryStatistics.currentPeriod}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {$salaryStatistics.currentMonth.totalEmployees}Î™Ö\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {formatCurrency($salaryStatistics.currentMonth.totalGrossSalary)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {formatCurrency($salaryStatistics.currentMonth.totalNetSalary)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <span\n                  class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {getStatusColor(\n                    $salaryStatistics.currentMonth.status\n                  )}\"\n                >\n                  {#if $salaryStatistics.currentMonth.status === 'draft'}\n                    Ï¥àÏïà\n                  {:else if $salaryStatistics.currentMonth.status === 'calculated'}\n                    Í≥ÑÏÇ∞ ÏôÑÎ£å\n                  {:else if $salaryStatistics.currentMonth.status === 'approved'}\n                    ÏäπÏù∏ ÏôÑÎ£å\n                  {:else if $salaryStatistics.currentMonth.status === 'paid'}\n                    ÏßÄÍ∏â ÏôÑÎ£å\n                  {:else if $salaryStatistics.currentMonth.status === 'cancelled'}\n                    Ï∑®ÏÜåÎê®\n                  {:else}\n                    Ïïå Ïàò ÏóÜÏùå\n                  {/if}\n                </span>\n              </td>\n            </tr>\n            <!-- Ïù¥Ï†Ñ Í∏∞Í∞Ñ -->\n            <tr class=\"hover:bg-gray-50\">\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                {$salaryStatistics.previousPeriod}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {$salaryStatistics.previousMonth.totalEmployees}Î™Ö\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {formatCurrency($salaryStatistics.previousMonth.totalGrossSalary)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {formatCurrency($salaryStatistics.previousMonth.totalNetSalary)}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <span\n                  class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {getStatusColor(\n                    $salaryStatistics.previousMonth.status\n                  )}\"\n                >\n                  {#if $salaryStatistics.previousMonth.status === 'draft'}\n                    Ï¥àÏïà\n                  {:else if $salaryStatistics.previousMonth.status === 'calculated'}\n                    Í≥ÑÏÇ∞ ÏôÑÎ£å\n                  {:else if $salaryStatistics.previousMonth.status === 'approved'}\n                    ÏäπÏù∏ ÏôÑÎ£å\n                  {:else if $salaryStatistics.previousMonth.status === 'paid'}\n                    ÏßÄÍ∏â ÏôÑÎ£å\n                  {:else if $salaryStatistics.previousMonth.status === 'cancelled'}\n                    Ï∑®ÏÜåÎê®\n                  {:else}\n                    Ïïå Ïàò ÏóÜÏùå\n                  {/if}\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  {/if}\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/salary/SalaryHistory.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 334,
        "column": 52
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import { payslips, isLoading, error, loadPayslips } from '$lib/stores/salary/salary-store'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    FilterIcon,\n    CalendarIcon,\n    TrendingUpIcon,\n    TrendingDownIcon,\n    MinusIcon,\n    UserIcon,\n    ClockIcon\n  } from '@lucide/svelte'\n\n  let mounted = $state(false)\n  let showFilters = $state(false)\n  let selectedEmployee = $state('')\n  let selectedDepartment = $state('')\n  let selectedContractType = $state('')\n  let selectedStatus = $state('')\n\n  // ÏßÅÏõê Î™©Î°ù\n  let employees = $state<any[]>([])\n\n  // ÏõîÎ≥Ñ ÏòµÏÖò ÎèôÏ†Å ÏÉùÏÑ± (ÏµúÍ∑º 12Í∞úÏõî)\n  function generateMonthOptions() {\n    const options = []\n    const now = new Date()\n\n    for (let i = 0; i < 12; i++) {\n      const date = new Date(now.getFullYear(), now.getMonth() - i)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const period = `${year}-${month}`\n      const label = `${year}ÎÖÑ ${month}Ïõî`\n      options.push({ value: period, label })\n    }\n\n    return options\n  }\n\n  const monthOptions = generateMonthOptions()\n\n  $effect(async () => {\n    if (!mounted) {\n      mounted = true\n      await loadPayslips() // Î™®Îì† Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n      await loadEmployees()\n    }\n  })\n\n  // ÏßÅÏõê Î™©Î°ù Î°úÎìú\n  async function loadEmployees() {\n    try {\n      const response = await fetch('/api/employees')\n      const result = await response.json()\n      if (result.success) {\n        employees = [\n          { id: '', name: 'Ï†ÑÏ≤¥ ÏßÅÏõê', department: '' },\n          ...result.data.map((emp: any) => ({\n            id: emp.id,\n            name: `${emp.last_name}${emp.first_name} (${emp.position})`,\n            department: emp.department || 'Î∂ÄÏÑúÏóÜÏùå',\n            position: emp.position\n          }))\n        ]\n      }\n    } catch (error) {}\n  }\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Îç∞Ïù¥ÌÑ∞ Î™©Î°ù (Î°úÏª¨ ÌïÑÌÑ∞)\n  const localFilteredPayslips = $derived(() => {\n    let filtered = $payslips\n\n    // ÏßÅÏõê ÌïÑÌÑ∞\n    if (selectedEmployee) {\n      filtered = filtered.filter(payroll => payroll.employeeId === selectedEmployee)\n    }\n\n    // Î∂ÄÏÑú ÌïÑÌÑ∞\n    if (selectedDepartment) {\n      filtered = filtered.filter(payroll => payroll.department === selectedDepartment)\n    }\n\n    // ÏÉÅÌÉú ÌïÑÌÑ∞\n    if (selectedStatus) {\n      filtered = filtered.filter(payroll => payroll.status === selectedStatus)\n    }\n\n    return filtered\n  })\n\n  // ÏßÅÏõêÎ≥Ñ Í∏âÏó¨ Ïù¥Î†• Í∑∏Î£πÌôî\n  const salaryHistoryByEmployee = $derived(() => {\n    const historyMap: Record<string, any[]> = {}\n\n    localFilteredPayslips.forEach(payslip => {\n      if (!historyMap[payslip.employeeId]) {\n        historyMap[payslip.employeeId] = []\n      }\n      historyMap[payslip.employeeId].push(payslip)\n    })\n\n    // Í∞Å ÏßÅÏõêÎ≥ÑÎ°ú Í∏âÏó¨Î•º ÏßÄÍ∏âÏùº Í∏∞Ï§ÄÏúºÎ°ú Ï†ïÎ†¨ (ÏµúÏã†Ïàú)\n    Object.keys(historyMap).forEach(employeeId => {\n      historyMap[employeeId].sort(\n        (a, b) => new Date(b.payDate).getTime() - new Date(a.payDate).getTime()\n      )\n    })\n\n    return historyMap\n  })\n\n  // ÏÑ†ÌÉùÎêú ÏßÅÏõêÏùò Í∏âÏó¨ Ïù¥Î†•\n  const selectedEmployeeHistory = $derived(() => {\n    if (!selectedEmployee) {\n      // ÏßÅÏõêÏù¥ ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏïòÏúºÎ©¥ Î™®Îì† Í∏âÏó¨ Ïù¥Î†•ÏùÑ ÌèâÎ©¥ÌôîÌïòÏó¨ Î∞òÌôò\n      const result = localFilteredPayrolls.sort(\n        (a, b) => new Date(b.payDate).getTime() - new Date(a.payDate).getTime()\n      )\n      return result\n    }\n    const result = salaryHistoryByEmployee[selectedEmployee] || []\n    return result\n  })\n\n  // ÌïÑÌÑ∞ Ï¥àÍ∏∞Ìôî\n  function clearFilters() {\n    selectedEmployee = ''\n    selectedDepartment = ''\n    selectedContractType = ''\n    selectedStatus = ''\n  }\n\n  // Í∏âÏó¨ Î≥ÄÌôî Í≥ÑÏÇ∞\n  function calculateSalaryChange(\n    payslips: any[],\n    index: number\n  ): { change: number; percentage: number; direction: 'up' | 'down' | 'same' } {\n    if (index === 0) {\n      return { change: 0, percentage: 0, direction: 'same' }\n    }\n\n    const currentSalary = parseFloat(String(payslips[index].netSalary))\n    const previousSalary = parseFloat(String(payslips[index - 1].netSalary))\n    const change = currentSalary - previousSalary\n    const percentage = previousSalary > 0 ? (change / previousSalary) * 100 : 0\n\n    return {\n      change,\n      percentage: Math.abs(percentage),\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'same'\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'calculated':\n        return 'bg-blue-100 text-blue-800'\n      case 'approved':\n        return 'bg-green-100 text-green-800'\n      case 'paid':\n        return 'bg-emerald-100 text-emerald-800'\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800'\n      case 'error':\n        return 'bg-red-100 text-red-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  // ÏÉÅÌÉú ÌëúÏãúÎ™Ö\n  function getStatusLabel(status: string): string {\n    switch (status) {\n      case 'calculated':\n        return 'Í≥ÑÏÇ∞ÏôÑÎ£å'\n      case 'approved':\n        return 'ÏäπÏù∏ÏôÑÎ£å'\n      case 'paid':\n        return 'ÏßÄÍ∏âÏôÑÎ£å'\n      case 'pending':\n        return 'ÎåÄÍ∏∞Ï§ë'\n      case 'error':\n        return 'Ïò§Î•ò'\n      default:\n        return status\n    }\n  }\n\n  // ÏßÅÏõê ÏÑ†ÌÉù\n  function selectEmployee(employeeId: string) {\n    selectedEmployee = employeeId\n  }\n\n  // ÌïÑÌÑ∞ Ï†ÅÏö©\n  function applyFilter() {\n  // ÌïÑÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ ÏûêÎèôÏúºÎ°ú Î∞òÏòÅÎê® (reactive)\n  }\n</script>\n\n<div class=\"space-y-6\">\n  <!-- Ìó§Îçî Î∞è ÌïÑÌÑ∞ -->\n  <ThemeCard class=\"p-6\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <ThemeSectionHeader title=\"Í∏âÏó¨ Ïù¥Î†• Ï∂îÏ†Å\" />\n      <div class=\"flex items-center space-x-3\">\n        <ThemeButton\n          variant=\"outline\"\n          size=\"sm\"\n          onclick={() => (showFilters = !showFilters)}>\n          <FilterIcon\n            size={16}\n            class=\"mr-2\" />\n          ÌïÑÌÑ∞\n        </ThemeButton>\n      </div>\n    </div>\n\n    <!-- ÏßÅÏõê ÏÑ†ÌÉù -->\n    <div class=\"mb-4\">\n      <label class=\"block text-sm font-medium text-gray-700 mb-2\">ÏßÅÏõê ÏÑ†ÌÉù</label>\n      <div class=\"flex flex-wrap gap-2\">\n        {#each employees as employee, i (i)}\n          <button type=\"button\"\n            onclick={() => selectEmployee(employee.id)}\n            class=\"px-4 py-2 rounded-lg border transition-colors {selectedEmployee === employee.id\n              ? 'bg-blue-100 border-blue-500 text-blue-700'\n              : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'}\"\n          >\n            {employee.name}\n          </button>\n        {/each}\n      </div>\n    </div>\n\n    <!-- ÌïÑÌÑ∞ ÏòÅÏó≠ -->\n    {#if showFilters}\n      <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 p-4 bg-gray-50 rounded-lg\"\n      >\n        <div>\n          <label\n            for=\"history-department\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >Î∂ÄÏÑú</label\n          >\n          <select\n            id=\"history-department\"\n            bind:value={selectedDepartment}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Ï†ÑÏ≤¥</option>\n            <option value=\"ÎåÄÌëú\">ÎåÄÌëú</option>\n            <option value=\"Ïó∞Íµ¨ÏÜå\">Ïó∞Íµ¨ÏÜå</option>\n            <option value=\"Ï†ÑÎûµÍ∏∞ÌöçÏã§\">Ï†ÑÎûµÍ∏∞ÌöçÏã§</option>\n            <option value=\"Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ\">Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ</option>\n            <option value=\"GRITÌåÄ\">GRITÌåÄ</option>\n            <option value=\"PSRÌåÄ\">PSRÌåÄ</option>\n            <option value=\"Í∞úÎ∞úÌåÄ\">Í∞úÎ∞úÌåÄ</option>\n            <option value=\"Í≤ΩÏòÅÏßÄÏõêÌåÄ\">Í≤ΩÏòÅÏßÄÏõêÌåÄ</option>\n            <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n          </select>\n        </div>\n        <div>\n          <label\n            for=\"history-period\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >Í∏âÏó¨ Í∏∞Í∞Ñ</label\n          >\n          <select\n            id=\"history-period\"\n            bind:value={selectedContractType}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Ï†ÑÏ≤¥</option>\n            {#each monthOptions as option, i (i)}\n              <option value={option.value}>{option.label}</option>\n            {/each}\n          </select>\n        </div>\n        <div>\n          <label\n            for=\"history-status\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏÉÅÌÉú</label\n          >\n          <select\n            id=\"history-status\"\n            bind:value={selectedStatus}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Ï†ÑÏ≤¥</option>\n            <option value=\"calculated\">Í≥ÑÏÇ∞ÏôÑÎ£å</option>\n            <option value=\"approved\">ÏäπÏù∏ÏôÑÎ£å</option>\n            <option value=\"paid\">ÏßÄÍ∏âÏôÑÎ£å</option>\n            <option value=\"pending\">ÎåÄÍ∏∞Ï§ë</option>\n          </select>\n        </div>\n        <div class=\"flex items-end space-x-2\">\n          <ThemeButton\n            variant=\"outline\"\n            size=\"sm\"\n            onclick={clearFilters}>Ï¥àÍ∏∞Ìôî</ThemeButton>\n        </div>\n      </div>\n    {/if}\n  </ThemeCard>\n\n  <!-- Í∏âÏó¨ Ïù¥Î†• Î™©Î°ù -->\n  {#if $isLoading}\n    <div class=\"flex items-center justify-center py-12\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      <span class=\"ml-2 text-gray-600\">Î°úÎî© Ï§ë...</span>\n    </div>\n  {:else if $error}\n    <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n      <span class=\"text-red-800\">{$error}</span>\n    </div>\n  {:else if selectedEmployeeHistory.length === 0}\n    <div class=\"text-center py-12\">\n      <ClockIcon\n        size={48}\n        class=\"mx-auto text-gray-400 mb-4\" />\n      <p class=\"text-gray-500\">\n        {selectedEmployee ? 'ÏÑ†ÌÉùÌïú ÏßÅÏõêÏùò Í∏âÏó¨ Ïù¥Î†•Ïù¥ ÏóÜÏäµÎãàÎã§.' : 'Í∏âÏó¨ Ïù¥Î†•Ïù¥ ÏóÜÏäµÎãàÎã§.'}\n      </p>\n    </div>\n  {:else}\n    <!-- ÏÑ†ÌÉùÎêú ÏßÅÏõêÏùò Í∏âÏó¨ Ïù¥Î†• -->\n    {#each selectedEmployeeHistory as payroll, index, i (i)}\n      <ThemeCard class=\"p-6\">\n        <div class=\"flex items-start justify-between\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center space-x-4 mb-4\">\n              <div class=\"flex items-center space-x-2\">\n                <CalendarIcon\n                  size={20}\n                  class=\"text-gray-400\" />\n                <span class=\"text-lg font-semibold text-gray-900\">\n                  {formatDate(payroll.payDate)} ÏßÄÍ∏âÎ∂Ñ\n                </span>\n              </div>\n              {#if !selectedEmployee}\n                <div class=\"flex items-center space-x-2\">\n                  <UserIcon\n                    size={16}\n                    class=\"text-gray-400\" />\n                  <span class=\"text-sm text-gray-600\"\n                  >{payroll.employeeName} ({payroll.department})</span\n                  >\n                </div>\n              {/if}\n              <ThemeBadge class={getStatusColor(payroll.status)}>\n                {getStatusLabel(payroll.status)}\n              </ThemeBadge>\n            </div>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <div class=\"space-y-2\">\n                <div class=\"text-sm text-gray-500\">Í∏∞Î≥∏Í∏â</div>\n                <div class=\"text-xl font-bold text-gray-900\">\n                  {formatCurrency(payroll.baseSalary)}\n                </div>\n              </div>\n              <div class=\"space-y-2\">\n                <div class=\"text-sm text-gray-500\">Ï¥ù ÏßÄÍ∏âÏï°</div>\n                <div class=\"text-xl font-semibold text-gray-900\">\n                  {formatCurrency(payroll.grossSalary)}\n                </div>\n              </div>\n              <div class=\"space-y-2\">\n                <div class=\"text-sm text-gray-500\">Ï¥ù Í≥µÏ†úÏï°</div>\n                <div class=\"text-lg font-semibold text-red-600\">\n                  {formatCurrency(payroll.totalDeductions)}\n                </div>\n              </div>\n              <div class=\"space-y-2\">\n                <div class=\"text-sm text-gray-500\">Ïã§ÏßÄÍ∏âÏï°</div>\n                <div class=\"text-2xl font-bold text-green-600\">\n                  {formatCurrency(payroll.netSalary)}\n                </div>\n              </div>\n            </div>\n\n            <!-- Í∏âÏó¨ Î≥ÄÌôî ÌëúÏãú -->\n            {#if index > 0}\n              {@const change = calculateSalaryChange(selectedEmployeeHistory, index)}\n              <div class=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n                <div class=\"text-sm text-gray-500 mb-2\">Ïù¥Ï†Ñ Í∏âÏó¨ ÎåÄÎπÑ Î≥ÄÌôî</div>\n                <div class=\"flex items-center space-x-2\">\n                  {#if change.direction === 'up'}\n                    <TrendingUpIcon\n                      size={20}\n                      class=\"text-green-500\" />\n                    <span class=\"text-green-600 font-semibold\">\n                      +{formatCurrency(change.change)} (+{change.percentage.toFixed(1)}%)\n                    </span>\n                  {:else if change.direction === 'down'}\n                    <TrendingDownIcon\n                      size={20}\n                      class=\"text-red-500\" />\n                    <span class=\"text-red-600 font-semibold\">\n                      -{formatCurrency(Math.abs(change.change))} (-{change.percentage.toFixed(1)}%)\n                    </span>\n                  {:else}\n                    <MinusIcon\n                      size={20}\n                      class=\"text-gray-500\" />\n                    <span class=\"text-gray-500 font-semibold\">Î≥ÄÌôî ÏóÜÏùå</span>\n                  {/if}\n                </div>\n              </div>\n            {/if}\n          </div>\n        </div>\n      </ThemeCard>\n    {/each}\n\n    <!-- Í∏âÏó¨ Î≥ÄÌôî ÏöîÏïΩ -->\n    {#if selectedEmployeeHistory.length > 1}\n      {@const firstContract = selectedEmployeeHistory[0]}\n      {@const lastContract = selectedEmployeeHistory[selectedEmployeeHistory.length - 1]}\n      {@const totalChange = lastContract.annualSalary - firstContract.annualSalary}\n      {@const totalPercentage =\n        firstContract.annualSalary > 0 ? (totalChange / firstContract.annualSalary) * 100 : 0}\n      <ThemeCard class=\"p-6\">\n        <ThemeSectionHeader title=\"Í∏âÏó¨ Î≥ÄÌôî ÏöîÏïΩ\" />\n        <div class=\"mt-4 space-y-4\">\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div class=\"text-sm text-gray-600\">Ï≤´ Í≥ÑÏïΩ Ïó∞Î¥â</div>\n              <div class=\"text-xl font-bold text-gray-900\">\n                {formatCurrency(firstContract.annualSalary)}\n              </div>\n              <div class=\"text-xs text-gray-500\">{formatDate(firstContract.startDate)}</div>\n            </div>\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div class=\"text-sm text-gray-600\">ÌòÑÏû¨ Ïó∞Î¥â</div>\n              <div class=\"text-xl font-bold text-gray-900\">\n                {formatCurrency(lastContract.annualSalary)}\n              </div>\n              <div class=\"text-xs text-gray-500\">{formatDate(lastContract.startDate)}</div>\n            </div>\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div class=\"text-sm text-gray-600\">Ï¥ù Î≥ÄÌôî</div>\n              <div class=\"flex items-center justify-center space-x-1\">\n                {#if totalChange > 0}\n                  <TrendingUpIcon\n                    size={20}\n                    class=\"text-green-500\" />\n                  <span class=\"text-xl font-bold text-green-600\">\n                    +{formatCurrency(totalChange)}\n                  </span>\n                {:else if totalChange < 0}\n                  <TrendingDownIcon\n                    size={20}\n                    class=\"text-red-500\" />\n                  <span class=\"text-xl font-bold text-red-600\">\n                    -{formatCurrency(Math.abs(totalChange))}\n                  </span>\n                {:else}\n                  <MinusIcon\n                    size={20}\n                    class=\"text-gray-500\" />\n                  <span class=\"text-xl font-bold text-gray-500\">Î≥ÄÌôî ÏóÜÏùå</span>\n                {/if}\n              </div>\n              <div class=\"text-xs text-gray-500\">\n                {totalChange > 0 ? '+' : ''}{totalPercentage.toFixed(1)}%\n              </div>\n            </div>\n          </div>\n        </div>\n      </ThemeCard>\n    {/if}\n  {/if}\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/Badge.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/BudgetModal.svelte",
    "messages": [
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 124,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 124,
        "endColumn": 32,
        "fix": { "range": [2953, 2954], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte'\n  import type { BudgetCategory, BudgetGoal } from '$lib/stores/budget'\n\n  const dispatch = createEventDispatcher()\n\n  let {\n    isOpen = $bindable(false),\n    budgetItem = null,\n    type = 'category' // 'category' | 'goal'\n  } = $props<{\n    isOpen?: boolean\n    budgetItem?: BudgetCategory | BudgetGoal | null\n    type?: 'category' | 'goal'\n  }>()\n\n  let formData = $state({\n    name: '',\n    amount: 0,\n    period: 'monthly' as 'monthly' | 'quarterly' | 'yearly',\n    deadline: '',\n    status: 'active' as 'active' | 'completed' | 'paused'\n  })\n\n  function initializeForm() {\n    if (budgetItem) {\n      if (type === 'category') {\n        const category = budgetItem as BudgetCategory\n        formData = {\n          name: category.name,\n          amount: category.amount,\n          period: category.period,\n          deadline: '',\n          status: 'active'\n        }\n      } else {\n        const goal = budgetItem as BudgetGoal\n        formData = {\n          name: goal.name,\n          amount: goal.targetAmount,\n          period: 'monthly',\n          deadline: goal.deadline,\n          status: goal.status\n        }\n      }\n    } else {\n      formData = {\n        name: '',\n        amount: 0,\n        period: 'monthly',\n        deadline: '',\n        status: 'active'\n      }\n    }\n  }\n\n  function handleSubmit() {\n    if (!formData.name || !formData.amount) {\n      alert('Î™®Îì† ÌïÑÏàò Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    if (type === 'goal' && !formData.deadline) {\n      alert('Î™©Ìëú ÎßàÍ∞êÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    const itemData = {\n      ...formData,\n      amount: Number(formData.amount),\n      id: budgetItem?.id || `${type}-${Date.now()}`,\n      createdAt: budgetItem?.createdAt || new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n\n    dispatch('submit', itemData)\n    closeModal()\n  }\n\n  function closeModal() {\n    isOpen = false\n    dispatch('close')\n  }\n\n  function resetForm() {\n    formData = {\n      name: '',\n      amount: 0,\n      period: 'monthly',\n      deadline: '',\n      status: 'active'\n    }\n  }\n\n  $effect(() => {\n    if (isOpen) {\n      initializeForm()\n    } else {\n      resetForm()\n    }\n  })\n</script>\n\n{#if isOpen}\n  <div class=\"fixed inset-0 z-50 flex items-center justify-center\">\n    <div\n      class=\"absolute inset-0 bg-black/40\"\n      role=\"button\"\n      tabindex=\"0\"\n      onclick={closeModal}\n      onkeydown={e => (e.key === 'Escape' || e.key === 'Enter' || e.key === ' ') && closeModal()}\n    ></div>\n    <div\n      class=\"relative w-full max-w-2xl mx-4 rounded-xl bg-white shadow-lg border border-gray-200\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <div class=\"p-6\">\n        <div class=\"flex justify-between items-center mb-6\">\n          <h2 class=\"text-xl font-semibold\">\n            {type === 'category' ? 'ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨' : 'ÏòàÏÇ∞ Î™©Ìëú'}\n            {budgetItem ? 'ÏàòÏ†ï' : 'Ï∂îÍ∞Ä'}\n          </h2>\n          <button type=\"button\"\n            onclick={closeModal}\n            class=\"text-gray-400 hover:text-gray-600\"\n            aria-label=\"Îã´Í∏∞\">\n            <svg\n              class=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleSubmit()\n          }}\n          class=\"space-y-4\"\n        >\n          <!-- Ïù¥Î¶Ñ -->\n          <div>\n            <label\n              for=\"name\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              {type === 'category' ? 'Ïπ¥ÌÖåÍ≥†Î¶¨Î™Ö' : 'Î™©ÌëúÎ™Ö'} *\n            </label>\n            <input\n              id=\"name\"\n              type=\"text\"\n              bind:value={formData.name}\n              placeholder={type === 'category' ? 'Ïòà: Ïù∏Í±¥ÎπÑ, ÎßàÏºÄÌåÖ' : 'Ïòà: Î∂ÑÍ∏∞ Îß§Ï∂ú Î™©Ìëú'}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            />\n          </div>\n\n          <!-- Í∏àÏï° -->\n          <div>\n            <label\n              for=\"amount\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\">\n              {type === 'category' ? 'ÏòàÏÇ∞ Í∏àÏï°' : 'Î™©Ìëú Í∏àÏï°'} *\n            </label>\n            <div class=\"relative\">\n              <span class=\"absolute left-3 top-2 text-gray-500\">‚Ç©</span>\n              <input\n                id=\"amount\"\n                type=\"number\"\n                bind:value={formData.amount}\n                placeholder=\"0\"\n                min=\"0\"\n                class=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n          </div>\n\n          {#if type === 'category'}\n            <!-- Í∏∞Í∞Ñ -->\n            <div>\n              <label\n                for=\"period\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                ÏòàÏÇ∞ Í∏∞Í∞Ñ\n              </label>\n              <select\n                id=\"period\"\n                bind:value={formData.period}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"monthly\">ÏõîÍ∞Ñ</option>\n                <option value=\"quarterly\">Î∂ÑÍ∏∞</option>\n                <option value=\"yearly\">Ïó∞Í∞Ñ</option>\n              </select>\n            </div>\n          {:else}\n            <!-- ÎßàÍ∞êÏùº -->\n            <div>\n              <label\n                for=\"deadline\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Î™©Ìëú ÎßàÍ∞êÏùº *\n              </label>\n              <input\n                id=\"deadline\"\n                type=\"date\"\n                bind:value={formData.deadline}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n\n            <!-- ÏÉÅÌÉú -->\n            <div>\n              <label\n                for=\"status\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\">\n                ÏÉÅÌÉú\n              </label>\n              <select\n                id=\"status\"\n                bind:value={formData.status}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"active\">ÏßÑÌñâÏ§ë</option>\n                <option value=\"completed\">ÏôÑÎ£å</option>\n                <option value=\"paused\">ÏùºÏãúÏ†ïÏßÄ</option>\n              </select>\n            </div>\n          {/if}\n\n          <!-- Î≤ÑÌäº -->\n          <div class=\"flex justify-end space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onclick={closeModal}\n              class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              {budgetItem ? 'ÏàòÏ†ï' : 'Ï∂îÍ∞Ä'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/Card.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/CompanyModal.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 24,
        "column": 15,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [504, 522], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'CustomEvent' is not defined.",
        "line": 24,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 24,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'CustomEvent' is not defined.",
        "line": 89,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 89,
        "endColumn": 33
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 98,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 98,
        "endColumn": 13
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 119,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 119,
        "endColumn": 30,
        "fix": { "range": [2866, 2867], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 278,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 278,
        "endColumn": 30,
        "fix": { "range": [7900, 7901], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 284,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 284,
        "endColumn": 30,
        "fix": { "range": [8123, 8124], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 5,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { XIcon } from '@lucide/svelte'\n\n  interface Company {\n    id?: string\n    name: string\n    establishment_date?: string\n    ceo_name?: string\n    business_type?: string\n    address?: string\n    phone?: string\n    fax?: string\n    email?: string\n    website?: string\n    registration_number?: string\n  }\n\n  interface Props {\n    open: boolean\n    company?: Company | null\n    loading?: boolean\n    onclose?: () => void\n    onsave?: (event: CustomEvent) => void\n  }\n\n  let { open, company = null, loading = false, onclose, onsave }: Props = $props()\n\n  let formData = $state<Company>({\n    name: '',\n    establishment_date: '',\n    ceo_name: '',\n    business_type: '',\n    address: '',\n    phone: '',\n    fax: '',\n    email: '',\n    website: '',\n    registration_number: ''\n  })\n\n  // ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä Î≥ÄÍ≤ΩÎê† Îïå Ìèº Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏\n  $effect(() => {\n    if (company) {\n      formData = {\n        name: company.name || '',\n        establishment_date: company.establishment_date || '',\n        ceo_name: company.ceo_name || '',\n        business_type: company.business_type || '',\n        address: company.address || '',\n        phone: company.phone || '',\n        fax: company.fax || '',\n        email: company.email || '',\n        website: company.website || '',\n        registration_number: company.registration_number || ''\n      }\n    } else {\n      formData = {\n        name: '',\n        establishment_date: '',\n        ceo_name: '',\n        business_type: '',\n        address: '',\n        phone: '',\n        fax: '',\n        email: '',\n        website: '',\n        registration_number: ''\n      }\n    }\n  })\n\n  // Ï†ÄÏû• Ìï®Ïàò\n  async function handleSave() {\n    try {\n      const response = await fetch('/api/company', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        // ÏÑ±Í≥µ Ïù¥Î≤§Ìä∏ Î∞úÏÉù\n        if (onsave) {\n          onsave(new CustomEvent('save', { detail: { company: result.data } }))\n        }\n        if (onclose) {\n          onclose()\n        }\n      } else {\n        alert('Ïò§Î•ò: ' + result.error)\n      }\n    } catch (error) {\n      logger.error('Error saving company:', error)\n      alert('ÌöåÏÇ¨ Ï†ïÎ≥¥ Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // Î™®Îã¨ Îã´Í∏∞\n  function handleClose() {\n    if (onclose) {\n      onclose()\n    }\n  }\n</script>\n\n{#if open}\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n    <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n      <!-- Ìó§Îçî -->\n      <div class=\"flex items-center justify-between p-6 border-b\">\n        <h2 class=\"text-xl font-semibold text-gray-900\">\n          {company ? 'ÌöåÏÇ¨ Ï†ïÎ≥¥ ÏàòÏ†ï' : 'ÌöåÏÇ¨ Ï†ïÎ≥¥ Îì±Î°ù'}\n        </h2>\n        <button type=\"button\"\n          onclick={handleClose}\n          class=\"text-gray-400 hover:text-gray-600 transition-colors\">\n          <XIcon class=\"w-6 h-6\" />\n        </button>\n      </div>\n\n      <!-- Ìèº -->\n      <div class=\"p-6 space-y-4\">\n        <!-- ÌöåÏÇ¨Î™Ö -->\n        <div>\n          <label\n            for=\"name\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">ÌöåÏÇ¨Î™Ö *</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            bind:value={formData.name}\n            required\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- ÏÑ§Î¶ΩÏùº -->\n        <div>\n          <label\n            for=\"establishment_date\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏÑ§Î¶ΩÏùº</label\n          >\n          <input\n            type=\"date\"\n            id=\"establishment_date\"\n            bind:value={formData.establishment_date}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <!-- ÎåÄÌëúÏù¥ÏÇ¨ -->\n        <div>\n          <label\n            for=\"ceo_name\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">ÎåÄÌëúÏù¥ÏÇ¨</label\n          >\n          <input\n            type=\"text\"\n            id=\"ceo_name\"\n            bind:value={formData.ceo_name}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ÎåÄÌëúÏù¥ÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- ÏóÖÏ¢Ö -->\n        <div>\n          <label\n            for=\"business_type\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏóÖÏ¢Ö</label\n          >\n          <input\n            type=\"text\"\n            id=\"business_type\"\n            bind:value={formData.business_type}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ÏóÖÏ¢ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- Ï£ºÏÜå -->\n        <div>\n          <label\n            for=\"address\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">Ï£ºÏÜå</label>\n          <textarea\n            id=\"address\"\n            bind:value={formData.address}\n            rows=\"2\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Ï£ºÏÜåÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          ></textarea>\n        </div>\n\n        <!-- Ï†ÑÌôîÎ≤àÌò∏ -->\n        <div>\n          <label\n            for=\"phone\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">Ï†ÑÌôîÎ≤àÌò∏</label>\n          <input\n            type=\"tel\"\n            id=\"phone\"\n            bind:value={formData.phone}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- Ìå©Ïä§Î≤àÌò∏ -->\n        <div>\n          <label\n            for=\"fax\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">Ìå©Ïä§Î≤àÌò∏</label>\n          <input\n            type=\"tel\"\n            id=\"fax\"\n            bind:value={formData.fax}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Ìå©Ïä§Î≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- Ïù¥Î©îÏùº -->\n        <div>\n          <label\n            for=\"email\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">Ïù¥Î©îÏùº</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            bind:value={formData.email}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- ÏõπÏÇ¨Ïù¥Ìä∏ -->\n        <div>\n          <label\n            for=\"website\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">ÏõπÏÇ¨Ïù¥Ìä∏</label>\n          <input\n            type=\"url\"\n            id=\"website\"\n            bind:value={formData.website}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ÏõπÏÇ¨Ïù¥Ìä∏ URLÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n\n        <!-- ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏ -->\n        <div>\n          <label\n            for=\"registration_number\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏</label\n          >\n          <input\n            type=\"text\"\n            id=\"registration_number\"\n            bind:value={formData.registration_number}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n          />\n        </div>\n      </div>\n\n      <!-- Ìë∏ÌÑ∞ -->\n      <div class=\"flex items-center justify-end gap-3 p-6 border-t bg-gray-50\">\n        <button type=\"button\"\n          onclick={handleClose}\n          class=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n        >\n          Ï∑®ÏÜå\n        </button>\n        <button type=\"button\"\n          onclick={handleSave}\n          disabled={loading || !formData.name}\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          {loading ? 'Ï†ÄÏû• Ï§ë...' : company ? 'ÏàòÏ†ï' : 'Îì±Î°ù'}\n        </button>\n      </div>\n    </div>\n  </div>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/DeleteConfirmModal.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/DepartmentModal.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/EmployeeModal.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 89,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 89,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 90,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 90,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 114,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 114,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 115,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 115,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'departmentPositionMapping' is assigned a value but never used.",
        "line": 136,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 136,
        "endColumn": 34
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 146,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 146,
        "endColumn": 11
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 361,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 363,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 385,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 387,
        "endColumn": 20
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { formatEmployeeName } from '$lib/utils/format'\n  import { splitKoreanName } from '$lib/utils/korean-name'\n  import { SaveIcon } from '@lucide/svelte'\n  import { createEventDispatcher } from 'svelte'\n  import ThemeModal from './ThemeModal.svelte'\n\n  interface Employee {\n    id?: string\n    employee_id?: string\n    first_name: string\n    last_name: string\n    email: string\n    phone: string\n    department: string\n    position: string\n    salary: number\n    hire_date: string\n    birth_date?: string\n    termination_date?: string\n    status: 'active' | 'inactive' | 'on-leave' | 'terminated'\n    employment_type: 'full-time' | 'part-time' | 'contract' | 'intern'\n    job_title_id?: string\n    job_title_name?: string\n    job_title_level?: number\n    job_title_category?: string\n  }\n\n  interface Props {\n    open: boolean\n    employee?: Employee | null\n    loading?: boolean\n    departments?: Array<{ id: string; name: string }>\n    positions?: Array<{ id: string; name: string; department: string }>\n    jobTitles?: Array<{ id: string; name: string; level: number; category: string }>\n  }\n\n  let {\n    open,\n    employee = null,\n    loading = false,\n    departments = [],\n    positions = [],\n    jobTitles = []\n  }: Props = $props()\n\n  const dispatch = createEventDispatcher<{\n    close: void\n    save: Employee\n  }>()\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let formData = $state<Employee>({\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone: '',\n    department: '',\n    position: '',\n    salary: 0,\n    hire_date: new Date().toISOString().split('T')[0],\n    birth_date: '',\n    termination_date: '',\n    status: 'active',\n    employment_type: 'full-time',\n    job_title_id: ''\n  })\n\n  // ÌïúÍµ≠ Ïù¥Î¶Ñ Î∂ÑÎ¶¨ Ìï®Ïàò (ÌÜµÌï©Îêú Ïú†Ìã∏Î¶¨Ìã∞ ÏÇ¨Ïö©)\n  // splitKoreanNameÏùÄ korean-name.tsÏóêÏÑú import\n\n  // Ï†ÑÏ≤¥ Ïù¥Î¶Ñ ÏûÖÎ†• ÌïÑÎìú\n  let fullName = $state('')\n\n  // Ï†ÑÏ≤¥ Ïù¥Î¶ÑÏù¥ Î≥ÄÍ≤ΩÎê† Îïå ÏÑ±/Ïù¥Î¶Ñ ÏûêÎèô Î∂ÑÎ¶¨\n  $effect(() => {\n    if (fullName && !employee?.id) {\n      // ÏÉà ÏßÅÏõê Ï∂îÍ∞Ä ÏãúÏóêÎßå ÏûêÎèô Î∂ÑÎ¶¨\n      const { surname, givenName } = splitKoreanName(fullName)\n      formData.last_name = surname\n      formData.first_name = givenName\n    }\n  })\n\n  // ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎê† Îïå Ìèº Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏\n  $effect(() => {\n    if (employee) {\n      logger.log('Employee data loaded:', employee)\n      logger.log('Available positions:', positions)\n\n      formData.first_name = String(employee.first_name || '')\n      formData.last_name = String(employee.last_name || '')\n      formData.email = String(employee.email || '')\n      formData.phone = String(employee.phone || '')\n      formData.department = String(employee.department || '')\n      formData.position = String(employee.position || '')\n      formData.salary = Number(employee.salary || 0)\n      formData.hire_date = employee.hire_date\n        ? new Date(employee.hire_date).toISOString().split('T')[0]\n        : new Date().toISOString().split('T')[0]\n      formData.birth_date = employee.birth_date\n        ? new Date(employee.birth_date).toISOString().split('T')[0]\n        : ''\n      formData.termination_date = employee.termination_date\n        ? new Date(employee.termination_date).toISOString().split('T')[0]\n        : ''\n      formData.status = employee.status || 'active'\n      formData.employment_type = employee.employment_type || 'full-time'\n      formData.job_title_id = employee.job_title_id || ''\n      // ÏàòÏ†ï Î™®ÎìúÏóêÏÑúÎäî Ï†ÑÏ≤¥ Ïù¥Î¶ÑÏùÑ Ï°∞Ìï©Ìï¥ÏÑú ÌëúÏãú\n      fullName = formatEmployeeName(employee)\n\n      logger.log('Form data set:', formData)\n      logger.log('Filtered positions:', filteredPositions())\n    } else {\n      // ÏÉà ÏßÅÏõê Ï∂îÍ∞Ä Ïãú Í∏∞Î≥∏Í∞íÏúºÎ°ú Î¶¨ÏÖã\n      formData.first_name = ''\n      formData.last_name = ''\n      formData.email = ''\n      formData.phone = ''\n      formData.department = ''\n      formData.position = ''\n      formData.salary = 0\n      formData.hire_date = new Date().toISOString().split('T')[0]\n      formData.birth_date = ''\n      formData.termination_date = ''\n      formData.status = 'active'\n      formData.employment_type = 'full-time'\n      formData.job_title_id = ''\n      fullName = ''\n    }\n  })\n\n  // Î∂ÄÏÑúÎ≥Ñ ÏßÅÍ∏â Îß§Ìïë\n  const departmentPositionMapping = {\n    Í∞úÎ∞úÌåÄ: 'Ïó∞Íµ¨Í∞úÎ∞ú',\n    PSRÌåÄ: 'Ïó∞Íµ¨Í∞úÎ∞ú',\n    GRITÌåÄ: 'ÎîîÏûêÏù∏',\n    Í≤ΩÏòÅÏßÄÏõêÌåÄ: 'ÌñâÏ†ï',\n    Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ: 'Ïó∞Íµ¨Í∞úÎ∞ú'\n  }\n\n  // Î™®Îì† ÏßÅÍ∏â ÌëúÏãú (ÏûÑÏãúÎ°ú ÌïÑÌÑ∞ÎßÅ Ï†úÍ±∞)\n  let filteredPositions = $derived(() => {\n    logger.log('All positions:', positions)\n    return positions\n  })\n\n  // ÏÉÅÌÉú ÏòµÏÖò\n  const statusOptions = [\n    { value: 'active', label: 'ÌôúÏÑ±' },\n    { value: 'inactive', label: 'ÎπÑÌôúÏÑ±' },\n    { value: 'on-leave', label: 'Ìú¥ÏßÅ' },\n    { value: 'terminated', label: 'Ìá¥ÏÇ¨' }\n  ]\n\n  // Í≥†Ïö© ÌòïÌÉú ÏòµÏÖò\n  const employmentTypeOptions = [\n    { value: 'full-time', label: 'Ï†ïÍ∑úÏßÅ' },\n    { value: 'part-time', label: 'Í≥ÑÏïΩÏßÅ' },\n    { value: 'contract', label: 'ÌîÑÎ¶¨ÎûúÏÑú' },\n    { value: 'intern', label: 'Ïù∏ÌÑ¥' }\n  ]\n\n  function handleSave() {\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (\n      !formData.first_name?.trim() ||\n      !formData.last_name?.trim() ||\n      !formData.email?.trim() ||\n      !formData.department?.trim() ||\n      !formData.position?.trim()\n    ) {\n      alert('ÏÑ±, Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, Î∂ÄÏÑú, ÏßÅÍ∏âÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.')\n      return\n    }\n\n    // Ïù¥Î¶Ñ Î∂ÑÎ¶¨ Í≤ÄÏ¶ù - ÏÑ±Í≥º Ïù¥Î¶ÑÏù¥ Î™ÖÌôïÌûà Î∂ÑÎ¶¨ÎêòÏñ¥Ïïº Ìï®\n    if (formData.first_name.trim().length === 0 || formData.last_name.trim().length === 0) {\n      alert('ÏÑ±Í≥º Ïù¥Î¶ÑÏùÄ Î∞òÎìúÏãú Î∂ÑÎ¶¨ÎêòÏñ¥ ÏûÖÎ†•ÎêòÏñ¥Ïïº Ìï©ÎãàÎã§.')\n      return\n    }\n\n    // Ïù¥Î©îÏùº ÌòïÏãù Í≤ÄÏ¶ù\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (!emailRegex.test(formData.email)) {\n      alert('Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùº ÌòïÏãùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // salaryÎ•º Ïà´ÏûêÎ°ú Î≥ÄÌôò\n    const dataToSave = {\n      ...formData,\n      salary: Number(formData.salary) || 0\n    }\n\n    // ÏàòÏ†ï Î™®ÎìúÏùº ÎïåÎäî idÎ•º Ìè¨Ìï®\n    if (employee?.id) {\n      dataToSave.id = employee.id\n    }\n\n    dispatch('save', dataToSave)\n  }\n\n  function handleClose() {\n    dispatch('close')\n  }\n\n  let isEdit = $derived(!!employee?.id)\n  let title = $derived(isEdit ? 'ÏßÅÏõê Ï†ïÎ≥¥ ÏàòÏ†ï' : 'ÏÉà ÏßÅÏõê Ï∂îÍ∞Ä')\n</script>\n\n<ThemeModal\n  {open}\n  size=\"lg\"\n  onclose={handleClose}>\n  <div class=\"p-6\">\n    <div class=\"mb-6\">\n      <h2\n        class=\"text-xl font-semibold\"\n        style:color=\"var(--color-text)\">{title}</h2>\n    </div>\n\n    <form\n      onsubmit={e => {\n        e.preventDefault()\n        handleSave()\n      }}\n      class=\"space-y-4\"\n    >\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <!-- Ï†ÑÏ≤¥ Ïù¥Î¶Ñ (ÏÉà ÏßÅÏõê Ï∂îÍ∞Ä ÏãúÏóêÎßå ÌëúÏãú) -->\n        {#if !employee?.id}\n          <div class=\"md:col-span-2\">\n            <label\n              for=\"full-name\"\n              class=\"block text-sm font-medium mb-2\"\n              style:color=\"var(--color-text)\">Ï†ÑÏ≤¥ Ïù¥Î¶Ñ *</label\n            >\n            <input\n              id=\"full-name\"\n              type=\"text\"\n              bind:value={fullName}\n              placeholder=\"Ïòà: ÍπÄÏ≤†Ïàò, John Smith\"\n              required\n              class=\"w-full px-3 py-2 border rounded-md text-sm\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n            />\n            <p\n              class=\"text-xs mt-1\"\n              style:color=\"var(--color-text-secondary)\">\n              ÌïúÍ∏Ä Ïù¥Î¶ÑÏùÄ Ï≤´ Í∏ÄÏûêÍ∞Ä ÏÑ±ÏúºÎ°ú ÏûêÎèô Î∂ÑÎ¶¨Îê©ÎãàÎã§.\n            </p>\n          </div>\n        {/if}\n\n        <!-- ÏÑ± -->\n        <div>\n          <label\n            for=\"last-name\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">ÏÑ± *</label\n          >\n          <input\n            id=\"last-name\"\n            type=\"text\"\n            bind:value={formData.last_name}\n            placeholder=\"ÏÑ±ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- Ïù¥Î¶Ñ -->\n        <div>\n          <label\n            for=\"first-name\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">Ïù¥Î¶Ñ *</label\n          >\n          <input\n            id=\"first-name\"\n            type=\"text\"\n            bind:value={formData.first_name}\n            placeholder=\"Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- Ïù¥Î©îÏùº -->\n        <div>\n          <label\n            for=\"email\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\"\n          >Ïù¥Î©îÏùº *</label\n          >\n          <input\n            id=\"email\"\n            type=\"email\"\n            bind:value={formData.email}\n            placeholder=\"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- Ï†ÑÌôîÎ≤àÌò∏ -->\n        <div>\n          <label\n            for=\"phone\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\"\n          >Ï†ÑÌôîÎ≤àÌò∏</label\n          >\n          <input\n            id=\"phone\"\n            type=\"tel\"\n            bind:value={formData.phone}\n            placeholder=\"Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- Î∂ÄÏÑú -->\n        <div>\n          <label\n            for=\"department\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">Î∂ÄÏÑú *</label\n          >\n          <select\n            id=\"department\"\n            bind:value={formData.department}\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          >\n            <option value=\"\">Î∂ÄÏÑúÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n            <option value=\"ÎåÄÌëú\">ÎåÄÌëú</option>\n            <option value=\"Ï†ÑÎûµÍ∏∞ÌöçÏã§\">Ï†ÑÎûµÍ∏∞ÌöçÏã§</option>\n            <option value=\"Ïó∞Íµ¨ÏÜå\">Ïó∞Íµ¨ÏÜå</option>\n            {#each departments.filter(d => !['ÎåÄÌëú', 'Ï†ÑÎûµÍ∏∞ÌöçÏã§', 'Ïó∞Íµ¨ÏÜå', 'Î∂ÄÏÑúÏóÜÏùå'].includes(d.name)) as dept}\n              <option value={dept.name}>{dept.name}</option>\n            {/each}\n            <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n          </select>\n        </div>\n\n        <!-- ÏßÅÍ∏â -->\n        <div>\n          <label\n            for=\"position\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">ÏßÅÍ∏â *</label\n          >\n          <select\n            id=\"position\"\n            bind:value={formData.position}\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          >\n            <option value=\"\">ÏßÅÍ∏âÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n            {#each filteredPositions() as pos}\n              <option value={pos.name}>{pos.name} ({pos.department})</option>\n            {/each}\n          </select>\n          <!-- ÎîîÎ≤ÑÍπÖ Ï†ïÎ≥¥ -->\n          {#if filteredPositions().length === 0}\n            <p class=\"text-xs text-red-500 mt-1\">\n              ÏßÅÍ∏â Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§. positions: {positions.length}Í∞ú\n            </p>\n          {:else}\n            <p class=\"text-xs text-green-500 mt-1\">ÏßÅÍ∏â {filteredPositions().length}Í∞ú Î°úÎìúÎê®</p>\n          {/if}\n        </div>\n\n        <!-- ÏßÅÏ±Ö (ÏÑ†ÌÉùÏÇ¨Ìï≠) -->\n        <div>\n          <label\n            for=\"job-title\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">ÏßÅÏ±Ö</label\n          >\n          <select\n            id=\"job-title\"\n            bind:value={formData.job_title_id}\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          >\n            <option value=\"\">ÏßÅÏ±ÖÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî (ÏÑ†ÌÉùÏÇ¨Ìï≠)</option>\n            {#each jobTitles as jobTitle, i (i)}\n              <option value={jobTitle.id}>{jobTitle.name} ({jobTitle.category})</option>\n            {/each}\n          </select>\n          <p\n            class=\"text-xs mt-1\"\n            style:color=\"var(--color-text-secondary)\">\n            ÏßÅÏ±ÖÏù¥ ÏûàÏúºÎ©¥ ÏßÅÍ∏â ÎåÄÏã† ÏßÅÏ±ÖÏúºÎ°ú ÌëúÏãúÎê©ÎãàÎã§.\n          </p>\n        </div>\n\n        <!-- Í∏âÏó¨ -->\n        <div>\n          <label\n            for=\"salary\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\"\n          >Í∏âÏó¨ *</label\n          >\n          <input\n            id=\"salary\"\n            type=\"number\"\n            bind:value={formData.salary}\n            placeholder=\"Í∏âÏó¨Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- ÏûÖÏÇ¨Ïùº -->\n        <div>\n          <label\n            for=\"hire-date\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">ÏûÖÏÇ¨Ïùº *</label\n          >\n          <input\n            id=\"hire-date\"\n            type=\"date\"\n            bind:value={formData.hire_date}\n            required\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- ÏÉùÏùº -->\n        <div>\n          <label\n            for=\"birth-date\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">ÏÉùÏùº</label\n          >\n          <input\n            id=\"birth-date\"\n            type=\"date\"\n            bind:value={formData.birth_date}\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- Ìá¥ÏÇ¨Ïùº -->\n        <div>\n          <label\n            for=\"termination-date\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">Ìá¥ÏÇ¨Ïùº</label\n          >\n          <input\n            id=\"termination-date\"\n            type=\"date\"\n            bind:value={formData.termination_date}\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          />\n        </div>\n\n        <!-- ÏÉÅÌÉú -->\n        <div>\n          <label\n            for=\"status\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\"\n          >ÏÉÅÌÉú</label\n          >\n          <select\n            id=\"status\"\n            bind:value={formData.status}\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          >\n            {#each statusOptions as option, i (i)}\n              <option value={option.value}>{option.label}</option>\n            {/each}\n          </select>\n        </div>\n\n        <!-- Í≥†Ïö© ÌòïÌÉú -->\n        <div>\n          <label\n            for=\"employment-type\"\n            class=\"block text-sm font-medium mb-2\"\n            style:color=\"var(--color-text)\">Í≥†Ïö© ÌòïÌÉú</label\n          >\n          <select\n            id=\"employment-type\"\n            bind:value={formData.employment_type}\n            class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            style:background=\"var(--color-surface)\"\n            style:border-color=\"var(--color-border)\"\n            style:color=\"var(--color-text)\"\n          >\n            {#each employmentTypeOptions as option, i (i)}\n              <option value={option.value}>{option.label}</option>\n            {/each}\n          </select>\n        </div>\n      </div>\n\n      <div\n        class=\"flex items-center justify-end gap-3 pt-6 border-t\"\n        style:border-color=\"var(--color-border)\"\n      >\n        <button\n          type=\"button\"\n          onclick={handleClose}\n          disabled={loading}\n          class=\"px-4 py-2 text-sm font-medium rounded-md border transition-colors\"\n          style:border-color=\"var(--color-border)\"\n          style:color=\"var(--color-text)\"\n          style:background=\"var(--color-surface)\"\n        >\n          Ï∑®ÏÜå\n        </button>\n        <button\n          type=\"submit\"\n          disabled={loading}\n          class=\"px-4 py-2 text-sm font-medium rounded-md text-white transition-colors flex items-center gap-2\"\n          style:background=\"var(--color-primary)\"\n        >\n          {#if loading}\n            <div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n            ></div>\n          {:else}\n            <SaveIcon size={16} />\n          {/if}\n          {isEdit ? 'ÏàòÏ†ï' : 'Ï∂îÍ∞Ä'}\n        </button>\n      </div>\n    </form>\n  </div>\n</ThemeModal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/Modal.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/OrganizationChart.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 49,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 49,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 68,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 68,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 89,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 89,
        "endColumn": 13
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 151,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 151,
        "endColumn": 28,
        "fix": { "range": [3612, 3613], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 158,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 158,
        "endColumn": 28,
        "fix": { "range": [3875, 3876], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 188,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 188,
        "endColumn": 28,
        "fix": { "range": [4865, 4866], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 198,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 242,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'execName' is defined but never used.",
        "line": 198,
        "column": 42,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 198,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "execName" },
            "fix": { "range": [5163, 5171], "text": "" },
            "desc": "Remove unused variable 'execName'."
          }
        ]
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 225,
        "column": 19,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 236,
        "endColumn": 26
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 5,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { DownloadIcon, PrinterIcon } from '@lucide/svelte'\n\n  interface Employee {\n    name: string\n    position: string\n    email: string\n    salary?: number\n    job_title?: string\n    isTeamLead?: boolean\n  }\n\n  interface Department {\n    name: string\n    position: string\n    type?: string\n    children: Employee[]\n  }\n\n  interface Executive {\n    name: string\n    position: string\n    email: string\n    children: Department[]\n  }\n\n  interface OrgStructure {\n    [key: string]: Executive\n  }\n\n  let orgData = $state<OrgStructure>({})\n  let loading = $state(true)\n  let error = $state('')\n  let showPrintView = $state(false)\n  let companyName = $state('VIA WorkStream')\n\n  // ÌöåÏÇ¨ Ï†ïÎ≥¥ Î°úÎìú\n  async function loadCompanyInfo() {\n    try {\n      const response = await fetch('/api/company')\n      const result = await response.json()\n\n      if (result.success && result.data) {\n        companyName = result.data.name || 'VIA WorkStream'\n      }\n    } catch (err) {\n      logger.error('Error loading company info:', err)\n    // Í∏∞Î≥∏Í∞í Ïú†ÏßÄ\n    }\n  }\n\n  // Ï°∞ÏßÅÎèÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  async function loadOrgData() {\n    try {\n      loading = true\n      const response = await fetch('/api/organization/chart')\n      const result = await response.json()\n\n      if (result.success) {\n        orgData = result.data\n      } else {\n        error = result.error || 'Ï°∞ÏßÅÎèÑ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.'\n      }\n    } catch (err) {\n      error = 'Ï°∞ÏßÅÎèÑ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      logger.error('Error loading org data:', err)\n    } finally {\n      loading = false\n    }\n  }\n\n  // CSV Îã§Ïö¥Î°úÎìú\n  async function downloadCSV() {\n    try {\n      const response = await fetch('/api/organization/chart/download')\n      const blob = await response.blob()\n\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = 'organization_chart.csv'\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n    } catch (err) {\n      logger.error('Error downloading CSV:', err)\n      alert('Îã§Ïö¥Î°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // ÌîÑÎ¶∞Ìä∏ Î∑∞ ÌÜ†Í∏Ä\n  function togglePrintView() {\n    showPrintView = !showPrintView\n    if (showPrintView) {\n      document.body.classList.add('print-mode')\n      setTimeout(() => {\n        window.print()\n        setTimeout(() => {\n          document.body.classList.remove('print-mode')\n          showPrintView = false\n        }, 1000)\n      }, 100)\n    }\n  }\n\n  // ÌåÄ Î¶¨ÎçîÏù∏ÏßÄ ÌôïÏù∏\n  function isTeamLead(employee: Employee): boolean {\n    return (\n      employee.job_title === 'Team Lead' ||\n      employee.position === 'Team Lead' ||\n      (employee.isTeamLead ?? false)\n    )\n  }\n\n  // ÏßÅÏõêÏùÑ Ï†ïÎ†¨ (ÌåÄ Î¶¨Îçî Ïö∞ÏÑ†) - ÏõêÎ≥∏ Î∞∞Ïó¥ÏùÑ Î≥ÄÍ≤ΩÌïòÏßÄ ÏïäÏùå\n  function sortEmployees(employees: Employee[]): Employee[] {\n    return [...employees].sort((a, b) => {\n      const aIsTeamLead = isTeamLead(a)\n      const bIsTeamLead = isTeamLead(b)\n\n      if (aIsTeamLead && !bIsTeamLead) return -1\n      if (!aIsTeamLead && bIsTeamLead) return 1\n\n      return a.name.localeCompare(b.name)\n    })\n  }\n\n  onMount(() => {\n    loadCompanyInfo()\n    loadOrgData()\n  })\n</script>\n\n<div class=\"org-chart-print\">\n  <!-- Ìó§Îçî -->\n  <div class=\"flex items-center justify-between print-hidden mb-4\">\n    <div>\n      <h2\n        class=\"text-xl font-bold\"\n        style:color=\"var(--color-text)\">Ï°∞ÏßÅÎèÑ</h2>\n      <p\n        class=\"text-xs mt-1\"\n        style:color=\"var(--color-text-secondary)\">\n        {companyName} Ï°∞ÏßÅ Íµ¨Ï°∞\n      </p>\n    </div>\n    <div class=\"flex gap-2\">\n      <button type=\"button\"\n        onclick={togglePrintView}\n        class=\"flex items-center gap-1 px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors\"\n      >\n        <PrinterIcon class=\"w-3 h-3\" />\n        ÌîÑÎ¶∞Ìä∏\n      </button>\n      <button type=\"button\"\n        onclick={downloadCSV}\n        class=\"flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\"\n      >\n        <DownloadIcon class=\"w-3 h-3\" />\n        CSV\n      </button>\n    </div>\n  </div>\n\n  <!-- ÌîÑÎ¶∞Ìä∏Ïö© Ìó§Îçî -->\n  <div class=\"print-visible hidden text-center mb-2\">\n    <h1 class=\"text-lg font-bold text-black mb-1\">{companyName} Ï°∞ÏßÅÎèÑ</h1>\n    <p class=\"text-xs text-gray-600\">ÏÉùÏÑ±Ïùº: {new Date().toLocaleDateString('ko-KR')}</p>\n  </div>\n\n  <!-- Î°úÎî© ÏÉÅÌÉú -->\n  {#if loading}\n    <div class=\"flex items-center justify-center py-8\">\n      <div class=\"text-center\">\n        <div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2\"\n        ></div>\n        <p\n          class=\"text-xs\"\n          style:color=\"var(--color-text-secondary)\">Î°úÎî© Ï§ë...</p>\n      </div>\n    </div>\n  {:else if error}\n    <div class=\"text-center py-8\">\n      <p class=\"text-red-600 text-sm mb-2\">{error}</p>\n      <button type=\"button\"\n        onclick={loadOrgData}\n        class=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\"\n      >\n        Îã§Ïãú ÏãúÎèÑ\n      </button>\n    </div>\n  {:else}\n    <!-- Îã®ÏàúÌïú Ï°∞ÏßÅÎèÑ ÌëúÏãú -->\n    <div class=\"space-y-3\">\n      {#each Object.entries(orgData) as [execName, executive]}\n        <div class=\"border border-gray-300 bg-white\">\n          <!-- ÏûÑÏõê Ìó§Îçî -->\n          <div class=\"bg-gray-100 border-b border-gray-300 px-3 py-2\">\n            <div class=\"flex items-center gap-2\">\n              <div class=\"w-4 h-4 bg-blue-600 rounded-sm flex items-center justify-center\">\n                <span class=\"text-white text-xs\">‚ñ†</span>\n              </div>\n              <span class=\"font-semibold text-sm text-gray-800\">{executive.name}</span>\n              <span class=\"text-xs text-gray-600\">({executive.position})</span>\n            </div>\n          </div>\n\n          <!-- Î∂ÄÏÑúÎì§ -->\n          <div class=\"p-2\">\n            {#each executive.children as department, i (i)}\n              <div class=\"mb-2 last:mb-0\">\n                <!-- Î∂ÄÏÑúÎ™Ö -->\n                <div class=\"flex items-center gap-2 mb-1\">\n                  <div class=\"w-3 h-3 bg-green-600 rounded-sm flex items-center justify-center\">\n                    <span class=\"text-white text-xs\">‚óè</span>\n                  </div>\n                  <span class=\"font-medium text-sm text-gray-700\">{department.name}</span>\n                </div>\n\n                <!-- ÏßÅÏõêÎì§ -->\n                <div class=\"ml-5 space-y-1\">\n                  {#each sortEmployees(department.children) as employee}\n                    <div class=\"flex items-center gap-2 text-xs\">\n                      <div class=\"w-2 h-2 bg-gray-400 rounded-full\"></div>\n                      <span class=\"text-gray-800\">{employee.name}</span>\n                      <span class=\"text-gray-500\">({employee.position})</span>\n                      {#if isTeamLead(employee)}\n                        <span class=\"bg-yellow-200 text-yellow-800 px-1 py-0.5 rounded text-xs\"\n                        >TL</span\n                        >\n                      {/if}\n                    </div>\n                  {/each}\n                </div>\n              </div>\n            {/each}\n          </div>\n        </div>\n      {/each}\n    </div>\n  {/if}\n</div>\n\n<!-- ÌîÑÎ¶∞Ìä∏ Ïä§ÌÉÄÏùº -->\n<style>\n  /* ÌîÑÎ¶∞Ìä∏ Î™®ÎìúÏóêÏÑú Ï†ÑÏ≤¥ ÌéòÏù¥ÏßÄ Ïà®Í∏∞Í∏∞ */\n  :global(body.print-mode *) {\n    visibility: hidden;\n  }\n\n  :global(body.print-mode .org-chart-print),\n  :global(body.print-mode .org-chart-print *) {\n    visibility: visible;\n  }\n\n  :global(body.print-mode .org-chart-print) {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: white;\n    z-index: 9999;\n  }\n\n  @media print {\n    @page {\n      size: A4 portrait;\n      margin: 10mm;\n    }\n\n    * {\n      visibility: hidden;\n    }\n\n    .org-chart-print,\n    .org-chart-print * {\n      visibility: visible;\n    }\n\n    .org-chart-print {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      background: white !important;\n      color: black !important;\n      font-family: 'Arial', 'Helvetica', sans-serif !important;\n      margin: 0;\n      padding: 5px;\n      box-sizing: border-box;\n    }\n\n    .print-hidden {\n      display: none !important;\n    }\n\n    .print-visible {\n      display: block !important;\n    }\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/PositionModal.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/Progress.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-optimized-style-attribute",
        "severity": 1,
        "message": "It cannot be optimized because too complex.",
        "line": 15,
        "column": 11,
        "nodeType": "SvelteAttribute",
        "messageId": "complex",
        "endLine": 15,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  let { value = 0, class: className = '' } = $props<{ value?: number; class?: string }>()\n  const clamped = Math.max(0, Math.min(100, value))\n</script>\n\n<div\n  class={`h-2 w-full rounded-full bg-gray-200 overflow-hidden ${className}`}\n  role=\"progressbar\"\n  aria-valuemin=\"0\"\n  aria-valuemax=\"100\"\n  aria-valuenow={clamped}\n>\n  <div\n    class=\"h-full bg-primary transition-all duration-300\"\n    style={`width: ${clamped}%`}></div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/SimpleChart.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 34,
        "column": 32
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  interface Props {\n    data?: Array<{ label: string; value: number; color?: string }>\n    type?: 'bar' | 'pie'\n    height?: number\n  }\n\n  let { data = [], type = 'bar', height = 200 }: Props = $props()\n\n  const maxValue = $derived(Math.max(...data.map(d => d.value)))\n  const totalValue = $derived(data.reduce((sum, d) => sum + d.value, 0))\n\n  const defaultColors = [\n    '#3B82F6',\n    '#EF4444',\n    '#10B981',\n    '#F59E0B',\n    '#8B5CF6',\n    '#EC4899',\n    '#06B6D4',\n    '#84CC16'\n  ]\n\n  function getColor(index: number, customColor?: string) {\n    return customColor || defaultColors[index % defaultColors.length]\n  }\n</script>\n\n{#if type === 'bar'}\n  <div\n    class=\"chart-container\"\n    style:height=\"{height}px\">\n    <div class=\"flex items-end justify-between h-full space-x-2\">\n      {#each data as item, index, i (i)}\n        <div class=\"flex flex-col items-center flex-1\">\n          <div\n            class=\"w-full bg-gray-200 rounded-t\"\n            style:height=\"{height - 40}px\">\n            <div\n              class=\"w-full rounded-t transition-all duration-500\"\n              style:height=\"{maxValue > 0 ? (item.value / maxValue) * (height - 40) : 0}px\"\n              style:background-color={getColor(index, item.color)}\n            ></div>\n          </div>\n          <div class=\"text-xs text-gray-600 mt-2 text-center\">\n            <div class=\"font-medium\">{item.label}</div>\n            <div class=\"text-gray-500\">{item.value.toLocaleString()}</div>\n          </div>\n        </div>\n      {/each}\n    </div>\n  </div>\n{:else if type === 'pie'}\n  <div\n    class=\"chart-container flex items-center justify-center\"\n    style:height=\"{height}px\">\n    <div class=\"relative w-32 h-32\">\n      <svg\n        class=\"w-32 h-32 transform -rotate-90\"\n        viewBox=\"0 0 32 32\">\n        {#each data as item, index, i (i)}\n          {@const startAngle =\n            (data.slice(0, index).reduce((sum, d) => sum + d.value, 0) / totalValue) * 360}\n          {@const endAngle =\n            (data.slice(0, index + 1).reduce((sum, d) => sum + d.value, 0) / totalValue) * 360}\n          {@const largeArcFlag = endAngle - startAngle > 180 ? 1 : 0}\n          {@const x1 = 16 + 14 * Math.cos((startAngle * Math.PI) / 180)}\n          {@const y1 = 16 + 14 * Math.sin((startAngle * Math.PI) / 180)}\n          {@const x2 = 16 + 14 * Math.cos((endAngle * Math.PI) / 180)}\n          {@const y2 = 16 + 14 * Math.sin((endAngle * Math.PI) / 180)}\n          <path\n            d=\"M 16 16 L {x1} {y1} A 14 14 0 {largeArcFlag} 1 {x2} {y2} Z\"\n            fill={getColor(index, item.color)}\n            class=\"transition-all duration-500\"\n          />\n        {/each}\n      </svg>\n      <div class=\"absolute inset-0 flex items-center justify-center\">\n        <div class=\"text-center\">\n          <div class=\"text-lg font-bold\">{totalValue.toLocaleString()}</div>\n          <div class=\"text-xs text-gray-500\">Ï¥ùÍ≥Ñ</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"mt-4 space-y-2\">\n    {#each data as item, index, i (i)}\n      <div class=\"flex items-center space-x-2\">\n        <div\n          class=\"w-3 h-3 rounded-full\"\n          style:background-color={getColor(index, item.color)}\n        ></div>\n        <span class=\"text-sm text-gray-700\">{item.label}</span>\n        <span class=\"text-sm text-gray-500 ml-auto\">\n          {((item.value / totalValue) * 100).toFixed(1)}%\n        </span>\n      </div>\n    {/each}\n  </div>\n{/if}\n\n<style>\n  .chart-container {\n    position: relative;\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeActivityItem.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeAvatar.svelte",
    "messages": [
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'alt' should be on a new line.",
        "line": 21,
        "column": 16,
        "nodeType": "SvelteShorthandAttribute",
        "messageId": "requireNewline",
        "endLine": 21,
        "endColumn": 21,
        "fix": { "range": [481, 482], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "<script lang=\"ts\">\n  let { src, alt = '', size = 'md', fallback = '?', class: className = '' } = $props()\n\n  // Size classes\n  const sizeClasses = {\n    sm: 'w-6 h-6 text-xs',\n    md: 'w-8 h-8 text-sm',\n    lg: 'w-12 h-12 text-lg',\n    xl: 'w-16 h-16 text-xl'\n  }\n</script>\n\n<div\n  class=\"rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden {sizeClasses[\n    size\n  ]} {className}\"\n  role=\"img\"\n  aria-label={alt}\n>\n  {#if src}\n    <img {src} {alt} class=\"w-full h-full object-cover\" />\n  {:else}\n    <span class=\"font-medium text-gray-600 dark:text-gray-300\">\n      {fallback}\n    </span>\n  {/if}\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeBadge.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeButton.svelte",
    "messages": [
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 167,
        "column": 9,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 167,
        "endColumn": 22,
        "fix": { "range": [3196, 3197], "text": "\n" }
      },
      {
        "ruleId": "svelte/no-at-html-tags",
        "severity": 1,
        "message": "`{@html}` can lead to XSS attack.",
        "line": 175,
        "column": 7,
        "nodeType": "SvelteMustacheTag",
        "messageId": "unexpected",
        "endLine": 175,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "<script lang=\"ts\">\n  // Props\n  interface Props {\n    variant?: 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'info' | 'ghost'\n    size?:\n      | 'sm'\n      | 'md'\n      | 'lg'\n      | 'xl'\n      | '2xl'\n      | '3xl'\n      | '4xl'\n      | '5xl'\n      | '6xl'\n      | '7xl'\n      | '8xl'\n      | '9xl'\n      | '10xl'\n      | '11xl'\n      | '12xl'\n      | '13xl'\n      | '14xl'\n      | '15xl'\n      | '16xl'\n      | '17xl'\n      | '18xl'\n      | '19xl'\n      | '20xl'\n      | '21xl'\n      | '22xl'\n      | '23xl'\n      | '24xl'\n      | '25xl'\n      | '26xl'\n      | '27xl'\n      | '28xl'\n      | '29xl'\n      | '30xl'\n      | '31xl'\n      | '32xl'\n      | '33xl'\n      | '34xl'\n      | '35xl'\n      | '36xl'\n      | '37xl'\n      | '38xl'\n      | '39xl'\n      | '40xl'\n      | '41xl'\n      | '42xl'\n      | '43xl'\n      | '44xl'\n      | '45xl'\n      | '46xl'\n      | '47xl'\n      | '48xl'\n      | '49xl'\n      | '50xl'\n      | '51xl'\n      | '52xl'\n      | '53xl'\n      | '54xl'\n      | '55xl'\n      | '56xl'\n      | '57xl'\n      | '58xl'\n      | '59xl'\n      | '60xl'\n      | '61xl'\n      | '62xl'\n      | '63xl'\n      | '64xl'\n      | '65xl'\n      | '66xl'\n      | '67xl'\n      | '68xl'\n      | '69xl'\n      | '70xl'\n      | '71xl'\n      | '72xl'\n      | '73xl'\n      | '74xl'\n      | '75xl'\n      | '76xl'\n      | '77xl'\n      | '78xl'\n      | '79xl'\n      | '80xl'\n      | '81xl'\n      | '82xl'\n      | '83xl'\n      | '84xl'\n      | '85xl'\n      | '86xl'\n      | '87xl'\n      | '88xl'\n      | '89xl'\n      | '90xl'\n      | '91xl'\n      | '92xl'\n      | '93xl'\n      | '94xl'\n      | '95xl'\n      | '96xl'\n      | '97xl'\n      | '98xl'\n      | '99xl'\n      | '100xl'\n    disabled?: boolean\n    loading?: boolean\n    onclick?: () => void\n    class?: string\n    children?: any\n  }\n\n  let {\n    variant = 'primary',\n    size = 'md',\n    disabled = false,\n    loading = false,\n    onclick,\n    class: className = '',\n    children,\n    ...restProps\n  }: Props = $props()\n\n  // Get button classes\n  function getButtonClasses(): string {\n    const baseClasses = 'theme-button'\n    const variantClass = `theme-button-${variant}`\n    const sizeClass = `theme-button-${size}`\n    const stateClasses = [\n      disabled ? 'theme-button-disabled' : '',\n      loading ? 'theme-button-loading' : ''\n    ]\n      .filter(Boolean)\n      .join(' ')\n\n    return [baseClasses, variantClass, sizeClass, stateClasses, className].filter(Boolean).join(' ')\n  }\n\n  // Handle click\n  function handleClick(event: MouseEvent) {\n    if (disabled || loading) {\n      event.preventDefault()\n      return\n    }\n\n    if (onclick) {\n      onclick()\n    }\n  }\n\n  // Get loading spinner\n  function getLoadingSpinner(): string {\n    return `\n\t\t\t<svg class=\"theme-button-spinner\" viewBox=\"0 0 24 24\" fill=\"none\">\n\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-dasharray=\"60\" stroke-dashoffset=\"60\">\n\t\t\t\t\t<animate attributeName=\"stroke-dasharray\" dur=\"1.5s\" values=\"0 60;60 0;0 60\" repeatCount=\"indefinite\"/>\n\t\t\t\t\t<animate attributeName=\"stroke-dashoffset\" dur=\"1.5s\" values=\"0;-60;-60\" repeatCount=\"indefinite\"/>\n\t\t\t\t</circle>\n\t\t\t</svg>\n\t\t`\n  }\n</script>\n\n<button type=\"button\"\n  class={getButtonClasses()}\n  onclick={handleClick}\n  disabled={disabled || loading}\n  {...restProps}\n>\n  {#if loading}\n    <span class=\"theme-button-spinner-container\">\n      {@html getLoadingSpinner()}\n    </span>\n  {/if}\n\n  <span class=\"theme-button-content\">\n    {@render children?.()}\n  </span>\n</button>\n\n<style>\n  .theme-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    border: none;\n    border-radius: 8px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .theme-button:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--color-primary);\n  }\n\n  .theme-button:disabled {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n\n  /* Variants */\n  .theme-button-primary {\n    background: var(--color-button-primary);\n    color: white;\n  }\n\n  .theme-button-primary:hover:not(:disabled) {\n    background: var(--color-button-primary-hover);\n  }\n\n  .theme-button-secondary {\n    background: var(--color-button-secondary);\n    color: white;\n  }\n\n  .theme-button-secondary:hover:not(:disabled) {\n    background: var(--color-button-secondary-hover);\n  }\n\n  .theme-button-success {\n    background: var(--color-button-success);\n    color: white;\n  }\n\n  .theme-button-success:hover:not(:disabled) {\n    background: var(--color-button-success-hover);\n  }\n\n  .theme-button-warning {\n    background: var(--color-button-warning);\n    color: #212529;\n  }\n\n  .theme-button-warning:hover:not(:disabled) {\n    background: var(--color-button-warning-hover);\n  }\n\n  .theme-button-error {\n    background: var(--color-button-error);\n    color: white;\n  }\n\n  .theme-button-error:hover:not(:disabled) {\n    background: var(--color-button-error-hover);\n  }\n\n  .theme-button-info {\n    background: var(--color-button-info);\n    color: white;\n  }\n\n  .theme-button-info:hover:not(:disabled) {\n    background: var(--color-button-info-hover);\n  }\n\n  .theme-button-ghost {\n    background: var(--color-button-ghost);\n    color: var(--color-button-ghost-text);\n    border: 1px solid var(--color-button-ghost-border);\n  }\n\n  .theme-button-ghost:hover:not(:disabled) {\n    background: var(--color-button-ghost-hover);\n    color: var(--color-button-ghost-text-hover);\n    border-color: var(--color-button-ghost-border-hover);\n  }\n\n  /* Sizes */\n  .theme-button-sm {\n    padding: 8px 12px;\n    font-size: 12px;\n    min-height: 32px;\n  }\n\n  .theme-button-md {\n    padding: 10px 16px;\n    font-size: 14px;\n    min-height: 40px;\n  }\n\n  .theme-button-lg {\n    padding: 12px 20px;\n    font-size: 16px;\n    min-height: 48px;\n  }\n\n  .theme-button-xl {\n    padding: 14px 24px;\n    font-size: 18px;\n    min-height: 56px;\n  }\n\n  .theme-button-2xl {\n    padding: 16px 28px;\n    font-size: 20px;\n    min-height: 64px;\n  }\n\n  .theme-button-3xl {\n    padding: 18px 32px;\n    font-size: 22px;\n    min-height: 72px;\n  }\n\n  .theme-button-4xl {\n    padding: 20px 36px;\n    font-size: 24px;\n    min-height: 80px;\n  }\n\n  .theme-button-5xl {\n    padding: 22px 40px;\n    font-size: 26px;\n    min-height: 88px;\n  }\n\n  .theme-button-6xl {\n    padding: 24px 44px;\n    font-size: 28px;\n    min-height: 96px;\n  }\n\n  .theme-button-7xl {\n    padding: 26px 48px;\n    font-size: 30px;\n    min-height: 104px;\n  }\n\n  .theme-button-8xl {\n    padding: 28px 52px;\n    font-size: 32px;\n    min-height: 112px;\n  }\n\n  .theme-button-9xl {\n    padding: 30px 56px;\n    font-size: 34px;\n    min-height: 120px;\n  }\n\n  .theme-button-10xl {\n    padding: 32px 60px;\n    font-size: 36px;\n    min-height: 128px;\n  }\n\n  .theme-button-11xl {\n    padding: 34px 64px;\n    font-size: 38px;\n    min-height: 136px;\n  }\n\n  .theme-button-12xl {\n    padding: 36px 68px;\n    font-size: 40px;\n    min-height: 144px;\n  }\n\n  .theme-button-13xl {\n    padding: 38px 72px;\n    font-size: 42px;\n    min-height: 152px;\n  }\n\n  .theme-button-14xl {\n    padding: 40px 76px;\n    font-size: 44px;\n    min-height: 160px;\n  }\n\n  .theme-button-15xl {\n    padding: 42px 80px;\n    font-size: 46px;\n    min-height: 168px;\n  }\n\n  .theme-button-16xl {\n    padding: 44px 84px;\n    font-size: 48px;\n    min-height: 176px;\n  }\n\n  .theme-button-17xl {\n    padding: 46px 88px;\n    font-size: 50px;\n    min-height: 184px;\n  }\n\n  .theme-button-18xl {\n    padding: 48px 92px;\n    font-size: 52px;\n    min-height: 192px;\n  }\n\n  .theme-button-19xl {\n    padding: 50px 96px;\n    font-size: 54px;\n    min-height: 200px;\n  }\n\n  .theme-button-20xl {\n    padding: 52px 100px;\n    font-size: 56px;\n    min-height: 208px;\n  }\n\n  .theme-button-21xl {\n    padding: 54px 104px;\n    font-size: 58px;\n    min-height: 216px;\n  }\n\n  .theme-button-22xl {\n    padding: 56px 108px;\n    font-size: 60px;\n    min-height: 224px;\n  }\n\n  .theme-button-23xl {\n    padding: 58px 112px;\n    font-size: 62px;\n    min-height: 232px;\n  }\n\n  .theme-button-24xl {\n    padding: 60px 116px;\n    font-size: 64px;\n    min-height: 240px;\n  }\n\n  .theme-button-25xl {\n    padding: 62px 120px;\n    font-size: 66px;\n    min-height: 248px;\n  }\n\n  .theme-button-26xl {\n    padding: 64px 124px;\n    font-size: 68px;\n    min-height: 256px;\n  }\n\n  .theme-button-27xl {\n    padding: 66px 128px;\n    font-size: 70px;\n    min-height: 264px;\n  }\n\n  .theme-button-28xl {\n    padding: 68px 132px;\n    font-size: 72px;\n    min-height: 272px;\n  }\n\n  .theme-button-29xl {\n    padding: 70px 136px;\n    font-size: 74px;\n    min-height: 280px;\n  }\n\n  .theme-button-30xl {\n    padding: 72px 140px;\n    font-size: 76px;\n    min-height: 288px;\n  }\n\n  .theme-button-31xl {\n    padding: 74px 144px;\n    font-size: 78px;\n    min-height: 296px;\n  }\n\n  .theme-button-32xl {\n    padding: 76px 148px;\n    font-size: 80px;\n    min-height: 304px;\n  }\n\n  .theme-button-33xl {\n    padding: 78px 152px;\n    font-size: 82px;\n    min-height: 312px;\n  }\n\n  .theme-button-34xl {\n    padding: 80px 156px;\n    font-size: 84px;\n    min-height: 320px;\n  }\n\n  .theme-button-35xl {\n    padding: 82px 160px;\n    font-size: 86px;\n    min-height: 328px;\n  }\n\n  .theme-button-36xl {\n    padding: 84px 164px;\n    font-size: 88px;\n    min-height: 336px;\n  }\n\n  .theme-button-37xl {\n    padding: 86px 168px;\n    font-size: 90px;\n    min-height: 344px;\n  }\n\n  .theme-button-38xl {\n    padding: 88px 172px;\n    font-size: 92px;\n    min-height: 352px;\n  }\n\n  .theme-button-39xl {\n    padding: 90px 176px;\n    font-size: 94px;\n    min-height: 360px;\n  }\n\n  .theme-button-40xl {\n    padding: 92px 180px;\n    font-size: 96px;\n    min-height: 368px;\n  }\n\n  .theme-button-41xl {\n    padding: 94px 184px;\n    font-size: 98px;\n    min-height: 376px;\n  }\n\n  .theme-button-42xl {\n    padding: 96px 188px;\n    font-size: 100px;\n    min-height: 384px;\n  }\n\n  .theme-button-43xl {\n    padding: 98px 192px;\n    font-size: 102px;\n    min-height: 392px;\n  }\n\n  .theme-button-44xl {\n    padding: 100px 196px;\n    font-size: 104px;\n    min-height: 400px;\n  }\n\n  .theme-button-45xl {\n    padding: 102px 200px;\n    font-size: 106px;\n    min-height: 408px;\n  }\n\n  .theme-button-46xl {\n    padding: 104px 204px;\n    font-size: 108px;\n    min-height: 416px;\n  }\n\n  .theme-button-47xl {\n    padding: 106px 208px;\n    font-size: 110px;\n    min-height: 424px;\n  }\n\n  .theme-button-48xl {\n    padding: 108px 212px;\n    font-size: 112px;\n    min-height: 432px;\n  }\n\n  .theme-button-49xl {\n    padding: 110px 216px;\n    font-size: 114px;\n    min-height: 440px;\n  }\n\n  .theme-button-50xl {\n    padding: 112px 220px;\n    font-size: 116px;\n    min-height: 448px;\n  }\n\n  .theme-button-51xl {\n    padding: 114px 224px;\n    font-size: 118px;\n    min-height: 456px;\n  }\n\n  .theme-button-52xl {\n    padding: 116px 228px;\n    font-size: 120px;\n    min-height: 464px;\n  }\n\n  .theme-button-53xl {\n    padding: 118px 232px;\n    font-size: 122px;\n    min-height: 472px;\n  }\n\n  .theme-button-54xl {\n    padding: 120px 236px;\n    font-size: 124px;\n    min-height: 480px;\n  }\n\n  .theme-button-55xl {\n    padding: 122px 240px;\n    font-size: 126px;\n    min-height: 488px;\n  }\n\n  .theme-button-56xl {\n    padding: 124px 244px;\n    font-size: 128px;\n    min-height: 496px;\n  }\n\n  .theme-button-57xl {\n    padding: 126px 248px;\n    font-size: 130px;\n    min-height: 504px;\n  }\n\n  .theme-button-58xl {\n    padding: 128px 252px;\n    font-size: 132px;\n    min-height: 512px;\n  }\n\n  .theme-button-59xl {\n    padding: 130px 256px;\n    font-size: 134px;\n    min-height: 520px;\n  }\n\n  .theme-button-60xl {\n    padding: 132px 260px;\n    font-size: 136px;\n    min-height: 528px;\n  }\n\n  .theme-button-61xl {\n    padding: 134px 264px;\n    font-size: 138px;\n    min-height: 536px;\n  }\n\n  .theme-button-62xl {\n    padding: 136px 268px;\n    font-size: 140px;\n    min-height: 544px;\n  }\n\n  .theme-button-63xl {\n    padding: 138px 272px;\n    font-size: 142px;\n    min-height: 552px;\n  }\n\n  .theme-button-64xl {\n    padding: 140px 276px;\n    font-size: 144px;\n    min-height: 560px;\n  }\n\n  .theme-button-65xl {\n    padding: 142px 280px;\n    font-size: 146px;\n    min-height: 568px;\n  }\n\n  .theme-button-66xl {\n    padding: 144px 284px;\n    font-size: 148px;\n    min-height: 576px;\n  }\n\n  .theme-button-67xl {\n    padding: 146px 288px;\n    font-size: 150px;\n    min-height: 584px;\n  }\n\n  .theme-button-68xl {\n    padding: 148px 292px;\n    font-size: 152px;\n    min-height: 592px;\n  }\n\n  .theme-button-69xl {\n    padding: 150px 296px;\n    font-size: 154px;\n    min-height: 600px;\n  }\n\n  .theme-button-70xl {\n    padding: 152px 300px;\n    font-size: 156px;\n    min-height: 608px;\n  }\n\n  .theme-button-71xl {\n    padding: 154px 304px;\n    font-size: 158px;\n    min-height: 616px;\n  }\n\n  .theme-button-72xl {\n    padding: 156px 308px;\n    font-size: 160px;\n    min-height: 624px;\n  }\n\n  .theme-button-73xl {\n    padding: 158px 312px;\n    font-size: 162px;\n    min-height: 632px;\n  }\n\n  .theme-button-74xl {\n    padding: 160px 316px;\n    font-size: 164px;\n    min-height: 640px;\n  }\n\n  .theme-button-75xl {\n    padding: 162px 320px;\n    font-size: 166px;\n    min-height: 648px;\n  }\n\n  .theme-button-76xl {\n    padding: 164px 324px;\n    font-size: 168px;\n    min-height: 656px;\n  }\n\n  .theme-button-77xl {\n    padding: 166px 328px;\n    font-size: 170px;\n    min-height: 664px;\n  }\n\n  .theme-button-78xl {\n    padding: 168px 332px;\n    font-size: 172px;\n    min-height: 672px;\n  }\n\n  .theme-button-79xl {\n    padding: 170px 336px;\n    font-size: 174px;\n    min-height: 680px;\n  }\n\n  .theme-button-80xl {\n    padding: 172px 340px;\n    font-size: 176px;\n    min-height: 688px;\n  }\n\n  .theme-button-81xl {\n    padding: 174px 344px;\n    font-size: 178px;\n    min-height: 696px;\n  }\n\n  .theme-button-82xl {\n    padding: 176px 348px;\n    font-size: 180px;\n    min-height: 704px;\n  }\n\n  .theme-button-83xl {\n    padding: 178px 352px;\n    font-size: 182px;\n    min-height: 712px;\n  }\n\n  .theme-button-84xl {\n    padding: 180px 356px;\n    font-size: 184px;\n    min-height: 720px;\n  }\n\n  .theme-button-85xl {\n    padding: 182px 360px;\n    font-size: 186px;\n    min-height: 728px;\n  }\n\n  .theme-button-86xl {\n    padding: 184px 364px;\n    font-size: 188px;\n    min-height: 736px;\n  }\n\n  .theme-button-87xl {\n    padding: 186px 368px;\n    font-size: 190px;\n    min-height: 744px;\n  }\n\n  .theme-button-88xl {\n    padding: 188px 372px;\n    font-size: 192px;\n    min-height: 752px;\n  }\n\n  .theme-button-89xl {\n    padding: 190px 376px;\n    font-size: 194px;\n    min-height: 760px;\n  }\n\n  .theme-button-90xl {\n    padding: 192px 380px;\n    font-size: 196px;\n    min-height: 768px;\n  }\n\n  .theme-button-91xl {\n    padding: 194px 384px;\n    font-size: 198px;\n    min-height: 776px;\n  }\n\n  .theme-button-92xl {\n    padding: 196px 388px;\n    font-size: 200px;\n    min-height: 784px;\n  }\n\n  .theme-button-93xl {\n    padding: 198px 392px;\n    font-size: 202px;\n    min-height: 792px;\n  }\n\n  .theme-button-94xl {\n    padding: 200px 396px;\n    font-size: 204px;\n    min-height: 800px;\n  }\n\n  .theme-button-95xl {\n    padding: 202px 400px;\n    font-size: 206px;\n    min-height: 808px;\n  }\n\n  .theme-button-96xl {\n    padding: 204px 404px;\n    font-size: 208px;\n    min-height: 816px;\n  }\n\n  .theme-button-97xl {\n    padding: 206px 408px;\n    font-size: 210px;\n    min-height: 824px;\n  }\n\n  .theme-button-98xl {\n    padding: 208px 412px;\n    font-size: 212px;\n    min-height: 832px;\n  }\n\n  .theme-button-99xl {\n    padding: 210px 416px;\n    font-size: 214px;\n    min-height: 840px;\n  }\n\n  .theme-button-100xl {\n    padding: 212px 420px;\n    font-size: 216px;\n    min-height: 848px;\n  }\n\n  /* Loading state */\n  .theme-button-loading {\n    cursor: wait;\n  }\n\n  .theme-button-spinner-container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .theme-button-spinner {\n    width: 16px;\n    height: 16px;\n    animation: spin 1s linear infinite;\n  }\n\n  .theme-button-content {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  /* Responsive design */\n  @media (max-width: 640px) {\n    .theme-button-sm {\n      padding: 6px 10px;\n      font-size: 11px;\n      min-height: 28px;\n    }\n\n    .theme-button-md {\n      padding: 8px 14px;\n      font-size: 13px;\n      min-height: 36px;\n    }\n\n    .theme-button-lg {\n      padding: 10px 18px;\n      font-size: 15px;\n      min-height: 44px;\n    }\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeCard.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeChartPlaceholder.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeDropdown.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'open' is defined but never used.",
        "line": 20,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 20,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "open" },
            "fix": { "range": [425, 438], "text": "" },
            "desc": "Remove unused variable 'open'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'open' is assigned a value but never used.",
        "line": 26,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 26,
        "endColumn": 9,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "open" },
            "fix": { "range": [517, 530], "text": "" },
            "desc": "Remove unused variable 'open'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'Node' is not defined.",
        "line": 115,
        "column": 64,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 115,
        "endColumn": 68
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n\n  // Props\n  interface Props {\n    open?: boolean\n    trigger?: 'hover' | 'click' | 'focus'\n    position?:\n      | 'bottom-left'\n      | 'bottom-right'\n      | 'top-left'\n      | 'top-right'\n      | 'left-top'\n      | 'left-bottom'\n      | 'right-top'\n      | 'right-bottom'\n    size?: 'sm' | 'md' | 'lg' | 'xl'\n    closable?: boolean\n    class?: string\n    onchange?: (open: boolean) => void\n    children?: any\n    triggerElement?: HTMLElement\n  }\n\n  let {\n    open = false,\n    trigger = 'click',\n    position = 'bottom-left',\n    size = 'md',\n    closable = true,\n    class: className = '',\n    onchange,\n    children,\n    triggerElement: externalTrigger,\n    ...restProps\n  }: Props = $props()\n\n  // State\n  let dropdownElement = $state<HTMLElement | undefined>(undefined)\n  let triggerElement = $state<HTMLElement>(externalTrigger || ({} as HTMLElement))\n  let isVisible = $state(false)\n\n  // Get dropdown classes\n  function getDropdownClasses(): string {\n    const baseClasses = 'theme-dropdown'\n    const positionClass = `theme-dropdown-${position}`\n    const sizeClass = `theme-dropdown-${size}`\n    const stateClass = isVisible ? 'theme-dropdown-open' : 'theme-dropdown-closed'\n\n    return [baseClasses, positionClass, sizeClass, stateClass, className].filter(Boolean).join(' ')\n  }\n\n  // Handle trigger click\n  function handleTriggerClick() {\n    if (trigger === 'click') {\n      toggleDropdown()\n    }\n  }\n\n  // Handle trigger hover\n  function handleTriggerHover() {\n    if (trigger === 'hover') {\n      showDropdown()\n    }\n  }\n\n  // Handle trigger leave\n  function handleTriggerLeave() {\n    if (trigger === 'hover') {\n      hideDropdown()\n    }\n  }\n\n  // Handle trigger focus\n  function handleTriggerFocus() {\n    if (trigger === 'focus') {\n      showDropdown()\n    }\n  }\n\n  // Handle trigger blur\n  function handleTriggerBlur() {\n    if (trigger === 'focus') {\n      hideDropdown()\n    }\n  }\n\n  // Toggle dropdown\n  function toggleDropdown() {\n    if (isVisible) {\n      hideDropdown()\n    } else {\n      showDropdown()\n    }\n  }\n\n  // Show dropdown\n  function showDropdown() {\n    isVisible = true\n    if (onchange) {\n      onchange(true)\n    }\n  }\n\n  // Hide dropdown\n  function hideDropdown() {\n    isVisible = false\n    if (onchange) {\n      onchange(false)\n    }\n  }\n\n  // Handle click outside\n  function handleClickOutside(event: MouseEvent) {\n    if (closable && !dropdownElement?.contains(event.target as Node)) {\n      hideDropdown()\n    }\n  }\n\n  // Handle escape key\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape' && closable) {\n      hideDropdown()\n    }\n  }\n\n  // Update dropdown position\n  function updatePosition() {\n    if (!dropdownElement || !triggerElement || !isVisible) return\n\n    const triggerRect = triggerElement.getBoundingClientRect()\n    const dropdownRect = dropdownElement.getBoundingClientRect()\n    const viewport = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n\n    let top = 0\n    let left = 0\n\n    switch (position) {\n      case 'bottom-left':\n        top = triggerRect.bottom + 8\n        left = triggerRect.left\n        break\n      case 'bottom-right':\n        top = triggerRect.bottom + 8\n        left = triggerRect.right - dropdownRect.width\n        break\n      case 'top-left':\n        top = triggerRect.top - dropdownRect.height - 8\n        left = triggerRect.left\n        break\n      case 'top-right':\n        top = triggerRect.top - dropdownRect.height - 8\n        left = triggerRect.right - dropdownRect.width\n        break\n      case 'left-top':\n        top = triggerRect.top\n        left = triggerRect.left - dropdownRect.width - 8\n        break\n      case 'left-bottom':\n        top = triggerRect.bottom - dropdownRect.height\n        left = triggerRect.left - dropdownRect.width - 8\n        break\n      case 'right-top':\n        top = triggerRect.top\n        left = triggerRect.right + 8\n        break\n      case 'right-bottom':\n        top = triggerRect.bottom - dropdownRect.height\n        left = triggerRect.right + 8\n        break\n    }\n\n    // Keep dropdown within viewport\n    if (left < 8) left = 8\n    if (left + dropdownRect.width > viewport.width - 8) {\n      left = viewport.width - dropdownRect.width - 8\n    }\n    if (top < 8) top = 8\n    if (top + dropdownRect.height > viewport.height - 8) {\n      top = viewport.height - dropdownRect.height - 8\n    }\n\n    dropdownElement.style.top = `${top}px`\n    dropdownElement.style.left = `${left}px`\n  }\n\n  // Update position when dropdown becomes visible\n  $effect(() => {\n    if (isVisible) {\n      updatePosition()\n    }\n  })\n\n  // Add event listeners\n  onMount(() => {\n    document.addEventListener('click', handleClickOutside)\n    document.addEventListener('keydown', handleKeydown)\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside)\n      document.removeEventListener('keydown', handleKeydown)\n    }\n  })\n</script>\n\n{#if externalTrigger}\n  <!-- External trigger mode - just render the dropdown -->\n  {#if isVisible}\n    <div\n      class={getDropdownClasses()}\n      bind:this={dropdownElement}\n      role=\"menu\"\n      aria-hidden={!isVisible}\n    >\n      {@render children?.()}\n    </div>\n  {/if}\n{:else}\n  <!-- Internal trigger mode -->\n  <div\n    class=\"theme-dropdown-container\"\n    {...restProps}>\n    <div\n      class=\"theme-dropdown-trigger\"\n      bind:this={triggerElement}\n      onclick={handleTriggerClick}\n      onkeydown={e => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault()\n          handleTriggerClick()\n        }\n      }}\n      role=\"button\"\n      tabindex=\"0\"\n      onmouseenter={handleTriggerHover}\n      onmouseleave={handleTriggerLeave}\n      onfocus={handleTriggerFocus}\n      onblur={handleTriggerBlur}\n    >\n      {@render children?.()}\n    </div>\n\n    {#if isVisible}\n      <div\n        class={getDropdownClasses()}\n        bind:this={dropdownElement}\n        role=\"menu\"\n        aria-hidden={!isVisible}\n      >\n        {@render children?.()}\n      </div>\n    {/if}\n  </div>\n{/if}\n\n<style>\n  .theme-dropdown-container {\n    position: relative;\n    display: inline-block;\n  }\n\n  .theme-dropdown-trigger {\n    cursor: pointer;\n  }\n\n  .theme-dropdown {\n    position: fixed;\n    z-index: 1000;\n    background: var(--color-surface);\n    border: 1px solid var(--color-border);\n    border-radius: 12px;\n    box-shadow: 0 10px 25px var(--color-shadow);\n    opacity: 0;\n    visibility: hidden;\n    transform: scale(0.95);\n    transition: all 0.2s ease;\n    pointer-events: none;\n  }\n\n  .theme-dropdown-open {\n    opacity: 1;\n    visibility: visible;\n    transform: scale(1);\n    pointer-events: auto;\n  }\n\n  .theme-dropdown-closed {\n    opacity: 0;\n    visibility: hidden;\n    transform: scale(0.95);\n    pointer-events: none;\n  }\n\n  .theme-dropdown-content {\n    padding: 8px;\n    min-width: 120px;\n  }\n\n  /* Sizes */\n  .theme-dropdown-sm {\n    min-width: 100px;\n  }\n\n  .theme-dropdown-md {\n    min-width: 150px;\n  }\n\n  .theme-dropdown-lg {\n    min-width: 200px;\n  }\n\n  .theme-dropdown-xl {\n    min-width: 250px;\n  }\n\n  /* Responsive design */\n  @media (max-width: 640px) {\n    .theme-dropdown {\n      position: fixed;\n      top: 50% !important;\n      left: 50% !important;\n      transform: translate(-50%, -50%) scale(0.95);\n      width: 90vw;\n      max-width: 300px;\n    }\n\n    .theme-dropdown-open {\n      transform: translate(-50%, -50%) scale(1);\n    }\n\n    .theme-dropdown-closed {\n      transform: translate(-50%, -50%) scale(0.95);\n    }\n\n    .theme-dropdown-content {\n      padding: 12px;\n    }\n  }\n\n  /* Dark theme specific adjustments */\n  [data-theme='dark'] .theme-dropdown {\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeGrid.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeInput.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 22,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 22,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [574, 586], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 23,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 23,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [612, 624], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 24,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [649, 661], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 25,
        "column": 15,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 25,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [685, 697], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  // Props\n  interface Props {\n    type?: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'search' | 'textarea'\n    variant?: 'default' | 'filled' | 'outlined' | 'underlined'\n    size?: 'sm' | 'md' | 'lg' | 'xl'\n    placeholder?: string\n    value?: string\n    disabled?: boolean\n    readonly?: boolean\n    required?: boolean\n    error?: boolean\n    success?: boolean\n    label?: string\n    helper?: string\n    errorMessage?: string\n    successMessage?: string\n    id?: string\n    class?: string\n    prefix?: any\n    suffix?: any\n    oninput?: (event: Event) => void\n    onchange?: (event: Event) => void\n    onfocus?: (event: Event) => void\n    onblur?: (event: Event) => void\n    children?: any\n  }\n\n  let {\n    type = 'text',\n    variant = 'default',\n    size = 'md',\n    placeholder = '',\n    value = $bindable(''),\n    disabled = false,\n    readonly = false,\n    required = false,\n    error = false,\n    success = false,\n    label = '',\n    helper = '',\n    errorMessage = '',\n    successMessage = '',\n    id = '',\n    class: className = '',\n    prefix,\n    suffix,\n    oninput,\n    onchange,\n    onfocus,\n    onblur,\n    children,\n    ...restProps\n  }: Props = $props()\n\n  // Get input classes\n  function getInputClasses(): string {\n    const baseClasses = 'theme-input'\n    const variantClass = `theme-input-${variant}`\n    const sizeClass = `theme-input-${size}`\n    const stateClasses = [\n      error ? 'theme-input-error' : '',\n      success ? 'theme-input-success' : '',\n      disabled ? 'theme-input-disabled' : '',\n      readonly ? 'theme-input-readonly' : ''\n    ]\n      .filter(Boolean)\n      .join(' ')\n    const prefixClass = prefix ? 'pl-10' : ''\n    const suffixClass = suffix ? 'pr-10' : ''\n\n    return [baseClasses, variantClass, sizeClass, stateClasses, prefixClass, suffixClass, className]\n      .filter(Boolean)\n      .join(' ')\n  }\n\n  // Get container classes\n  function getContainerClasses(): string {\n    const baseClasses = 'theme-input-container'\n    const stateClasses = [\n      error ? 'theme-input-container-error' : '',\n      success ? 'theme-input-container-success' : '',\n      disabled ? 'theme-input-container-disabled' : ''\n    ]\n      .filter(Boolean)\n      .join(' ')\n\n    return [baseClasses, ...stateClasses].filter(Boolean).join(' ')\n  }\n\n  // Get message classes\n  function getMessageClasses(): string {\n    const baseClasses = 'theme-input-message'\n    const stateClasses = [\n      error ? 'theme-input-message-error' : '',\n      success ? 'theme-input-message-success' : ''\n    ]\n      .filter(Boolean)\n      .join(' ')\n\n    return [baseClasses, ...stateClasses].filter(Boolean).join(' ')\n  }\n\n  // Get message text\n  function getMessageText(): string {\n    if (error && errorMessage) return errorMessage\n    if (success && successMessage) return successMessage\n    if (helper) return helper\n    return ''\n  }\n\n  // Get message icon\n  function getMessageIcon(): string {\n    if (error) return '‚ö†Ô∏è'\n    if (success) return '‚úÖ'\n    return ''\n  }\n</script>\n\n<div class={getContainerClasses()}>\n  {#if label}\n    <label\n      class=\"theme-input-label\"\n      for={id}>\n      {label}\n      {#if required}\n        <span class=\"theme-input-required\">*</span>\n      {/if}\n    </label>\n  {/if}\n\n  <div class=\"theme-input-wrapper relative\">\n    {#if prefix}\n      <div class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\n        {@render prefix()}\n      </div>\n    {/if}\n\n    {#if type === 'textarea'}\n      <textarea\n        {id}\n        class={getInputClasses()}\n        {placeholder}\n        {value}\n        {disabled}\n        {readonly}\n        {required}\n        {oninput}\n        {onchange}\n        {onfocus}\n        {onblur}\n        {...restProps}\n      ></textarea>\n    {:else}\n      <input\n        {id}\n        {type}\n        class={getInputClasses()}\n        {placeholder}\n        {value}\n        {disabled}\n        {readonly}\n        {required}\n        {oninput}\n        {onchange}\n        {onfocus}\n        {onblur}\n        {...restProps}\n      />\n    {/if}\n\n    {#if suffix}\n      <div class=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\n        {@render suffix()}\n      </div>\n    {/if}\n\n    {#if children}\n      <div class=\"theme-input-children\">\n        {@render children?.()}\n      </div>\n    {/if}\n  </div>\n\n  {#if getMessageText()}\n    <div class={getMessageClasses()}>\n      {#if getMessageIcon()}\n        <span class=\"theme-input-message-icon\">{getMessageIcon()}</span>\n      {/if}\n      <span class=\"theme-input-message-text\">{getMessageText()}</span>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .theme-input-container {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    width: 100%;\n  }\n\n  .theme-input-label {\n    font-size: 14px;\n    font-weight: 500;\n    color: var(--color-text);\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .theme-input-required {\n    color: var(--color-error);\n    font-weight: 600;\n  }\n\n  .theme-input-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n  }\n\n  .theme-input {\n    width: 100%;\n    background: var(--color-input-background);\n    border: 1px solid var(--color-input-border);\n    border-radius: 8px;\n    font-size: 14px;\n    color: var(--color-text);\n    transition: all 0.2s ease;\n    font-family: inherit;\n  }\n\n  .theme-input:focus {\n    outline: none;\n    border-color: var(--color-input-focus);\n    box-shadow: 0 0 0 2px var(--color-primary-light);\n  }\n\n  .theme-input::placeholder {\n    color: var(--color-text-muted);\n  }\n\n  /* Variants */\n  .theme-input-default {\n    background: var(--color-input-background);\n    border: 1px solid var(--color-input-border);\n  }\n\n  .theme-input-filled {\n    background: var(--color-surface);\n    border: 1px solid var(--color-border);\n  }\n\n  .theme-input-outlined {\n    background: transparent;\n    border: 2px solid var(--color-input-border);\n  }\n\n  .theme-input-underlined {\n    background: transparent;\n    border: none;\n    border-bottom: 2px solid var(--color-input-border);\n    border-radius: 0;\n  }\n\n  /* Sizes */\n  .theme-input-sm {\n    padding: 8px 12px;\n    font-size: 12px;\n    min-height: 32px;\n  }\n\n  .theme-input-md {\n    padding: 10px 14px;\n    font-size: 14px;\n    min-height: 40px;\n  }\n\n  .theme-input-lg {\n    padding: 12px 16px;\n    font-size: 16px;\n    min-height: 48px;\n  }\n\n  .theme-input-xl {\n    padding: 14px 18px;\n    font-size: 18px;\n    min-height: 56px;\n  }\n\n  /* States */\n  .theme-input-error {\n    border-color: var(--color-error);\n  }\n\n  .theme-input-error:focus {\n    border-color: var(--color-error);\n    box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.2);\n  }\n\n  .theme-input-success {\n    border-color: var(--color-success);\n  }\n\n  .theme-input-success:focus {\n    border-color: var(--color-success);\n    box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.2);\n  }\n\n  .theme-input-disabled {\n    background: var(--color-border-light);\n    color: var(--color-text-muted);\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n\n  .theme-input-readonly {\n    background: var(--color-border-light);\n    cursor: default;\n  }\n\n  /* Container states */\n  .theme-input-container-error .theme-input-label {\n    color: var(--color-error);\n  }\n\n  .theme-input-container-success .theme-input-label {\n    color: var(--color-success);\n  }\n\n  .theme-input-container-disabled .theme-input-label {\n    color: var(--color-text-muted);\n  }\n\n  /* Children (icons, buttons, etc.) */\n  .theme-input-children {\n    position: absolute;\n    right: 12px;\n    top: 50%;\n    transform: translateY(-50%);\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    pointer-events: none;\n  }\n\n  .theme-input-children :global(*) {\n    pointer-events: auto;\n  }\n\n  /* Message */\n  .theme-input-message {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 12px;\n    margin-top: 4px;\n  }\n\n  .theme-input-message-error {\n    color: var(--color-error);\n  }\n\n  .theme-input-message-success {\n    color: var(--color-success);\n  }\n\n  .theme-input-message:not(.theme-input-message-error):not(.theme-input-message-success) {\n    color: var(--color-text-secondary);\n  }\n\n  .theme-input-message-icon {\n    font-size: 14px;\n    line-height: 1;\n  }\n\n  .theme-input-message-text {\n    flex: 1;\n  }\n\n  /* Textarea specific styles */\n  .theme-input[type='textarea'] {\n    resize: vertical;\n    min-height: 80px;\n    font-family: inherit;\n    line-height: 1.5;\n  }\n\n  /* Responsive design */\n  @media (max-width: 640px) {\n    .theme-input-sm {\n      padding: 6px 10px;\n      font-size: 11px;\n      min-height: 28px;\n    }\n\n    .theme-input-md {\n      padding: 8px 12px;\n      font-size: 13px;\n      min-height: 36px;\n    }\n\n    .theme-input-lg {\n      padding: 10px 14px;\n      font-size: 15px;\n      min-height: 44px;\n    }\n\n    .theme-input-xl {\n      padding: 12px 16px;\n      font-size: 17px;\n      min-height: 52px;\n    }\n\n    .theme-input-children {\n      right: 10px;\n    }\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeModal.svelte",
    "messages": [
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 124,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 124,
        "endColumn": 30,
        "fix": { "range": [2722, 2723], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n\n  // Props\n  interface Props {\n    open?: boolean\n    size?: 'sm' | 'md' | 'lg' | 'xl' | 'full'\n    closable?: boolean\n    backdrop?: boolean\n    class?: string\n    onclose?: () => void\n    children?: any\n  }\n\n  let {\n    open = false,\n    size = 'md',\n    closable = true,\n    backdrop = true,\n    class: className = '',\n    onclose,\n    children,\n    ...restProps\n  }: Props = $props()\n\n  // Get modal classes\n  function getModalClasses(): string {\n    const baseClasses = 'theme-modal'\n    const sizeClass = `theme-modal-${size}`\n    const stateClass = open ? 'theme-modal-open' : 'theme-modal-closed'\n\n    return [baseClasses, sizeClass, stateClass, className].filter(Boolean).join(' ')\n  }\n\n  // Get backdrop classes\n  function getBackdropClasses(): string {\n    const baseClasses = 'theme-modal-backdrop'\n    const stateClass = open ? 'theme-modal-backdrop-open' : 'theme-modal-backdrop-closed'\n\n    return [baseClasses, stateClass].filter(Boolean).join(' ')\n  }\n\n  // Handle backdrop click\n  function handleBackdropClick(event: MouseEvent) {\n    // ÌÖçÏä§Ìä∏ ÏÑ†ÌÉùÏù¥ÎÇò ÎìúÎûòÍ∑∏ Ï§ëÏùº ÎïåÎäî Î™®Îã¨ÏùÑ Îã´ÏßÄ ÏïäÏùå\n    if (window.getSelection()?.toString()) {\n      return\n    }\n\n    // ÎßàÏö∞Ïä§ Ïù¥Î≤§Ìä∏Í∞Ä ÎìúÎûòÍ∑∏ÎÇò ÏÑ†ÌÉùÍ≥º Í¥ÄÎ†®Îêú Í≤ΩÏö∞ Î™®Îã¨ÏùÑ Îã´ÏßÄ ÏïäÏùå\n    if (event.detail === 0) {\n      // ÎìúÎûòÍ∑∏ Ïù¥Î≤§Ìä∏Îäî detailÏù¥ 0\n      return\n    }\n\n    // ÎßàÏö∞Ïä§ Î≤ÑÌäºÏù¥ ÏôºÏ™Ω Î≤ÑÌäºÏù¥Í≥† Îã®Ïàú ÌÅ¥Î¶≠Ïù∏ Í≤ΩÏö∞Îßå Ï≤òÎ¶¨\n    if (event.button !== 0) {\n      return\n    }\n\n    // Î∞∞Í≤ΩÏùÑ ÌÅ¥Î¶≠ÌñàÏùÑ ÎïåÎßå Î™®Îã¨ÏùÑ Îã´Ïùå\n    if (backdrop && event.target === event.currentTarget && closable) {\n      // ÏïΩÍ∞ÑÏùò ÏßÄÏó∞ÏùÑ ÎëêÏñ¥ ÎìúÎûòÍ∑∏ÏôÄ ÌÅ¥Î¶≠ÏùÑ Íµ¨Î∂Ñ\n      setTimeout(() => {\n        if (!window.getSelection()?.toString()) {\n          closeModal()\n        }\n      }, 100)\n    }\n  }\n\n  // Handle escape key\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape' && closable) {\n      closeModal()\n    }\n  }\n\n  // Close modal\n  function closeModal() {\n    if (onclose) {\n      onclose()\n    }\n  }\n\n  // Handle close button click\n  function handleCloseClick() {\n    closeModal()\n  }\n\n  // Add/remove event listeners\n  onMount(() => {\n    document.addEventListener('keydown', handleKeydown)\n    return () => {\n      document.removeEventListener('keydown', handleKeydown)\n    }\n  })\n\n  // Prevent body scroll when modal is open\n  $effect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style.overflow = ''\n    }\n  })\n</script>\n\n{#if open}\n  <div\n    class={getBackdropClasses()}\n    onmousedown={handleBackdropClick}\n    onkeydown={e => {\n      if (e.key === 'Escape') handleCloseClick()\n    }}\n    role=\"dialog\"\n    aria-modal=\"true\"\n    tabindex=\"-1\"\n  >\n    <div\n      class={getModalClasses()}\n      {...restProps}>\n      {#if closable}\n        <button type=\"button\"\n          class=\"theme-modal-close\"\n          onclick={handleCloseClick}\n          aria-label=\"Close modal\">\n          <svg\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\">\n            <path d=\"M18 6L6 18M6 6l12 12\" />\n          </svg>\n        </button>\n      {/if}\n\n      <div class=\"theme-modal-content\">\n        {@render children?.()}\n      </div>\n    </div>\n  </div>\n{/if}\n\n<style>\n  .theme-modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: var(--color-overlay);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    padding: 20px;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s ease;\n  }\n\n  .theme-modal-backdrop-open {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  .theme-modal-backdrop-closed {\n    opacity: 0;\n    visibility: hidden;\n  }\n\n  .theme-modal {\n    background: var(--color-surface);\n    border: 1px solid var(--color-border);\n    border-radius: 12px;\n    box-shadow: 0 20px 40px var(--color-shadow);\n    position: relative;\n    max-height: 90vh;\n    overflow: hidden;\n    transform: scale(0.9);\n    transition: transform 0.3s ease;\n  }\n\n  .theme-modal-open {\n    transform: scale(1);\n  }\n\n  .theme-modal-closed {\n    transform: scale(0.9);\n  }\n\n  /* Sizes */\n  .theme-modal-sm {\n    width: 100%;\n    max-width: 400px;\n  }\n\n  .theme-modal-md {\n    width: 100%;\n    max-width: 600px;\n  }\n\n  .theme-modal-lg {\n    width: 100%;\n    max-width: 800px;\n  }\n\n  .theme-modal-xl {\n    width: 100%;\n    max-width: 1000px;\n  }\n\n  .theme-modal-full {\n    width: 100%;\n    max-width: 100vw;\n    height: 100vh;\n    max-height: 100vh;\n    border-radius: 0;\n  }\n\n  /* Close button */\n  .theme-modal-close {\n    position: absolute;\n    top: 16px;\n    right: 16px;\n    width: 32px;\n    height: 32px;\n    background: var(--color-surface);\n    border: 1px solid var(--color-border);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    z-index: 10;\n  }\n\n  .theme-modal-close:hover {\n    background: var(--color-border);\n    border-color: var(--color-primary);\n  }\n\n  .theme-modal-close:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--color-primary);\n  }\n\n  .theme-modal-close svg {\n    width: 16px;\n    height: 16px;\n    color: var(--color-text-secondary);\n  }\n\n  .theme-modal-close:hover svg {\n    color: var(--color-text);\n  }\n\n  /* Content */\n  .theme-modal-content {\n    padding: 24px;\n    overflow-y: auto;\n    max-height: calc(90vh - 48px);\n  }\n\n  /* Responsive design */\n  @media (max-width: 640px) {\n    .theme-modal-backdrop {\n      padding: 16px;\n    }\n\n    .theme-modal-sm,\n    .theme-modal-md,\n    .theme-modal-lg,\n    .theme-modal-xl {\n      width: 100%;\n      max-width: 100%;\n    }\n\n    .theme-modal-content {\n      padding: 20px;\n    }\n\n    .theme-modal-close {\n      top: 12px;\n      right: 12px;\n      width: 28px;\n      height: 28px;\n    }\n\n    .theme-modal-close svg {\n      width: 14px;\n      height: 14px;\n    }\n  }\n\n  /* Dark theme specific adjustments */\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemePageHeader.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeSectionHeader.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeSpacer.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeStatCard.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/components/ui/ThemeTabs.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'tabId' is defined but never used.",
        "line": 22,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 22,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "tabId" },
            "fix": { "range": [519, 532], "text": "" },
            "desc": "Remove unused variable 'tabId'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'HTMLDivElement' is not defined.",
        "line": 39,
        "column": 21,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 39,
        "endColumn": 35
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 154,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 154,
        "endColumn": 30,
        "fix": { "range": [4194, 4195], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 166,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 166,
        "endColumn": 30,
        "fix": { "range": [4632, 4633], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 189,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 189,
        "endColumn": 30,
        "fix": { "range": [5410, 5411], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-optimized-style-attribute",
        "severity": 1,
        "message": "It cannot be optimized because too complex.",
        "line": 198,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "complex",
        "endLine": 198,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 3,
    "source": "<script lang=\"ts\">\n  import { ChevronLeftIcon, ChevronRightIcon } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  interface Tab {\n    id: string\n    label: string\n    icon?: any\n    badge?: string | number\n    disabled?: boolean\n  }\n\n  interface Props {\n    tabs: Tab[]\n    activeTab?: string\n    children?: any\n    class?: string\n    orientation?: 'horizontal' | 'vertical'\n    size?: 'sm' | 'md' | 'lg'\n    variant?: 'default' | 'pills' | 'underline' | 'cards'\n    scrollable?: boolean\n    onTabChange?: (tabId: string) => void\n  }\n\n  let {\n    tabs,\n    activeTab = $bindable(tabs[0]?.id || ''),\n    children,\n    class: className = '',\n    orientation = 'horizontal',\n    size = 'md',\n    variant = 'default',\n    scrollable = false,\n    onTabChange,\n    ...restProps\n  }: Props = $props()\n\n  let currentTab = $state(activeTab)\n  let tabContainer: HTMLDivElement\n  let scrollPosition = $state(0)\n  let canScrollLeft = $state(false)\n  let canScrollRight = $state(false)\n\n  // ÌÉ≠ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨\n  function handleTabChange(tabId: string) {\n    if (tabs.find(tab => tab.id === tabId)?.disabled) return\n\n    currentTab = tabId\n    onTabChange?.(tabId)\n  }\n\n  // Ïä§ÌÅ¨Î°§ Ìï∏Îì§Îü¨\n  function handleScroll() {\n    if (!tabContainer) return\n\n    scrollPosition = tabContainer.scrollLeft\n    canScrollLeft = scrollPosition > 0\n    canScrollRight = scrollPosition < tabContainer.scrollWidth - tabContainer.clientWidth\n  }\n\n  // Ïä§ÌÅ¨Î°§ Î≤ÑÌäº Ìï∏Îì§Îü¨\n  function scrollTabs(direction: 'left' | 'right') {\n    if (!tabContainer) return\n\n    const scrollAmount = 200\n    const newPosition =\n      direction === 'left'\n        ? Math.max(0, scrollPosition - scrollAmount)\n        : Math.min(\n          tabContainer.scrollWidth - tabContainer.clientWidth,\n          scrollPosition + scrollAmount\n        )\n\n    tabContainer.scrollTo({ left: newPosition, behavior: 'smooth' })\n  }\n\n  // Î∞òÏùëÌòï ÌÉ≠ ÌÅ¨Í∏∞ ÌÅ¥ÎûòÏä§\n  const getTabSizeClass = () => {\n    const sizeClasses = {\n      sm: 'px-3 py-1.5 text-sm',\n      md: 'px-4 py-2 text-sm',\n      lg: 'px-6 py-3 text-base'\n    }\n    return sizeClasses[size]\n  }\n\n  // ÌÉ≠ Ïä§ÌÉÄÏùº ÌÅ¥ÎûòÏä§\n  const getTabClass = (tab: Tab) => {\n    const isActive = currentTab === tab.id\n    const baseClass = `flex items-center gap-2 transition-all duration-200 ${getTabSizeClass()}`\n\n    if (variant === 'pills') {\n      return `${baseClass} rounded-full ${isActive ? 'text-white shadow-sm' : 'hover:opacity-80'}`\n    }\n\n    if (variant === 'underline') {\n      return `${baseClass} border-b-2 ${\n        isActive ? 'border-blue-500 text-blue-600' : 'border-transparent hover:border-gray-300'\n      }`\n    }\n\n    if (variant === 'cards') {\n      return `${baseClass} rounded-lg border ${\n        isActive ? 'border-blue-500 shadow-sm' : 'border-gray-200 hover:border-gray-300'\n      }`\n    }\n\n    // default variant\n    return `${baseClass} ${isActive ? 'text-white' : 'hover:opacity-80'}`\n  }\n\n  // ÌÉ≠ Ïä§ÌÉÄÏùº\n  const getTabStyle = (tab: Tab) => {\n    const isActive = currentTab === tab.id\n\n    if (variant === 'pills') {\n      return isActive\n        ? 'background: var(--color-primary);'\n        : 'color: var(--color-text-secondary); background: transparent;'\n    }\n\n    if (variant === 'underline') {\n      return isActive ? 'color: var(--color-primary);' : 'color: var(--color-text-secondary);'\n    }\n\n    if (variant === 'cards') {\n      return isActive\n        ? 'background: var(--color-surface-elevated); border-color: var(--color-primary);'\n        : 'background: var(--color-surface); border-color: var(--color-border); color: var(--color-text-secondary);'\n    }\n\n    // default variant\n    return isActive\n      ? 'background: var(--color-primary);'\n      : 'color: var(--color-text-secondary); background: transparent;'\n  }\n\n  onMount(() => {\n    if (scrollable && tabContainer) {\n      handleScroll()\n      tabContainer.addEventListener('scroll', handleScroll)\n    }\n  })\n</script>\n\n<div\n  class=\"theme-tabs {orientation === 'vertical' ? 'flex' : 'block'} {className}\"\n  {...restProps}>\n  <!-- ÌÉ≠ Ìó§Îçî -->\n  <div class=\"relative {orientation === 'vertical' ? 'flex-shrink-0 w-48' : 'w-full'}\">\n    {#if scrollable && orientation === 'horizontal'}\n      <!-- Ïä§ÌÅ¨Î°§ Î≤ÑÌäºÎì§ -->\n      {#if canScrollLeft}\n        <button type=\"button\"\n          onclick={() => scrollTabs('left')}\n          class=\"absolute left-0 top-0 z-10 flex items-center justify-center w-8 h-full bg-white/80 hover:bg-white/90 transition-colors\"\n          style:background=\"var(--color-surface)\"\n        >\n          <ChevronLeftIcon\n            size={16}\n            style=\"color: var(--color-text-secondary);\" />\n        </button>\n      {/if}\n\n      {#if canScrollRight}\n        <button type=\"button\"\n          onclick={() => scrollTabs('right')}\n          class=\"absolute right-0 top-0 z-10 flex items-center justify-center w-8 h-full bg-white/80 hover:bg-white/90 transition-colors\"\n          style:background=\"var(--color-surface)\"\n        >\n          <ChevronRightIcon\n            size={16}\n            style=\"color: var(--color-text-secondary);\" />\n        </button>\n      {/if}\n    {/if}\n\n    <!-- ÌÉ≠ Î¶¨Ïä§Ìä∏ -->\n    <div\n      bind:this={tabContainer}\n      class=\"flex {orientation === 'vertical' ? 'flex-col' : 'flex-row'} {scrollable\n        ? 'overflow-x-auto scrollbar-hide'\n        : ''}\"\n      class:border-b={variant === 'default'}\n      style:border-color=\"var(--color-border)\"\n      role=\"tablist\"\n    >\n      {#each tabs as tab, i (i)}\n        <button type=\"button\"\n          role=\"tab\"\n          aria-selected={currentTab === tab.id}\n          aria-controls=\"tabpanel-{tab.id}\"\n          disabled={tab.disabled}\n          onclick={() => handleTabChange(tab.id)}\n          class=\"{getTabClass(tab)} {tab.disabled\n            ? 'opacity-50 cursor-not-allowed'\n            : 'cursor-pointer'}\"\n          style={getTabStyle(tab)}\n          style:opacity={tab.disabled ? '0.5' : null}\n        >\n          {#if tab.icon}\n            <tab.icon size={size === 'sm' ? 16 : size === 'lg' ? 20 : 18} />\n          {/if}\n          <span>{tab.label}</span>\n          {#if tab.badge}\n            <span\n              class=\"inline-flex items-center justify-center px-2 py-0.5 text-xs font-medium rounded-full\"\n              style:background=\"var(--color-primary)\"\n              style:color=\"white\"\n            >\n              {tab.badge}\n            </span>\n          {/if}\n        </button>\n      {/each}\n    </div>\n  </div>\n\n  <!-- ÌÉ≠ ÏΩòÌÖêÏ∏† -->\n  <div class=\"flex-1 {orientation === 'vertical' ? 'ml-6' : 'mt-4'}\">\n    {#each tabs as tab, i (i)}\n      <div\n        role=\"tabpanel\"\n        id=\"tabpanel-{tab.id}\"\n        aria-labelledby=\"tab-{tab.id}\"\n        class={currentTab === tab.id ? 'block' : 'hidden'}\n      >\n        {#if children && typeof children === 'function'}\n          {@render children(tab)}\n        {/if}\n      </div>\n    {/each}\n  </div>\n</div>\n\n<style>\n  .scrollbar-hide {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .scrollbar-hide::-webkit-scrollbar {\n    display: none;\n  }\n\n  .theme-tabs button[role='tab']:focus {\n    outline: 2px solid var(--color-primary);\n    outline-offset: 2px;\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/database/connection.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 66,
        "column": 65,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 66,
        "endColumn": 68,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1809, 1812], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1809, 1812], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 116,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 116,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3098, 3101], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3098, 3101], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 117,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 117,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3134, 3137], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3134, 3137], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 202,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 202,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4636, 4639], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4636, 4639], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 236,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 236,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5466, 5469], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5466, 5469], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { config } from 'dotenv'\nimport type { PoolClient, QueryResult } from 'pg'\nimport { Pool } from 'pg'\nimport { logger } from '$lib/utils/logger';\n\n// Load environment variables\nconfig()\n\n// Database connection pool\nlet pool: Pool | null = null\n\n// Database configuration - AWS only\nconst getDbConfig = () => {\n  return {\n    host: process.env.AWS_DB_HOST || 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n    port: parseInt(process.env.AWS_DB_PORT || '5432'),\n    database: process.env.AWS_DB_NAME || 'postgres',\n    user: process.env.AWS_DB_USER || 'postgres',\n    password: process.env.AWS_DB_PASSWORD || 'viahubdev',\n    ssl: {\n      rejectUnauthorized: false\n    }\n  }\n}\n\nconst dbConfig = {\n  ...getDbConfig(),\n  max: 20, // Maximum number of clients in the pool\n  idleTimeoutMillis: 30000, // Close idle clients after 30 seconds\n  connectionTimeoutMillis: 10000, // Return an error after 10 seconds if connection could not be established\n  acquireTimeoutMillis: 10000 // Return an error after 10 seconds if client could not be acquired from pool\n}\n\n// Initialize database connection pool\nexport function initializeDatabase(): Pool {\n  if (!pool) {\n    pool = new Pool(dbConfig)\n\n    // Handle pool errors\n    pool.on('error', err => {\n      logger.error('Unexpected error on idle client', err)\n      process.exit(-1)\n    })\n\n    // Database connection pool initialized\n  }\n\n  return pool\n}\n\n// Get database connection\nexport async function getConnection(): Promise<PoolClient> {\n  if (!pool) {\n    try {\n      initializeDatabase()\n    } catch (error) {\n      logger.error('Failed to initialize database connection:', error)\n      throw error\n    }\n  }\n\n  return await pool!.connect()\n}\n\n// Execute a query with parameters\nexport async function query<T extends Record<string, unknown> = any>(\n  text: string,\n  params?: unknown[]\n): Promise<QueryResult<T>> {\n  const client = await getConnection()\n  try {\n    const result = await client.query<T>(text, params)\n    return result\n  } finally {\n    client.release()\n  }\n}\n\n// Execute a transaction\nexport async function transaction<T>(callback: (client: PoolClient) => Promise<T>): Promise<T> {\n  const client = await getConnection()\n  try {\n    await client.query('BEGIN')\n    const result = await callback(client)\n    await client.query('COMMIT')\n    return result\n  } catch (error) {\n    await client.query('ROLLBACK')\n    throw error\n  } finally {\n    client.release()\n  }\n}\n\n// Close database connection pool\nexport async function closeDatabase(): Promise<void> {\n  if (pool) {\n    await pool.end()\n    pool = null\n    // Database connection pool closed\n  }\n}\n\n// Database health check\nexport async function healthCheck(): Promise<boolean> {\n  try {\n    // Starting database health check\n    const result = await query('SELECT 1 as health')\n    const isHealthy = result.rows[0]?.health === 1\n\n    return isHealthy\n  } catch (error) {\n    logger.error('Database health check failed:', error)\n    logger.error('Error details:', {\n      message: error instanceof Error ? error.message : 'Unknown error',\n      code: (error as any)?.code,\n      detail: (error as any)?.detail\n    })\n    return false\n  }\n}\n\n// Database types\nexport interface DatabaseUser {\n  id: string\n  email: string\n  name: string\n  department?: string\n  position?: string\n  role: string\n  is_active: boolean\n  last_login?: Date\n  created_at: Date\n  updated_at: Date\n}\n\nexport interface DatabaseCompany {\n  id: string\n  name: string\n  type: string\n  industry?: string\n  status: string\n  contact_person?: string\n  email?: string\n  phone?: string\n  address?: string\n  website?: string\n  revenue?: number\n  employees?: number\n  notes?: string\n  tags: unknown[]\n  created_at: Date\n  updated_at: Date\n}\n\nexport interface DatabaseProject {\n  id: string\n  code: string\n  title: string\n  description?: string\n  sponsor?: string\n  sponsor_type?: string\n  start_date?: Date\n  end_date?: Date\n  manager_id?: string\n  status: string\n  budget_total?: number\n  created_at: Date\n  updated_at: Date\n}\n\nexport interface DatabaseExpenseItem {\n  id: string\n  project_id: string\n  category_code: string\n  requester_id: string\n  amount: number\n  currency: string\n  description?: string\n  status: string\n  dept_owner?: string\n  created_at: Date\n  updated_at: Date\n}\n\nexport interface DatabaseEmployee {\n  id: string\n  employee_id: string\n  user_id?: string\n  first_name: string\n  last_name: string\n  email: string\n  phone?: string\n  department?: string\n  position?: string\n  manager_id?: string\n  employment_type?: string\n  hire_date?: Date\n  salary?: number\n  status: string\n  address?: string\n  emergency_contact?: any\n  created_at: Date\n  updated_at: Date\n}\n\nexport interface DatabaseTransaction {\n  id: string\n  bank_account_id: string\n  category_id: string\n  amount: number\n  type: string\n  description?: string\n  reference?: string\n  date: Date\n  created_by: string\n  created_at: Date\n  updated_at: Date\n}\n\n// Utility functions for common database operations\nexport class DatabaseService {\n  // ÏøºÎ¶¨ Î©îÏÑúÎìú\n  static async query(text: string, params?: unknown[]) {\n    return await query(text, params)\n  }\n\n  // User operations\n  static async createUser(userData: Partial<DatabaseUser>): Promise<DatabaseUser> {\n    const result = await query<DatabaseUser>(\n      `INSERT INTO users (email, password_hash, name, department, position, role)\n\t\t\t VALUES ($1, $2, $3, $4, $5, $6)\n\t\t\t RETURNING *`,\n      [\n        userData.email,\n        (userData as any).password_hash,\n        userData.name,\n        userData.department,\n        userData.position,\n        userData.role\n      ]\n    )\n    if (!result.rows[0]) {\n      throw new Error('ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    if (!result.rows[0]) {\n      throw new Error('Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  static async getUserById(id: string): Promise<DatabaseUser | null> {\n    const result = await query<DatabaseUser>('SELECT * FROM users WHERE id = $1', [id])\n    return result.rows[0] || null\n  }\n\n  static async getUserByEmail(email: string): Promise<DatabaseUser | null> {\n    const result = await query<DatabaseUser>('SELECT * FROM users WHERE email = $1', [email])\n    return result.rows[0] || null\n  }\n\n  static async getUsers(filters?: {\n    department?: string\n    role?: string\n    is_active?: boolean\n    limit?: number\n    offset?: number\n  }): Promise<DatabaseUser[]> {\n    let queryText = 'SELECT * FROM users WHERE 1=1'\n    const params: unknown[] = []\n    let paramCount = 0\n\n    if (filters?.department) {\n      paramCount++\n      queryText += ` AND department = $${paramCount}`\n      params.push(filters.department)\n    }\n\n    if (filters?.role) {\n      paramCount++\n      queryText += ` AND role = $${paramCount}`\n      params.push(filters.role)\n    }\n\n    if (filters?.is_active !== undefined) {\n      paramCount++\n      queryText += ` AND is_active = $${paramCount}`\n      params.push(filters.is_active)\n    }\n\n    queryText += ' ORDER BY created_at DESC'\n\n    if (filters?.limit) {\n      paramCount++\n      queryText += ` LIMIT $${paramCount}`\n      params.push(filters.limit)\n    }\n\n    if (filters?.offset) {\n      paramCount++\n      queryText += ` OFFSET $${paramCount}`\n      params.push(filters.offset)\n    }\n\n    const result = await query<DatabaseUser>(queryText, params)\n    return result.rows\n  }\n\n  // Company operations\n  static async createCompany(companyData: Partial<DatabaseCompany>): Promise<DatabaseCompany> {\n    const result = await query<DatabaseCompany>(\n      `INSERT INTO companies (name, type, industry, status, contact_person, email, phone, address, website, revenue, employees, notes, tags)\n\t\t\t VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)\n\t\t\t RETURNING *`,\n      [\n        companyData.name,\n        companyData.type,\n        companyData.industry,\n        companyData.status,\n        companyData.contact_person,\n        companyData.email,\n        companyData.phone,\n        companyData.address,\n        companyData.website,\n        companyData.revenue,\n        companyData.employees,\n        companyData.notes,\n        JSON.stringify(companyData.tags || [])\n      ]\n    )\n    if (!result.rows[0]) {\n      throw new Error('Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  static async getCompanyById(id: string): Promise<DatabaseCompany | null> {\n    const result = await query<DatabaseCompany>('SELECT * FROM companies WHERE id = $1', [id])\n    return result.rows[0] || null\n  }\n\n  static async getCompanies(filters?: {\n    type?: string\n    status?: string\n    industry?: string\n    limit?: number\n    offset?: number\n  }): Promise<DatabaseCompany[]> {\n    let queryText = 'SELECT * FROM companies WHERE 1=1'\n    const params: unknown[] = []\n    let paramCount = 0\n\n    if (filters?.type) {\n      paramCount++\n      queryText += ` AND type = $${paramCount}`\n      params.push(filters.type)\n    }\n\n    if (filters?.status) {\n      paramCount++\n      queryText += ` AND status = $${paramCount}`\n      params.push(filters.status)\n    }\n\n    if (filters?.industry) {\n      paramCount++\n      queryText += ` AND industry = $${paramCount}`\n      params.push(filters.industry)\n    }\n\n    queryText += ' ORDER BY created_at DESC'\n\n    if (filters?.limit) {\n      paramCount++\n      queryText += ` LIMIT $${paramCount}`\n      params.push(filters.limit)\n    }\n\n    if (filters?.offset) {\n      paramCount++\n      queryText += ` OFFSET $${paramCount}`\n      params.push(filters.offset)\n    }\n\n    const result = await query<DatabaseCompany>(queryText, params)\n    return result.rows\n  }\n\n  // Project operations\n  static async createProject(projectData: Partial<DatabaseProject>): Promise<DatabaseProject> {\n    const result = await query<DatabaseProject>(\n      `INSERT INTO projects (code, title, description, sponsor, sponsor_type, start_date, end_date, manager_id, status, budget_total)\n\t\t\t VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n\t\t\t RETURNING *`,\n      [\n        projectData.code,\n        projectData.title,\n        projectData.description,\n        projectData.sponsor,\n        projectData.sponsor_type,\n        projectData.start_date,\n        projectData.end_date,\n        projectData.manager_id,\n        projectData.status,\n        projectData.budget_total\n      ]\n    )\n    if (!result.rows[0]) {\n      throw new Error('Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  static async getProjectById(id: string): Promise<DatabaseProject | null> {\n    const result = await query<DatabaseProject>('SELECT * FROM projects WHERE id = $1', [id])\n    return result.rows[0] || null\n  }\n\n  static async getProjects(filters?: {\n    status?: string\n    manager_id?: string\n    limit?: number\n    offset?: number\n  }): Promise<DatabaseProject[]> {\n    let queryText = 'SELECT * FROM projects WHERE 1=1'\n    const params: unknown[] = []\n    let paramCount = 0\n\n    if (filters?.status) {\n      paramCount++\n      queryText += ` AND status = $${paramCount}`\n      params.push(filters.status)\n    }\n\n    if (filters?.manager_id) {\n      paramCount++\n      queryText += ` AND manager_id = $${paramCount}`\n      params.push(filters.manager_id)\n    }\n\n    queryText += ' ORDER BY created_at DESC'\n\n    if (filters?.limit) {\n      paramCount++\n      queryText += ` LIMIT $${paramCount}`\n      params.push(filters.limit)\n    }\n\n    if (filters?.offset) {\n      paramCount++\n      queryText += ` OFFSET $${paramCount}`\n      params.push(filters.offset)\n    }\n\n    const result = await query<DatabaseProject>(queryText, params)\n    return result.rows\n  }\n\n  // Expense operations\n  static async createExpenseItem(\n    expenseData: Partial<DatabaseExpenseItem>\n  ): Promise<DatabaseExpenseItem> {\n    const result = await query<DatabaseExpenseItem>(\n      `INSERT INTO expense_items (project_id, category_code, requester_id, amount, currency, description, status, dept_owner)\n\t\t\t VALUES ($1, $2, $3, $4, $5, $6, $7, $8)\n\t\t\t RETURNING *`,\n      [\n        expenseData.project_id,\n        expenseData.category_code,\n        expenseData.requester_id,\n        expenseData.amount,\n        expenseData.currency,\n        expenseData.description,\n        expenseData.status,\n        expenseData.dept_owner\n      ]\n    )\n    if (!result.rows[0]) {\n      throw new Error('Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  static async getExpenseItemById(id: string): Promise<DatabaseExpenseItem | null> {\n    const result = await query<DatabaseExpenseItem>('SELECT * FROM expense_items WHERE id = $1', [\n      id\n    ])\n    return result.rows[0] || null\n  }\n\n  static async getExpenseItems(filters?: {\n    project_id?: string\n    status?: string\n    requester_id?: string\n    limit?: number\n    offset?: number\n  }): Promise<DatabaseExpenseItem[]> {\n    let queryText = 'SELECT * FROM expense_items WHERE 1=1'\n    const params: unknown[] = []\n    let paramCount = 0\n\n    if (filters?.project_id) {\n      paramCount++\n      queryText += ` AND project_id = $${paramCount}`\n      params.push(filters.project_id)\n    }\n\n    if (filters?.status) {\n      paramCount++\n      queryText += ` AND status = $${paramCount}`\n      params.push(filters.status)\n    }\n\n    if (filters?.requester_id) {\n      paramCount++\n      queryText += ` AND requester_id = $${paramCount}`\n      params.push(filters.requester_id)\n    }\n\n    queryText += ' ORDER BY created_at DESC'\n\n    if (filters?.limit) {\n      paramCount++\n      queryText += ` LIMIT $${paramCount}`\n      params.push(filters.limit)\n    }\n\n    if (filters?.offset) {\n      paramCount++\n      queryText += ` OFFSET $${paramCount}`\n      params.push(filters.offset)\n    }\n\n    const result = await query<DatabaseExpenseItem>(queryText, params)\n    return result.rows\n  }\n\n  // Employee operations\n  static async createEmployee(employeeData: Partial<DatabaseEmployee>): Promise<DatabaseEmployee> {\n    const result = await query<DatabaseEmployee>(\n      `INSERT INTO employees (employee_id, user_id, first_name, last_name, email, phone, department, position, manager_id, employment_type, hire_date, salary, status, address, emergency_contact)\n\t\t\t VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15)\n\t\t\t RETURNING *`,\n      [\n        employeeData.employee_id,\n        employeeData.user_id,\n        employeeData.first_name,\n        employeeData.last_name,\n        employeeData.email,\n        employeeData.phone,\n        employeeData.department,\n        employeeData.position,\n        employeeData.manager_id,\n        employeeData.employment_type,\n        employeeData.hire_date,\n        employeeData.salary,\n        employeeData.status,\n        employeeData.address,\n        JSON.stringify(employeeData.emergency_contact || {})\n      ]\n    )\n    if (!result.rows[0]) {\n      throw new Error('Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  static async getEmployeeById(id: string): Promise<DatabaseEmployee | null> {\n    const result = await query<DatabaseEmployee>('SELECT * FROM employees WHERE id = $1', [id])\n    return result.rows[0] || null\n  }\n\n  static async getEmployees(filters?: {\n    department?: string\n    status?: string\n    limit?: number\n    offset?: number\n  }): Promise<DatabaseEmployee[]> {\n    let queryText = 'SELECT * FROM employees WHERE 1=1'\n    const params: unknown[] = []\n    let paramCount = 0\n\n    if (filters?.department) {\n      paramCount++\n      queryText += ` AND department = $${paramCount}`\n      params.push(filters.department)\n    }\n\n    if (filters?.status) {\n      paramCount++\n      queryText += ` AND status = $${paramCount}`\n      params.push(filters.status)\n    }\n\n    queryText += ' ORDER BY created_at DESC'\n\n    if (filters?.limit) {\n      paramCount++\n      queryText += ` LIMIT $${paramCount}`\n      params.push(filters.limit)\n    }\n\n    if (filters?.offset) {\n      paramCount++\n      queryText += ` OFFSET $${paramCount}`\n      params.push(filters.offset)\n    }\n\n    const result = await query<DatabaseEmployee>(queryText, params)\n    return result.rows\n  }\n\n  // Transaction operations\n  static async createTransaction(\n    transactionData: Partial<DatabaseTransaction>\n  ): Promise<DatabaseTransaction> {\n    const result = await query<DatabaseTransaction>(\n      `INSERT INTO transactions (bank_account_id, category_id, amount, type, description, reference, date, created_by)\n\t\t\t VALUES ($1, $2, $3, $4, $5, $6, $7, $8)\n\t\t\t RETURNING *`,\n      [\n        transactionData.bank_account_id,\n        transactionData.category_id,\n        transactionData.amount,\n        transactionData.type,\n        transactionData.description,\n        transactionData.reference,\n        transactionData.date,\n        transactionData.created_by\n      ]\n    )\n    if (!result.rows[0]) {\n      throw new Error('Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  static async getTransactionById(id: string): Promise<DatabaseTransaction | null> {\n    const result = await query<DatabaseTransaction>('SELECT * FROM transactions WHERE id = $1', [\n      id\n    ])\n    return result.rows[0] || null\n  }\n\n  static async getTransactions(filters?: {\n    bank_account_id?: string\n    category_id?: string\n    type?: string\n    date_from?: Date\n    date_to?: Date\n    limit?: number\n    offset?: number\n  }): Promise<DatabaseTransaction[]> {\n    let queryText = 'SELECT * FROM transactions WHERE 1=1'\n    const params: unknown[] = []\n    let paramCount = 0\n\n    if (filters?.bank_account_id) {\n      paramCount++\n      queryText += ` AND bank_account_id = $${paramCount}`\n      params.push(filters.bank_account_id)\n    }\n\n    if (filters?.category_id) {\n      paramCount++\n      queryText += ` AND category_id = $${paramCount}`\n      params.push(filters.category_id)\n    }\n\n    if (filters?.type) {\n      paramCount++\n      queryText += ` AND type = $${paramCount}`\n      params.push(filters.type)\n    }\n\n    if (filters?.date_from) {\n      paramCount++\n      queryText += ` AND date >= $${paramCount}`\n      params.push(filters.date_from)\n    }\n\n    if (filters?.date_to) {\n      paramCount++\n      queryText += ` AND date <= $${paramCount}`\n      params.push(filters.date_to)\n    }\n\n    queryText += ' ORDER BY date DESC, created_at DESC'\n\n    if (filters?.limit) {\n      paramCount++\n      queryText += ` LIMIT $${paramCount}`\n      params.push(filters.limit)\n    }\n\n    if (filters?.offset) {\n      paramCount++\n      queryText += ` OFFSET $${paramCount}`\n      params.push(filters.offset)\n    }\n\n    const result = await query<DatabaseTransaction>(queryText, params)\n    return result.rows\n  }\n}\n\n// Database will be initialized on first connection\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/attendance.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 298,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 298,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6868, 6871], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6868, 6871], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\n\n// Í∑ºÌÉú Í∏∞Î°ù\nexport interface AttendanceRecord {\n  id: string\n  employeeId: string\n  date: string\n  checkIn?: string // HH:MM ÌòïÏãù\n  checkOut?: string // HH:MM ÌòïÏãù\n  workHours?: number // Ïã§Ï†ú Í∑ºÎ¨¥ÏãúÍ∞Ñ (ÏãúÍ∞Ñ)\n  overtimeHours?: number // Ïó∞Ïû•Í∑ºÎ¨¥ÏãúÍ∞Ñ (ÏãúÍ∞Ñ)\n  status:\n    | 'present'\n    | 'absent'\n    | 'late'\n    | 'early-leave'\n    | 'half-day'\n    | 'vacation'\n    | 'sick-leave'\n    | 'business-trip'\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\n// Ìú¥Í∞Ä Ïú†Ìòï\nexport interface LeaveType {\n  id: string\n  name: string\n  code: string // 'annual', 'sick', 'personal', 'maternity', 'paternity', 'bereavement'\n  description: string\n  maxDaysPerYear?: number\n  requiresApproval: boolean\n  requiresDocument: boolean\n  canCarryOver: boolean\n  maxCarryOverDays?: number\n  isPaid: boolean\n  color: string // UI ÌëúÏãúÏö© ÏÉâÏÉÅ\n  createdAt: string\n}\n\n// Ìú¥Í∞Ä Ïã†Ï≤≠\nexport interface LeaveRequest {\n  id: string\n  employeeId: string\n  leaveTypeId: string\n  startDate: string\n  endDate: string\n  days: number\n  reason: string\n  status: 'pending' | 'approved' | 'rejected' | 'cancelled'\n  requestedAt: string\n  approvedBy?: string\n  approvedAt?: string\n  rejectionReason?: string\n  documentUrl?: string\n  notes?: string\n}\n\n// Ìú¥Í∞Ä ÏûîÏó¨ÏùºÏàò\nexport interface LeaveBalance {\n  id: string\n  employeeId: string\n  year: number\n  leaveTypeId: string\n  totalDays: number // Ï¥ù Î∂ÄÏó¨ÏùºÏàò\n  usedDays: number // ÏÇ¨Ïö©ÏùºÏàò\n  remainingDays: number // ÏûîÏó¨ÏùºÏàò\n  carriedOverDays: number // Ïù¥ÏõîÏùºÏàò\n  createdAt: string\n  updatedAt: string\n}\n\n// ÍµêÎåÄ/Ïä§ÏºÄÏ§Ñ\nexport interface WorkSchedule {\n  id: string\n  employeeId: string\n  date: string\n  shiftType: 'day' | 'night' | 'evening' | 'flexible'\n  startTime: string // HH:MM\n  endTime: string // HH:MM\n  workHours: number\n  notes?: string\n  createdAt: string\n}\n\n// Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞\nconst initialLeaveTypes: LeaveType[] = [\n  {\n    id: 'leave-1',\n    name: 'Ïó∞Ï∞®Ìú¥Í∞Ä',\n    code: 'annual',\n    description: 'Ïó∞Í∞Ñ Ïú†Í∏âÌú¥Í∞Ä',\n    maxDaysPerYear: 15,\n    requiresApproval: true,\n    requiresDocument: false,\n    canCarryOver: true,\n    maxCarryOverDays: 5,\n    isPaid: true,\n    color: '#3B82F6',\n    createdAt: '2023-01-01T00:00:00Z'\n  },\n  {\n    id: 'leave-2',\n    name: 'Î≥ëÍ∞Ä',\n    code: 'sick',\n    description: 'ÏßàÎ≥ëÏúºÎ°ú Ïù∏Ìïú Ìú¥Í∞Ä',\n    maxDaysPerYear: 10,\n    requiresApproval: true,\n    requiresDocument: true,\n    canCarryOver: false,\n    isPaid: true,\n    color: '#EF4444',\n    createdAt: '2023-01-01T00:00:00Z'\n  },\n  {\n    id: 'leave-3',\n    name: 'Í∞úÏù∏ÏÇ¨Ï†ïÌú¥Í∞Ä',\n    code: 'personal',\n    description: 'Í∞úÏù∏Ï†ÅÏù∏ ÏÇ¨Ï†ïÏúºÎ°ú Ïù∏Ìïú Ìú¥Í∞Ä',\n    maxDaysPerYear: 5,\n    requiresApproval: true,\n    requiresDocument: false,\n    canCarryOver: false,\n    isPaid: false,\n    color: '#F59E0B',\n    createdAt: '2023-01-01T00:00:00Z'\n  },\n  {\n    id: 'leave-4',\n    name: 'Ï∂úÏÇ∞Ìú¥Í∞Ä',\n    code: 'maternity',\n    description: 'Ï∂úÏÇ∞ÏúºÎ°ú Ïù∏Ìïú Ìú¥Í∞Ä',\n    maxDaysPerYear: 90,\n    requiresApproval: true,\n    requiresDocument: true,\n    canCarryOver: false,\n    isPaid: true,\n    color: '#EC4899',\n    createdAt: '2023-01-01T00:00:00Z'\n  },\n  {\n    id: 'leave-5',\n    name: 'Í≤ΩÏ°∞ÏÇ¨Ìú¥Í∞Ä',\n    code: 'bereavement',\n    description: 'Í≤ΩÏ°∞ÏÇ¨Î°ú Ïù∏Ìïú Ìú¥Í∞Ä',\n    maxDaysPerYear: 3,\n    requiresApproval: true,\n    requiresDocument: false,\n    canCarryOver: false,\n    isPaid: true,\n    color: '#6B7280',\n    createdAt: '2023-01-01T00:00:00Z'\n  }\n]\n\nconst initialAttendanceRecords: AttendanceRecord[] = [\n  {\n    id: 'attendance-1',\n    employeeId: 'emp-1',\n    date: '2024-01-15',\n    checkIn: '09:00',\n    checkOut: '18:00',\n    workHours: 8,\n    overtimeHours: 0,\n    status: 'present',\n    createdAt: '2024-01-15T09:00:00Z',\n    updatedAt: '2024-01-15T18:00:00Z'\n  },\n  {\n    id: 'attendance-2',\n    employeeId: 'emp-1',\n    date: '2024-01-16',\n    checkIn: '09:15',\n    checkOut: '18:30',\n    workHours: 8.25,\n    overtimeHours: 0.25,\n    status: 'late',\n    notes: 'ÏßÄÍ∞Å 15Î∂Ñ',\n    createdAt: '2024-01-16T09:15:00Z',\n    updatedAt: '2024-01-16T18:30:00Z'\n  },\n  {\n    id: 'attendance-3',\n    employeeId: 'emp-2',\n    date: '2024-01-15',\n    checkIn: '09:00',\n    checkOut: '17:30',\n    workHours: 7.5,\n    overtimeHours: 0,\n    status: 'early-leave',\n    notes: 'Ï°∞Ìá¥ 30Î∂Ñ',\n    createdAt: '2024-01-15T09:00:00Z',\n    updatedAt: '2024-01-15T17:30:00Z'\n  }\n]\n\nconst initialLeaveRequests: LeaveRequest[] = [\n  {\n    id: 'leave-req-1',\n    employeeId: 'emp-1',\n    leaveTypeId: 'leave-1',\n    startDate: '2024-02-01',\n    endDate: '2024-02-03',\n    days: 3,\n    reason: 'Í∞ÄÏ°± Ïó¨Ìñâ',\n    status: 'approved',\n    requestedAt: '2024-01-20T10:00:00Z',\n    approvedBy: 'emp-3',\n    approvedAt: '2024-01-21T14:00:00Z'\n  },\n  {\n    id: 'leave-req-2',\n    employeeId: 'emp-2',\n    leaveTypeId: 'leave-2',\n    startDate: '2024-01-25',\n    endDate: '2024-01-25',\n    days: 1,\n    reason: 'Í∞êÍ∏∞Î°ú Ïù∏Ìïú Ìú¥Í∞Ä',\n    status: 'pending',\n    requestedAt: '2024-01-24T16:00:00Z'\n  }\n]\n\nconst initialLeaveBalances: LeaveBalance[] = [\n  {\n    id: 'balance-1',\n    employeeId: 'emp-1',\n    year: 2024,\n    leaveTypeId: 'leave-1',\n    totalDays: 15,\n    usedDays: 3,\n    remainingDays: 12,\n    carriedOverDays: 2,\n    createdAt: '2024-01-01T00:00:00Z',\n    updatedAt: '2024-01-20T00:00:00Z'\n  },\n  {\n    id: 'balance-2',\n    employeeId: 'emp-2',\n    year: 2024,\n    leaveTypeId: 'leave-1',\n    totalDays: 15,\n    usedDays: 5,\n    remainingDays: 10,\n    carriedOverDays: 0,\n    createdAt: '2024-01-01T00:00:00Z',\n    updatedAt: '2024-01-15T00:00:00Z'\n  }\n]\n\nconst initialWorkSchedules: WorkSchedule[] = [\n  {\n    id: 'schedule-1',\n    employeeId: 'emp-1',\n    date: '2024-01-15',\n    shiftType: 'day',\n    startTime: '09:00',\n    endTime: '18:00',\n    workHours: 8,\n    createdAt: '2024-01-15T00:00:00Z'\n  }\n]\n\n// Ïä§ÌÜ†Ïñ¥ ÏÉùÏÑ±\nexport const leaveTypes = writable<LeaveType[]>(initialLeaveTypes)\nexport const attendanceRecords = writable<AttendanceRecord[]>(initialAttendanceRecords)\nexport const leaveRequests = writable<LeaveRequest[]>(initialLeaveRequests)\nexport const leaveBalances = writable<LeaveBalance[]>(initialLeaveBalances)\nexport const workSchedules = writable<WorkSchedule[]>(initialWorkSchedules)\n\n// Í∑ºÌÉú Í∏∞Î°ù Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function addAttendanceRecord(\n  record: Omit<AttendanceRecord, 'id' | 'createdAt' | 'updatedAt'>\n) {\n  const newRecord: AttendanceRecord = {\n    ...record,\n    id: `attendance-${Date.now()}`,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n  attendanceRecords.update(current => [...current, newRecord])\n}\n\nexport function updateAttendanceRecord(id: string, updates: Partial<AttendanceRecord>) {\n  attendanceRecords.update(current =>\n    current.map(record =>\n      record.id === id ? { ...record, ...updates, updatedAt: new Date().toISOString() } : record\n    )\n  )\n}\n\nexport function checkIn(employeeId: string, time?: string) {\n  const now = time || new Date().toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })\n  const today = new Date().toISOString().split('T')[0]\n\n  // Ïò§ÎäòÏùò Í∑ºÌÉú Í∏∞Î°ùÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n  let existingRecord: any = null\n  attendanceRecords.subscribe(records => {\n    existingRecord = records.find(\n      record => record.employeeId === employeeId && record.date === today\n    )\n  })\n\n  if (existingRecord) {\n    // Í∏∞Ï°¥ Í∏∞Î°ù ÏóÖÎç∞Ïù¥Ìä∏\n    attendanceRecords.update(current =>\n      current.map(record =>\n        record.employeeId === employeeId && record.date === today\n          ? { ...record, checkIn: now, status: 'present', updatedAt: new Date().toISOString() }\n          : record\n      )\n    )\n  } else {\n    // ÏÉà Í∏∞Î°ù ÏÉùÏÑ±\n    addAttendanceRecord({\n      employeeId: employeeId || '',\n      date: today,\n      checkIn: now,\n      status: 'present'\n    })\n  }\n}\n\nexport function checkOut(employeeId: string, time?: string) {\n  const now = time || new Date().toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })\n  const today = new Date().toISOString().split('T')[0]\n\n  attendanceRecords.update(current =>\n    current.map(record => {\n      if (record.employeeId === employeeId && record.date === today) {\n        const checkInTime = record.checkIn\n        if (checkInTime) {\n          const workHours = calculateWorkHours(checkInTime, now)\n          const overtimeHours = Math.max(0, workHours - 8)\n\n          return {\n            ...record,\n            checkOut: now,\n            workHours,\n            overtimeHours,\n            updatedAt: new Date().toISOString()\n          }\n        }\n      }\n      return record\n    })\n  )\n}\n\n// Ìú¥Í∞Ä Ïú†Ìòï Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function addLeaveType(leaveType: Omit<LeaveType, 'id' | 'createdAt'>) {\n  const newLeaveType: LeaveType = {\n    ...leaveType,\n    id: `leave-${Date.now()}`,\n    createdAt: new Date().toISOString()\n  }\n  leaveTypes.update(current => [...current, newLeaveType])\n}\n\nexport function updateLeaveType(id: string, updates: Partial<LeaveType>) {\n  leaveTypes.update(current =>\n    current.map(leaveType => (leaveType.id === id ? { ...leaveType, ...updates } : leaveType))\n  )\n}\n\n// Ìú¥Í∞Ä Ïã†Ï≤≠ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function requestLeave(request: Omit<LeaveRequest, 'id' | 'requestedAt'>) {\n  const newRequest: LeaveRequest = {\n    ...request,\n    id: `leave-req-${Date.now()}`,\n    requestedAt: new Date().toISOString()\n  }\n  leaveRequests.update(current => [...current, newRequest])\n}\n\nexport function approveLeaveRequest(id: string, approvedBy: string) {\n  leaveRequests.update(current =>\n    current.map(request =>\n      request.id === id\n        ? {\n            ...request,\n            status: 'approved',\n            approvedBy,\n            approvedAt: new Date().toISOString()\n          }\n        : request\n    )\n  )\n}\n\nexport function rejectLeaveRequest(id: string, rejectionReason: string) {\n  leaveRequests.update(current =>\n    current.map(request =>\n      request.id === id\n        ? {\n            ...request,\n            status: 'rejected',\n            rejectionReason\n          }\n        : request\n    )\n  )\n}\n\n// Ìú¥Í∞Ä ÏûîÏó¨ÏùºÏàò Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function updateLeaveBalance(\n  employeeId: string,\n  leaveTypeId: string,\n  year: number,\n  usedDays: number\n) {\n  leaveBalances.update(current =>\n    current.map(balance => {\n      if (\n        balance.employeeId === employeeId &&\n        balance.leaveTypeId === leaveTypeId &&\n        balance.year === year\n      ) {\n        const newUsedDays = balance.usedDays + usedDays\n        const newRemainingDays = balance.totalDays - newUsedDays\n\n        return {\n          ...balance,\n          usedDays: newUsedDays,\n          remainingDays: newRemainingDays,\n          updatedAt: new Date().toISOString()\n        }\n      }\n      return balance\n    })\n  )\n}\n\nexport function initializeLeaveBalance(employeeId: string, year: number) {\n  const currentYear = new Date().getFullYear()\n  if (year !== currentYear) return\n\n  leaveTypes.subscribe(types => {\n    leaveBalances.update(current => {\n      const existingBalances = current.filter(\n        balance => balance.employeeId === employeeId && balance.year === year\n      )\n\n      const newBalances = types\n        .filter(type => !existingBalances.some(balance => balance.leaveTypeId === type.id))\n        .map(type => ({\n          id: `balance-${Date.now()}-${Math.random()}`,\n          employeeId,\n          year,\n          leaveTypeId: type.id,\n          totalDays: type.maxDaysPerYear || 0,\n          usedDays: 0,\n          remainingDays: type.maxDaysPerYear || 0,\n          carriedOverDays: 0,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString()\n        }))\n\n      return [...current, ...newBalances]\n    })\n  })\n}\n\n// ÍµêÎåÄ/Ïä§ÏºÄÏ§Ñ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function addWorkSchedule(schedule: Omit<WorkSchedule, 'id' | 'createdAt'>) {\n  const newSchedule: WorkSchedule = {\n    ...schedule,\n    id: `schedule-${Date.now()}`,\n    createdAt: new Date().toISOString()\n  }\n  workSchedules.update(current => [...current, newSchedule])\n}\n\n// Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\nexport function calculateWorkHours(checkIn: string, checkOut: string): number {\n  const [checkInHour, checkInMinute] = checkIn.split(':').map(Number)\n  const [checkOutHour, checkOutMinute] = checkOut.split(':').map(Number)\n\n  const checkInMinutes = (checkInHour || 0) * 60 + (checkInMinute || 0)\n  const checkOutMinutes = (checkOutHour || 0) * 60 + (checkOutMinute || 0)\n\n  const workMinutes = checkOutMinutes - checkInMinutes\n  return Math.round((workMinutes / 60) * 100) / 100 // ÏÜåÏàòÏ†ê ÎëòÏß∏ ÏûêÎ¶¨ÍπåÏßÄ\n}\n\nexport function getAttendanceByEmployee(\n  employeeId: string,\n  records: AttendanceRecord[]\n): AttendanceRecord[] {\n  return records.filter(record => record.employeeId === employeeId)\n}\n\nexport function getAttendanceByDateRange(\n  startDate: string,\n  endDate: string,\n  records: AttendanceRecord[]\n): AttendanceRecord[] {\n  return records.filter(record => record.date >= startDate && record.date <= endDate)\n}\n\nexport function getLeaveRequestsByEmployee(\n  employeeId: string,\n  requests: LeaveRequest[]\n): LeaveRequest[] {\n  return requests.filter(request => request.employeeId === employeeId)\n}\n\nexport function getLeaveBalanceByEmployee(\n  employeeId: string,\n  balances: LeaveBalance[]\n): LeaveBalance[] {\n  return balances.filter(balance => balance.employeeId === employeeId)\n}\n\nexport function calculateMonthlyAttendance(\n  employeeId: string,\n  year: number,\n  month: number,\n  records: AttendanceRecord[]\n): {\n  totalDays: number\n  presentDays: number\n  absentDays: number\n  lateDays: number\n  totalWorkHours: number\n  totalOvertimeHours: number\n} {\n  const monthRecords = records.filter(record => {\n    const recordDate = new Date(record.date)\n    return (\n      record.employeeId === employeeId &&\n      recordDate.getFullYear() === year &&\n      recordDate.getMonth() === month - 1\n    )\n  })\n\n  const totalDays = monthRecords.length\n  const presentDays = monthRecords.filter(record => record.status === 'present').length\n  const absentDays = monthRecords.filter(record => record.status === 'absent').length\n  const lateDays = monthRecords.filter(record => record.status === 'late').length\n  const totalWorkHours = monthRecords.reduce((sum, record) => sum + (record.workHours || 0), 0)\n  const totalOvertimeHours = monthRecords.reduce(\n    (sum, record) => sum + (record.overtimeHours || 0),\n    0\n  )\n\n  return {\n    totalDays,\n    presentDays,\n    absentDays,\n    lateDays,\n    totalWorkHours,\n    totalOvertimeHours\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/auth.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/benefits.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/budget.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/funds.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/hr.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/hr/employee-store.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/hr/index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/notifications.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 161,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 161,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4184, 4187], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4184, 4187], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 162,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 162,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4245, 4248], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4245, 4248], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 164,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 164,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4354, 4357], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4354, 4357], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\n\nexport interface Notification {\n  id: string\n  type: 'success' | 'warning' | 'error' | 'info'\n  title: string\n  message: string\n  timestamp: string\n  read: boolean\n  actionUrl?: string\n  actionText?: string\n}\n\nexport interface NotificationSettings {\n  budgetOverage: boolean\n  goalDeadlines: boolean\n  lowBalance: boolean\n  dailyReminders: boolean\n  emailNotifications: boolean\n  pushNotifications: boolean\n}\n\n// Ï¥àÍ∏∞ ÏïåÎ¶º ÏÑ§Ï†ï\nconst initialSettings: NotificationSettings = {\n  budgetOverage: true,\n  goalDeadlines: true,\n  lowBalance: true,\n  dailyReminders: true,\n  emailNotifications: false,\n  pushNotifications: true\n}\n\n// Ï¥àÍ∏∞ ÏïåÎ¶º Îç∞Ïù¥ÌÑ∞\nconst initialNotifications: Notification[] = [\n  {\n    id: '1',\n    type: 'warning',\n    title: 'ÏòàÏÇ∞ Ï¥àÍ≥º Í≤ΩÍ≥†',\n    message: 'Ïù∏Í±¥ÎπÑ ÏòàÏÇ∞ÏùÑ 80% Ïù¥ÏÉÅ ÏÇ¨Ïö©ÌñàÏäµÎãàÎã§.',\n    timestamp: new Date().toISOString(),\n    read: false,\n    actionUrl: '/finance',\n    actionText: 'ÏòàÏÇ∞ ÌôïÏù∏'\n  },\n  {\n    id: '2',\n    type: 'info',\n    title: 'ÏûêÍ∏à ÏùºÎ≥¥ ÏûÖÎ†• ÎßàÍ∞ê',\n    message: 'Ïò§Ï†Ñ 10Ïãú 30Î∂ÑÍπåÏßÄ ÏûêÍ∏à ÏùºÎ≥¥ ÏûÖÎ†•ÏùÑ ÏôÑÎ£åÌï¥Ï£ºÏÑ∏Ïöî.',\n    timestamp: new Date(Date.now() - 3600000).toISOString(),\n    read: false,\n    actionUrl: '/finance',\n    actionText: 'ÏûÖÎ†•ÌïòÍ∏∞'\n  },\n  {\n    id: '3',\n    type: 'error',\n    title: 'ÏòàÏÇ∞ Ï¥àÍ≥º',\n    message: 'ÎßàÏºÄÌåÖ ÏòàÏÇ∞ÏùÑ 100% Ï¥àÍ≥ºÌñàÏäµÎãàÎã§.',\n    timestamp: new Date(Date.now() - 7200000).toISOString(),\n    read: true,\n    actionUrl: '/finance',\n    actionText: 'ÏòàÏÇ∞ Ï°∞Ï†ï'\n  }\n]\n\n// Ïä§ÌÜ†Ïñ¥ ÏÉùÏÑ±\nexport const notifications = writable<Notification[]>(initialNotifications)\nexport const notificationSettings = writable<NotificationSettings>(initialSettings)\n\n// ÏïåÎ¶º Ï∂îÍ∞Ä Ìï®Ïàò\nexport function addNotification(notification: Omit<Notification, 'id' | 'timestamp' | 'read'>) {\n  const newNotification: Notification = {\n    ...notification,\n    id: `notification-${Date.now()}`,\n    timestamp: new Date().toISOString(),\n    read: false\n  }\n\n  notifications.update(current => [newNotification, ...current])\n}\n\n// ÏïåÎ¶º ÏùΩÏùå Ï≤òÎ¶¨\nexport function markAsRead(notificationId: string) {\n  notifications.update(current =>\n    current.map(notification =>\n      notification.id === notificationId ? { ...notification, read: true } : notification\n    )\n  )\n}\n\n// Î™®Îì† ÏïåÎ¶º ÏùΩÏùå Ï≤òÎ¶¨\nexport function markAllAsRead() {\n  notifications.update(current => current.map(notification => ({ ...notification, read: true })))\n}\n\n// ÏïåÎ¶º ÏÇ≠Ï†ú\nexport function deleteNotification(notificationId: string) {\n  notifications.update(current =>\n    current.filter(notification => notification.id !== notificationId)\n  )\n}\n\n// ÏïåÎ¶º ÏÑ§Ï†ï ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateNotificationSettings(settings: NotificationSettings) {\n  notificationSettings.set(settings)\n}\n\n// ÏòàÏÇ∞ Ï¥àÍ≥º ÏïåÎ¶º Ï≤¥ÌÅ¨\nexport function checkBudgetOverage(budgetCategories: unknown[]) {\n  budgetCategories.forEach(category => {\n    const usage = (category.spent / category.amount) * 100\n\n    if (usage >= 100) {\n      addNotification({\n        type: 'error',\n        title: 'ÏòàÏÇ∞ Ï¥àÍ≥º',\n        message: `${category.name} ÏòàÏÇ∞ÏùÑ ${usage.toFixed(1)}% Ï¥àÍ≥ºÌñàÏäµÎãàÎã§.`,\n        actionUrl: '/finance',\n        actionText: 'ÏòàÏÇ∞ ÌôïÏù∏'\n      })\n    } else if (usage >= 80) {\n      addNotification({\n        type: 'warning',\n        title: 'ÏòàÏÇ∞ Í≤ΩÍ≥†',\n        message: `${category.name} ÏòàÏÇ∞ÏùÑ ${usage.toFixed(1)}% ÏÇ¨Ïö©ÌñàÏäµÎãàÎã§.`,\n        actionUrl: '/finance',\n        actionText: 'ÏòàÏÇ∞ ÌôïÏù∏'\n      })\n    }\n  })\n}\n\n// Î™©Ìëú ÎßàÍ∞êÏùº ÏïåÎ¶º Ï≤¥ÌÅ¨\nexport function checkGoalDeadlines(budgetGoals: unknown[]) {\n  const now = new Date()\n  const oneWeekFromNow = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000)\n\n  budgetGoals.forEach(goal => {\n    const deadline = new Date(goal.deadline)\n    const progress = (goal.currentAmount / goal.targetAmount) * 100\n\n    if (deadline <= oneWeekFromNow && deadline > now && progress < 100) {\n      const daysLeft = Math.ceil((deadline.getTime() - now.getTime()) / (24 * 60 * 60 * 1000))\n\n      addNotification({\n        type: 'warning',\n        title: 'Î™©Ìëú ÎßàÍ∞êÏùº ÏûÑÎ∞ï',\n        message: `${goal.name} Î™©Ìëú ÎßàÍ∞êÍπåÏßÄ ${daysLeft}Ïùº ÎÇ®ÏïòÏäµÎãàÎã§. (ÏßÑÌñâÎ•†: ${progress.toFixed(1)}%)`,\n        actionUrl: '/finance',\n        actionText: 'Î™©Ìëú ÌôïÏù∏'\n      })\n    }\n  })\n}\n\n// ÏûîÍ≥† Î∂ÄÏ°± ÏïåÎ¶º Ï≤¥ÌÅ¨\nexport function checkLowBalance(bankAccounts: unknown[], transactions: unknown[]) {\n  const monthlyExpense =\n    transactions\n      .filter((t: any) => t.type === 'expense')\n      .reduce((sum: number, t: any) => sum + t.amount, 0) / 12 // ÏõîÌèâÍ∑† ÏßÄÏ∂ú\n\n  const totalBalance = bankAccounts.reduce((sum: number, account: any) => sum + account.balance, 0)\n\n  if (totalBalance < monthlyExpense * 2) {\n    addNotification({\n      type: 'error',\n      title: 'ÏûîÍ≥† Î∂ÄÏ°± Í≤ΩÍ≥†',\n      message: `ÌòÑÏû¨ ÏûîÍ≥†Í∞Ä 2Í∞úÏõî Ïö¥ÏòÅÎπÑÎ≥¥Îã§ Ï†ÅÏäµÎãàÎã§. (ÏûîÍ≥†: ${totalBalance.toLocaleString()}Ïõê)`,\n      actionUrl: '/finance',\n      actionText: 'ÏûîÍ≥† ÌôïÏù∏'\n    })\n  } else if (totalBalance < monthlyExpense * 3) {\n    addNotification({\n      type: 'warning',\n      title: 'ÏûîÍ≥† Ï£ºÏùò',\n      message: `ÌòÑÏû¨ ÏûîÍ≥†Í∞Ä 3Í∞úÏõî Ïö¥ÏòÅÎπÑÎ≥¥Îã§ Ï†ÅÏäµÎãàÎã§. (ÏûîÍ≥†: ${totalBalance.toLocaleString()}Ïõê)`,\n      actionUrl: '/finance',\n      actionText: 'ÏûîÍ≥† ÌôïÏù∏'\n    })\n  }\n}\n\n// ÏûêÍ∏à ÏùºÎ≥¥ ÏûÖÎ†• ÎßàÍ∞ê ÏïåÎ¶º\nexport function checkFundsReportDeadline() {\n  const now = new Date()\n  const deadline = new Date()\n  deadline.setHours(10, 30, 0, 0)\n\n  const timeUntilDeadline = deadline.getTime() - now.getTime()\n  const minutesUntilDeadline = Math.floor(timeUntilDeadline / (1000 * 60))\n\n  if (minutesUntilDeadline > 0 && minutesUntilDeadline <= 30) {\n    addNotification({\n      type: 'info',\n      title: 'ÏûêÍ∏à ÏùºÎ≥¥ ÏûÖÎ†• ÎßàÍ∞ê',\n      message: `ÏûêÍ∏à ÏùºÎ≥¥ ÏûÖÎ†• ÎßàÍ∞êÍπåÏßÄ ${minutesUntilDeadline}Î∂Ñ ÎÇ®ÏïòÏäµÎãàÎã§.`,\n      actionUrl: '/finance',\n      actionText: 'ÏûÖÎ†•ÌïòÍ∏∞'\n    })\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/onboarding.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 253,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 253,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6451, 6454], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6451, 6454], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\n\n// Ïò®Î≥¥Îî© Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Ìï≠Î™©\nexport interface OnboardingChecklistItem {\n  id: string\n  title: string\n  description: string\n  category: 'equipment' | 'account' | 'training' | 'documentation' | 'orientation'\n  assignedTo: string // Îã¥ÎãπÏûê ID\n  dueDate?: string\n  status: 'pending' | 'in-progress' | 'completed' | 'cancelled'\n  completedBy?: string\n  completedAt?: string\n  notes?: string\n  required: boolean\n}\n\n// Ïò®Î≥¥Îî© ÌîÑÎ°úÏÑ∏Ïä§\nexport interface OnboardingProcess {\n  id: string\n  employeeId: string\n  employeeName: string\n  startDate: string\n  expectedCompletionDate: string\n  actualCompletionDate?: string\n  status: 'not-started' | 'in-progress' | 'completed' | 'cancelled'\n  checklistItems: OnboardingChecklistItem[]\n  mentorId?: string\n  buddyId?: string\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\n// Ïò§ÌîÑÎ≥¥Îî© Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Ìï≠Î™©\nexport interface OffboardingChecklistItem {\n  id: string\n  title: string\n  description: string\n  category:\n    | 'equipment-return'\n    | 'account-cleanup'\n    | 'knowledge-transfer'\n    | 'documentation'\n    | 'exit-interview'\n  assignedTo: string\n  dueDate?: string\n  status: 'pending' | 'in-progress' | 'completed' | 'cancelled'\n  completedBy?: string\n  completedAt?: string\n  notes?: string\n  required: boolean\n}\n\n// Ïò§ÌîÑÎ≥¥Îî© ÌîÑÎ°úÏÑ∏Ïä§\nexport interface OffboardingProcess {\n  id: string\n  employeeId: string\n  employeeName: string\n  lastWorkingDate: string\n  startDate: string\n  expectedCompletionDate: string\n  actualCompletionDate?: string\n  status: 'not-started' | 'in-progress' | 'completed' | 'cancelled'\n  checklistItems: OffboardingChecklistItem[]\n  reason: 'resignation' | 'termination' | 'retirement' | 'contract-end'\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\n// Î©òÌÜ†/Î≤ÑÎîî ÌîÑÎ°úÍ∑∏Îû®\nexport interface MentorBuddy {\n  id: string\n  employeeId: string\n  mentorId?: string\n  buddyId?: string\n  startDate: string\n  endDate?: string\n  status: 'active' | 'completed' | 'cancelled'\n  notes?: string\n  createdAt: string\n}\n\n// Ïò®Î≥¥Îî© ÌÖúÌîåÎ¶ø\nexport interface OnboardingTemplate {\n  id: string\n  name: string\n  description: string\n  department?: string\n  position?: string\n  checklistItems: Omit<OnboardingChecklistItem, 'id' | 'status' | 'completedBy' | 'completedAt'>[]\n  createdAt: string\n  updatedAt: string\n}\n\n// Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞\nconst initialOnboardingTemplates: OnboardingTemplate[] = [\n  {\n    id: 'template-1',\n    name: 'Ïã†ÏûÖ Í∞úÎ∞úÏûê Ïò®Î≥¥Îî©',\n    description: 'Ïã†ÏûÖ Í∞úÎ∞úÏûêÎ•º ÏúÑÌïú ÌëúÏ§Ä Ïò®Î≥¥Îî© ÌîÑÎ°úÏÑ∏Ïä§',\n    department: 'Í∞úÎ∞úÌåÄ',\n    position: 'Í∞úÎ∞úÏûê',\n    checklistItems: [\n      {\n        title: 'ÎÖ∏Ìä∏Î∂Å Î∞è Ïû•ÎπÑ ÏßÄÍ∏â',\n        description: 'Í∞úÎ∞úÏö© ÎÖ∏Ìä∏Î∂Å, Î™®ÎãàÌÑ∞, ÌÇ§Î≥¥Îìú, ÎßàÏö∞Ïä§ ÏßÄÍ∏â',\n        category: 'equipment',\n        assignedTo: 'ITÌåÄ',\n        dueDate: '1ÏùºÏ∞®',\n        required: true\n      },\n      {\n        title: 'ÌöåÏÇ¨ Í≥ÑÏ†ï ÏÉùÏÑ±',\n        description: 'Ïù¥Î©îÏùº, Ïä¨Îûô, GitLab, Jira Í≥ÑÏ†ï ÏÉùÏÑ±',\n        category: 'account',\n        assignedTo: 'ITÌåÄ',\n        dueDate: '1ÏùºÏ∞®',\n        required: true\n      },\n      {\n        title: 'Í∞úÎ∞ú ÌôòÍ≤Ω ÏÑ§Ï†ï',\n        description: 'Í∞úÎ∞ú ÎèÑÍµ¨ ÏÑ§Ïπò Î∞è ÌôòÍ≤Ω ÏÑ§Ï†ï',\n        category: 'training',\n        assignedTo: 'Î©òÌÜ†',\n        dueDate: '2ÏùºÏ∞®',\n        required: true\n      },\n      {\n        title: 'ÌöåÏÇ¨ Ïò§Î¶¨ÏóîÌÖåÏù¥ÏÖò',\n        description: 'ÌöåÏÇ¨ ÏÜåÍ∞ú, Ï°∞ÏßÅÎèÑ, ÏóÖÎ¨¥ ÌîÑÎ°úÏÑ∏Ïä§ ÏïàÎÇ¥',\n        category: 'orientation',\n        assignedTo: 'HRÌåÄ',\n        dueDate: '1ÏùºÏ∞®',\n        required: true\n      },\n      {\n        title: 'Î≥¥Ïïà ÍµêÏú°',\n        description: 'Ï†ïÎ≥¥Î≥¥Ïïà Ï†ïÏ±Ö Î∞è Î≥¥Ïïà ÍµêÏú°',\n        category: 'training',\n        assignedTo: 'Î≥¥ÏïàÌåÄ',\n        dueDate: '3ÏùºÏ∞®',\n        required: true\n      }\n    ],\n    createdAt: '2023-01-01T00:00:00Z',\n    updatedAt: '2023-01-01T00:00:00Z'\n  }\n]\n\nconst initialOnboardingProcesses: OnboardingProcess[] = [\n  {\n    id: 'onboarding-1',\n    employeeId: 'emp-1',\n    employeeName: 'ÍπÄÏ≤†Ïàò',\n    startDate: '2023-01-15',\n    expectedCompletionDate: '2023-01-22',\n    actualCompletionDate: '2023-01-20',\n    status: 'completed',\n    mentorId: 'emp-3',\n    buddyId: 'emp-2',\n    checklistItems: [\n      {\n        id: 'item-1',\n        title: 'ÎÖ∏Ìä∏Î∂Å Î∞è Ïû•ÎπÑ ÏßÄÍ∏â',\n        description: 'Í∞úÎ∞úÏö© ÎÖ∏Ìä∏Î∂Å, Î™®ÎãàÌÑ∞, ÌÇ§Î≥¥Îìú, ÎßàÏö∞Ïä§ ÏßÄÍ∏â',\n        category: 'equipment',\n        assignedTo: 'ITÌåÄ',\n        dueDate: '2023-01-15',\n        status: 'completed',\n        completedBy: 'ITÌåÄ',\n        completedAt: '2023-01-15T10:00:00Z',\n        required: true\n      },\n      {\n        id: 'item-2',\n        title: 'ÌöåÏÇ¨ Í≥ÑÏ†ï ÏÉùÏÑ±',\n        description: 'Ïù¥Î©îÏùº, Ïä¨Îûô, GitLab, Jira Í≥ÑÏ†ï ÏÉùÏÑ±',\n        category: 'account',\n        assignedTo: 'ITÌåÄ',\n        dueDate: '2023-01-15',\n        status: 'completed',\n        completedBy: 'ITÌåÄ',\n        completedAt: '2023-01-15T11:00:00Z',\n        required: true\n      }\n    ],\n    createdAt: '2023-01-15T00:00:00Z',\n    updatedAt: '2023-01-20T00:00:00Z'\n  }\n]\n\nconst initialOffboardingProcesses: OffboardingProcess[] = []\n\nconst initialMentorBuddies: MentorBuddy[] = [\n  {\n    id: 'mentor-1',\n    employeeId: 'emp-1',\n    mentorId: 'emp-3',\n    buddyId: 'emp-2',\n    startDate: '2023-01-15',\n    status: 'active',\n    createdAt: '2023-01-15T00:00:00Z'\n  }\n]\n\n// Ïä§ÌÜ†Ïñ¥ ÏÉùÏÑ±\nexport const onboardingTemplates = writable<OnboardingTemplate[]>(initialOnboardingTemplates)\nexport const onboardingProcesses = writable<OnboardingProcess[]>(initialOnboardingProcesses)\nexport const offboardingProcesses = writable<OffboardingProcess[]>(initialOffboardingProcesses)\nexport const mentorBuddies = writable<MentorBuddy[]>(initialMentorBuddies)\n\n// Ïò®Î≥¥Îî© ÌÖúÌîåÎ¶ø Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function addOnboardingTemplate(\n  template: Omit<OnboardingTemplate, 'id' | 'createdAt' | 'updatedAt'>\n) {\n  const newTemplate: OnboardingTemplate = {\n    ...template,\n    id: `template-${Date.now()}`,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n  onboardingTemplates.update(current => [...current, newTemplate])\n}\n\nexport function updateOnboardingTemplate(id: string, updates: Partial<OnboardingTemplate>) {\n  onboardingTemplates.update(current =>\n    current.map(template =>\n      template.id === id\n        ? { ...template, ...updates, updatedAt: new Date().toISOString() }\n        : template\n    )\n  )\n}\n\n// Ïò®Î≥¥Îî© ÌîÑÎ°úÏÑ∏Ïä§ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function createOnboardingProcess(\n  employeeId: string,\n  employeeName: string,\n  templateId?: string,\n  mentorId?: string,\n  buddyId?: string\n) {\n  let template: OnboardingTemplate | null = null\n  if (templateId) {\n    onboardingTemplates.subscribe(templates => {\n      template = templates.find(t => t.id === templateId) || null\n    })()\n  }\n\n  const checklistItems: OnboardingChecklistItem[] =\n    template?.checklistItems?.map((item: any) => ({\n      ...item,\n      id: `item-${Date.now()}-${Math.random()}`,\n      status: 'pending' as const\n    })) || []\n\n  const newProcess: OnboardingProcess = {\n    id: `onboarding-${Date.now()}`,\n    employeeId: employeeId || '',\n    employeeName: employeeName || '',\n    startDate: new Date().toISOString().split('T')[0] || '',\n    expectedCompletionDate:\n      new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] || '',\n    status: 'not-started',\n    checklistItems,\n    mentorId,\n    buddyId,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  onboardingProcesses.update(current => [...current, newProcess])\n  return newProcess.id\n}\n\nexport function updateOnboardingProcess(id: string, updates: Partial<OnboardingProcess>) {\n  onboardingProcesses.update(current =>\n    current.map(process =>\n      process.id === id ? { ...process, ...updates, updatedAt: new Date().toISOString() } : process\n    )\n  )\n}\n\nexport function completeOnboardingChecklistItem(\n  processId: string,\n  itemId: string,\n  completedBy: string,\n  notes?: string\n) {\n  onboardingProcesses.update(current =>\n    current.map(process => {\n      if (process.id === processId) {\n        const updatedItems = process.checklistItems.map(item => {\n          if (item.id === itemId) {\n            return {\n              ...item,\n              status: 'completed' as const,\n              completedBy,\n              completedAt: new Date().toISOString(),\n              notes\n            }\n          }\n          return item\n        })\n\n        // Î™®Îì† ÌïÑÏàò Ìï≠Î™©Ïù¥ ÏôÑÎ£åÎêòÏóàÎäîÏßÄ ÌôïÏù∏\n        const allRequiredCompleted = updatedItems\n          .filter(item => item.required)\n          .every(item => item.status === 'completed')\n\n        return {\n          ...process,\n          checklistItems: updatedItems,\n          status: allRequiredCompleted ? ('completed' as const) : ('in-progress' as const),\n          actualCompletionDate: allRequiredCompleted\n            ? new Date().toISOString().split('T')[0]\n            : undefined,\n          updatedAt: new Date().toISOString()\n        }\n      }\n      return process\n    })\n  )\n}\n\n// Ïò§ÌîÑÎ≥¥Îî© ÌîÑÎ°úÏÑ∏Ïä§ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function createOffboardingProcess(\n  employeeId: string,\n  employeeName: string,\n  lastWorkingDate: string,\n  reason: OffboardingProcess['reason']\n) {\n  const checklistItems: OffboardingChecklistItem[] = [\n    {\n      id: `item-${Date.now()}-1`,\n      title: 'Ïû•ÎπÑ Î∞òÎÇ©',\n      description: 'ÎÖ∏Ìä∏Î∂Å, Î™®ÎãàÌÑ∞, ÌÇ§Î≥¥Îìú, ÎßàÏö∞Ïä§ Îì± ÌöåÏÇ¨ Ïû•ÎπÑ Î∞òÎÇ©',\n      category: 'equipment-return',\n      assignedTo: 'ITÌåÄ',\n      status: 'pending',\n      required: true\n    },\n    {\n      id: `item-${Date.now()}-2`,\n      title: 'Í≥ÑÏ†ï Ï†ïÎ¶¨',\n      description: 'Ïù¥Î©îÏùº, Ïä¨Îûô, GitLab, Jira Îì± Î™®Îì† Í≥ÑÏ†ï ÎπÑÌôúÏÑ±Ìôî',\n      category: 'account-cleanup',\n      assignedTo: 'ITÌåÄ',\n      status: 'pending',\n      required: true\n    },\n    {\n      id: `item-${Date.now()}-3`,\n      title: 'ÏßÄÏãù Ï†ÑÏàò',\n      description: 'Îã¥Îãπ ÏóÖÎ¨¥ Î∞è ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ†® ÏßÄÏãù Ï†ÑÏàò',\n      category: 'knowledge-transfer',\n      assignedTo: 'ÏßÅÏÜçÏÉÅÏÇ¨',\n      status: 'pending',\n      required: true\n    },\n    {\n      id: `item-${Date.now()}-4`,\n      title: 'Ìá¥ÏÇ¨ Ïù∏ÌÑ∞Î∑∞',\n      description: 'Ìá¥ÏÇ¨ ÏÇ¨Ïú† Î∞è Í∞úÏÑ†ÏÇ¨Ìï≠ Ïù∏ÌÑ∞Î∑∞',\n      category: 'exit-interview',\n      assignedTo: 'HRÌåÄ',\n      status: 'pending',\n      required: true\n    }\n  ]\n\n  const newProcess: OffboardingProcess = {\n    id: `offboarding-${Date.now()}`,\n    employeeId,\n    employeeName,\n    lastWorkingDate: lastWorkingDate || '',\n    startDate: new Date().toISOString().split('T')[0] || '',\n    expectedCompletionDate:\n      new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] || '',\n    status: 'not-started',\n    checklistItems,\n    reason,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  offboardingProcesses.update(current => [...current, newProcess])\n  return newProcess.id\n}\n\nexport function completeOffboardingChecklistItem(\n  processId: string,\n  itemId: string,\n  completedBy: string,\n  notes?: string\n) {\n  offboardingProcesses.update(current =>\n    current.map(process => {\n      if (process.id === processId) {\n        const updatedItems = process.checklistItems.map(item => {\n          if (item.id === itemId) {\n            return {\n              ...item,\n              status: 'completed' as const,\n              completedBy,\n              completedAt: new Date().toISOString(),\n              notes\n            }\n          }\n          return item\n        })\n\n        // Î™®Îì† ÌïÑÏàò Ìï≠Î™©Ïù¥ ÏôÑÎ£åÎêòÏóàÎäîÏßÄ ÌôïÏù∏\n        const allRequiredCompleted = updatedItems\n          .filter(item => item.required)\n          .every(item => item.status === 'completed')\n\n        return {\n          ...process,\n          checklistItems: updatedItems,\n          status: allRequiredCompleted ? ('completed' as const) : ('in-progress' as const),\n          actualCompletionDate: allRequiredCompleted\n            ? new Date().toISOString().split('T')[0]\n            : undefined,\n          updatedAt: new Date().toISOString()\n        }\n      }\n      return process\n    })\n  )\n}\n\n// Î©òÌÜ†/Î≤ÑÎîî Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\nexport function assignMentorBuddy(employeeId: string, mentorId?: string, buddyId?: string) {\n  const newMentorBuddy: MentorBuddy = {\n    id: `mentor-${Date.now()}`,\n    employeeId,\n    mentorId,\n    buddyId: buddyId || '',\n    startDate: new Date().toISOString().split('T')[0] || '',\n    status: 'active',\n    createdAt: new Date().toISOString()\n  }\n\n  mentorBuddies.update(current => [...current, newMentorBuddy])\n}\n\nexport function updateMentorBuddy(id: string, updates: Partial<MentorBuddy>) {\n  mentorBuddies.update(current =>\n    current.map(mentor => (mentor.id === id ? { ...mentor, ...updates } : mentor))\n  )\n}\n\n// Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\nexport function getOnboardingProcessByEmployee(\n  employeeId: string,\n  processList: OnboardingProcess[]\n): OnboardingProcess | undefined {\n  return processList.find(process => process.employeeId === employeeId)\n}\n\nexport function getOffboardingProcessByEmployee(\n  employeeId: string,\n  processList: OffboardingProcess[]\n): OffboardingProcess | undefined {\n  return processList.find(process => process.employeeId === employeeId)\n}\n\nexport function getMentorBuddyByEmployee(\n  employeeId: string,\n  mentorList: MentorBuddy[]\n): MentorBuddy | undefined {\n  return mentorList.find(mentor => mentor.employeeId === employeeId && mentor.status === 'active')\n}\n\nexport function getOnboardingProgress(process: OnboardingProcess): number {\n  if (process.checklistItems.length === 0) return 0\n  const completedItems = process.checklistItems.filter(item => item.status === 'completed').length\n  return Math.round((completedItems / process.checklistItems.length) * 100)\n}\n\nexport function getOffboardingProgress(process: OffboardingProcess): number {\n  if (process.checklistItems.length === 0) return 0\n  const completedItems = process.checklistItems.filter(item => item.status === 'completed').length\n  return Math.round((completedItems / process.checklistItems.length) * 100)\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/performance.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/personnel.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/policies.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/audit-security.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 16,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 16,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [463, 466], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [463, 466], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [479, 482], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [479, 482], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 21,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 21,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 176,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 176,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4759, 4762], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4759, 4762], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 242,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 242,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6532, 6535], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6532, 6535], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 257,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 257,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6890, 6893], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6890, 6893], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 272,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 272,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7211, 7214], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7211, 7214], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'userId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 303,
        "column": 29,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 303,
        "endColumn": 35
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 303,
        "column": 45,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 303,
        "endColumn": 54
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 310,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 310,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8245, 8248], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8245, 8248], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 326,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 326,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 346,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 346,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9113, 9116], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9113, 9116], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 346,
        "column": 65,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 346,
        "endColumn": 68,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9137, 9140], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9137, 9140], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 349,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 349,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9185, 9188], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9185, 9188], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 486,
        "column": 70,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 486,
        "endColumn": 73,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12364, 12367], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12364, 12367], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 504,
        "column": 75,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 504,
        "endColumn": 78,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12716, 12719], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12716, 12719], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 522,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 522,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13031, 13034], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13031, 13034], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 13,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { AuditLog, Person } from './types'\nimport { logger } from '$lib/utils/logger';\n\n// Í∞êÏÇ¨ Î°úÍ∑∏ Í¥ÄÎ¶¨\nexport const auditLogs = writable<AuditLog[]>([])\nexport const securityPolicies = writable<Record<string, unknown>>({})\nexport const accessControl = writable<Record<string, unknown>>({})\n\n// Í∞êÏÇ¨ Î°úÍ∑∏ ÏÉùÏÑ±\nexport function createAuditLog(\n  actorId: string,\n  action: string,\n  entity: string,\n  entityId: string,\n  oldData: any,\n  newData: any,\n  metadata?: Record<string, unknown>\n): string {\n  const auditLog: AuditLog = {\n    id: crypto.randomUUID(),\n    actorId,\n    action,\n    entity,\n    entityId,\n    diff: { old: oldData, new: newData },\n    at: new Date().toISOString()\n  }\n\n  // Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä\n  if (metadata) {\n    auditLog.metadata = metadata\n  }\n\n  auditLogs.update(logs => [...logs, auditLog])\n\n  return auditLog.id\n}\n\n// Í∞êÏÇ¨ Î°úÍ∑∏ Ï°∞Ìöå\nexport function getAuditLogs(filters?: {\n  actorId?: string\n  entity?: string\n  entityId?: string\n  action?: string\n  startDate?: string\n  endDate?: string\n}): AuditLog[] {\n  let filteredLogs: AuditLog[] = []\n\n  auditLogs.subscribe(logs => {\n    filteredLogs = logs.filter(log => {\n      if (filters?.actorId && log.actorId !== filters.actorId) return false\n      if (filters?.entity && log.entity !== filters.entity) return false\n      if (filters?.entityId && log.entityId !== filters.entityId) return false\n      if (filters?.action && log.action !== filters.action) return false\n      if (filters?.startDate && log.at < filters.startDate) return false\n      if (filters?.endDate && log.at > filters.endDate) return false\n      return true\n    })\n  })()\n\n  return filteredLogs.sort((a, b) => new Date(b.at).getTime() - new Date(a.at).getTime())\n}\n\n// ÏóîÌã∞Ìã∞Î≥Ñ Í∞êÏÇ¨ Î°úÍ∑∏ Ï°∞Ìöå\nexport function getEntityAuditTrail(entity: string, entityId: string): AuditLog[] {\n  return getAuditLogs({ entity, entityId })\n}\n\n// ÏÇ¨Ïö©ÏûêÎ≥Ñ Í∞êÏÇ¨ Î°úÍ∑∏ Ï°∞Ìöå\nexport function getUserAuditTrail(actorId: string): AuditLog[] {\n  return getAuditLogs({ actorId })\n}\n\n// Î≥¥Ïïà Ï†ïÏ±Ö Ï†ïÏùò\nexport function defineSecurityPolicies(): void {\n  const policies = {\n    password: {\n      minLength: 8,\n      requireUppercase: true,\n      requireLowercase: true,\n      requireNumbers: true,\n      requireSpecialChars: true,\n      maxAge: 90, // days\n      historyCount: 5\n    },\n    session: {\n      timeout: 30, // minutes\n      maxConcurrent: 3,\n      requireReauth: ['sensitive_operations']\n    },\n    access: {\n      ipWhitelist: [],\n      ipBlacklist: [],\n      requireMFA: ['admin_operations', 'financial_operations'],\n      auditLevel: 'detailed'\n    },\n    data: {\n      encryption: {\n        atRest: true,\n        inTransit: true,\n        algorithm: 'AES-256'\n      },\n      retention: {\n        auditLogs: 2555, // 7 years in days\n        documents: 1095, // 3 years in days\n        backups: 365 // 1 year in days\n      },\n      anonymization: {\n        enabled: true,\n        fields: ['ssn', 'personal_id', 'bank_account']\n      }\n    }\n  }\n\n  securityPolicies.set(policies)\n}\n\n// Ï†ëÍ∑º Ï†úÏñ¥ Ï†ïÏ±Ö Ï†ïÏùò\nexport function defineAccessControlPolicies(): void {\n  const policies: Record<string, unknown> = {\n    roles: {\n      R1: {\n        // Ïó∞Íµ¨Ïõê\n        permissions: ['read_own_data', 'create_research_notes', 'upload_documents'],\n        restrictions: ['financial_data', 'personnel_data', 'audit_logs']\n      },\n      R2: {\n        // PM\n        permissions: ['read_project_data', 'approve_expenses', 'manage_milestones'],\n        restrictions: ['financial_data', 'audit_logs']\n      },\n      R3: {\n        // Îã¥ÎãπÎ∂ÄÏÑú\n        permissions: ['read_department_data', 'process_expenses', 'manage_documents'],\n        restrictions: ['personnel_data', 'audit_logs']\n      },\n      R4: {\n        // Í≤ΩÏòÅÏßÄÏõê\n        permissions: ['read_financial_data', 'manage_budgets', 'create_bundles'],\n        restrictions: ['audit_logs']\n      },\n      R5: {\n        // Ïó∞Íµ¨ÏÜåÏû•\n        permissions: ['read_all_data', 'approve_major_decisions', 'manage_personnel'],\n        restrictions: []\n      },\n      R6: {\n        // Í≤ΩÏòÅÏßÑ\n        permissions: ['read_all_data', 'manage_all_resources', 'view_audit_logs'],\n        restrictions: []\n      },\n      R7: {\n        // Í∞êÏÇ¨\n        permissions: ['read_audit_logs', 'view_all_data', 'export_data'],\n        restrictions: ['modify_data']\n      }\n    },\n    dataClassification: {\n      public: ['project_titles', 'public_milestones'],\n      internal: ['project_details', 'budget_summaries', 'personnel_summaries'],\n      confidential: ['financial_details', 'personnel_details', 'research_data'],\n      restricted: ['audit_logs', 'security_data', 'personal_identifiers']\n    }\n  }\n\n  accessControl.set(policies)\n}\n\n// Ï†ëÍ∑º Í∂åÌïú Í≤ÄÏ¶ù\nexport function checkAccessPermission(\n  userId: string,\n  resource: string,\n  action: string,\n  context?: any\n): {\n  allowed: boolean\n  reason?: string\n  auditRequired: boolean\n} {\n  // 1. ÏÇ¨Ïö©Ïûê Ïó≠Ìï† ÌôïÏù∏\n  const user = getUserById(userId)\n  if (!user) {\n    return { allowed: false, reason: 'User not found', auditRequired: true }\n  }\n\n  // 2. Ïó≠Ìï†Î≥Ñ Í∂åÌïú ÌôïÏù∏\n  const rolePermissions = getRolePermissions(user.roleSet)\n  if (!rolePermissions.includes(action)) {\n    return { allowed: false, reason: 'Insufficient permissions', auditRequired: true }\n  }\n\n  // 3. Îç∞Ïù¥ÌÑ∞ Î∂ÑÎ•ò ÌôïÏù∏\n  const dataClassification = getDataClassification(resource)\n  if (\n    dataClassification === 'restricted' &&\n    !user.roleSet.includes('R6') &&\n    !user.roleSet.includes('R7')\n  ) {\n    return { allowed: false, reason: 'Restricted data access', auditRequired: true }\n  }\n\n  // 4. Ïª®ÌÖçÏä§Ìä∏ Í∏∞Î∞ò Í≤ÄÏ¶ù\n  if (context) {\n    const contextCheck = validateContext(user, resource, action, context)\n    if (!contextCheck.allowed) {\n      return { allowed: false, reason: contextCheck.reason, auditRequired: true }\n    }\n  }\n\n  // 5. MFA ÏöîÍµ¨ÏÇ¨Ìï≠ ÌôïÏù∏\n  const mfaRequired = isMFARequired(action)\n  if (mfaRequired && !context?.mfaVerified) {\n    return { allowed: false, reason: 'MFA required', auditRequired: false }\n  }\n\n  return { allowed: true, auditRequired: true }\n}\n\n// ÏÇ¨Ïö©Ïûê IDÎ°ú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getUserById(userId: string): Person | null {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏÇ¨Ïö©Ïûê Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Í∞ÄÏ†∏Ïò¥\n  return {\n    id: userId,\n    name: 'Test User',\n    email: 'test@example.com',\n    department: 'Test Department',\n    roleSet: ['R1'],\n    active: true,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n}\n\n// Ïó≠Ìï†Î≥Ñ Í∂åÌïú Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getRolePermissions(roleSet: string[]): string[] {\n  let permissions: string[] = []\n\n  accessControl.subscribe(policies => {\n    roleSet.forEach(role => {\n      const rolePolicy = (policies as any).roles?.[role]\n      if (rolePolicy) {\n        permissions = [...permissions, ...rolePolicy.permissions]\n      }\n    })\n  })()\n\n  return [...new Set(permissions)] // Ï§ëÎ≥µ Ï†úÍ±∞\n}\n\n// Îç∞Ïù¥ÌÑ∞ Î∂ÑÎ•ò Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getDataClassification(resource: string): string {\n  let classification = 'public'\n\n  accessControl.subscribe(policies => {\n    Object.entries((policies as any).dataClassification || {}).forEach(([level, resources]) => {\n      if (Array.isArray(resources) && resources.includes(resource)) {\n        classification = level\n      }\n    })\n  })()\n\n  return classification\n}\n\n// Ïª®ÌÖçÏä§Ìä∏ Í∏∞Î∞ò Í≤ÄÏ¶ù\nfunction validateContext(\n  user: Person,\n  resource: string,\n  action: string,\n  context: any\n): { allowed: boolean; reason?: string } {\n  // 1. ÏÜåÏú†Í∂å ÌôïÏù∏\n  if (context.ownerId && context.ownerId !== user.id) {\n    // ÏÜåÏú†ÏûêÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞ Ï∂îÍ∞Ä Í∂åÌïú ÌôïÏù∏\n    if (!user.roleSet.includes('R5') && !user.roleSet.includes('R6')) {\n      return { allowed: false, reason: 'Not owner and insufficient role' }\n    }\n  }\n\n  // 2. ÌîÑÎ°úÏ†ùÌä∏ Ï†ëÍ∑º Í∂åÌïú ÌôïÏù∏\n  if (context.projectId) {\n    const hasProjectAccess = checkProjectAccess(user.id, context.projectId)\n    if (!hasProjectAccess) {\n      return { allowed: false, reason: 'No project access' }\n    }\n  }\n\n  // 3. ÏãúÍ∞Ñ Í∏∞Î∞ò Ï†úÌïú ÌôïÏù∏\n  if (context.timeRestriction) {\n    const now = new Date()\n    const restriction = new Date(context.timeRestriction)\n    if (now > restriction) {\n      return { allowed: false, reason: 'Time restriction exceeded' }\n    }\n  }\n\n  return { allowed: true }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ Ï†ëÍ∑º Í∂åÌïú ÌôïÏù∏\nfunction checkProjectAccess(userId: string, projectId: string): boolean {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨Ïûê Î™©Î°ùÏùÑ ÌôïÏù∏\n  return true // Î™®Ïùò Íµ¨ÌòÑ\n}\n\n// MFA ÏöîÍµ¨ÏÇ¨Ìï≠ ÌôïÏù∏\nfunction isMFARequired(action: string): boolean {\n  let policies: any = {}\n\n  securityPolicies.subscribe(p => {\n    policies = p\n  })()\n\n  return policies.session?.requireReauth?.includes(action) || false\n}\n\n// Î≥¥Ïïà Ïù¥Î≤§Ìä∏ Î°úÍπÖ\nexport function logSecurityEvent(\n  eventType: 'login' | 'logout' | 'access_denied' | 'data_export' | 'suspicious_activity',\n  userId: string,\n  details: Record<string, unknown>\n): void {\n  const securityLog = {\n    id: crypto.randomUUID(),\n    eventType,\n    userId,\n    details,\n    timestamp: new Date().toISOString(),\n    ipAddress: details.ipAddress || 'unknown',\n    userAgent: details.userAgent || 'unknown'\n  }\n\n  // Î≥¥Ïïà Î°úÍ∑∏Îäî Î≥ÑÎèÑ Ïä§ÌÜ†Ïñ¥Ïóê Ï†ÄÏû• (Ïã§Ï†ú Íµ¨ÌòÑ)\n  logger.log('Security Event:', securityLog)\n\n  // Í∞êÏÇ¨ Î°úÍ∑∏ÏóêÎèÑ Í∏∞Î°ù\n  createAuditLog(userId, `security_${eventType}`, 'security', securityLog.id, {}, details, {\n    eventType,\n    ipAddress: details.ipAddress\n  })\n}\n\n// Îç∞Ïù¥ÌÑ∞ ÎßàÏä§ÌÇπ\nexport function maskSensitiveData(data: any, userRole: string): any {\n  if (!data) return data\n\n  let policies: any = {}\n  securityPolicies.subscribe(p => {\n    policies = p\n  })()\n\n  const maskFields = policies.data?.anonymization?.fields || []\n\n  if (typeof data === 'object') {\n    const masked = { ...data }\n\n    maskFields.forEach(field => {\n      if (masked[field]) {\n        masked[field] = maskValue(masked[field], userRole)\n      }\n    })\n\n    return masked\n  }\n\n  return data\n}\n\n// Í∞í ÎßàÏä§ÌÇπ\nfunction maskValue(value: string, userRole: string): string {\n  // Í∞êÏÇ¨ Ïó≠Ìï†ÏùÄ Ï†ÑÏ≤¥ Í∞í ÌëúÏãú\n  if (userRole === 'R7') {\n    return value\n  }\n\n  // Í≤ΩÏòÅÏßÑÏùÄ Î∂ÄÎ∂Ñ ÎßàÏä§ÌÇπ\n  if (userRole === 'R6') {\n    if (value.length > 4) {\n      return (\n        value.substring(0, 2) + '*'.repeat(value.length - 4) + value.substring(value.length - 2)\n      )\n    }\n    return '*'.repeat(value.length)\n  }\n\n  // Í∏∞ÌÉÄ Ïó≠Ìï†ÏùÄ ÏôÑÏ†Ñ ÎßàÏä§ÌÇπ\n  return '*'.repeat(value.length)\n}\n\n// Í∞êÏÇ¨ Î°úÍ∑∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞\nexport function exportAuditLogs(\n  format: 'json' | 'csv' | 'excel',\n  filters?: {\n    startDate?: string\n    endDate?: string\n    entity?: string\n    action?: string\n  }\n): string {\n  const logs = getAuditLogs(filters)\n\n  if (format === 'json') {\n    return JSON.stringify(logs, null, 2)\n  } else if (format === 'csv') {\n    const csvHeader = 'ID,Actor ID,Action,Entity,Entity ID,Timestamp,Details\\n'\n    const csvRows = logs\n      .map(\n        log =>\n          `${log.id},${log.actorId},${log.action},${log.entity},${log.entityId},${log.at},\"${JSON.stringify(log.diff).replace(/\"/g, '\"\"')}\"`\n      )\n      .join('\\n')\n    return csvHeader + csvRows\n  }\n\n  return JSON.stringify(logs, null, 2)\n}\n\n// Î≥¥Ïïà Ï†ïÏ±Ö ÏúÑÎ∞ò Í∞êÏßÄ\nexport function detectSecurityViolations(): {\n  violations: Array<{\n    type: string\n    severity: 'low' | 'medium' | 'high' | 'critical'\n    description: string\n    recommendation: string\n  }>\n} {\n  const violations = []\n\n  // 1. ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Ï†ëÍ∑º Ìå®ÌÑ¥ Í∞êÏßÄ\n  const suspiciousAccess = detectSuspiciousAccess()\n  if (suspiciousAccess.length > 0) {\n    violations.push({\n      type: 'suspicious_access',\n      severity: 'high',\n      description: `${suspiciousAccess.length}Í±¥Ïùò ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Ï†ëÍ∑ºÏù¥ Í∞êÏßÄÎêòÏóàÏäµÎãàÎã§.`,\n      recommendation: 'Ìï¥Îãπ ÏÇ¨Ïö©ÏûêÏùò Ï†ëÍ∑ºÏùÑ Ï†úÌïúÌïòÍ≥† Ï∂îÍ∞Ä Ï°∞ÏÇ¨Î•º ÏàòÌñâÌïòÏÑ∏Ïöî.'\n    })\n  }\n\n  // 2. Í∂åÌïú ÏÉÅÏäπ ÏãúÎèÑ Í∞êÏßÄ\n  const privilegeEscalation = detectPrivilegeEscalation()\n  if (privilegeEscalation.length > 0) {\n    violations.push({\n      type: 'privilege_escalation',\n      severity: 'critical',\n      description: `${privilegeEscalation.length}Í±¥Ïùò Í∂åÌïú ÏÉÅÏäπ ÏãúÎèÑÍ∞Ä Í∞êÏßÄÎêòÏóàÏäµÎãàÎã§.`,\n      recommendation: 'Ï¶âÏãú Ìï¥Îãπ Í≥ÑÏ†ïÏùÑ ÎπÑÌôúÏÑ±ÌôîÌïòÍ≥† Î≥¥ÏïàÌåÄÏóê Î≥¥Í≥†ÌïòÏÑ∏Ïöî.'\n    })\n  }\n\n  // 3. ÎåÄÎüâ Îç∞Ïù¥ÌÑ∞ Ï†ëÍ∑º Í∞êÏßÄ\n  const bulkDataAccess = detectBulkDataAccess()\n  if (bulkDataAccess.length > 0) {\n    violations.push({\n      type: 'bulk_data_access',\n      severity: 'medium',\n      description: `${bulkDataAccess.length}Í±¥Ïùò ÎåÄÎüâ Îç∞Ïù¥ÌÑ∞ Ï†ëÍ∑ºÏù¥ Í∞êÏßÄÎêòÏóàÏäµÎãàÎã§.`,\n      recommendation: 'Ìï¥Îãπ Ï†ëÍ∑ºÏùò Ï†ïÎãπÏÑ±ÏùÑ ÌôïÏù∏ÌïòÍ≥† ÌïÑÏöîÏãú Ï†ëÍ∑ºÏùÑ Ï†úÌïúÌïòÏÑ∏Ïöî.'\n    })\n  }\n\n  return { violations }\n}\n\n// ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Ï†ëÍ∑º Ìå®ÌÑ¥ Í∞êÏßÄ\nfunction detectSuspiciousAccess(): unknown[] {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ï†ëÍ∑º Î°úÍ∑∏Î•º Î∂ÑÏÑù\n  return []\n}\n\n// Í∂åÌïú ÏÉÅÏäπ ÏãúÎèÑ Í∞êÏßÄ\nfunction detectPrivilegeEscalation(): unknown[] {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Í∂åÌïú Î≥ÄÍ≤Ω Î°úÍ∑∏Î•º Î∂ÑÏÑù\n  return []\n}\n\n// ÎåÄÎüâ Îç∞Ïù¥ÌÑ∞ Ï†ëÍ∑º Í∞êÏßÄ\nfunction detectBulkDataAccess(): unknown[] {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Îç∞Ïù¥ÌÑ∞ Ï†ëÍ∑º Î°úÍ∑∏Î•º Î∂ÑÏÑù\n  return []\n}\n\n// Î≥¥Ïïà Ï†ïÏ±Ö ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateSecurityPolicy(policyType: string, policyData: any): void {\n  securityPolicies.update(policies => ({\n    ...policies,\n    [policyType]: policyData\n  }))\n\n  // Ï†ïÏ±Ö Î≥ÄÍ≤Ω Í∞êÏÇ¨ Î°úÍ∑∏\n  createAuditLog(\n    'current-user',\n    'update_security_policy',\n    'security_policy',\n    policyType,\n    {},\n    policyData\n  )\n}\n\n// Ï†ëÍ∑º Ï†úÏñ¥ Ï†ïÏ±Ö ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateAccessControlPolicy(policyType: string, policyData: any): void {\n  accessControl.update(policies => ({\n    ...policies,\n    [policyType]: policyData\n  }))\n\n  // Ï†ïÏ±Ö Î≥ÄÍ≤Ω Í∞êÏÇ¨ Î°úÍ∑∏\n  createAuditLog(\n    'current-user',\n    'update_access_control',\n    'access_control',\n    policyType,\n    {},\n    policyData\n  )\n}\n\n// Î≥¥Ïïà ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞\nexport function getSecurityDashboardData(): any {\n  const recentLogs = getAuditLogs().slice(0, 10)\n  const violations = detectSecurityViolations()\n\n  return {\n    recentLogs,\n    violations: violations.violations,\n    totalLogs: getAuditLogs().length,\n    securityEvents: {\n      login: getAuditLogs({ action: 'security_login' }).length,\n      logout: getAuditLogs({ action: 'security_logout' }).length,\n      accessDenied: getAuditLogs({ action: 'security_access_denied' }).length,\n      dataExport: getAuditLogs({ action: 'security_data_export' }).length\n    }\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/budget-workflow.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 197,
        "column": 61,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 197,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5766, 5769], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5766, 5769], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'requiredDocs' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 227,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 227,
        "endColumn": 21
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 325,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 325,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8820, 8823], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8820, 8823], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 351,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 351,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9462, 9465], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9462, 9465], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 352,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 352,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9481, 9484], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9481, 9484], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { BudgetCategoryMaster, ExpenseItem, Approval } from './types'\n\n// ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÎßàÏä§ÌÑ∞ Îç∞Ïù¥ÌÑ∞\nexport const budgetCategoryMaster = writable<BudgetCategoryMaster[]>([\n  {\n    categoryCode: 'PERSONNEL_CASH',\n    nameKo: 'Ïù∏Í±¥ÎπÑ(ÌòÑÍ∏à)',\n    requiredDocs: [\n      { type: 'participation_assignment', required: true, templateId: 'TMP-PA-001' },\n      { type: 'salary_statement', required: true, templateId: 'TMP-SS-001' },\n      { type: 'insurance_tax', required: true, templateId: 'TMP-IT-001' },\n      { type: 'salary_allocation', required: true, templateId: 'TMP-SA-001' }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 5\n    },\n    defaultSlaDays: 5,\n    defaultOwners: {\n      primary: 'R4',\n      secondary: 'R2'\n    }\n  },\n  {\n    categoryCode: 'PERSONNEL_IN_KIND',\n    nameKo: 'Ïù∏Í±¥ÎπÑ(ÌòÑÎ¨º)',\n    requiredDocs: [\n      { type: 'participation_assignment', required: true, templateId: 'TMP-PA-001' },\n      { type: 'salary_statement', required: true, templateId: 'TMP-SS-001' },\n      { type: 'insurance_tax', required: true, templateId: 'TMP-IT-001' },\n      { type: 'salary_allocation', required: true, templateId: 'TMP-SA-001' }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 5\n    },\n    defaultSlaDays: 5,\n    defaultOwners: {\n      primary: 'R4',\n      secondary: 'R2'\n    }\n  },\n  {\n    categoryCode: 'MATERIAL',\n    nameKo: 'Ïû¨Î£åÎπÑ',\n    requiredDocs: [\n      { type: 'requisition', required: true, templateId: 'TMP-REQ-001' },\n      { type: 'quote', required: true, templateId: 'TMP-QTE-001' },\n      { type: 'purchase_order', required: true, templateId: 'TMP-PO-001' },\n      { type: 'tax_invoice', required: true },\n      { type: 'delivery_note', required: true },\n      { type: 'inspection_report', required: true, templateId: 'TMP-INS-001' }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 10\n    },\n    defaultSlaDays: 10,\n    defaultOwners: {\n      primary: 'R3',\n      secondary: 'R4'\n    }\n  },\n  {\n    categoryCode: 'RESEARCH_ACTIVITY',\n    nameKo: 'Ïó∞Íµ¨ÌôúÎèôÎπÑ',\n    requiredDocs: [\n      { type: 'requisition', required: true, templateId: 'TMP-REQ-001' },\n      { type: 'activity_plan', required: true, templateId: 'TMP-AP-001' },\n      { type: 'activity_report', required: true, templateId: 'TMP-AR-001' },\n      { type: 'receipt', required: true }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 5\n    },\n    defaultSlaDays: 5,\n    defaultOwners: {\n      primary: 'R2',\n      secondary: 'R4'\n    }\n  },\n  {\n    categoryCode: 'TRAVEL',\n    nameKo: 'Ï∂úÏû•ÎπÑ',\n    requiredDocs: [\n      { type: 'travel_plan', required: true, templateId: 'TMP-TP-001' },\n      { type: 'transport_receipt', required: true },\n      { type: 'accommodation_receipt', required: true },\n      { type: 'travel_report', required: true, templateId: 'TMP-TR-001' }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 3\n    },\n    defaultSlaDays: 3,\n    defaultOwners: {\n      primary: 'R2',\n      secondary: 'R4'\n    }\n  },\n  {\n    categoryCode: 'MEETING',\n    nameKo: 'ÌöåÏùòÎπÑ',\n    requiredDocs: [\n      { type: 'requisition', required: true, templateId: 'TMP-REQ-001' },\n      { type: 'attendee_list', required: true, templateId: 'TMP-AL-001' },\n      { type: 'receipt', required: true },\n      { type: 'meeting_minutes', required: true, templateId: 'TMP-MM-001' }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 3\n    },\n    defaultSlaDays: 3,\n    defaultOwners: {\n      primary: 'R3',\n      secondary: 'R4'\n    }\n  },\n  {\n    categoryCode: 'PATENT',\n    nameKo: 'ÌäπÌóàÏ∂úÏõêÎπÑ',\n    requiredDocs: [\n      { type: 'requisition', required: true, templateId: 'TMP-REQ-001' },\n      { type: 'patent_specification', required: true, templateId: 'TMP-PS-001' },\n      { type: 'power_of_attorney', required: true, templateId: 'TMP-POA-001' },\n      { type: 'fee_receipt', required: true }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'LAB_HEAD_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 5\n    },\n    defaultSlaDays: 5,\n    defaultOwners: {\n      primary: 'R3',\n      secondary: 'R4'\n    }\n  },\n  {\n    categoryCode: 'OFFICE_SUPPLIES',\n    nameKo: 'ÏÇ¨Î¨¥Ïö©ÌíàÎπÑ',\n    requiredDocs: [\n      { type: 'requisition', required: true, templateId: 'TMP-REQ-001' },\n      { type: 'quote', required: true, templateId: 'TMP-QTE-001' },\n      { type: 'receipt', required: true },\n      { type: 'receipt_confirmation', required: true, templateId: 'TMP-RC-001' }\n    ],\n    defaultWorkflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 3\n    },\n    defaultSlaDays: 3,\n    defaultOwners: {\n      primary: 'R4',\n      secondary: 'R4'\n    }\n  }\n])\n\n// ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉÅÌÉú\nexport const workflowStates = writable<Record<string, unknown>>({})\n\n// Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌïÑÏàò Î¨∏ÏÑú Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±\nexport function generateDocumentChecklist(\n  categoryCode: string,\n  categoryMaster: BudgetCategoryMaster[]\n): Array<{\n  type: string\n  required: boolean\n  templateId?: string\n  status: 'pending' | 'uploaded' | 'verified'\n  uploadedAt?: string\n  verifiedBy?: string\n}> {\n  const category = categoryMaster.find(c => c.categoryCode === categoryCode)\n  if (!category) return []\n\n  return category.requiredDocs.map(doc => ({\n    type: doc.type,\n    required: doc.required,\n    templateId: doc.templateId,\n    status: 'pending' as const\n  }))\n}\n\n// Î¨∏ÏÑú ÏóÖÎ°úÎìú ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateDocumentStatus(\n  expenseId: string,\n  documentType: string,\n  status: 'uploaded' | 'verified',\n  verifiedBy?: string\n): void {\n  workflowStates.update(states => {\n    const expenseState = states[expenseId] || { documents: [] }\n    const docIndex = expenseState.documents.findIndex((doc: any) => doc.type === documentType)\n\n    if (docIndex !== -1) {\n      expenseState.documents[docIndex] = {\n        ...expenseState.documents[docIndex],\n        status,\n        uploadedAt:\n          status === 'uploaded'\n            ? new Date().toISOString()\n            : expenseState.documents[docIndex].uploadedAt,\n        verifiedBy: status === 'verified' ? verifiedBy : expenseState.documents[docIndex].verifiedBy\n      }\n    }\n\n    return {\n      ...states,\n      [expenseId]: expenseState\n    }\n  })\n}\n\n// ÌïÑÏàò Î¨∏ÏÑú ÏôÑÎ£å Ïó¨Î∂Ä Ï≤¥ÌÅ¨\nexport function isDocumentChecklistComplete(\n  expenseId: string,\n  categoryCode: string,\n  categoryMaster: BudgetCategoryMaster[]\n): boolean {\n  const category = categoryMaster.find(c => c.categoryCode === categoryCode)\n  if (!category) return false\n\n  const requiredDocs = category.requiredDocs.filter(doc => doc.required)\n\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî documents Ïä§ÌÜ†Ïñ¥ÏóêÏÑú ÌôïÏù∏\n  // Ïó¨Í∏∞ÏÑúÎäî Í∞ÑÎã®Ìûà true Î∞òÌôò\n  return true\n}\n\n// ÏõåÌÅ¨ÌîåÎ°úÏö∞ Îã®Í≥ÑÎ≥Ñ ÏäπÏù∏Ïûê Í≤∞Ï†ï\nexport function getApproversForStep(\n  categoryCode: string,\n  step: string,\n  categoryMaster: BudgetCategoryMaster[]\n): string[] {\n  const category = categoryMaster.find(c => c.categoryCode === categoryCode)\n  if (!category) return []\n\n  switch (step) {\n    case 'PM_APPROVAL':\n      return ['R2'] // PM\n    case 'LAB_HEAD_APPROVAL':\n      return ['R5'] // Ïó∞Íµ¨ÏÜåÏû•\n    case 'SUPPORT_REVIEW':\n      return ['R4'] // Í≤ΩÏòÅÏßÄÏõê\n    default:\n      return []\n  }\n}\n\n// SLA Í∏∞Î∞ò ÎßàÍ∞êÏùº Í≥ÑÏÇ∞\nexport function calculateSlaDeadline(\n  categoryCode: string,\n  categoryMaster: BudgetCategoryMaster[]\n): Date {\n  const category = categoryMaster.find(c => c.categoryCode === categoryCode)\n  if (!category) return new Date()\n\n  const deadline = new Date()\n  deadline.setDate(deadline.getDate() + category.defaultSlaDays)\n  return deadline\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateExpenseStatus(\n  expenseId: string,\n  status: ExpenseItem['status'],\n  comment?: string\n): void {\n  workflowStates.update(states => {\n    return {\n      ...states,\n      [expenseId]: {\n        ...states[expenseId],\n        status,\n        statusUpdatedAt: new Date().toISOString(),\n        statusComment: comment\n      }\n    }\n  })\n}\n\n// Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏßÑÌñâ\nexport function processApprovalWorkflow(\n  expenseId: string,\n  approverId: string,\n  decision: Approval['decision'],\n  comment?: string\n): void {\n  workflowStates.update(states => {\n    const expenseState = states[expenseId] || { approvals: [] }\n\n    // ÏÉàÎ°úÏö¥ ÏäπÏù∏ Ï∂îÍ∞Ä\n    expenseState.approvals = [\n      ...expenseState.approvals,\n      {\n        approverId,\n        decision,\n        comment,\n        decidedAt: new Date().toISOString()\n      }\n    ]\n\n    // ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n    if (decision === 'approved') {\n      expenseState.currentStep = getNextStep(expenseState.currentStep, expenseState.workflow)\n    } else if (decision === 'rejected') {\n      expenseState.status = 'rejected'\n    } else if (decision === 'returned') {\n      expenseState.status = 'draft'\n    }\n\n    return {\n      ...states,\n      [expenseId]: expenseState\n    }\n  })\n}\n\n// Îã§Ïùå ÏõåÌÅ¨ÌîåÎ°úÏö∞ Îã®Í≥Ñ Í≤∞Ï†ï\nfunction getNextStep(currentStep: string, workflow: any): string {\n  const steps = workflow?.steps || []\n  const currentIndex = steps.indexOf(currentStep)\n\n  if (currentIndex === -1 || currentIndex >= steps.length - 1) {\n    return 'completed'\n  }\n\n  return steps[currentIndex + 1]\n}\n\n// Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∏∞Î≥∏ ÏÜåÏú†Ïûê Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getDefaultOwners(\n  categoryCode: string,\n  categoryMaster: BudgetCategoryMaster[]\n): {\n  primary: string\n  secondary: string\n} {\n  const category = categoryMaster.find(c => c.categoryCode === categoryCode)\n  if (!category) return { primary: 'R4', secondary: 'R2' }\n\n  return category.defaultOwners\n}\n\n// ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉÅÌÉú Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getWorkflowState(expenseId: string): any {\n  let state: any = null\n  workflowStates.subscribe(states => {\n    state = states[expenseId]\n  })()\n  return state\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ Î¨∏ÏÑú Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getExpenseDocumentChecklist(expenseId: string): unknown[] {\n  const state = getWorkflowState(expenseId)\n  return state?.documents || []\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ ÏäπÏù∏ Ïù¥Î†• Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getExpenseApprovalHistory(expenseId: string): unknown[] {\n  const state = getWorkflowState(expenseId)\n  return state?.approvals || []\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/core.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 47,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 47,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 87,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 87,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 119,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 119,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 149,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 149,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 164,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 164,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 194,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 194,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 226,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 226,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 243,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 243,
        "endColumn": 20
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 277,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 277,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8018, 8021], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8018, 8021], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 278,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 278,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8034, 8037], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8034, 8037], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 281,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 281,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type {\n  Person,\n  Employment,\n  SalaryHistory,\n  Project,\n  ProjectBudgetCategory,\n  Milestone,\n  ParticipationAssignment,\n  ExpenseItem,\n  Document,\n  Approval,\n  ResearchNote,\n  Report,\n  SubmissionBundle,\n  AuditLog,\n  BudgetCategoryMaster,\n  HealthIndicator,\n  Notification,\n  SLAAlert,\n  ReplacementRecommendation\n} from './types'\n\n// ÌïµÏã¨ ÏóîÌã∞Ìã∞ Ïä§ÌÜ†Ïñ¥\nexport const persons = writable<Person[]>([])\nexport const employments = writable<Employment[]>([])\nexport const salaryHistory = writable<SalaryHistory[]>([])\nexport const projects = writable<Project[]>([])\nexport const projectBudgetCategories = writable<ProjectBudgetCategory[]>([])\nexport const milestones = writable<Milestone[]>([])\nexport const participationAssignments = writable<ParticipationAssignment[]>([])\nexport const expenseItems = writable<ExpenseItem[]>([])\nexport const documents = writable<Document[]>([])\nexport const approvals = writable<Approval[]>([])\nexport const researchNotes = writable<ResearchNote[]>([])\nexport const reports = writable<Report[]>([])\nexport const submissionBundles = writable<SubmissionBundle[]>([])\nexport const auditLogs = writable<AuditLog[]>([])\nexport const budgetCategoryMaster = writable<BudgetCategoryMaster[]>([])\nexport const healthIndicators = writable<HealthIndicator[]>([])\nexport const notifications = writable<Notification[]>([])\nexport const slaAlerts = writable<SLAAlert[]>([])\nexport const replacementRecommendations = writable<ReplacementRecommendation[]>([])\n\n// CRUD Ìï®ÏàòÎì§\nexport function addPerson(person: Omit<Person, 'id' | 'createdAt' | 'updatedAt'>): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newPerson: Person = {\n    ...person,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  persons.update(list => [...list, newPerson])\n  logAudit('create', 'person', id, {}, newPerson)\n  return id\n}\n\nexport function updatePerson(id: string, updates: Partial<Person>): void {\n  persons.update(list => {\n    const index = list.findIndex(p => p.id === id)\n    if (index === -1) return list\n\n    const oldPerson = list[index]\n    const updatedPerson = { ...oldPerson, ...updates, updatedAt: new Date().toISOString() }\n    const newList = [...list]\n    newList[index] = updatedPerson\n\n    logAudit('update', 'person', id, oldPerson, updatedPerson)\n    return newList\n  })\n}\n\nexport function deletePerson(id: string): void {\n  persons.update(list => {\n    const person = list.find(p => p.id === id)\n    if (person) {\n      logAudit('delete', 'person', id, person, {})\n    }\n    return list.filter(p => p.id !== id)\n  })\n}\n\nexport function addProject(project: Omit<Project, 'id' | 'createdAt' | 'updatedAt'>): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newProject: Project = {\n    ...project,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  projects.update(list => [...list, newProject])\n  logAudit('create', 'project', id, {}, newProject)\n  return id\n}\n\nexport function updateProject(id: string, updates: Partial<Project>): void {\n  projects.update(list => {\n    const index = list.findIndex(p => p.id === id)\n    if (index === -1) return list\n\n    const oldProject = list[index]\n    const updatedProject = { ...oldProject, ...updates, updatedAt: new Date().toISOString() }\n    const newList = [...list]\n    newList[index] = updatedProject\n\n    logAudit('update', 'project', id, oldProject, updatedProject)\n    return newList\n  })\n}\n\nexport function addExpenseItem(\n  expense: Omit<ExpenseItem, 'id' | 'createdAt' | 'updatedAt'>\n): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newExpense: ExpenseItem = {\n    ...expense,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  expenseItems.update(list => [...list, newExpense])\n  logAudit('create', 'expense', id, {}, newExpense)\n  return id\n}\n\nexport function updateExpenseItem(id: string, updates: Partial<ExpenseItem>): void {\n  expenseItems.update(list => {\n    const index = list.findIndex(e => e.id === id)\n    if (index === -1) return list\n\n    const oldExpense = list[index]\n    const updatedExpense = { ...oldExpense, ...updates, updatedAt: new Date().toISOString() }\n    const newList = [...list]\n    newList[index] = updatedExpense\n\n    logAudit('update', 'expense', id, oldExpense, updatedExpense)\n    return newList\n  })\n}\n\nexport function addDocument(document: Omit<Document, 'id' | 'createdAt' | 'updatedAt'>): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newDocument: Document = {\n    ...document,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  documents.update(list => [...list, newDocument])\n  logAudit('create', 'document', id, {}, newDocument)\n  return id\n}\n\nexport function addApproval(approval: Omit<Approval, 'id' | 'createdAt' | 'updatedAt'>): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newApproval: Approval = {\n    ...approval,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  approvals.update(list => [...list, newApproval])\n  logAudit('create', 'approval', id, {}, newApproval)\n  return id\n}\n\nexport function updateApproval(id: string, updates: Partial<Approval>): void {\n  approvals.update(list => {\n    const index = list.findIndex(a => a.id === id)\n    if (index === -1) return list\n\n    const oldApproval = list[index]\n    const updatedApproval = { ...oldApproval, ...updates, updatedAt: new Date().toISOString() }\n    const newList = [...list]\n    newList[index] = updatedApproval\n\n    logAudit('update', 'approval', id, oldApproval, updatedApproval)\n    return newList\n  })\n}\n\nexport function addMilestone(milestone: Omit<Milestone, 'id' | 'createdAt' | 'updatedAt'>): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newMilestone: Milestone = {\n    ...milestone,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  milestones.update(list => [...list, newMilestone])\n  logAudit('create', 'milestone', id, {}, newMilestone)\n  return id\n}\n\nexport function updateMilestone(id: string, updates: Partial<Milestone>): void {\n  milestones.update(list => {\n    const index = list.findIndex(m => m.id === id)\n    if (index === -1) return list\n\n    const oldMilestone = list[index]\n    const updatedMilestone = { ...oldMilestone, ...updates, updatedAt: new Date().toISOString() }\n    const newList = [...list]\n    newList[index] = updatedMilestone\n\n    logAudit('update', 'milestone', id, oldMilestone, updatedMilestone)\n    return newList\n  })\n}\n\nexport function addParticipationAssignment(\n  assignment: Omit<ParticipationAssignment, 'id' | 'createdAt' | 'updatedAt'>\n): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newAssignment: ParticipationAssignment = {\n    ...assignment,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  participationAssignments.update(list => [...list, newAssignment])\n  logAudit('create', 'participation', id, {}, newAssignment)\n  return id\n}\n\nexport function addResearchNote(\n  note: Omit<ResearchNote, 'id' | 'createdAt' | 'updatedAt'>\n): string {\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const newNote: ResearchNote = {\n    ...note,\n    id,\n    createdAt: now,\n    updatedAt: now\n  }\n\n  researchNotes.update(list => [...list, newNote])\n  logAudit('create', 'research_note', id, {}, newNote)\n  return id\n}\n\nexport function updateResearchNote(id: string, updates: Partial<ResearchNote>): void {\n  researchNotes.update(list => {\n    const index = list.findIndex(n => n.id === id)\n    if (index === -1) return list\n\n    const oldNote = list[index]\n    const updatedNote = { ...oldNote, ...updates, updatedAt: new Date().toISOString() }\n    const newList = [...list]\n    newList[index] = updatedNote\n\n    logAudit('update', 'research_note', id, oldNote, updatedNote)\n    return newList\n  })\n}\n\n// Í∞êÏÇ¨ Î°úÍ∑∏ Ìï®Ïàò\nexport function logAudit(\n  action: string,\n  entity: string,\n  entityId: string,\n  oldData: any,\n  newData: any\n): void {\n  const auditLog: AuditLog = {\n    id: crypto.randomUUID(),\n    actorId: 'current-user', // Ïã§Ï†úÎ°úÎäî ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê ID\n    action,\n    entity,\n    entityId,\n    diff: { old: oldData, new: newData },\n    at: new Date().toISOString()\n  }\n\n  auditLogs.update(list => [...list, auditLog])\n}\n\n// Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\nexport function getPersonById(id: string, personList: Person[]): Person | undefined {\n  return personList.find(p => p.id === id)\n}\n\nexport function getProjectById(id: string, projectList: Project[]): Project | undefined {\n  return projectList.find(p => p.id === id)\n}\n\nexport function getExpenseItemsByProject(\n  projectId: string,\n  expenseList: ExpenseItem[]\n): ExpenseItem[] {\n  return expenseList.filter(e => e.projectId === projectId)\n}\n\nexport function getMilestonesByProject(projectId: string, milestoneList: Milestone[]): Milestone[] {\n  return milestoneList.filter(m => m.projectId === projectId)\n}\n\nexport function getParticipationAssignmentsByProject(\n  projectId: string,\n  assignmentList: ParticipationAssignment[]\n): ParticipationAssignment[] {\n  return assignmentList.filter(a => a.projectId === projectId)\n}\n\nexport function getParticipationAssignmentsByPerson(\n  personId: string,\n  assignmentList: ParticipationAssignment[]\n): ParticipationAssignment[] {\n  return assignmentList.filter(a => a.personId === personId)\n}\n\nexport function getDocumentsByExpense(expenseId: string, documentList: Document[]): Document[] {\n  return documentList.filter(d => d.expenseId === expenseId)\n}\n\nexport function getApprovalsBySubject(\n  subjectType: string,\n  subjectId: string,\n  approvalList: Approval[]\n): Approval[] {\n  return approvalList.filter(a => a.subjectType === subjectType && a.subjectId === subjectId)\n}\n\nexport function getResearchNotesByProject(\n  projectId: string,\n  noteList: ResearchNote[]\n): ResearchNote[] {\n  return noteList.filter(n => n.projectId === projectId)\n}\n\nexport function getActiveProjects(projectList: Project[]): Project[] {\n  return projectList.filter(p => p.status === 'active')\n}\n\nexport function getActivePersons(personList: Person[]): Person[] {\n  return personList.filter(p => p.active)\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/expense-workflow.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 69,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 69,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 106,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 106,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 147,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 147,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3500, 3503], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3500, 3503], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 204,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 204,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 225,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 225,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 255,
        "column": 56,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 255,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6427, 6430], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6427, 6430], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 256,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 256,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6449, 6452], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6449, 6452], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 332,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 332,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 352,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 352,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 372,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 372,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 402,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 402,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10572, 10575], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10572, 10575], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { ExpenseItem, Approval, SLAAlert, Notification } from './types'\nimport { logAudit } from './core'\n\n// ÏßÄÏ∂ú ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉÅÌÉú\nexport const expenseWorkflows = writable<Record<string, unknown>>({})\n\n// SLA ÏïåÎ¶º\nexport const slaAlerts = writable<SLAAlert[]>([])\n\n// ÏïåÎ¶º\nexport const notifications = writable<Notification[]>([])\n\n// ÏßÄÏ∂ú ÏõåÌÅ¨ÌîåÎ°úÏö∞ Îã®Í≥Ñ\nexport const EXPENSE_WORKFLOW_STEPS = {\n  DRAFT: 'draft',\n  PENDING_APPROVAL: 'pending-approval',\n  APPROVED: 'approved',\n  EXECUTED: 'executed',\n  COMPLETED: 'completed',\n  REJECTED: 'rejected',\n  RETURNED: 'returned'\n} as const\n\n// ÏßÄÏ∂ú ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏãúÏûë\nexport function startExpenseWorkflow(\n  expenseId: string,\n  categoryCode: string,\n  requesterId: string,\n  amount: number,\n  description?: string\n): void {\n  const workflow = {\n    expenseId,\n    categoryCode,\n    requesterId,\n    amount,\n    description,\n    status: EXPENSE_WORKFLOW_STEPS.DRAFT,\n    currentStep: 'PM_APPROVAL',\n    workflow: {\n      steps: ['PM_APPROVAL', 'SUPPORT_REVIEW'],\n      sla: 5\n    },\n    documents: [],\n    approvals: [],\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n    slaDeadline: calculateSlaDeadline(categoryCode)\n  }\n\n  expenseWorkflows.update(workflows => ({\n    ...workflows,\n    [expenseId]: workflow\n  }))\n\n  logAudit('create', 'expense_workflow', expenseId, {}, workflow)\n}\n\n// Î¨∏ÏÑú ÏóÖÎ°úÎìú\nexport function uploadDocument(\n  expenseId: string,\n  documentType: string,\n  filename: string,\n  storageUrl: string,\n  sha256: string\n): void {\n  const document = {\n    id: crypto.randomUUID(),\n    type: documentType,\n    filename,\n    storageUrl,\n    sha256,\n    version: 1,\n    uploadedAt: new Date().toISOString(),\n    uploadedBy: 'current-user'\n  }\n\n  expenseWorkflows.update(workflows => {\n    const workflow = workflows[expenseId]\n    if (!workflow) return workflows\n\n    const updatedWorkflow = {\n      ...workflow,\n      documents: [...workflow.documents, document],\n      updatedAt: new Date().toISOString()\n    }\n\n    return {\n      ...workflows,\n      [expenseId]: updatedWorkflow\n    }\n  })\n\n  logAudit('upload', 'document', document.id, {}, document)\n}\n\n// Í≤∞Ïû¨ ÏßÑÌñâ\nexport function processApproval(\n  expenseId: string,\n  approverId: string,\n  decision: Approval['decision'],\n  comment?: string\n): void {\n  const approval = {\n    id: crypto.randomUUID(),\n    approverId,\n    decision,\n    comment,\n    decidedAt: new Date().toISOString()\n  }\n\n  expenseWorkflows.update(workflows => {\n    const workflow = workflows[expenseId]\n    if (!workflow) return workflows\n\n    const updatedWorkflow = {\n      ...workflow,\n      approvals: [...workflow.approvals, approval],\n      updatedAt: new Date().toISOString()\n    }\n\n    // Îã§Ïùå Îã®Í≥Ñ Í≤∞Ï†ï\n    if (decision === 'approved') {\n      updatedWorkflow.currentStep = getNextStep(workflow.currentStep, workflow.workflow)\n      updatedWorkflow.status = getStatusFromStep(updatedWorkflow.currentStep)\n    } else if (decision === 'rejected') {\n      updatedWorkflow.status = EXPENSE_WORKFLOW_STEPS.REJECTED\n    } else if (decision === 'returned') {\n      updatedWorkflow.status = EXPENSE_WORKFLOW_STEPS.RETURNED\n      updatedWorkflow.currentStep = 'PM_APPROVAL'\n    }\n\n    return {\n      ...workflows,\n      [expenseId]: updatedWorkflow\n    }\n  })\n\n  logAudit('approve', 'expense', expenseId, { decision, comment }, approval)\n\n  // ÏïåÎ¶º ÏÉùÏÑ±\n  createApprovalNotification(expenseId, decision, comment)\n}\n\n// Îã§Ïùå ÏõåÌÅ¨ÌîåÎ°úÏö∞ Îã®Í≥Ñ Í≤∞Ï†ï\nfunction getNextStep(currentStep: string, workflow: any): string {\n  const steps = workflow?.steps || []\n  const currentIndex = steps.indexOf(currentStep)\n\n  if (currentIndex === -1 || currentIndex >= steps.length - 1) {\n    return 'completed'\n  }\n\n  return steps[currentIndex + 1]\n}\n\n// Îã®Í≥ÑÏóêÏÑú ÏÉÅÌÉú Í≤∞Ï†ï\nfunction getStatusFromStep(step: string): string {\n  switch (step) {\n    case 'PM_APPROVAL':\n      return EXPENSE_WORKFLOW_STEPS.PENDING_APPROVAL\n    case 'SUPPORT_REVIEW':\n      return EXPENSE_WORKFLOW_STEPS.APPROVED\n    case 'completed':\n      return EXPENSE_WORKFLOW_STEPS.COMPLETED\n    default:\n      return EXPENSE_WORKFLOW_STEPS.DRAFT\n  }\n}\n\n// SLA ÎßàÍ∞êÏùº Í≥ÑÏÇ∞\nfunction calculateSlaDeadline(categoryCode: string): string {\n  const slaDays = getSlaDaysForCategory(categoryCode)\n  const deadline = new Date()\n  deadline.setDate(deadline.getDate() + slaDays)\n  return deadline.toISOString()\n}\n\n// Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ SLA ÏùºÏàò\nfunction getSlaDaysForCategory(categoryCode: string): number {\n  const slaMap: Record<string, number> = {\n    PERSONNEL_CASH: 5,\n    PERSONNEL_IN_KIND: 5,\n    MATERIAL: 10,\n    RESEARCH_ACTIVITY: 5,\n    TRAVEL: 3,\n    MEETING: 3,\n    PATENT: 5,\n    OFFICE_SUPPLIES: 3\n  }\n\n  return slaMap[categoryCode] || 5\n}\n\n// SLA ÏïåÎ¶º ÏÉùÏÑ±\nexport function createSlaAlert(\n  expenseId: string,\n  alertType: 'sla-warning' | 'sla-breach' | 'escalation',\n  message: string,\n  severity: 'low' | 'medium' | 'high' | 'critical'\n): void {\n  const alert: SLAAlert = {\n    id: crypto.randomUUID(),\n    entityType: 'expense',\n    entityId: expenseId,\n    alertType,\n    message,\n    severity,\n    assignedTo: getAssignedUsersForAlert(expenseId, alertType),\n    status: 'active',\n    createdAt: new Date().toISOString()\n  }\n\n  slaAlerts.update(alerts => [...alerts, alert])\n}\n\n// ÏïåÎ¶º ÏÉùÏÑ±\nfunction createApprovalNotification(\n  expenseId: string,\n  decision: Approval['decision'],\n  comment?: string\n): void {\n  const notification: Notification = {\n    id: crypto.randomUUID(),\n    userId: 'current-user', // Ïã§Ï†úÎ°úÎäî Í¥ÄÎ†®Ïûê ID\n    title: `ÏßÄÏ∂ú ÏäπÏù∏ ${decision === 'approved' ? 'ÏôÑÎ£å' : decision === 'rejected' ? 'Í±∞Î∂Ä' : 'Î∞òÎ†§'}`,\n    message: `ÏßÄÏ∂ú Ìï≠Î™© ${expenseId}Ïù¥ ${decision === 'approved' ? 'ÏäπÏù∏' : decision === 'rejected' ? 'Í±∞Î∂Ä' : 'Î∞òÎ†§'}ÎêòÏóàÏäµÎãàÎã§.${comment ? ` ÏΩîÎ©òÌä∏: ${comment}` : ''}`,\n    type: decision === 'approved' ? 'success' : 'warning',\n    priority: 'medium',\n    read: false,\n    actionUrl: `/project-management/expenses/${expenseId}`,\n    createdAt: new Date().toISOString()\n  }\n\n  notifications.update(notifications => [...notifications, notification])\n}\n\n// ÏïåÎ¶º ÎåÄÏÉÅÏûê Í≤∞Ï†ï\nfunction getAssignedUsersForAlert(expenseId: string, alertType: string): string[] {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÏó¨ Í¥ÄÎ†®Ïûê Í≤∞Ï†ï\n  switch (alertType) {\n    case 'sla-warning':\n      return ['PM', 'SUPPORT']\n    case 'sla-breach':\n      return ['PM', 'SUPPORT', 'LAB_HEAD']\n    case 'escalation':\n      return ['LAB_HEAD', 'EXECUTIVE']\n    default:\n      return ['PM']\n  }\n}\n\n// ÏßÄÏ∂ú ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉÅÌÉú Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getExpenseWorkflow(expenseId: string): any {\n  let workflow: any = null\n  expenseWorkflows.subscribe(workflows => {\n    workflow = workflows[expenseId]\n  })()\n  return workflow\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ Î¨∏ÏÑú Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getExpenseDocuments(expenseId: string): unknown[] {\n  const workflow = getExpenseWorkflow(expenseId)\n  return workflow?.documents || []\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ ÏäπÏù∏ Ïù¥Î†• Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getExpenseApprovals(expenseId: string): unknown[] {\n  const workflow = getExpenseWorkflow(expenseId)\n  return workflow?.approvals || []\n}\n\n// SLA ÏÉÅÌÉú Ï≤¥ÌÅ¨\nexport function checkSlaStatus(expenseId: string): {\n  status: 'on-time' | 'warning' | 'breach'\n  daysRemaining: number\n  deadline: string\n} {\n  const workflow = getExpenseWorkflow(expenseId)\n  if (!workflow) {\n    return { status: 'on-time', daysRemaining: 0, deadline: '' }\n  }\n\n  const now = new Date()\n  const deadline = new Date(workflow.slaDeadline)\n  const daysRemaining = Math.ceil((deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24))\n\n  if (daysRemaining < 0) {\n    return { status: 'breach', daysRemaining, deadline: workflow.slaDeadline }\n  } else if (daysRemaining <= 1) {\n    return { status: 'warning', daysRemaining, deadline: workflow.slaDeadline }\n  } else {\n    return { status: 'on-time', daysRemaining, deadline: workflow.slaDeadline }\n  }\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateExpenseStatus(\n  expenseId: string,\n  status: ExpenseItem['status'],\n  comment?: string\n): void {\n  expenseWorkflows.update(workflows => {\n    const workflow = workflows[expenseId]\n    if (!workflow) return workflows\n\n    const updatedWorkflow = {\n      ...workflow,\n      status,\n      statusUpdatedAt: new Date().toISOString(),\n      statusComment: comment,\n      updatedAt: new Date().toISOString()\n    }\n\n    return {\n      ...workflows,\n      [expenseId]: updatedWorkflow\n    }\n  })\n\n  logAudit('update', 'expense_status', expenseId, { status, comment }, {})\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™© ÏôÑÎ£å Ï≤òÎ¶¨\nexport function completeExpense(expenseId: string, comment?: string): void {\n  updateExpenseStatus(expenseId, EXPENSE_WORKFLOW_STEPS.COMPLETED, comment)\n\n  // ÏôÑÎ£å ÏïåÎ¶º ÏÉùÏÑ±\n  const notification: Notification = {\n    id: crypto.randomUUID(),\n    userId: 'current-user',\n    title: 'ÏßÄÏ∂ú Ìï≠Î™© ÏôÑÎ£å',\n    message: `ÏßÄÏ∂ú Ìï≠Î™© ${expenseId}Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.`,\n    type: 'success',\n    priority: 'low',\n    read: false,\n    actionUrl: `/project-management/expenses/${expenseId}`,\n    createdAt: new Date().toISOString()\n  }\n\n  notifications.update(notifications => [...notifications, notification])\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™© Í±∞Î∂Ä Ï≤òÎ¶¨\nexport function rejectExpense(expenseId: string, reason: string): void {\n  updateExpenseStatus(expenseId, EXPENSE_WORKFLOW_STEPS.REJECTED, reason)\n\n  // Í±∞Î∂Ä ÏïåÎ¶º ÏÉùÏÑ±\n  const notification: Notification = {\n    id: crypto.randomUUID(),\n    userId: 'current-user',\n    title: 'ÏßÄÏ∂ú Ìï≠Î™© Í±∞Î∂Ä',\n    message: `ÏßÄÏ∂ú Ìï≠Î™© ${expenseId}Ïù¥ Í±∞Î∂ÄÎêòÏóàÏäµÎãàÎã§. ÏÇ¨Ïú†: ${reason}`,\n    type: 'error',\n    priority: 'high',\n    read: false,\n    actionUrl: `/project-management/expenses/${expenseId}`,\n    createdAt: new Date().toISOString()\n  }\n\n  notifications.update(notifications => [...notifications, notification])\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™© Î∞òÎ†§ Ï≤òÎ¶¨\nexport function returnExpense(expenseId: string, reason: string): void {\n  updateExpenseStatus(expenseId, EXPENSE_WORKFLOW_STEPS.RETURNED, reason)\n\n  // Î∞òÎ†§ ÏïåÎ¶º ÏÉùÏÑ±\n  const notification: Notification = {\n    id: crypto.randomUUID(),\n    userId: 'current-user',\n    title: 'ÏßÄÏ∂ú Ìï≠Î™© Î∞òÎ†§',\n    message: `ÏßÄÏ∂ú Ìï≠Î™© ${expenseId}Ïù¥ Î∞òÎ†§ÎêòÏóàÏäµÎãàÎã§. ÏÇ¨Ïú†: ${reason}`,\n    type: 'warning',\n    priority: 'medium',\n    read: false,\n    actionUrl: `/project-management/expenses/${expenseId}`,\n    createdAt: new Date().toISOString()\n  }\n\n  notifications.update(notifications => [...notifications, notification])\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ ÌïÑÏàò Î¨∏ÏÑú Ï≤¥ÌÅ¨\nexport function checkRequiredDocuments(\n  expenseId: string,\n  categoryCode: string\n): {\n  complete: boolean\n  missing: string[]\n  uploaded: string[]\n} {\n  const workflow = getExpenseWorkflow(expenseId)\n  if (!workflow) {\n    return { complete: false, missing: [], uploaded: [] }\n  }\n\n  // Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌïÑÏàò Î¨∏ÏÑú Î™©Î°ù (Ïã§Ï†úÎ°úÎäî budgetCategoryMasterÏóêÏÑú Í∞ÄÏ†∏Ïò¥)\n  const requiredDocs = getRequiredDocumentsForCategory(categoryCode)\n  const uploadedDocs = workflow.documents.map((doc: any) => doc.type)\n\n  const missing = requiredDocs.filter(doc => !uploadedDocs.includes(doc))\n  const complete = missing.length === 0\n\n  return { complete, missing, uploaded: uploadedDocs }\n}\n\n// Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌïÑÏàò Î¨∏ÏÑú Î™©Î°ù\nfunction getRequiredDocumentsForCategory(categoryCode: string): string[] {\n  const docMap: Record<string, string[]> = {\n    PERSONNEL_CASH: [\n      'participation_assignment',\n      'salary_statement',\n      'insurance_tax',\n      'salary_allocation'\n    ],\n    PERSONNEL_IN_KIND: [\n      'participation_assignment',\n      'salary_statement',\n      'insurance_tax',\n      'salary_allocation'\n    ],\n    MATERIAL: [\n      'requisition',\n      'quote',\n      'purchase_order',\n      'tax_invoice',\n      'delivery_note',\n      'inspection_report'\n    ],\n    RESEARCH_ACTIVITY: ['requisition', 'activity_plan', 'activity_report', 'receipt'],\n    TRAVEL: ['travel_plan', 'transport_receipt', 'accommodation_receipt', 'travel_report'],\n    MEETING: ['requisition', 'attendee_list', 'receipt', 'meeting_minutes'],\n    PATENT: ['requisition', 'patent_specification', 'power_of_attorney', 'fee_receipt'],\n    OFFICE_SUPPLIES: ['requisition', 'quote', 'receipt', 'receipt_confirmation']\n  }\n\n  return docMap[categoryCode] || []\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/global-factors.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/health-indicators.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 65,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 65,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 85,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 85,
        "endColumn": 46
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 105,
        "column": 38,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 105,
        "endColumn": 47
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 143,
        "column": 40,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 143,
        "endColumn": 49
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 158,
        "column": 41,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 158,
        "endColumn": 50
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 168,
        "column": 39,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 168,
        "endColumn": 48
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 204,
        "column": 39,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 204,
        "endColumn": 48
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 233,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 233,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 250,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 250,
        "endColumn": 46
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 297,
        "column": 38,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 297,
        "endColumn": 47
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 317,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 317,
        "endColumn": 46
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 334,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 334,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 353,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 353,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 406,
        "column": 94,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 406,
        "endColumn": 97,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13273, 13276], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13273, 13276], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 482,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 482,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15426, 15429], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15426, 15429], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 13,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type {\n  HealthIndicator\n} from './types'\nimport { logAudit } from './core'\nimport { logger } from '$lib/utils/logger';\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Í¥ÄÎ¶¨\nexport const healthIndicators = writable<HealthIndicator[]>([])\nexport const healthRules = writable<Record<string, unknown>>({})\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Í≥ÑÏÇ∞\nexport function calculateHealthIndicator(projectId: string): HealthIndicator {\n  const scheduleScore = calculateScheduleHealth(projectId)\n  const budgetScore = calculateBudgetHealth(projectId)\n  const peopleScore = calculatePeopleHealth(projectId)\n  const riskScore = calculateRiskHealth(projectId)\n\n  const overallScore = (scheduleScore + budgetScore + peopleScore + riskScore) / 4\n  const overallStatus = determineOverallStatus(overallScore)\n\n  const indicator: HealthIndicator = {\n    projectId,\n    schedule: scheduleScore,\n    budget: budgetScore,\n    people: peopleScore,\n    risk: riskScore,\n    overall: overallStatus,\n    lastUpdated: new Date().toISOString()\n  }\n\n  // Í∏∞Ï°¥ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏ ÎòêÎäî ÏÉàÎ°ú ÏÉùÏÑ±\n  healthIndicators.update(list => {\n    const index = list.findIndex(h => h.projectId === projectId)\n    if (index !== -1) {\n      const newList = [...list]\n      newList[index] = indicator\n      return newList\n    } else {\n      return [...list, indicator]\n    }\n  })\n\n  logAudit('calculate', 'health_indicator', projectId, {}, indicator)\n\n  return indicator\n}\n\n// ÏùºÏ†ï Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateScheduleHealth(projectId: string): number {\n  // 1. ÎßàÏùºÏä§ÌÜ§ Îã¨ÏÑ±Î•† (40%)\n  const milestoneScore = calculateMilestoneHealth(projectId)\n\n  // 2. ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂úÎ•† (30%)\n  const deliverableScore = calculateDeliverableHealth(projectId)\n\n  // 3. ÏùºÏ†ï Ï§ÄÏàòÏú® (30%)\n  const scheduleComplianceScore = calculateScheduleCompliance(projectId)\n\n  const totalScore = milestoneScore * 0.4 + deliverableScore * 0.3 + scheduleComplianceScore * 0.3\n  return Math.round(totalScore)\n}\n\n// ÎßàÏùºÏä§ÌÜ§ Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateMilestoneHealth(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî milestones Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  const mockMilestones = [\n    { status: 'completed', dueDate: '2024-01-15', completedDate: '2024-01-14' },\n    { status: 'in-progress', dueDate: '2024-01-30', completedDate: null },\n    { status: 'not-started', dueDate: '2024-02-15', completedDate: null },\n    { status: 'delayed', dueDate: '2024-01-20', completedDate: null }\n  ]\n\n  const totalMilestones = mockMilestones.length\n  const completedMilestones = mockMilestones.filter(m => m.status === 'completed').length\n  const delayedMilestones = mockMilestones.filter(m => m.status === 'delayed').length\n\n  const completionRate = (completedMilestones / totalMilestones) * 100\n  const delayPenalty = delayedMilestones * 10 // ÏßÄÏó∞Îãπ 10Ï†ê Í∞êÏ†ê\n\n  return Math.max(0, completionRate - delayPenalty)\n}\n\n// ÏÇ∞Ï∂úÎ¨º Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateDeliverableHealth(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî deliverables Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  const mockDeliverables = [\n    { status: 'delivered', dueDate: '2024-01-15', deliveredDate: '2024-01-14' },\n    { status: 'delivered', dueDate: '2024-01-20', deliveredDate: '2024-01-18' },\n    { status: 'pending', dueDate: '2024-01-25', deliveredDate: null },\n    { status: 'overdue', dueDate: '2024-01-10', deliveredDate: null }\n  ]\n\n  const totalDeliverables = mockDeliverables.length\n  const deliveredDeliverables = mockDeliverables.filter(d => d.status === 'delivered').length\n  const overdueDeliverables = mockDeliverables.filter(d => d.status === 'overdue').length\n\n  const deliveryRate = (deliveredDeliverables / totalDeliverables) * 100\n  const overduePenalty = overdueDeliverables * 15 // Ïó∞Ï≤¥Îãπ 15Ï†ê Í∞êÏ†ê\n\n  return Math.max(0, deliveryRate - overduePenalty)\n}\n\n// ÏùºÏ†ï Ï§ÄÏàòÏú® Í≥ÑÏÇ∞\nfunction calculateScheduleCompliance(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌîÑÎ°úÏ†ùÌä∏ ÏùºÏ†ïÍ≥º Ïã§Ï†ú ÏßÑÌñâÎ•†ÏùÑ ÎπÑÍµê\n  const projectStart = new Date('2024-01-01')\n  const projectEnd = new Date('2024-12-31')\n  const currentDate = new Date()\n\n  const totalDuration = projectEnd.getTime() - projectStart.getTime()\n  const elapsedDuration = currentDate.getTime() - projectStart.getTime()\n  const expectedProgress = (elapsedDuration / totalDuration) * 100\n\n  // Ïã§Ï†ú ÏßÑÌñâÎ•† (ÎßàÏùºÏä§ÌÜ§ Í∏∞Î∞ò)\n  const actualProgress = 65 // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Í≥ÑÏÇ∞\n\n  const complianceRate = Math.min(100, (actualProgress / expectedProgress) * 100)\n\n  if (complianceRate >= 100) return 100\n  if (complianceRate >= 90) return 90\n  if (complianceRate >= 80) return 80\n  if (complianceRate >= 70) return 70\n  return Math.max(0, complianceRate)\n}\n\n// ÏòàÏÇ∞ Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateBudgetHealth(projectId: string): number {\n  // 1. ÏòàÏÇ∞ ÏßëÌñâÎ•† (40%)\n  const executionScore = calculateBudgetExecutionScore(projectId)\n\n  // 2. ÏòàÏÇ∞ Ìö®Ïú®ÏÑ± (30%)\n  const efficiencyScore = calculateBudgetEfficiencyScore(projectId)\n\n  // 3. ÏòàÏÇ∞ Ìé∏Ï∞® (30%)\n  const varianceScore = calculateBudgetVarianceScore(projectId)\n\n  const totalScore = executionScore * 0.4 + efficiencyScore * 0.3 + varianceScore * 0.3\n  return Math.round(totalScore)\n}\n\n// ÏòàÏÇ∞ ÏßëÌñâÎ•† Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateBudgetExecutionScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  const totalBudget = 100000000\n  const executedAmount = 60000000\n  const executionRate = (executedAmount / totalBudget) * 100\n\n  // Ïù¥ÏÉÅÏ†ÅÏù∏ ÏßëÌñâÎ•†ÏùÄ 70-90%\n  if (executionRate >= 70 && executionRate <= 90) return 100\n  if (executionRate >= 60 && executionRate < 70) return 80\n  if (executionRate > 90 && executionRate <= 100) return 70\n  if (executionRate >= 50 && executionRate < 60) return 60\n  return Math.max(0, executionRate)\n}\n\n// ÏòàÏÇ∞ Ìö®Ïú®ÏÑ± Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateBudgetEfficiencyScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ROI, ÎπÑÏö© ÎåÄÎπÑ ÏÑ±Í≥º Îì±ÏùÑ Î∂ÑÏÑù\n  const plannedROI = 150 // Í≥ÑÌöçÎêú ROI (%)\n  const actualROI = 120 // Ïã§Ï†ú ROI (%)\n\n  const efficiencyRate = (actualROI / plannedROI) * 100\n  return Math.min(100, efficiencyRate)\n}\n\n// ÏòàÏÇ∞ Ìé∏Ï∞® Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateBudgetVarianceScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏòàÏÇ∞ Ìé∏Ï∞®Î•º Î∂ÑÏÑù\n  const categoryVariances = [\n    { category: 'PERSONNEL_CASH', variance: 5 }, // 5% Ìé∏Ï∞®\n    { category: 'MATERIAL', variance: -10 }, // 10% Ï†àÏïΩ\n    { category: 'RESEARCH_ACTIVITY', variance: 15 } // 15% Ï¥àÍ≥º\n  ]\n\n  const averageVariance =\n    categoryVariances.reduce((sum, cat) => sum + Math.abs(cat.variance), 0) /\n    categoryVariances.length\n\n  // Ìé∏Ï∞®Í∞Ä Ï†ÅÏùÑÏàòÎ°ù ÎÜíÏùÄ Ï†êÏàò\n  if (averageVariance <= 5) return 100\n  if (averageVariance <= 10) return 80\n  if (averageVariance <= 15) return 60\n  if (averageVariance <= 20) return 40\n  return Math.max(0, 100 - averageVariance)\n}\n\n// Ïù∏Î†• Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculatePeopleHealth(projectId: string): number {\n  // 1. Ï∞∏Ïó¨Ïú® Ï∂©Ï°±ÎèÑ (40%)\n  const participationScore = calculateParticipationHealth(projectId)\n\n  // 2. Ïù∏Î†• ÏïàÏ†ïÏÑ± (30%)\n  const stabilityScore = calculateStabilityHealth(projectId)\n\n  // 3. ÏÑ±Í≥º ÏàòÏ§Ä (30%)\n  const performanceScore = calculatePerformanceHealth(projectId)\n\n  const totalScore = participationScore * 0.4 + stabilityScore * 0.3 + performanceScore * 0.3\n  return Math.round(totalScore)\n}\n\n// Ï∞∏Ïó¨Ïú® Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateParticipationHealth(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî participationAssignments Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  const mockParticipants = [\n    { personId: 'person-1', assignedRate: 100, actualRate: 95 },\n    { personId: 'person-2', assignedRate: 80, actualRate: 85 },\n    { personId: 'person-3', assignedRate: 60, actualRate: 55 },\n    { personId: 'person-4', assignedRate: 100, actualRate: 100 }\n  ]\n\n  const totalParticipants = mockParticipants.length\n  let totalScore = 0\n\n  mockParticipants.forEach(participant => {\n    const rate = participant.actualRate / participant.assignedRate\n    if (rate >= 0.9 && rate <= 1.1) {\n      totalScore += 100 // Ïù¥ÏÉÅÏ†ÅÏù∏ Ï∞∏Ïó¨Ïú®\n    } else if (rate >= 0.8 && rate < 0.9) {\n      totalScore += 80 // ÏïΩÍ∞Ñ Î∂ÄÏ°±\n    } else if (rate > 1.1 && rate <= 1.2) {\n      totalScore += 70 // ÏïΩÍ∞Ñ Ï¥àÍ≥º\n    } else {\n      totalScore += Math.max(0, rate * 100) // ÎπÑÎ°Ä Ï†êÏàò\n    }\n  })\n\n  return totalScore / totalParticipants\n}\n\n// Ïù∏Î†• ÏïàÏ†ïÏÑ± Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateStabilityHealth(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ïù∏Î†• Ïù¥ÌÉàÎ•†, ÍµêÏ≤¥ ÎπàÎèÑ Îì±ÏùÑ Î∂ÑÏÑù\n  const mockStabilityData = {\n    totalParticipants: 8,\n    departures: 1,\n    replacements: 1,\n    averageTenure: 18, // months\n    turnoverRate: 12.5 // %\n  }\n\n  const turnoverScore = Math.max(0, 100 - mockStabilityData.turnoverRate * 2)\n  const tenureScore = Math.min(100, mockStabilityData.averageTenure * 5)\n\n  return (turnoverScore + tenureScore) / 2\n}\n\n// ÏÑ±Í≥º ÏàòÏ§Ä Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculatePerformanceHealth(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏÑ±Í≥º ÌèâÍ∞Ä Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  const mockPerformanceData = {\n    excellent: 3,\n    good: 4,\n    average: 1,\n    belowAverage: 0,\n    poor: 0\n  }\n\n  const totalParticipants = Object.values(mockPerformanceData).reduce(\n    (sum, count) => sum + count,\n    0\n  )\n  const weightedScore =\n    mockPerformanceData.excellent * 100 +\n    mockPerformanceData.good * 80 +\n    mockPerformanceData.average * 60 +\n    mockPerformanceData.belowAverage * 40 +\n    mockPerformanceData.poor * 20\n\n  return weightedScore / totalParticipants\n}\n\n// Î¶¨Ïä§ÌÅ¨ Ìó¨Ïä§ Í≥ÑÏÇ∞\nfunction calculateRiskHealth(projectId: string): number {\n  // 1. Í∏∞Ïà†Ï†Å Î¶¨Ïä§ÌÅ¨ (30%)\n  const technicalRiskScore = calculateTechnicalRiskScore(projectId)\n\n  // 2. ÏùºÏ†ï Î¶¨Ïä§ÌÅ¨ (25%)\n  const scheduleRiskScore = calculateScheduleRiskScore(projectId)\n\n  // 3. ÏòàÏÇ∞ Î¶¨Ïä§ÌÅ¨ (25%)\n  const budgetRiskScore = calculateBudgetRiskScore(projectId)\n\n  // 4. Ïù∏Î†• Î¶¨Ïä§ÌÅ¨ (20%)\n  const peopleRiskScore = calculatePeopleRiskScore(projectId)\n\n  const totalScore =\n    technicalRiskScore * 0.3 +\n    scheduleRiskScore * 0.25 +\n    budgetRiskScore * 0.25 +\n    peopleRiskScore * 0.2\n  return Math.round(totalScore)\n}\n\n// Í∏∞Ïà†Ï†Å Î¶¨Ïä§ÌÅ¨ Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateTechnicalRiskScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Í∏∞Ïà†Ï†Å Ïù¥Ïäà, Î≥µÏû°ÎèÑ Îì±ÏùÑ Î∂ÑÏÑù\n  const mockTechnicalRisks = [\n    { type: 'complexity', level: 'medium', impact: 'high' },\n    { type: 'dependency', level: 'high', impact: 'medium' },\n    { type: 'innovation', level: 'high', impact: 'high' }\n  ]\n\n  let totalRiskScore = 0\n  mockTechnicalRisks.forEach(risk => {\n    const levelScore = risk.level === 'low' ? 20 : risk.level === 'medium' ? 50 : 80\n    const impactScore = risk.impact === 'low' ? 20 : risk.impact === 'medium' ? 50 : 80\n    totalRiskScore += (levelScore + impactScore) / 2\n  })\n\n  const averageRiskScore = totalRiskScore / mockTechnicalRisks.length\n  return Math.max(0, 100 - averageRiskScore)\n}\n\n// ÏùºÏ†ï Î¶¨Ïä§ÌÅ¨ Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateScheduleRiskScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏùºÏ†ï ÏßÄÏó∞ ÏúÑÌóòÏùÑ Î∂ÑÏÑù\n  const mockScheduleRisks = {\n    delayedMilestones: 2,\n    totalMilestones: 8,\n    criticalPathDelays: 1,\n    bufferConsumption: 60 // %\n  }\n\n  const delayRate = (mockScheduleRisks.delayedMilestones / mockScheduleRisks.totalMilestones) * 100\n  const bufferScore = Math.max(0, 100 - mockScheduleRisks.bufferConsumption)\n  const criticalPathScore = mockScheduleRisks.criticalPathDelays > 0 ? 50 : 100\n\n  return (delayRate + bufferScore + criticalPathScore) / 3\n}\n\n// ÏòàÏÇ∞ Î¶¨Ïä§ÌÅ¨ Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateBudgetRiskScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏòàÏÇ∞ Ï¥àÍ≥º ÏúÑÌóòÏùÑ Î∂ÑÏÑù\n  const mockBudgetRisks = {\n    overrunCategories: 1,\n    totalCategories: 5,\n    remainingBudget: 40000000,\n    estimatedRemainingCost: 50000000,\n    contingencyUsed: 20 // %\n  }\n\n  const overrunRate = (mockBudgetRisks.overrunCategories / mockBudgetRisks.totalCategories) * 100\n  const budgetAdequacy =\n    (mockBudgetRisks.remainingBudget / mockBudgetRisks.estimatedRemainingCost) * 100\n  const contingencyScore = Math.max(0, 100 - mockBudgetRisks.contingencyUsed)\n\n  return (overrunRate + budgetAdequacy + contingencyScore) / 3\n}\n\n// Ïù∏Î†• Î¶¨Ïä§ÌÅ¨ Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculatePeopleRiskScore(projectId: string): number {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ïù∏Î†• Ïù¥ÌÉà ÏúÑÌóòÏùÑ Î∂ÑÏÑù\n  const mockPeopleRisks = {\n    keyPersonnelAtRisk: 1,\n    totalKeyPersonnel: 3,\n    skillGaps: 2,\n    workloadImbalance: 30 // %\n  }\n\n  const keyPersonnelRisk =\n    (mockPeopleRisks.keyPersonnelAtRisk / mockPeopleRisks.totalKeyPersonnel) * 100\n  const skillGapScore = Math.max(0, 100 - mockPeopleRisks.skillGaps * 20)\n  const workloadScore = Math.max(0, 100 - mockPeopleRisks.workloadImbalance)\n\n  return (keyPersonnelRisk + skillGapScore + workloadScore) / 3\n}\n\n// Ï†ÑÏ≤¥ ÏÉÅÌÉú Í≤∞Ï†ï\nfunction determineOverallStatus(overallScore: number): 'green' | 'amber' | 'red' {\n  if (overallScore >= 80) return 'green'\n  if (overallScore >= 60) return 'amber'\n  return 'red'\n}\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Í∑úÏπô Ï†ïÏùò\nexport function defineHealthRules(): void {\n  const rules = {\n    schedule: {\n      green: { min: 80, max: 100, description: 'ÏùºÏ†ïÏù¥ Í≥ÑÌöçÎåÄÎ°ú ÏßÑÌñâÎêòÍ≥† ÏûàÏùå' },\n      amber: { min: 60, max: 79, description: 'ÏùºÏ†ïÏóê ÏïΩÍ∞ÑÏùò ÏßÄÏó∞Ïù¥ ÏûàÏùå' },\n      red: { min: 0, max: 59, description: 'ÏùºÏ†ïÏóê Ïã¨Í∞ÅÌïú ÏßÄÏó∞Ïù¥ ÏûàÏùå' }\n    },\n    budget: {\n      green: { min: 80, max: 100, description: 'ÏòàÏÇ∞Ïù¥ Ìö®Ïú®Ï†ÅÏúºÎ°ú ÏßëÌñâÎêòÍ≥† ÏûàÏùå' },\n      amber: { min: 60, max: 79, description: 'ÏòàÏÇ∞ ÏßëÌñâÏóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï®' },\n      red: { min: 0, max: 59, description: 'ÏòàÏÇ∞ ÏßëÌñâÏóê Ïã¨Í∞ÅÌïú Î¨∏Ï†úÍ∞Ä ÏûàÏùå' }\n    },\n    people: {\n      green: { min: 80, max: 100, description: 'Ïù∏Î†•Ïù¥ ÏïàÏ†ïÏ†ÅÏúºÎ°ú Ïö¥ÏòÅÎêòÍ≥† ÏûàÏùå' },\n      amber: { min: 60, max: 79, description: 'Ïù∏Î†• Í¥ÄÎ¶¨Ïóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï®' },\n      red: { min: 0, max: 59, description: 'Ïù∏Î†•Ïóê Ïã¨Í∞ÅÌïú Î¨∏Ï†úÍ∞Ä ÏûàÏùå' }\n    },\n    risk: {\n      green: { min: 80, max: 100, description: 'Î¶¨Ïä§ÌÅ¨Í∞Ä Ïûò Í¥ÄÎ¶¨ÎêòÍ≥† ÏûàÏùå' },\n      amber: { min: 60, max: 79, description: 'Î¶¨Ïä§ÌÅ¨ Í¥ÄÎ¶¨Ïóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï®' },\n      red: { min: 0, max: 59, description: 'Ïã¨Í∞ÅÌïú Î¶¨Ïä§ÌÅ¨Í∞Ä Ï°¥Ïû¨Ìï®' }\n    }\n  }\n\n  healthRules.set(rules)\n}\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Ìä∏Î†åÎìú Î∂ÑÏÑù\nexport function analyzeHealthTrend(projectId: string, period: 'week' | 'month' | 'quarter'): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Í≥ºÍ±∞ Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  const mockTrendData = {\n    week: [\n      { date: '2024-01-01', overall: 85, schedule: 80, budget: 90, people: 85, risk: 85 },\n      { date: '2024-01-08', overall: 82, schedule: 78, budget: 88, people: 83, risk: 82 },\n      { date: '2024-01-15', overall: 80, schedule: 75, budget: 85, people: 80, risk: 80 },\n      { date: '2024-01-22', overall: 78, schedule: 72, budget: 82, people: 78, risk: 78 }\n    ],\n    month: [\n      { month: '2024-01', overall: 85, schedule: 80, budget: 90, people: 85, risk: 85 },\n      { month: '2024-02', overall: 82, schedule: 78, budget: 88, people: 83, risk: 82 },\n      { month: '2024-03', overall: 80, schedule: 75, budget: 85, people: 80, risk: 80 }\n    ],\n    quarter: [\n      { quarter: 'Q1-2024', overall: 85, schedule: 80, budget: 90, people: 85, risk: 85 },\n      { quarter: 'Q2-2024', overall: 82, schedule: 78, budget: 88, people: 83, risk: 82 }\n    ]\n  }\n\n  return mockTrendData[period]\n}\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ ÏïåÎ¶º ÏÉùÏÑ±\nexport function createHealthAlert(projectId: string, indicator: HealthIndicator): void {\n  const alerts = []\n\n  // Í∞Å ÏòÅÏó≠Î≥Ñ ÏïåÎ¶º ÏÉùÏÑ±\n  if (indicator.schedule < 60) {\n    alerts.push({\n      type: 'schedule',\n      severity: 'high',\n      message: `ÏùºÏ†ï Ìó¨Ïä§ Ï†êÏàòÍ∞Ä ${indicator.schedule}Ï†êÏúºÎ°ú ÎÇÆÏäµÎãàÎã§.`\n    })\n  }\n\n  if (indicator.budget < 60) {\n    alerts.push({\n      type: 'budget',\n      severity: 'high',\n      message: `ÏòàÏÇ∞ Ìó¨Ïä§ Ï†êÏàòÍ∞Ä ${indicator.budget}Ï†êÏúºÎ°ú ÎÇÆÏäµÎãàÎã§.`\n    })\n  }\n\n  if (indicator.people < 60) {\n    alerts.push({\n      type: 'people',\n      severity: 'high',\n      message: `Ïù∏Î†• Ìó¨Ïä§ Ï†êÏàòÍ∞Ä ${indicator.people}Ï†êÏúºÎ°ú ÎÇÆÏäµÎãàÎã§.`\n    })\n  }\n\n  if (indicator.risk < 60) {\n    alerts.push({\n      type: 'risk',\n      severity: 'high',\n      message: `Î¶¨Ïä§ÌÅ¨ Ìó¨Ïä§ Ï†êÏàòÍ∞Ä ${indicator.risk}Ï†êÏúºÎ°ú ÎÇÆÏäµÎãàÎã§.`\n    })\n  }\n\n  // Ï†ÑÏ≤¥ ÏÉÅÌÉúÍ∞Ä RedÏù∏ Í≤ΩÏö∞\n  if (indicator.overall === 'red') {\n    alerts.push({\n      type: 'overall',\n      severity: 'critical',\n      message: `ÌîÑÎ°úÏ†ùÌä∏ Ï†ÑÏ≤¥ Ìó¨Ïä§ ÏÉÅÌÉúÍ∞Ä RedÏûÖÎãàÎã§. Ï¶âÏãú Ï°∞ÏπòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.`\n    })\n  }\n\n  // ÏïåÎ¶º Î∞úÏÜ° (Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏïåÎ¶º ÏãúÏä§ÌÖúÏóê Ï†ÑÏÜ°)\n  alerts.forEach(alert => {\n    logger.log(`Health Alert for ${projectId}:`, alert)\n  })\n}\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞\nexport function getHealthDashboardData(): any {\n  let allIndicators: HealthIndicator[] = []\n\n  healthIndicators.subscribe(list => {\n    allIndicators = list\n  })()\n\n  const greenCount = allIndicators.filter(h => h.overall === 'green').length\n  const amberCount = allIndicators.filter(h => h.overall === 'amber').length\n  const redCount = allIndicators.filter(h => h.overall === 'red').length\n\n  const averageSchedule =\n    allIndicators.length > 0\n      ? allIndicators.reduce((sum, h) => sum + h.schedule, 0) / allIndicators.length\n      : 0\n  const averageBudget =\n    allIndicators.length > 0\n      ? allIndicators.reduce((sum, h) => sum + h.budget, 0) / allIndicators.length\n      : 0\n  const averagePeople =\n    allIndicators.length > 0\n      ? allIndicators.reduce((sum, h) => sum + h.people, 0) / allIndicators.length\n      : 0\n  const averageRisk =\n    allIndicators.length > 0\n      ? allIndicators.reduce((sum, h) => sum + h.risk, 0) / allIndicators.length\n      : 0\n\n  return {\n    totalProjects: allIndicators.length,\n    greenCount,\n    amberCount,\n    redCount,\n    averageScores: {\n      schedule: Math.round(averageSchedule),\n      budget: Math.round(averageBudget),\n      people: Math.round(averagePeople),\n      risk: Math.round(averageRisk)\n    },\n    recentIndicators: allIndicators\n      .sort((a, b) => new Date(b.lastUpdated).getTime() - new Date(a.lastUpdated).getTime())\n      .slice(0, 10)\n  }\n}\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏\nexport function scheduleHealthIndicatorUpdates(): void {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞Î•º ÏóÖÎç∞Ïù¥Ìä∏\n  setInterval(\n    () => {\n      // Î™®Îì† ÌôúÏÑ± ÌîÑÎ°úÏ†ùÌä∏Ïóê ÎåÄÌï¥ Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Í≥ÑÏÇ∞\n      logger.log('Updating health indicators...')\n    },\n    24 * 60 * 60 * 1000\n  ) // 24ÏãúÍ∞ÑÎßàÎã§\n}\n\n// Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞\nexport function exportHealthIndicators(format: 'json' | 'csv' | 'excel'): string {\n  let allIndicators: HealthIndicator[] = []\n\n  healthIndicators.subscribe(list => {\n    allIndicators = list\n  })()\n\n  if (format === 'json') {\n    return JSON.stringify(allIndicators, null, 2)\n  } else if (format === 'csv') {\n    const csvHeader = 'Project ID,Schedule,Budget,People,Risk,Overall,Last Updated\\n'\n    const csvRows = allIndicators\n      .map(\n        h =>\n          `${h.projectId},${h.schedule},${h.budget},${h.people},${h.risk},${h.overall},${h.lastUpdated}`\n      )\n      .join('\\n')\n    return csvHeader + csvRows\n  }\n\n  return JSON.stringify(allIndicators, null, 2)\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/milestone-management.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 20,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 83,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 83,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 157,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 157,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3957, 3960], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3957, 3960], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 342,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 342,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 470,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 470,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12412, 12415], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12412, 12415], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 473,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 473,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12496, 12499], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12496, 12499], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { Milestone, Approval } from './types'\nimport { logAudit } from './core'\n\n// ÎßàÏùºÏä§ÌÜ§ Í¥ÄÎ¶¨\nexport const milestones = writable<Milestone[]>([])\nexport const milestoneDeliverables = writable<Record<string, unknown[]>>({})\n\n// Î∂ÑÍ∏∞ Î™©Ìëú/ÏÇ∞Ï∂úÎ¨º ÏÉùÏÑ±\nexport function createMilestone(\n  projectId: string,\n  quarter: number,\n  title: string,\n  kpis: Record<string, unknown>,\n  dueDate: string,\n  ownerId: string,\n  deliverables: string[] = []\n): string {\n  const milestone: Milestone = {\n    id: crypto.randomUUID(),\n    projectId,\n    quarter,\n    title,\n    kpis,\n    dueDate,\n    ownerId,\n    status: 'not-started',\n    deliverables,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  milestones.update(list => [...list, milestone])\n  logAudit('create', 'milestone', milestone.id, {}, milestone)\n\n  return milestone.id\n}\n\n// ÎßàÏùºÏä§ÌÜ§ ÏàòÏ†ï\nexport function updateMilestone(milestoneId: string, updates: Partial<Milestone>): void {\n  milestones.update(list => {\n    const index = list.findIndex(m => m.id === milestoneId)\n    if (index === -1) return list\n\n    const oldMilestone = list[index]\n    const updatedMilestone = {\n      ...oldMilestone,\n      ...updates,\n      updatedAt: new Date().toISOString()\n    }\n\n    const newList = [...list]\n    newList[index] = updatedMilestone\n\n    logAudit('update', 'milestone', milestoneId, oldMilestone, updatedMilestone)\n    return newList\n  })\n}\n\n// ÎßàÏùºÏä§ÌÜ§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateMilestoneStatus(\n  milestoneId: string,\n  status: Milestone['status'],\n  comment?: string\n): void {\n  updateMilestone(milestoneId, { status })\n\n  if (comment) {\n    logAudit('status_change', 'milestone', milestoneId, { status, comment }, {})\n  }\n}\n\n// ÏÇ∞Ï∂úÎ¨º ÏóÖÎ°úÎìú\nexport function uploadDeliverable(\n  milestoneId: string,\n  deliverableName: string,\n  filename: string,\n  storageUrl: string,\n  sha256: string,\n  description?: string\n): string {\n  const deliverable = {\n    id: crypto.randomUUID(),\n    milestoneId,\n    name: deliverableName,\n    filename,\n    storageUrl,\n    sha256,\n    description,\n    uploadedAt: new Date().toISOString(),\n    uploadedBy: 'current-user',\n    version: 1,\n    status: 'uploaded'\n  }\n\n  milestoneDeliverables.update(deliverables => {\n    const milestoneDeliverables = deliverables[milestoneId] || []\n    return {\n      ...deliverables,\n      [milestoneId]: [...milestoneDeliverables, deliverable]\n    }\n  })\n\n  logAudit('upload', 'deliverable', deliverable.id, {}, deliverable)\n\n  // ÎßàÏùºÏä§ÌÜ§ ÏÉÅÌÉú ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏\n  checkMilestoneCompletion(milestoneId)\n\n  return deliverable.id\n}\n\n// ÎßàÏùºÏä§ÌÜ§ ÏôÑÎ£å Ïó¨Î∂Ä Ï≤¥ÌÅ¨\nfunction checkMilestoneCompletion(milestoneId: string): void {\n  milestones.update(list => {\n    const milestone = list.find(m => m.id === milestoneId)\n    if (!milestone) return list\n\n    milestoneDeliverables.update(deliverables => {\n      const milestoneDeliverables = deliverables[milestoneId] || []\n      const requiredDeliverables = milestone.deliverables\n      const uploadedDeliverables = milestoneDeliverables.filter(d => d.status === 'uploaded')\n\n      // Î™®Îì† ÌïÑÏàò ÏÇ∞Ï∂úÎ¨ºÏù¥ ÏóÖÎ°úÎìúÎêòÏóàÎäîÏßÄ ÌôïÏù∏\n      const allDeliverablesUploaded = requiredDeliverables.every(required =>\n        uploadedDeliverables.some(uploaded => uploaded.name === required)\n      )\n\n      // ÎßàÏùºÏä§ÌÜ§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n      if (allDeliverablesUploaded && milestone.status !== 'completed') {\n        const updatedMilestone = {\n          ...milestone,\n          status: 'completed' as const,\n          updatedAt: new Date().toISOString()\n        }\n\n        const index = list.findIndex(m => m.id === milestoneId)\n        if (index !== -1) {\n          const newList = [...list]\n          newList[index] = updatedMilestone\n\n          logAudit('complete', 'milestone', milestoneId, milestone, updatedMilestone)\n          return newList\n        }\n      }\n\n      return list\n    })\n\n    return list\n  })\n}\n\n// KPI ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateMilestoneKPI(\n  milestoneId: string,\n  kpiName: string,\n  value: any,\n  comment?: string\n): void {\n  milestones.update(list => {\n    const index = list.findIndex(m => m.id === milestoneId)\n    if (index === -1) return list\n\n    const milestone = list[index]\n    const updatedKpis = {\n      ...milestone.kpis,\n      [kpiName]: {\n        value,\n        updatedAt: new Date().toISOString(),\n        comment\n      }\n    }\n\n    const updatedMilestone = {\n      ...milestone,\n      kpis: updatedKpis,\n      updatedAt: new Date().toISOString()\n    }\n\n    const newList = [...list]\n    newList[index] = updatedMilestone\n\n    logAudit('update_kpi', 'milestone', milestoneId, { kpiName, value, comment }, updatedKpis)\n    return newList\n  })\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÎßàÏùºÏä§ÌÜ§ Î™©Î°ù\nexport function getMilestonesByProject(projectId: string): Milestone[] {\n  let projectMilestones: Milestone[] = []\n\n  milestones.subscribe(list => {\n    projectMilestones = list\n      .filter(m => m.projectId === projectId)\n      .sort((a, b) => a.quarter - b.quarter)\n  })()\n\n  return projectMilestones\n}\n\n// Î∂ÑÍ∏∞Î≥Ñ ÎßàÏùºÏä§ÌÜ§ Î™©Î°ù\nexport function getMilestonesByQuarter(projectId: string, quarter: number): Milestone[] {\n  let quarterMilestones: Milestone[] = []\n\n  milestones.subscribe(list => {\n    quarterMilestones = list\n      .filter(m => m.projectId === projectId && m.quarter === quarter)\n      .sort((a, b) => new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime())\n  })()\n\n  return quarterMilestones\n}\n\n// ÎßàÏùºÏä§ÌÜ§Î≥Ñ ÏÇ∞Ï∂úÎ¨º Î™©Î°ù\nexport function getMilestoneDeliverables(milestoneId: string): unknown[] {\n  let deliverables: unknown[] = []\n\n  milestoneDeliverables.subscribe(deliverableMap => {\n    deliverables = deliverableMap[milestoneId] || []\n  })()\n\n  return deliverables\n}\n\n// ÎßàÏùºÏä§ÌÜ§ Îã¨ÏÑ±Î•† Í≥ÑÏÇ∞\nexport function calculateMilestoneProgress(milestoneId: string): {\n  progress: number\n  completedDeliverables: number\n  totalDeliverables: number\n  status: 'on-track' | 'at-risk' | 'delayed'\n} {\n  let milestone: Milestone | undefined\n  let deliverables: unknown[] = []\n\n  milestones.subscribe(list => {\n    milestone = list.find(m => m.id === milestoneId)\n  })()\n\n  milestoneDeliverables.subscribe(deliverableMap => {\n    deliverables = deliverableMap[milestoneId] || []\n  })()\n\n  if (!milestone) {\n    return { progress: 0, completedDeliverables: 0, totalDeliverables: 0, status: 'delayed' }\n  }\n\n  const totalDeliverables = milestone.deliverables.length\n  const completedDeliverables = deliverables.filter(d => d.status === 'uploaded').length\n  const progress = totalDeliverables > 0 ? (completedDeliverables / totalDeliverables) * 100 : 0\n\n  // ÏÉÅÌÉú Í≤∞Ï†ï\n  let status: 'on-track' | 'at-risk' | 'delayed' = 'on-track'\n  const now = new Date()\n  const dueDate = new Date(milestone.dueDate)\n  const daysUntilDue = Math.ceil((dueDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24))\n\n  if (daysUntilDue < 0) {\n    status = 'delayed'\n  } else if (daysUntilDue <= 7 && progress < 80) {\n    status = 'at-risk'\n  }\n\n  return { progress, completedDeliverables, totalDeliverables, status }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ Ï†ÑÏ≤¥ ÏßÑÌñâÎ•† Í≥ÑÏÇ∞\nexport function calculateProjectProgress(projectId: string): {\n  overallProgress: number\n  quarterProgress: Record<number, number>\n  milestoneStatus: Record<string, unknown>\n} {\n  const projectMilestones = getMilestonesByProject(projectId)\n  const quarterProgress: Record<number, number> = {}\n  const milestoneStatus: Record<string, unknown> = {}\n\n  let totalProgress = 0\n  let totalMilestones = 0\n\n  projectMilestones.forEach(milestone => {\n    const progress = calculateMilestoneProgress(milestone.id)\n    milestoneStatus[milestone.id] = progress\n\n    totalProgress += progress.progress\n    totalMilestones++\n\n    if (!quarterProgress[milestone.quarter]) {\n      quarterProgress[milestone.quarter] = 0\n    }\n    quarterProgress[milestone.quarter] += progress.progress\n  })\n\n  // Î∂ÑÍ∏∞Î≥Ñ ÌèâÍ∑† Í≥ÑÏÇ∞\n  Object.keys(quarterProgress).forEach(quarter => {\n    const quarterMilestones = projectMilestones.filter(m => m.quarter === parseInt(quarter))\n    quarterProgress[parseInt(quarter)] =\n      quarterProgress[parseInt(quarter)] / quarterMilestones.length\n  })\n\n  const overallProgress = totalMilestones > 0 ? totalProgress / totalMilestones : 0\n\n  return { overallProgress, quarterProgress, milestoneStatus }\n}\n\n// ÏßÄÏó∞Îêú ÎßàÏùºÏä§ÌÜ§ Î™©Î°ù\nexport function getDelayedMilestones(): Milestone[] {\n  let delayedMilestones: Milestone[] = []\n\n  milestones.subscribe(list => {\n    const now = new Date()\n    delayedMilestones = list.filter(milestone => {\n      const dueDate = new Date(milestone.dueDate)\n      const isOverdue = dueDate < now\n      const isNotCompleted = milestone.status !== 'completed'\n      return isOverdue && isNotCompleted\n    })\n  })()\n\n  return delayedMilestones\n}\n\n// ÏúÑÌóò ÏÉÅÌÉú ÎßàÏùºÏä§ÌÜ§ Î™©Î°ù\nexport function getAtRiskMilestones(): Milestone[] {\n  let atRiskMilestones: Milestone[] = []\n\n  milestones.subscribe(list => {\n    atRiskMilestones = list.filter(milestone => {\n      const progress = calculateMilestoneProgress(milestone.id)\n      return progress.status === 'at-risk'\n    })\n  })()\n\n  return atRiskMilestones\n}\n\n// ÎßàÏùºÏä§ÌÜ§ ÏäπÏù∏ ÏöîÏ≤≠\nexport function requestMilestoneApproval(\n  milestoneId: string,\n  approverId: string,\n  comment?: string\n): string {\n  const approval: Approval = {\n    id: crypto.randomUUID(),\n    subjectType: 'milestone',\n    subjectId: milestoneId,\n    stepNo: 1,\n    approverId,\n    decision: 'pending',\n    comment,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  logAudit('approval_request', 'milestone', milestoneId, { approverId, comment }, approval)\n\n  return approval.id\n}\n\n// ÎßàÏùºÏä§ÌÜ§ ÏäπÏù∏ Ï≤òÎ¶¨\nexport function approveMilestone(\n  milestoneId: string,\n  approverId: string,\n  decision: 'approved' | 'rejected',\n  comment?: string\n): void {\n  updateMilestoneStatus(milestoneId, decision === 'approved' ? 'completed' : 'not-started', comment)\n\n  logAudit('approval_decision', 'milestone', milestoneId, { approverId, decision, comment }, {})\n}\n\n// Î∂ÑÍ∏∞Î≥Ñ Î™©Ìëú ÏÑ§Ï†ï ÌÖúÌîåÎ¶ø\nexport function createQuarterlyMilestoneTemplate(\n  projectId: string,\n  quarter: number,\n  templateType: 'research' | 'development' | 'commercialization'\n): Milestone[] {\n  const templates = {\n    research: [\n      {\n        title: 'Î¨∏Ìóå Ï°∞ÏÇ¨ Î∞è Í∏∞Ïà† Î∂ÑÏÑù',\n        kpis: { literature_review: 0, technical_analysis: 0 },\n        deliverables: ['Î¨∏ÌóåÏ°∞ÏÇ¨Î≥¥Í≥†ÏÑú', 'Í∏∞Ïà†Î∂ÑÏÑùÎ≥¥Í≥†ÏÑú']\n      },\n      {\n        title: 'Ïã§Ìóò ÏÑ§Í≥Ñ Î∞è Ï¥àÍ∏∞ Ïã§Ìóò',\n        kpis: { experiment_design: 0, initial_experiments: 0 },\n        deliverables: ['Ïã§ÌóòÏÑ§Í≥ÑÏÑú', 'Ï¥àÍ∏∞Ïã§ÌóòÍ≤∞Í≥º']\n      },\n      {\n        title: 'Ï§ëÍ∞Ñ Í≤∞Í≥º Î∂ÑÏÑù Î∞è Î≥¥Í≥†',\n        kpis: { data_analysis: 0, interim_report: 0 },\n        deliverables: ['Ï§ëÍ∞ÑÎ≥¥Í≥†ÏÑú', 'Îç∞Ïù¥ÌÑ∞Î∂ÑÏÑùÍ≤∞Í≥º']\n      }\n    ],\n    development: [\n      {\n        title: 'ÏöîÍµ¨ÏÇ¨Ìï≠ Î∂ÑÏÑù Î∞è ÏÑ§Í≥Ñ',\n        kpis: { requirements_analysis: 0, system_design: 0 },\n        deliverables: ['ÏöîÍµ¨ÏÇ¨Ìï≠Î™ÖÏÑ∏ÏÑú', 'ÏãúÏä§ÌÖúÏÑ§Í≥ÑÏÑú']\n      },\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Í∞úÎ∞ú',\n        kpis: { prototype_development: 0, testing: 0 },\n        deliverables: ['ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ', 'ÌÖåÏä§Ìä∏Í≤∞Í≥º']\n      },\n      {\n        title: 'ÏÑ±Îä• ÏµúÏ†ÅÌôî Î∞è Í≤ÄÏ¶ù',\n        kpis: { optimization: 0, validation: 0 },\n        deliverables: ['ÏµúÏ†ÅÌôîÍ≤∞Í≥º', 'Í≤ÄÏ¶ùÎ≥¥Í≥†ÏÑú']\n      }\n    ],\n    commercialization: [\n      {\n        title: 'ÏãúÏû• Î∂ÑÏÑù Î∞è ÏÇ¨ÏóÖÌôî Í≥ÑÌöç',\n        kpis: { market_analysis: 0, business_plan: 0 },\n        deliverables: ['ÏãúÏû•Î∂ÑÏÑùÎ≥¥Í≥†ÏÑú', 'ÏÇ¨ÏóÖÌôîÍ≥ÑÌöçÏÑú']\n      },\n      {\n        title: 'ÌååÏùºÎüø ÌÖåÏä§Ìä∏ Î∞è Í≤ÄÏ¶ù',\n        kpis: { pilot_test: 0, validation: 0 },\n        deliverables: ['ÌååÏùºÎüøÌÖåÏä§Ìä∏Í≤∞Í≥º', 'Í≤ÄÏ¶ùÎ≥¥Í≥†ÏÑú']\n      },\n      {\n        title: 'ÏÇ¨ÏóÖÌôî Ï§ÄÎπÑ Î∞è Ïã§Ìñâ',\n        kpis: { commercialization_prep: 0, execution: 0 },\n        deliverables: ['ÏÇ¨ÏóÖÌôîÏ§ÄÎπÑÎ≥¥Í≥†ÏÑú', 'Ïã§ÌñâÍ≥ÑÌöçÏÑú']\n      }\n    ]\n  }\n\n  const template = templates[templateType]\n  const createdMilestones: Milestone[] = []\n\n  template.forEach((item, index) => {\n    const dueDate = new Date()\n    dueDate.setMonth(dueDate.getMonth() + (index + 1) * 4) // Î∂ÑÍ∏∞Î≥ÑÎ°ú 4Í∞úÏõîÏî©\n\n    const milestoneId = createMilestone(\n      projectId,\n      quarter,\n      item.title,\n      item.kpis,\n      dueDate.toISOString().split('T')[0],\n      'current-user',\n      item.deliverables\n    )\n\n    createdMilestones.push({\n      id: milestoneId,\n      projectId,\n      quarter,\n      title: item.title,\n      kpis: item.kpis,\n      dueDate: dueDate.toISOString().split('T')[0],\n      ownerId: 'current-user',\n      status: 'not-started',\n      deliverables: item.deliverables,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    })\n  })\n\n  return createdMilestones\n}\n\n// ÎßàÏùºÏä§ÌÜ§ Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\nexport function generateMilestoneReport(\n  projectId: string,\n  quarter?: number\n): {\n  summary: any\n  milestones: Milestone[]\n  deliverables: Record<string, unknown[]>\n  progress: any\n} {\n  const projectMilestones = quarter\n    ? getMilestonesByQuarter(projectId, quarter)\n    : getMilestonesByProject(projectId)\n\n  const deliverables: Record<string, unknown[]> = {}\n  const progress = calculateProjectProgress(projectId)\n\n  projectMilestones.forEach(milestone => {\n    deliverables[milestone.id] = getMilestoneDeliverables(milestone.id)\n  })\n\n  const summary = {\n    totalMilestones: projectMilestones.length,\n    completedMilestones: projectMilestones.filter(m => m.status === 'completed').length,\n    delayedMilestones: getDelayedMilestones().filter(m => m.projectId === projectId).length,\n    atRiskMilestones: getAtRiskMilestones().filter(m => m.projectId === projectId).length,\n    overallProgress: progress.overallProgress\n  }\n\n  return { summary, milestones: projectMilestones, deliverables, progress }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/participation-salary.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 21,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 21,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 76,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 76,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'allocations' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 97,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 97,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'projects' is not defined.",
        "line": 101,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 101,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'persons' is not defined.",
        "line": 102,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 102,
        "endColumn": 16
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { ParticipationAssignment, SalaryHistory } from './types'\nimport { logAudit } from './core'\n\n// Ï∞∏Ïó¨Ïú® Î∞è Í∏âÏó¨ Î≥ÄÎèô Í¥ÄÎ¶¨\nexport const participationAssignments = writable<ParticipationAssignment[]>([])\nexport const salaryHistory = writable<SalaryHistory[]>([])\n\n// ÏõîÎ≥Ñ Ïù∏Í±¥ÎπÑ Î∞∞Î∂ÑÌëú\nexport const monthlySalaryAllocations = writable<Record<string, unknown[]>>({})\n\n// Ï∞∏Ïó¨Ïú® Î∞∞Ï†ï\nexport function assignParticipation(\n  projectId: string,\n  personId: string,\n  dateFrom: string,\n  dateTo: string,\n  ratePct: number\n): string {\n  const assignment: ParticipationAssignment = {\n    id: crypto.randomUUID(),\n    projectId,\n    personId,\n    dateFrom,\n    dateTo,\n    ratePct,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  participationAssignments.update(assignments => [...assignments, assignment])\n  logAudit('create', 'participation_assignment', assignment.id, {}, assignment)\n\n  // ÏõîÎ≥Ñ Î∞∞Î∂ÑÌëú Ïû¨Í≥ÑÏÇ∞\n  recalculateMonthlyAllocations()\n\n  return assignment.id\n}\n\n// Ï∞∏Ïó¨Ïú® ÏàòÏ†ï\nexport function updateParticipation(\n  assignmentId: string,\n  updates: Partial<ParticipationAssignment>\n): void {\n  participationAssignments.update(assignments => {\n    const index = assignments.findIndex(a => a.id === assignmentId)\n    if (index === -1) return assignments\n\n    const oldAssignment = assignments[index]\n    const updatedAssignment = {\n      ...oldAssignment,\n      ...updates,\n      updatedAt: new Date().toISOString()\n    }\n\n    const newAssignments = [...assignments]\n    newAssignments[index] = updatedAssignment\n\n    logAudit('update', 'participation_assignment', assignmentId, oldAssignment, updatedAssignment)\n\n    // ÏõîÎ≥Ñ Î∞∞Î∂ÑÌëú Ïû¨Í≥ÑÏÇ∞\n    recalculateMonthlyAllocations()\n\n    return newAssignments\n  })\n}\n\n// Í∏âÏó¨ Î≥ÄÎèô Îì±Î°ù\nexport function addSalaryChange(\n  personId: string,\n  effectiveFrom: string,\n  baseSalary: number,\n  currency: string = 'KRW'\n): string {\n  const salaryRecord: SalaryHistory = {\n    id: crypto.randomUUID(),\n    personId,\n    effectiveFrom,\n    baseSalary,\n    currency,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  salaryHistory.update(history => [...history, salaryRecord])\n  logAudit('create', 'salary_history', salaryRecord.id, {}, salaryRecord)\n\n  // ÏõîÎ≥Ñ Î∞∞Î∂ÑÌëú Ïû¨Í≥ÑÏÇ∞\n  recalculateMonthlyAllocations()\n\n  return salaryRecord.id\n}\n\n// ÏõîÎ≥Ñ Ïù∏Í±¥ÎπÑ Î∞∞Î∂ÑÌëú Í≥ÑÏÇ∞\nexport function recalculateMonthlyAllocations(): void {\n  // Î™®Îì† ÌîÑÎ°úÏ†ùÌä∏ÏôÄ Ï∞∏Ïó¨ Î∞∞Ï†ïÏùÑ Í∞ÄÏ†∏ÏôÄÏÑú ÏõîÎ≥ÑÎ°ú Í≥ÑÏÇ∞\n  const allocations: Record<string, unknown[]> = {}\n\n  participationAssignments.subscribe(assignments => {\n    salaryHistory.subscribe(salaries => {\n      projects.subscribe(projectList => {\n        persons.subscribe(personList => {\n          // ÏõîÎ≥ÑÎ°ú Í∑∏Î£πÌôîÌïòÏó¨ Í≥ÑÏÇ∞\n          const monthlyData: Record<string, unknown[]> = {}\n\n          assignments.forEach(assignment => {\n            const project = projectList.find(p => p.id === assignment.projectId)\n            const person = personList.find(p => p.id === assignment.personId)\n\n            if (!project || !person) return\n\n            // Î∞∞Ï†ï Í∏∞Í∞ÑÏùò Í∞Å ÏõîÏóê ÎåÄÌï¥ Í≥ÑÏÇ∞\n            const startDate = new Date(assignment.dateFrom)\n            const endDate = new Date(assignment.dateTo)\n\n            const currentDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1)\n            const endMonth = new Date(endDate.getFullYear(), endDate.getMonth(), 1)\n\n            while (currentDate <= endMonth) {\n              const monthKey = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, '0')}`\n\n              if (!monthlyData[monthKey]) {\n                monthlyData[monthKey] = []\n              }\n\n              // Ìï¥Îãπ ÏõîÏùò Í∏âÏó¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n              const monthlySalary = getSalaryForMonth(person.id, currentDate, salaries)\n\n              // Ìï¥Îãπ ÏõîÏùò Í∑ºÎ¨¥Ïùº Ïàò Í≥ÑÏÇ∞\n              const workingDays = getWorkingDaysInMonth(currentDate, startDate, endDate)\n              const totalDays = getDaysInMonth(currentDate)\n              const workingRatio = workingDays / totalDays\n\n              // Ïù∏Í±¥ÎπÑ Í≥ÑÏÇ∞\n              const monthlyAllocation = {\n                projectId: project.id,\n                projectCode: project.code,\n                projectTitle: project.title,\n                personId: person.id,\n                personName: person.name,\n                participationRate: assignment.ratePct,\n                baseSalary: monthlySalary,\n                workingRatio,\n                allocatedAmount: monthlySalary * (assignment.ratePct / 100) * workingRatio,\n                currency: 'KRW',\n                month: monthKey\n              }\n\n              monthlyData[monthKey].push(monthlyAllocation)\n\n              // Îã§Ïùå Îã¨Î°ú Ïù¥Îèô\n              currentDate.setMonth(currentDate.getMonth() + 1)\n            }\n          })\n\n          monthlySalaryAllocations.set(monthlyData)\n        })()\n      })()\n    })()\n  })()\n}\n\n// ÌäπÏ†ï ÏõîÏùò Í∏âÏó¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getSalaryForMonth(personId: string, month: Date, salaries: SalaryHistory[]): number {\n  // Ìï¥Îãπ ÏõîÏóê Ïú†Ìö®Ìïú Í∏âÏó¨ Ï†ïÎ≥¥ Ï∞æÍ∏∞\n  const validSalaries = salaries\n    .filter(s => s.personId === personId)\n    .filter(s => new Date(s.effectiveFrom) <= month)\n    .sort((a, b) => new Date(b.effectiveFrom).getTime() - new Date(a.effectiveFrom).getTime())\n\n  return validSalaries.length > 0 ? validSalaries[0].baseSalary : 0\n}\n\n// ÌäπÏ†ï ÏõîÏùò Í∑ºÎ¨¥Ïùº Ïàò Í≥ÑÏÇ∞\nfunction getWorkingDaysInMonth(month: Date, startDate: Date, endDate: Date): number {\n  const monthStart = new Date(month.getFullYear(), month.getMonth(), 1)\n  const monthEnd = new Date(month.getFullYear(), month.getMonth() + 1, 0)\n\n  const effectiveStart = startDate > monthStart ? startDate : monthStart\n  const effectiveEnd = endDate < monthEnd ? endDate : monthEnd\n\n  if (effectiveStart > effectiveEnd) return 0\n\n  return Math.ceil((effectiveEnd.getTime() - effectiveStart.getTime()) / (1000 * 60 * 60 * 24)) + 1\n}\n\n// ÌäπÏ†ï ÏõîÏùò Ï¥ù ÏùºÏàò\nfunction getDaysInMonth(month: Date): number {\n  return new Date(month.getFullYear(), month.getMonth() + 1, 0).getDate()\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÏõîÎ≥Ñ Ïù∏Í±¥ÎπÑ ÏßëÍ≥Ñ\nexport function getProjectMonthlyAllocations(projectId: string, month: string): unknown[] {\n  let allocations: unknown[] = []\n\n  monthlySalaryAllocations.subscribe(monthlyData => {\n    allocations = monthlyData[month]?.filter(a => a.projectId === projectId) || []\n  })()\n\n  return allocations\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï¥ù Ïù∏Í±¥ÎπÑ Í≥ÑÏÇ∞\nexport function getProjectTotalPersonnelCost(\n  projectId: string,\n  startMonth: string,\n  endMonth: string\n): number {\n  let totalCost = 0\n\n  monthlySalaryAllocations.subscribe(monthlyData => {\n    const startDate = new Date(startMonth + '-01')\n    const endDate = new Date(endMonth + '-01')\n\n    const currentDate = new Date(startDate)\n    while (currentDate <= endDate) {\n      const monthKey = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, '0')}`\n      const monthAllocations = monthlyData[monthKey] || []\n\n      const projectAllocations = monthAllocations.filter(a => a.projectId === projectId)\n      const monthTotal = projectAllocations.reduce((sum, a) => sum + a.allocatedAmount, 0)\n\n      totalCost += monthTotal\n\n      currentDate.setMonth(currentDate.getMonth() + 1)\n    }\n  })()\n\n  return totalCost\n}\n\n// Í∞úÏù∏Î≥Ñ ÏõîÎ≥Ñ Ï∞∏Ïó¨ ÌòÑÌô©\nexport function getPersonMonthlyParticipation(personId: string, month: string): unknown[] {\n  let participations: unknown[] = []\n\n  monthlySalaryAllocations.subscribe(monthlyData => {\n    participations = monthlyData[month]?.filter(a => a.personId === personId) || []\n  })()\n\n  return participations\n}\n\n// Í∞úÏù∏Î≥Ñ Ï¥ù Ï∞∏Ïó¨Ïú® Í≥ÑÏÇ∞ (ÌäπÏ†ï Ïõî)\nexport function getPersonTotalParticipationRate(personId: string, month: string): number {\n  const participations = getPersonMonthlyParticipation(personId, month)\n  return participations.reduce((sum, p) => sum + p.participationRate, 0)\n}\n\n// Ï∞∏Ïó¨Ïú® Ï¥àÍ≥º Í≤ΩÍ≥† Ï≤¥ÌÅ¨\nexport function checkParticipationOverload(\n  personId: string,\n  month: string\n): {\n  overloaded: boolean\n  totalRate: number\n  threshold: number\n} {\n  const totalRate = getPersonTotalParticipationRate(personId, month)\n  const threshold = 100 // 100% Ï¥àÍ≥º Ïãú Í≤ΩÍ≥†\n\n  return {\n    overloaded: totalRate > threshold,\n    totalRate,\n    threshold\n  }\n}\n\n// Í∏âÏó¨ Î≥ÄÎèô Ïù¥Î†• Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getSalaryHistory(personId: string): SalaryHistory[] {\n  let history: SalaryHistory[] = []\n\n  salaryHistory.subscribe(salaries => {\n    history = salaries\n      .filter(s => s.personId === personId)\n      .sort((a, b) => new Date(b.effectiveFrom).getTime() - new Date(a.effectiveFrom).getTime())\n  })()\n\n  return history\n}\n\n// ÌòÑÏû¨ Ïú†Ìö®Ìïú Í∏âÏó¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getCurrentSalary(personId: string): SalaryHistory | null {\n  const history = getSalaryHistory(personId)\n  return history.length > 0 ? history[0] : null\n}\n\n// Ï∞∏Ïó¨ Î∞∞Ï†ï Ïù¥Î†• Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getParticipationHistory(personId: string): ParticipationAssignment[] {\n  let history: ParticipationAssignment[] = []\n\n  participationAssignments.subscribe(assignments => {\n    history = assignments\n      .filter(a => a.personId === personId)\n      .sort((a, b) => new Date(b.dateFrom).getTime() - new Date(a.dateFrom).getTime())\n  })()\n\n  return history\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï∞∏Ïó¨Ïûê Î™©Î°ù\nexport function getProjectParticipants(projectId: string): ParticipationAssignment[] {\n  let participants: ParticipationAssignment[] = []\n\n  participationAssignments.subscribe(assignments => {\n    participants = assignments\n      .filter(a => a.projectId === projectId)\n      .sort((a, b) => new Date(a.dateFrom).getTime() - new Date(b.dateFrom).getTime())\n  })()\n\n  return participants\n}\n\n// ÏõîÎ≥Ñ Ïù∏Í±¥ÎπÑ Î∞∞Î∂ÑÌëú ÏÉùÏÑ± (CSV ÌòïÏãù)\nexport function generateMonthlyAllocationReport(month: string): string {\n  let report = 'ÌîÑÎ°úÏ†ùÌä∏ÏΩîÎìú,ÌîÑÎ°úÏ†ùÌä∏Î™Ö,ÏßÅÏõêÎ™Ö,Ï∞∏Ïó¨Ïú®,Í∏∞Î≥∏Í∏âÏó¨,Í∑ºÎ¨¥ÎπÑÏú®,Î∞∞Î∂ÑÍ∏àÏï°,ÌÜµÌôî\\n'\n\n  monthlySalaryAllocations.subscribe(monthlyData => {\n    const monthData = monthlyData[month] || []\n    monthData.forEach(allocation => {\n      report += `${allocation.projectCode},${allocation.projectTitle},${allocation.personName},${allocation.participationRate}%,${allocation.baseSalary.toLocaleString()},${(allocation.workingRatio * 100).toFixed(1)}%,${allocation.allocatedAmount.toLocaleString()},${allocation.currency}\\n`\n    })\n  })()\n\n  return report\n}\n\n// Í∏âÏó¨ Î≥ÄÎèô Î∞òÏòÅ (Ï§ëÎèÑ Ïù∏ÏÉÅ/Í∞êÎ¥â)\nexport function applySalaryChange(\n  personId: string,\n  effectiveFrom: string,\n  newSalary: number,\n  reason: string\n): void {\n  // Í∏∞Ï°¥ Í∏âÏó¨ Ï†ïÎ≥¥Ïùò Ï¢ÖÎ£åÏùº ÏÑ§Ï†ï\n  salaryHistory.update(history => {\n    return history.map(salary => {\n      if (salary.personId === personId && !salary.updatedAt.includes('ended')) {\n        return {\n          ...salary,\n          updatedAt: new Date().toISOString() + ' (ended)'\n        }\n      }\n      return salary\n    })\n  })\n\n  // ÏÉàÎ°úÏö¥ Í∏âÏó¨ Ï†ïÎ≥¥ Ï∂îÍ∞Ä\n  addSalaryChange(personId, effectiveFrom, newSalary)\n\n  logAudit('salary_change', 'person', personId, { reason, newSalary, effectiveFrom }, {})\n}\n\n// Ìú¥Í∞Ä/Î≥ëÍ∞Ä Î∞òÏòÅ (Ï∞∏Ïó¨Ïú® Ï°∞Ï†ï)\nexport function applyLeaveAdjustment(\n  personId: string,\n  projectId: string,\n  leaveStart: string,\n  leaveEnd: string,\n  leaveType: 'annual' | 'sick' | 'personal'\n): void {\n  // Ìú¥Í∞Ä Í∏∞Í∞Ñ ÎèôÏïàÏùò Ï∞∏Ïó¨Ïú®ÏùÑ 0%Î°ú Ï°∞Ï†ï\n  const adjustment = {\n    projectId,\n    personId,\n    dateFrom: leaveStart,\n    dateTo: leaveEnd,\n    ratePct: 0,\n    leaveType,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  // Í∏∞Ï°¥ Î∞∞Ï†ïÍ≥º Í≤πÏπòÎäî Î∂ÄÎ∂Ñ Ï°∞Ï†ï\n  participationAssignments.update(assignments => {\n    return assignments.map(assignment => {\n      if (assignment.personId === personId && assignment.projectId === projectId) {\n        // Ìú¥Í∞Ä Í∏∞Í∞ÑÍ≥º Í≤πÏπòÎäî Î∂ÄÎ∂ÑÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n        const assignmentStart = new Date(assignment.dateFrom)\n        const assignmentEnd = new Date(assignment.dateTo)\n        const leaveStartDate = new Date(leaveStart)\n        const leaveEndDate = new Date(leaveEnd)\n\n        if (leaveStartDate <= assignmentEnd && leaveEndDate >= assignmentStart) {\n          // Í≤πÏπòÎäî Í∏∞Í∞ÑÏù¥ ÏûàÏúºÎ©¥ Ï°∞Ï†ï ÌïÑÏöî\n          // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Îçî Î≥µÏû°Ìïú Î°úÏßÅÏù¥ ÌïÑÏöî\n          return assignment\n        }\n      }\n      return assignment\n    })\n  })\n\n  logAudit(\n    'leave_adjustment',\n    'participation',\n    personId,\n    { leaveType, leaveStart, leaveEnd },\n    adjustment\n  )\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/project-store.ts",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Identifier expected.",
        "line": 6,
        "column": 0
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Project Management Store\n// ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖúÏùò Î©îÏù∏ Ïä§ÌÜ†Ïñ¥\n\nimport { derived, writable } from 'svelte/store'\nimport type {\nimport { logger } from '$lib/utils/logger';\n  BudgetAlert,\n  BudgetSummaryByYear,\n  EmployeeParticipationSummary,\n  ParticipationRate,\n  ParticipationRateAlert,\n  ParticipationRateFilters,\n  ParticipationRateHistory,\n  ParticipationRateStats,\n  Project,\n  ProjectBudget,\n  ProjectFilters,\n  ProjectMember,\n  ProjectStatusStats,\n  ProjectSummary\n} from './types'\n\n// Í∏∞Î≥∏ ÏÉÅÌÉú\nconst initialState = {\n  projects: [] as Project[],\n  projectMembers: [] as ProjectMember[],\n  projectBudgets: [] as ProjectBudget[],\n  participationRates: [] as ParticipationRate[],\n  participationRateHistory: [] as ParticipationRateHistory[],\n  summary: null as ProjectSummary | null,\n  employeeParticipationSummary: [] as EmployeeParticipationSummary[],\n  budgetSummaryByYear: [] as BudgetSummaryByYear[],\n  alerts: [] as (ParticipationRateAlert | BudgetAlert)[],\n  loading: false,\n  error: null as string | null\n}\n\n// Î©îÏù∏ Ïä§ÌÜ†Ïñ¥\nexport const projectStore = writable(initialState)\n\n// ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ†® Ïï°ÏÖòÎì§\nexport const projectActions = {\n  // ÌîÑÎ°úÏ†ùÌä∏ Î™©Î°ù Î°úÎìú\n  async loadProjects(filters?: ProjectFilters) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const params = new URLSearchParams()\n      if (filters) {\n        Object.entries(filters).forEach(([key, value]) => {\n          if (value) params.append(key, value)\n        })\n      }\n\n      const response = await fetch(`/api/project-management/projects?${params}`)\n      if (!response.ok) throw new Error('ÌîÑÎ°úÏ†ùÌä∏ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projects: data.data || [],\n        loading: false\n      }))\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±\n  async createProject(projectData: any) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      logger.log('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏöîÏ≤≠ Îç∞Ïù¥ÌÑ∞:', projectData)\n\n      const response = await fetch('/api/project-management/projects', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(projectData)\n      })\n\n      logger.log('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏùëÎãµ ÏÉÅÌÉú:', response.status)\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± API ÏóêÎü¨ ÏùëÎãµ:', errorData)\n        throw new Error(errorData.message || 'ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const data = await response.json()\n      logger.log('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏÑ±Í≥µ ÏùëÎãµ:', data)\n\n      projectStore.update(state => ({\n        ...state,\n        projects: [...state.projects, data.data],\n        loading: false\n      }))\n\n      return data.data\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± API Ìò∏Ï∂ú Ïã§Ìå®:', error)\n      logger.error('ÏöîÏ≤≠ Îç∞Ïù¥ÌÑ∞:', projectData)\n\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï\n  async updateProject(id: string, projectData: any) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const response = await fetch(`/api/project-management/projects/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(projectData)\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projects: state.projects.map(p => (p.id === id ? data.data : p)),\n        loading: false\n      }))\n\n      return data.data\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú\n  async deleteProject(id: string) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const response = await fetch(`/api/project-management/projects/${id}`, {\n        method: 'DELETE'\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      projectStore.update(state => ({\n        ...state,\n        projects: state.projects.filter(p => p.id !== id),\n        loading: false\n      }))\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏöîÏïΩ Ï†ïÎ≥¥ Î°úÎìú\n  async loadProjectSummary() {\n    try {\n      const response = await fetch('/api/project-management/summary')\n      if (!response.ok) throw new Error('ÌîÑÎ°úÏ†ùÌä∏ ÏöîÏïΩ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        summary: data.data\n      }))\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏöîÏïΩ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Í¥ÄÎ†® Ïï°ÏÖòÎì§\nexport const projectMemberActions = {\n  // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î™©Î°ù Î°úÎìú\n  async loadProjectMembers(projectId: string) {\n    try {\n      const response = await fetch(`/api/project-management/projects/${projectId}/members`)\n      if (!response.ok) throw new Error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projectMembers: data.data || []\n      }))\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î™©Î°ù Î°úÎìú Ïã§Ìå®:', error)\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï∂îÍ∞Ä\n  async addProjectMember(memberData: any) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const response = await fetch('/api/project-management/project-members', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(memberData)\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projectMembers: [...state.projectMembers, data.data],\n        loading: false\n      }))\n\n      return data.data\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏàòÏ†ï\n  async updateProjectMember(id: string, memberData: any) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const response = await fetch(`/api/project-management/project-members/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(memberData)\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projectMembers: state.projectMembers.map(m => (m.id === id ? data.data : m)),\n        loading: false\n      }))\n\n      return data.data\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  },\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏÇ≠Ï†ú\n  async deleteProjectMember(id: string) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const response = await fetch(`/api/project-management/project-members/${id}`, {\n        method: 'DELETE'\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      projectStore.update(state => ({\n        ...state,\n        projectMembers: state.projectMembers.filter(m => m.id !== id),\n        loading: false\n      }))\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  }\n}\n\n// Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨ Í¥ÄÎ†® Ïï°ÏÖòÎì§\nexport const participationRateActions = {\n  // Ï∞∏Ïó¨Ïú® ÌòÑÌô© Î°úÎìú\n  async loadParticipationRates(filters?: ParticipationRateFilters) {\n    try {\n      const params = new URLSearchParams()\n      if (filters) {\n        Object.entries(filters).forEach(([key, value]) => {\n          if (value) params.append(key, value)\n        })\n      }\n\n      const response = await fetch(`/api/project-management/participation-rates?${params}`)\n      if (!response.ok) throw new Error('Ï∞∏Ïó¨Ïú® ÌòÑÌô©ÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        participationRates: data.data || []\n      }))\n    } catch (error) {\n      logger.error('Ï∞∏Ïó¨Ïú® ÌòÑÌô© Î°úÎìú Ïã§Ìå®:', error)\n    }\n  },\n\n  // Í∞úÏù∏Î≥Ñ Ï∞∏Ïó¨Ïú® ÏöîÏïΩ Î°úÎìú\n  async loadEmployeeParticipationSummary() {\n    try {\n      const response = await fetch('/api/project-management/participation-rates/summary')\n      if (!response.ok) throw new Error('Í∞úÏù∏Î≥Ñ Ï∞∏Ïó¨Ïú® ÏöîÏïΩÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        employeeParticipationSummary: data.data || []\n      }))\n    } catch (error) {\n      logger.error('Í∞úÏù∏Î≥Ñ Ï∞∏Ïó¨Ïú® ÏöîÏïΩ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  },\n\n  // Ï∞∏Ïó¨Ïú® ÏóÖÎç∞Ïù¥Ìä∏\n  async updateParticipationRate(rateData: any) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const response = await fetch('/api/project-management/participation-rates', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(rateData)\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'Ï∞∏Ïó¨Ïú® ÏóÖÎç∞Ïù¥Ìä∏Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        participationRates: state.participationRates.map(r =>\n          r.employeeId === rateData.employeeId && r.projectId === rateData.projectId\n            ? { ...r, participationRate: rateData.participationRate }\n            : r\n        ),\n        loading: false\n      }))\n\n      return data.data\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  },\n\n  // Ï∞∏Ïó¨Ïú® Î≥ÄÍ≤Ω Ïù¥Î†• Î°úÎìú\n  async loadParticipationRateHistory(employeeId?: string, projectId?: string) {\n    try {\n      const params = new URLSearchParams()\n      if (employeeId) params.append('employeeId', employeeId)\n      if (projectId) params.append('projectId', projectId)\n\n      const response = await fetch(`/api/project-management/participation-rates/history?${params}`)\n      if (!response.ok) throw new Error('Ï∞∏Ïó¨Ïú® Î≥ÄÍ≤Ω Ïù¥Î†•ÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        participationRateHistory: data.data || []\n      }))\n    } catch (error) {\n      logger.error('Ï∞∏Ïó¨Ïú® Î≥ÄÍ≤Ω Ïù¥Î†• Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n}\n\n// ÏÇ¨ÏóÖÎπÑ Í¥ÄÎ¶¨ Í¥ÄÎ†® Ïï°ÏÖòÎì§\nexport const budgetActions = {\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Î°úÎìú\n  async loadProjectBudgets(projectId: string) {\n    try {\n      const response = await fetch(`/api/project-management/projects/${projectId}/budgets`)\n      if (!response.ok) throw new Error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÎ•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projectBudgets: data.data || []\n      }))\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  },\n\n  // Ïó∞Ï∞®Î≥Ñ ÏÇ¨ÏóÖÎπÑ ÏöîÏïΩ Î°úÎìú\n  async loadBudgetSummaryByYear() {\n    try {\n      const response = await fetch('/api/project-management/budgets/summary-by-year')\n      if (!response.ok) throw new Error('Ïó∞Ï∞®Î≥Ñ ÏÇ¨ÏóÖÎπÑ ÏöîÏïΩÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        budgetSummaryByYear: data.data || []\n      }))\n    } catch (error) {\n      logger.error('Ïó∞Ï∞®Î≥Ñ ÏÇ¨ÏóÖÎπÑ ÏöîÏïΩ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  },\n\n  // ÏÇ¨ÏóÖÎπÑ ÏÉùÏÑ±/ÏàòÏ†ï\n  async saveProjectBudget(budgetData: any) {\n    projectStore.update(state => ({ ...state, loading: true, error: null }))\n\n    try {\n      const isUpdate = budgetData.id\n      const url = isUpdate\n        ? `/api/project-management/project-budgets/${budgetData.id}`\n        : '/api/project-management/project-budgets'\n      const method = isUpdate ? 'PUT' : 'POST'\n\n      const response = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(budgetData)\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.message || 'ÏÇ¨ÏóÖÎπÑ Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        projectBudgets: isUpdate\n          ? state.projectBudgets.map(b => (b.id === budgetData.id ? data.data : b))\n          : [...state.projectBudgets, data.data],\n        loading: false\n      }))\n\n      return data.data\n    } catch (error) {\n      projectStore.update(state => ({\n        ...state,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      }))\n      throw error\n    }\n  }\n}\n\n// ÏïåÎ¶º Í¥ÄÎ†® Ïï°ÏÖòÎì§\nexport const alertActions = {\n  // ÏïåÎ¶º Î°úÎìú\n  async loadAlerts() {\n    try {\n      const response = await fetch('/api/project-management/alerts')\n      if (!response.ok) throw new Error('ÏïåÎ¶ºÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n\n      const data = await response.json()\n      projectStore.update(state => ({\n        ...state,\n        alerts: data.data || []\n      }))\n    } catch (error) {\n      logger.error('ÏïåÎ¶º Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n}\n\n// Derived stores\nexport const activeProjects = derived(projectStore, $store =>\n  $store.projects.filter(p => p.status === 'active')\n)\n\nexport const projectStatusStats = derived(projectStore, $store => {\n  const stats: ProjectStatusStats = {\n    planning: 0,\n    active: 0,\n    completed: 0,\n    cancelled: 0,\n    suspended: 0\n  }\n\n  $store.projects.forEach(project => {\n    stats[project.status] = (stats[project.status] || 0) + 1\n  })\n\n  return stats\n})\n\nexport const overParticipationEmployees = derived(projectStore, $store =>\n  $store.employeeParticipationSummary.filter(emp => emp.participationStatus === 'OVER_LIMIT')\n)\n\nexport const participationRateStats = derived(projectStore, $store => {\n  const summary = $store.employeeParticipationSummary\n  const stats: ParticipationRateStats = {\n    overLimit: summary.filter(emp => emp.participationStatus === 'OVER_LIMIT').length,\n    full: summary.filter(emp => emp.participationStatus === 'FULL').length,\n    available: summary.filter(emp => emp.participationStatus === 'AVAILABLE').length,\n    averageRate:\n      summary.length > 0\n        ? summary.reduce((sum, emp) => sum + emp.totalParticipationRate, 0) / summary.length\n        : 0\n  }\n\n  return stats\n})\n\n// Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\nexport const initializeProjectManagement = async () => {\n  await Promise.all([\n    projectActions.loadProjectSummary(),\n    participationRateActions.loadEmployeeParticipationSummary(),\n    budgetActions.loadBudgetSummaryByYear(),\n    alertActions.loadAlerts()\n  ])\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/rbac.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 170,
        "column": 55,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 170,
        "endColumn": 64
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 177,
        "column": 55,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 177,
        "endColumn": 64
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'expenseId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 185,
        "column": 55,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 185,
        "endColumn": 64
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'expenseId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 192,
        "column": 55,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 192,
        "endColumn": 64
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'documentId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 200,
        "column": 56,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 200,
        "endColumn": 66
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'documentId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 207,
        "column": 56,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 207,
        "endColumn": 66
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'noteId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 215,
        "column": 60,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 215,
        "endColumn": 66
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'noteId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 222,
        "column": 60,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 222,
        "endColumn": 66
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { Person } from './types'\n\n// RBAC Í∂åÌïú Ï†ïÏùò\nexport const ROLES = {\n  R1: 'Ïó∞Íµ¨Ïõê',\n  R2: 'PM(Í≥ºÏ†úÏ±ÖÏûÑÏûê)',\n  R3: 'Îã¥ÎãπÎ∂ÄÏÑú(Íµ¨Îß§¬∑Í∏∞Ïà† Îì±)',\n  R4: 'Í≤ΩÏòÅÏßÄÏõê(ÌöåÍ≥Ñ¬∑Ï¥ùÎ¨¥)',\n  R5: 'Ïó∞Íµ¨ÏÜåÏû•',\n  R6: 'Í≤ΩÏòÅÏßÑ',\n  R7: 'Í∞êÏÇ¨/Ïô∏Î∂ÄÌèâÍ∞Ä'\n} as const\n\nexport type Role = keyof typeof ROLES\n\n// Í∂åÌïú Îß§Ìä∏Î¶≠Ïä§\nexport const PERMISSIONS = {\n  // Project Í∂åÌïú\n  PROJECT_READ: ['R1', 'R2', 'R3', 'R4', 'R5', 'R6', 'R7'],\n  PROJECT_CREATE: ['R4'],\n  PROJECT_UPDATE: ['R2', 'R4'],\n  PROJECT_APPROVE: ['R6'],\n  PROJECT_LOCK: ['R7'],\n\n  // ExpenseItem Í∂åÌïú\n  EXPENSE_READ: ['R1', 'R2', 'R3', 'R4', 'R5', 'R6', 'R7'],\n  EXPENSE_CREATE: ['R1', 'R2'],\n  EXPENSE_UPDATE: ['R3', 'R4'],\n  EXPENSE_APPROVE: ['R2', 'R4', 'R5'],\n  EXPENSE_LOCK: ['R4'],\n\n  // Document Í∂åÌïú\n  DOCUMENT_READ: ['R1', 'R2', 'R3', 'R4', 'R5', 'R6', 'R7'],\n  DOCUMENT_CREATE: ['R1', 'R2', 'R3'],\n  DOCUMENT_UPDATE: ['R4'],\n  DOCUMENT_LOCK: ['R4'],\n\n  // ResearchNote Í∂åÌïú\n  RESEARCH_NOTE_READ: ['R1', 'R2', 'R5'],\n  RESEARCH_NOTE_CREATE: ['R1'],\n  RESEARCH_NOTE_UPDATE: ['R1'],\n  RESEARCH_NOTE_APPROVE: ['R2'],\n\n  // SubmissionBundle Í∂åÌïú\n  BUNDLE_READ: ['R4', 'R6', 'R7'],\n  BUNDLE_CREATE: ['R4'],\n  BUNDLE_APPROVE: ['R4'],\n  BUNDLE_LOCK: ['R7']\n} as const\n\nexport type Permission = keyof typeof PERMISSIONS\n\n// ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥\nexport const currentUser = writable<Person | null>(null)\n\n// Í∂åÌïú Ï≤¥ÌÅ¨ Ìï®ÏàòÎì§\nexport function hasRole(user: Person | null, role: Role): boolean {\n  if (!user) return false\n  return user.roleSet.includes(role)\n}\n\nexport function hasPermission(user: Person | null, permission: Permission): boolean {\n  if (!user) return false\n  const allowedRoles = PERMISSIONS[permission]\n  return user.roleSet.some(role => allowedRoles.includes(role as Role))\n}\n\nexport function hasAnyRole(user: Person | null, roles: Role[]): boolean {\n  if (!user) return false\n  return roles.some(role => user.roleSet.includes(role))\n}\n\nexport function hasAllRoles(user: Person | null, roles: Role[]): boolean {\n  if (!user) return false\n  return roles.every(role => user.roleSet.includes(role))\n}\n\n// Ïó≠Ìï†Î≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨ Ìï®ÏàòÎì§\nexport function canReadProject(user: Person | null): boolean {\n  return hasPermission(user, 'PROJECT_READ')\n}\n\nexport function canCreateProject(user: Person | null): boolean {\n  return hasPermission(user, 'PROJECT_CREATE')\n}\n\nexport function canUpdateProject(user: Person | null): boolean {\n  return hasPermission(user, 'PROJECT_UPDATE')\n}\n\nexport function canApproveProject(user: Person | null): boolean {\n  return hasPermission(user, 'PROJECT_APPROVE')\n}\n\nexport function canReadExpense(user: Person | null): boolean {\n  return hasPermission(user, 'EXPENSE_READ')\n}\n\nexport function canCreateExpense(user: Person | null): boolean {\n  return hasPermission(user, 'EXPENSE_CREATE')\n}\n\nexport function canUpdateExpense(user: Person | null): boolean {\n  return hasPermission(user, 'EXPENSE_UPDATE')\n}\n\nexport function canApproveExpense(user: Person | null): boolean {\n  return hasPermission(user, 'EXPENSE_APPROVE')\n}\n\nexport function canReadDocument(user: Person | null): boolean {\n  return hasPermission(user, 'DOCUMENT_READ')\n}\n\nexport function canCreateDocument(user: Person | null): boolean {\n  return hasPermission(user, 'DOCUMENT_CREATE')\n}\n\nexport function canUpdateDocument(user: Person | null): boolean {\n  return hasPermission(user, 'DOCUMENT_UPDATE')\n}\n\nexport function canReadResearchNote(user: Person | null): boolean {\n  return hasPermission(user, 'RESEARCH_NOTE_READ')\n}\n\nexport function canCreateResearchNote(user: Person | null): boolean {\n  return hasPermission(user, 'RESEARCH_NOTE_CREATE')\n}\n\nexport function canUpdateResearchNote(user: Person | null): boolean {\n  return hasPermission(user, 'RESEARCH_NOTE_UPDATE')\n}\n\nexport function canApproveResearchNote(user: Person | null): boolean {\n  return hasPermission(user, 'RESEARCH_NOTE_APPROVE')\n}\n\nexport function canReadBundle(user: Person | null): boolean {\n  return hasPermission(user, 'BUNDLE_READ')\n}\n\nexport function canCreateBundle(user: Person | null): boolean {\n  return hasPermission(user, 'BUNDLE_CREATE')\n}\n\n// Ïó≠Ìï†Î≥Ñ ÎåÄÏãúÎ≥¥Îìú Ï†ëÍ∑º Í∂åÌïú\nexport function canAccessExecutiveDashboard(user: Person | null): boolean {\n  return hasAnyRole(user, ['R6'])\n}\n\nexport function canAccessLabHeadDashboard(user: Person | null): boolean {\n  return hasAnyRole(user, ['R5', 'R6'])\n}\n\nexport function canAccessPMDashboard(user: Person | null): boolean {\n  return hasAnyRole(user, ['R2', 'R5', 'R6'])\n}\n\nexport function canAccessSupportDashboard(user: Person | null): boolean {\n  return hasAnyRole(user, ['R4', 'R5', 'R6'])\n}\n\nexport function canAccessResearcherDashboard(user: Person | null): boolean {\n  return hasAnyRole(user, ['R1', 'R2', 'R5', 'R6'])\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨\nexport function canAccessProject(user: Person | null, projectId: string): boolean {\n  if (!user) return false\n\n  // Î™®Îì† Ïó≠Ìï†Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Î•º ÏùΩÏùÑ Ïàò ÏûàÏùå\n  return canReadProject(user)\n}\n\nexport function canManageProject(user: Person | null, projectId: string): boolean {\n  if (!user) return false\n\n  // PM, Í≤ΩÏòÅÏßÄÏõê, Ïó∞Íµ¨ÏÜåÏû•, Í≤ΩÏòÅÏßÑÎßå ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ Í∞ÄÎä•\n  return hasAnyRole(user, ['R2', 'R4', 'R5', 'R6'])\n}\n\n// ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨\nexport function canAccessExpense(user: Person | null, expenseId: string): boolean {\n  if (!user) return false\n\n  // Î™®Îì† Ïó≠Ìï†Ïù¥ ÏßÄÏ∂ú Ìï≠Î™©ÏùÑ ÏùΩÏùÑ Ïàò ÏûàÏùå\n  return canReadExpense(user)\n}\n\nexport function canManageExpense(user: Person | null, expenseId: string): boolean {\n  if (!user) return false\n\n  // ÏöîÏ≤≠Ïûê, PM, Îã¥ÎãπÎ∂ÄÏÑú, Í≤ΩÏòÅÏßÄÏõêÎßå ÏßÄÏ∂ú Í¥ÄÎ¶¨ Í∞ÄÎä•\n  return hasAnyRole(user, ['R1', 'R2', 'R3', 'R4'])\n}\n\n// Î¨∏ÏÑúÎ≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨\nexport function canAccessDocument(user: Person | null, documentId: string): boolean {\n  if (!user) return false\n\n  // Î™®Îì† Ïó≠Ìï†Ïù¥ Î¨∏ÏÑúÎ•º ÏùΩÏùÑ Ïàò ÏûàÏùå\n  return canReadDocument(user)\n}\n\nexport function canManageDocument(user: Person | null, documentId: string): boolean {\n  if (!user) return false\n\n  // Í¥ÄÎ†®Ïûê, Í≤ΩÏòÅÏßÄÏõêÎßå Î¨∏ÏÑú Í¥ÄÎ¶¨ Í∞ÄÎä•\n  return hasAnyRole(user, ['R1', 'R2', 'R3', 'R4'])\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏Î≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨\nexport function canAccessResearchNote(user: Person | null, noteId: string): boolean {\n  if (!user) return false\n\n  // Ïó∞Íµ¨Ïõê, PM, Ïó∞Íµ¨ÏÜåÏû•Îßå Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†ëÍ∑º Í∞ÄÎä•\n  return hasAnyRole(user, ['R1', 'R2', 'R5'])\n}\n\nexport function canManageResearchNote(user: Person | null, noteId: string): boolean {\n  if (!user) return false\n\n  // Ïó∞Íµ¨ÏõêÎßå Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏûëÏÑ±/ÏàòÏ†ï Í∞ÄÎä•\n  return hasRole(user, 'R1')\n}\n\n// ÏÇ¨Ïö©Ïûê Ïó≠Ìï† Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\nexport function getUserRoles(user: Person | null): string[] {\n  if (!user) return []\n  return user.roleSet.map(role => ROLES[role as Role])\n}\n\nexport function getUserRoleNames(user: Person | null): string[] {\n  if (!user) return []\n  return user.roleSet.map(role => ROLES[role as Role])\n}\n\n// Ïó≠Ìï†Î≥Ñ ÏÉâÏÉÅ\nexport const ROLE_COLORS = {\n  R1: '#3B82F6', // ÌååÎûÄÏÉâ\n  R2: '#10B981', // Ï¥àÎ°ùÏÉâ\n  R3: '#F59E0B', // ÎÖ∏ÎûÄÏÉâ\n  R4: '#EF4444', // Îπ®Í∞ÑÏÉâ\n  R5: '#8B5CF6', // Î≥¥ÎùºÏÉâ\n  R6: '#EC4899', // ÌïëÌÅ¨ÏÉâ\n  R7: '#6B7280' // ÌöåÏÉâ\n} as const\n\nexport function getRoleColor(role: Role): string {\n  return ROLE_COLORS[role] || '#6B7280'\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/replacement-system.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 21,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 21,
        "endColumn": 34
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 81,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 81,
        "endColumn": 46
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 81,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 81,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2026, 2029], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2026, 2029], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'personId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 95,
        "column": 31,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 95,
        "endColumn": 39
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 95,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 95,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2365, 2368], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2365, 2368], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 110,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 110,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2705, 2708], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2705, 2708], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 111,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 111,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2736, 2739], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2736, 2739], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 177,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 177,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4235, 4238], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4235, 4238], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 178,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 178,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4263, 4266], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4263, 4266], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 179,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 179,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4294, 4297], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4294, 4297], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 407,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 407,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9734, 9737], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9734, 9737], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 410,
        "column": 21,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 410,
        "endColumn": 27
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 453,
        "column": 62,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 453,
        "endColumn": 65,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10723, 10726], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10723, 10726], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 504,
        "column": 74,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 504,
        "endColumn": 77,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12367, 12370], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12367, 12370], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 518,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 518,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 530,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 530,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12968, 12971], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12968, 12971], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 11,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type {\n  ReplacementRecommendation\n} from './types'\nimport { logAudit } from './core'\nimport { logger } from '$lib/utils/logger';\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú ÏãúÏä§ÌÖú\nexport const replacementRecommendations = writable<ReplacementRecommendation[]>([])\nexport const skillMatrix = writable<Record<string, unknown[]>>({})\nexport const availabilityMatrix = writable<Record<string, unknown>>({})\n\n// Ïù∏Î†• Ïù¥ÌÉà Ïãú ÎåÄÏ≤¥ Ï∂îÏ≤ú ÏÉùÏÑ±\nexport function generateReplacementRecommendation(\n  projectId: string,\n  departingPersonId: string,\n  reason: 'resignation' | 'transfer' | 'medical' | 'other',\n  effectiveDate: string,\n  urgency: 'low' | 'medium' | 'high' | 'critical'\n): string {\n  const recommendationId = crypto.randomUUID()\n\n  // ÎåÄÏ≤¥Ïûê Ï∂îÏ≤ú Î°úÏßÅ Ïã§Ìñâ\n  const recommendedPersons = findReplacementCandidates(projectId, departingPersonId, urgency)\n\n  const recommendation: ReplacementRecommendation = {\n    id: recommendationId,\n    projectId,\n    departingPersonId,\n    recommendedPersons,\n    status: 'pending',\n    createdAt: new Date().toISOString()\n  }\n\n  replacementRecommendations.update(list => [...list, recommendation])\n  logAudit(\n    'create',\n    'replacement_recommendation',\n    recommendationId,\n    {\n      projectId,\n      departingPersonId,\n      reason,\n      urgency\n    },\n    recommendation\n  )\n\n  return recommendationId\n}\n\n// ÎåÄÏ≤¥Ïûê ÌõÑÎ≥¥ Ï∞æÍ∏∞\nfunction findReplacementCandidates(\n  projectId: string,\n  departingPersonId: string,\n  urgency: 'low' | 'medium' | 'high' | 'critical'\n): Array<{\n  personId: string\n  score: number\n  reason: string\n  availability: number\n}> {\n  // 1. ÌîÑÎ°úÏ†ùÌä∏ ÏöîÍµ¨ÏÇ¨Ìï≠ Î∂ÑÏÑù\n  const projectRequirements = analyzeProjectRequirements(projectId)\n\n  // 2. Ïù¥ÌÉàÏûê ÌîÑÎ°úÌïÑ Î∂ÑÏÑù\n  const departingPersonProfile = analyzePersonProfile(departingPersonId)\n\n  // 3. ÌõÑÎ≥¥Ïûê Ïä§ÏΩîÏñ¥ÎßÅ\n  const candidates = scoreReplacementCandidates(\n    projectRequirements,\n    departingPersonProfile,\n    urgency\n  )\n\n  // 4. ÏÉÅÏúÑ 3Î™Ö Î∞òÌôò\n  return candidates.slice(0, 3)\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ ÏöîÍµ¨ÏÇ¨Ìï≠ Î∂ÑÏÑù\nfunction analyzeProjectRequirements(projectId: string): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  return {\n    requiredSkills: ['JavaScript', 'React', 'Node.js', 'Database'],\n    experienceLevel: 'senior',\n    department: 'Í∞úÎ∞úÌåÄ',\n    participationRate: 80,\n    startDate: '2024-02-01',\n    duration: 6, // months\n    budget: 50000000\n  }\n}\n\n// Í∞úÏù∏ ÌîÑÎ°úÌïÑ Î∂ÑÏÑù\nfunction analyzePersonProfile(personId: string): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Í∞úÏù∏ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑù\n  return {\n    skills: ['JavaScript', 'React', 'Node.js', 'MongoDB'],\n    experienceLevel: 'senior',\n    department: 'Í∞úÎ∞úÌåÄ',\n    currentParticipation: 100,\n    salary: 6000000,\n    performance: 'excellent',\n    availability: 80\n  }\n}\n\n// ÎåÄÏ≤¥Ïûê ÌõÑÎ≥¥ Ïä§ÏΩîÏñ¥ÎßÅ\nfunction scoreReplacementCandidates(\n  projectRequirements: any,\n  departingPersonProfile: any,\n  urgency: string\n): Array<{\n  personId: string\n  score: number\n  reason: string\n  availability: number\n}> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Î™®Îì† ÏßÅÏõêÏùÑ ÎåÄÏÉÅÏúºÎ°ú Ïä§ÏΩîÏñ¥ÎßÅ\n  const candidates = [\n    {\n      personId: 'person-1',\n      name: 'ÍπÄÎåÄÏ≤¥',\n      skills: ['JavaScript', 'React', 'Node.js', 'PostgreSQL'],\n      experienceLevel: 'senior',\n      department: 'Í∞úÎ∞úÌåÄ',\n      currentParticipation: 60,\n      salary: 5500000,\n      performance: 'excellent',\n      availability: 90\n    },\n    {\n      personId: 'person-2',\n      name: 'Ïù¥ÎåÄÏ≤¥',\n      skills: ['JavaScript', 'Vue.js', 'Python', 'MySQL'],\n      experienceLevel: 'mid',\n      department: 'Í∞úÎ∞úÌåÄ',\n      currentParticipation: 40,\n      salary: 4500000,\n      performance: 'good',\n      availability: 85\n    },\n    {\n      personId: 'person-3',\n      name: 'Î∞ïÎåÄÏ≤¥',\n      skills: ['TypeScript', 'React', 'Express', 'MongoDB'],\n      experienceLevel: 'senior',\n      department: 'Í∞úÎ∞úÌåÄ',\n      currentParticipation: 70,\n      salary: 5800000,\n      performance: 'excellent',\n      availability: 75\n    }\n  ]\n\n  return candidates\n    .map(candidate => {\n      const score = calculateCandidateScore(\n        candidate,\n        projectRequirements,\n        departingPersonProfile,\n        urgency\n      )\n\n      return {\n        personId: candidate.personId,\n        score: score.total,\n        reason: score.reason,\n        availability: candidate.availability\n      }\n    })\n    .sort((a, b) => b.score - a.score)\n}\n\n// ÌõÑÎ≥¥Ïûê Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateCandidateScore(\n  candidate: any,\n  projectRequirements: any,\n  departingPersonProfile: any,\n  urgency: string\n): { total: number; reason: string } {\n  let totalScore = 0\n  const reasons: string[] = []\n\n  // 1. Í∏∞Ïà† Ïä§ÌÇ¨ Îß§Ïπ≠ (40%)\n  const skillScore = calculateSkillScore(candidate.skills, projectRequirements.requiredSkills)\n  totalScore += skillScore * 0.4\n  reasons.push(`Í∏∞Ïà† Ïä§ÌÇ¨: ${skillScore}Ï†ê`)\n\n  // 2. Í≤ΩÌóò ÏàòÏ§Ä Îß§Ïπ≠ (20%)\n  const experienceScore = calculateExperienceScore(\n    candidate.experienceLevel,\n    projectRequirements.experienceLevel\n  )\n  totalScore += experienceScore * 0.2\n  reasons.push(`Í≤ΩÌóò ÏàòÏ§Ä: ${experienceScore}Ï†ê`)\n\n  // 3. Í∞ÄÏö©ÏÑ± (20%)\n  const availabilityScore = calculateAvailabilityScore(\n    candidate.availability,\n    projectRequirements.participationRate\n  )\n  totalScore += availabilityScore * 0.2\n  reasons.push(`Í∞ÄÏö©ÏÑ±: ${availabilityScore}Ï†ê`)\n\n  // 4. ÏÑ±Í≥º Ïù¥Î†• (10%)\n  const performanceScore = calculatePerformanceScore(candidate.performance)\n  totalScore += performanceScore * 0.1\n  reasons.push(`ÏÑ±Í≥º: ${performanceScore}Ï†ê`)\n\n  // 5. Í∏âÏó¨ Ï†ÅÏ†ïÏÑ± (10%)\n  const salaryScore = calculateSalaryScore(candidate.salary, departingPersonProfile.salary)\n  totalScore += salaryScore * 0.1\n  reasons.push(`Í∏âÏó¨ Ï†ÅÏ†ïÏÑ±: ${salaryScore}Ï†ê`)\n\n  // Í∏¥Í∏âÎèÑ Î≥¥Ï†ï\n  if (urgency === 'critical') {\n    totalScore *= 1.2\n  } else if (urgency === 'high') {\n    totalScore *= 1.1\n  }\n\n  return {\n    total: Math.round(totalScore),\n    reason: reasons.join(', ')\n  }\n}\n\n// Í∏∞Ïà† Ïä§ÌÇ¨ Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateSkillScore(candidateSkills: string[], requiredSkills: string[]): number {\n  const matchedSkills = candidateSkills.filter(skill => requiredSkills.includes(skill))\n  return (matchedSkills.length / requiredSkills.length) * 100\n}\n\n// Í≤ΩÌóò ÏàòÏ§Ä Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateExperienceScore(candidateLevel: string, requiredLevel: string): number {\n  const levelScores = {\n    intern: 20,\n    junior: 40,\n    mid: 60,\n    senior: 80,\n    lead: 90,\n    manager: 100\n  }\n\n  const candidateScore = levelScores[candidateLevel as keyof typeof levelScores] || 0\n  const requiredScore = levelScores[requiredLevel as keyof typeof levelScores] || 0\n\n  if (candidateScore >= requiredScore) {\n    return 100\n  } else {\n    return (candidateScore / requiredScore) * 100\n  }\n}\n\n// Í∞ÄÏö©ÏÑ± Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateAvailabilityScore(\n  candidateAvailability: number,\n  requiredParticipation: number\n): number {\n  if (candidateAvailability >= requiredParticipation) {\n    return 100\n  } else {\n    return (candidateAvailability / requiredParticipation) * 100\n  }\n}\n\n// ÏÑ±Í≥º Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculatePerformanceScore(performance: string): number {\n  const performanceScores = {\n    excellent: 100,\n    good: 80,\n    average: 60,\n    below_average: 40,\n    poor: 20\n  }\n\n  return performanceScores[performance as keyof typeof performanceScores] || 0\n}\n\n// Í∏âÏó¨ Ï†ÅÏ†ïÏÑ± Ï†êÏàò Í≥ÑÏÇ∞\nfunction calculateSalaryScore(candidateSalary: number, departingPersonSalary: number): number {\n  const ratio = candidateSalary / departingPersonSalary\n\n  if (ratio <= 0.8) {\n    return 100 // 20% Ïù¥ÏÉÅ Ï†ÄÎ†¥\n  } else if (ratio <= 1.0) {\n    return 90 // ÎèôÏùºÌïòÍ±∞ÎÇò Ï†ÄÎ†¥\n  } else if (ratio <= 1.2) {\n    return 70 // 20% Ïù¥ÎÇ¥ ÎπÑÏåà\n  } else {\n    return 50 // 20% Ïù¥ÏÉÅ ÎπÑÏåà\n  }\n}\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú ÏäπÏù∏\nexport function approveReplacementRecommendation(\n  recommendationId: string,\n  approvedPersonId: string,\n  approverId: string,\n  comment?: string\n): void {\n  replacementRecommendations.update(list => {\n    const index = list.findIndex(r => r.id === recommendationId)\n    if (index === -1) return list\n\n    const recommendation = list[index]\n    const updatedRecommendation = {\n      ...recommendation,\n      status: 'approved' as const,\n      approvedBy: approverId,\n      approvedAt: new Date().toISOString()\n    }\n\n    const newList = [...list]\n    newList[index] = updatedRecommendation\n\n    logAudit(\n      'approve',\n      'replacement_recommendation',\n      recommendationId,\n      {\n        approvedPersonId,\n        approverId,\n        comment\n      },\n      updatedRecommendation\n    )\n\n    // ÏäπÏù∏Îêú ÎåÄÏ≤¥Ïûê Î∞∞Ï†ï Ï≤òÎ¶¨\n    processReplacementAssignment(\n      recommendation.projectId,\n      recommendation.departingPersonId,\n      approvedPersonId,\n      recommendation.createdAt\n    )\n\n    return newList\n  })\n}\n\n// ÎåÄÏ≤¥Ïûê Î∞∞Ï†ï Ï≤òÎ¶¨\nfunction processReplacementAssignment(\n  projectId: string,\n  departingPersonId: string,\n  replacementPersonId: string,\n  effectiveDate: string\n): void {\n  // 1. Í∏∞Ï°¥ Ï∞∏Ïó¨ Î∞∞Ï†ï Ï¢ÖÎ£å\n  // 2. ÏÉàÎ°úÏö¥ Ï∞∏Ïó¨ Î∞∞Ï†ï ÏÉùÏÑ±\n  // 3. Í∏âÏó¨ Î≥ÄÎèô Ï≤òÎ¶¨\n  // 4. ÏïåÎ¶º Î∞úÏÜ°\n\n  logAudit(\n    'process_replacement',\n    'participation_assignment',\n    projectId,\n    {\n      departingPersonId,\n      replacementPersonId,\n      effectiveDate\n    },\n    {}\n  )\n}\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú Í±∞Î∂Ä\nexport function rejectReplacementRecommendation(\n  recommendationId: string,\n  rejectorId: string,\n  reason: string\n): void {\n  replacementRecommendations.update(list => {\n    const index = list.findIndex(r => r.id === recommendationId)\n    if (index === -1) return list\n\n    const recommendation = list[index]\n    const updatedRecommendation = {\n      ...recommendation,\n      status: 'rejected' as const,\n      approvedBy: rejectorId,\n      approvedAt: new Date().toISOString()\n    }\n\n    const newList = [...list]\n    newList[index] = updatedRecommendation\n\n    logAudit(\n      'reject',\n      'replacement_recommendation',\n      recommendationId,\n      {\n        rejectorId,\n        reason\n      },\n      updatedRecommendation\n    )\n\n    return newList\n  })\n}\n\n// Ï±ÑÏö© ÏöîÏ≤≠ ÏÉùÏÑ± (Ï†ÅÌï©Ìïú ÎåÄÏ≤¥ÏûêÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞)\nexport function createRecruitmentRequest(\n  projectId: string,\n  departingPersonId: string,\n  requirements: any,\n  urgency: 'low' | 'medium' | 'high' | 'critical'\n): string {\n  const requestId = crypto.randomUUID()\n\n  const recruitmentRequest = {\n    id: requestId,\n    projectId,\n    departingPersonId,\n    requirements,\n    urgency,\n    status: 'pending',\n    createdAt: new Date().toISOString(),\n    createdBy: 'current-user'\n  }\n\n  logAudit(\n    'create',\n    'recruitment_request',\n    requestId,\n    {\n      projectId,\n      departingPersonId,\n      requirements,\n      urgency\n    },\n    recruitmentRequest\n  )\n\n  return requestId\n}\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú Ïù¥Î†• Ï°∞Ìöå\nexport function getReplacementHistory(projectId: string): ReplacementRecommendation[] {\n  let history: ReplacementRecommendation[] = []\n\n  replacementRecommendations.subscribe(list => {\n    history = list\n      .filter(r => r.projectId === projectId)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n  })()\n\n  return history\n}\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú ÌÜµÍ≥Ñ\nexport function getReplacementStatistics(projectId: string): any {\n  const history = getReplacementHistory(projectId)\n\n  const totalRecommendations = history.length\n  const approvedRecommendations = history.filter(r => r.status === 'approved').length\n  const rejectedRecommendations = history.filter(r => r.status === 'rejected').length\n  const pendingRecommendations = history.filter(r => r.status === 'pending').length\n\n  const averageScore =\n    history.length > 0\n      ? history.reduce((sum, r) => sum + r.recommendedPersons[0]?.score || 0, 0) / history.length\n      : 0\n\n  const averageProcessingTime = calculateAverageProcessingTime(history)\n\n  return {\n    totalRecommendations,\n    approvedRecommendations,\n    rejectedRecommendations,\n    pendingRecommendations,\n    approvalRate:\n      totalRecommendations > 0 ? (approvedRecommendations / totalRecommendations) * 100 : 0,\n    averageScore,\n    averageProcessingTime\n  }\n}\n\n// ÌèâÍ∑† Ï≤òÎ¶¨ ÏãúÍ∞Ñ Í≥ÑÏÇ∞\nfunction calculateAverageProcessingTime(history: ReplacementRecommendation[]): number {\n  const processedRecommendations = history.filter(r => r.approvedAt)\n\n  if (processedRecommendations.length === 0) return 0\n\n  const totalTime = processedRecommendations.reduce((sum, r) => {\n    const created = new Date(r.createdAt).getTime()\n    const approved = new Date(r.approvedAt!).getTime()\n    return sum + (approved - created)\n  }, 0)\n\n  return totalTime / processedRecommendations.length\n}\n\n// Ïä§ÌÇ¨ Îß§Ìä∏Î¶≠Ïä§ ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateSkillMatrix(personId: string, skills: unknown[]): void {\n  skillMatrix.update(matrix => ({\n    ...matrix,\n    [personId]: skills\n  }))\n}\n\n// Í∞ÄÏö©ÏÑ± Îß§Ìä∏Î¶≠Ïä§ ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateAvailabilityMatrix(personId: string, availability: any): void {\n  availabilityMatrix.update(matrix => ({\n    ...matrix,\n    [personId]: availability\n  }))\n}\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú ÏïåÎ¶º ÏÉùÏÑ±\nexport function createReplacementNotification(\n  recommendationId: string,\n  notificationType: 'created' | 'approved' | 'rejected',\n  recipients: string[]\n): void {\n  const notification = {\n    id: crypto.randomUUID(),\n    recommendationId,\n    type: notificationType,\n    recipients,\n    createdAt: new Date().toISOString()\n  }\n\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏïåÎ¶º ÏãúÏä§ÌÖúÏóê Ï†ÑÏÜ°\n  logger.log('Replacement notification:', notification)\n}\n\n// ÎåÄÏ≤¥ Ï∂îÏ≤ú ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞\nexport function getReplacementDashboardData(): any {\n  let allRecommendations: ReplacementRecommendation[] = []\n\n  replacementRecommendations.subscribe(list => {\n    allRecommendations = list\n  })()\n\n  const recentRecommendations = allRecommendations\n    .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n    .slice(0, 10)\n\n  const pendingCount = allRecommendations.filter(r => r.status === 'pending').length\n  const approvedCount = allRecommendations.filter(r => r.status === 'approved').length\n  const rejectedCount = allRecommendations.filter(r => r.status === 'rejected').length\n\n  return {\n    recentRecommendations,\n    pendingCount,\n    approvedCount,\n    rejectedCount,\n    totalCount: allRecommendations.length\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/reporting.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 18,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 18,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 42,
        "column": 84,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 42,
        "endColumn": 87,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1047, 1050], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1047, 1050], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 73,
        "column": 75,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 73,
        "endColumn": 82
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 73,
        "column": 93,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 73,
        "endColumn": 96,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1921, 1924], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1921, 1924], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 105,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 105,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 105,
        "column": 54,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 105,
        "endColumn": 63
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 105,
        "column": 73,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 105,
        "endColumn": 80
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 105,
        "column": 91,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 105,
        "endColumn": 94,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2671, 2674], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2671, 2674], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 136,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 136,
        "endColumn": 46
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 136,
        "column": 56,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 136,
        "endColumn": 65
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 136,
        "column": 75,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 136,
        "endColumn": 82
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 136,
        "column": 93,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 136,
        "endColumn": 96,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3348, 3351], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3348, 3351], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 164,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 164,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 165,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 165,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 166,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 166,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 167,
        "column": 4,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 167,
        "endColumn": 7,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3986, 3989], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3986, 3989], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 185,
        "column": 32,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 185,
        "endColumn": 41
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 185,
        "column": 51,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 185,
        "endColumn": 60
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'weekEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 185,
        "column": 70,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 185,
        "endColumn": 77
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 185,
        "column": 88,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 185,
        "endColumn": 91,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4383, 4386], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4383, 4386], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 218,
        "column": 31,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 218,
        "endColumn": 40
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 218,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 218,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5059, 5062], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5059, 5062], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 259,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 259,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 285,
        "column": 89,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 285,
        "endColumn": 92,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6675, 6678], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6675, 6678], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 300,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 300,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 300,
        "column": 54,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 300,
        "endColumn": 66
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 300,
        "column": 74,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 300,
        "endColumn": 84
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 300,
        "column": 93,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 300,
        "endColumn": 96,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7415, 7418], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7415, 7418], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 312,
        "column": 30,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 39
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 312,
        "column": 49,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 61
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 312,
        "column": 69,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 79
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 312,
        "column": 88,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 312,
        "endColumn": 91,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7765, 7768], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7765, 7768], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 347,
        "column": 28,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 347,
        "endColumn": 37
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 347,
        "column": 47,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 347,
        "endColumn": 59
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 347,
        "column": 67,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 347,
        "endColumn": 77
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 347,
        "column": 86,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 347,
        "endColumn": 89,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8461, 8464], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8461, 8464], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 377,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 377,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 377,
        "column": 53,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 377,
        "endColumn": 65
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 377,
        "column": 73,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 377,
        "endColumn": 83
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 377,
        "column": 92,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 377,
        "endColumn": 95,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9074, 9077], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9074, 9077], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 411,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 411,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterStart' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 411,
        "column": 53,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 411,
        "endColumn": 65
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'quarterEnd' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 411,
        "column": 73,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 411,
        "endColumn": 83
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 411,
        "column": 92,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 411,
        "endColumn": 95,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9800, 9803], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9800, 9803], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 438,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 438,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 438,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 438,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10318, 10321], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10318, 10321], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 475,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 475,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 475,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 475,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11067, 11070], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11067, 11070], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 508,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 508,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11735, 11738], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11735, 11738], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 527,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 527,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12106, 12109], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12106, 12109], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'format' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 547,
        "column": 48,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 547,
        "endColumn": 54
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 598,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 598,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14119, 14122], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14119, 14122], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 627,
        "column": 44,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 627,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15041, 15044], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15041, 15044], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 640,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 640,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15412, 15415], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15412, 15415], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 677,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 677,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [16316, 16319], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [16316, 16319], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 34,
    "fatalErrorCount": 0,
    "warningCount": 21,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type {\n  Report\n} from './types'\nimport { logAudit } from './core'\nimport { logger } from '$lib/utils/logger';\n\n// Î¶¨Ìè¨Ìä∏ Í¥ÄÎ¶¨\nexport const reports = writable<Report[]>([])\nexport const reportTemplates = writable<Record<string, unknown>>({})\n\n// Ï£ºÍ∞Ñ Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\nexport function generateWeeklyReport(\n  projectId: string,\n  weekStart: string,\n  weekEnd: string\n): string {\n  const reportId = crypto.randomUUID()\n\n  // Îç∞Ïù¥ÌÑ∞ ÏàòÏßë\n  const summaryData = collectWeeklyData(projectId, weekStart, weekEnd)\n\n  const report: Report = {\n    id: reportId,\n    projectId,\n    type: 'weekly',\n    periodStart: weekStart,\n    periodEnd: weekEnd,\n    summaryJson: summaryData,\n    generatedAt: new Date().toISOString(),\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  reports.update(list => [...list, report])\n  logAudit('generate', 'weekly_report', reportId, {}, report)\n\n  return reportId\n}\n\n// Ï£ºÍ∞Ñ Îç∞Ïù¥ÌÑ∞ ÏàòÏßë\nfunction collectWeeklyData(projectId: string, weekStart: string, weekEnd: string): any {\n  // ÎßàÏùºÏä§ÌÜ§ Îã¨ÏÑ±Î•†\n  const milestoneProgress = calculateMilestoneProgress(projectId, weekStart, weekEnd)\n\n  // ÏòàÏÇ∞ ÏßëÌñâÎ•†\n  const budgetExecution = calculateBudgetExecution(projectId, weekStart, weekEnd)\n\n  // Ïù∏Î†• Ï∞∏Ïó¨Ïú®\n  const participationRate = calculateParticipationRate(projectId, weekStart, weekEnd)\n\n  // Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂úÎ•†\n  const researchNoteSubmission = calculateResearchNoteSubmission(projectId, weekStart, weekEnd)\n\n  // Ïù¥Ïäà Î∞è Î¶¨Ïä§ÌÅ¨\n  const issuesAndRisks = collectIssuesAndRisks(projectId, weekStart, weekEnd)\n\n  // Îã§Ïùå Ï£º Í≥ÑÌöç\n  const nextWeekPlan = generateNextWeekPlan(projectId)\n\n  return {\n    milestoneProgress,\n    budgetExecution,\n    participationRate,\n    researchNoteSubmission,\n    issuesAndRisks,\n    nextWeekPlan,\n    generatedAt: new Date().toISOString()\n  }\n}\n\n// ÎßàÏùºÏä§ÌÜ§ ÏßÑÌñâÎ•† Í≥ÑÏÇ∞\nfunction calculateMilestoneProgress(projectId: string, weekStart: string, weekEnd: string): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî milestones Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  const currentWeek = new Date(weekStart)\n  const quarter = Math.ceil((currentWeek.getMonth() + 1) / 3)\n\n  return {\n    quarter,\n    totalMilestones: 5,\n    completedMilestones: 2,\n    inProgressMilestones: 2,\n    delayedMilestones: 1,\n    overallProgress: 60,\n    milestoneDetails: [\n      {\n        id: 'milestone-1',\n        title: 'ÏöîÍµ¨ÏÇ¨Ìï≠ Î∂ÑÏÑù',\n        status: 'completed',\n        progress: 100,\n        dueDate: '2024-01-15'\n      },\n      {\n        id: 'milestone-2',\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥Ñ',\n        status: 'in-progress',\n        progress: 80,\n        dueDate: '2024-01-30'\n      }\n    ]\n  }\n}\n\n// ÏòàÏÇ∞ ÏßëÌñâÎ•† Í≥ÑÏÇ∞\nfunction calculateBudgetExecution(projectId: string, weekStart: string, weekEnd: string): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî expenseItems Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  return {\n    totalBudget: 100000000,\n    executedAmount: 25000000,\n    executionRate: 25,\n    categoryBreakdown: [\n      {\n        category: 'PERSONNEL_CASH',\n        planned: 50000000,\n        executed: 15000000,\n        rate: 30\n      },\n      {\n        category: 'MATERIAL',\n        planned: 30000000,\n        executed: 8000000,\n        rate: 27\n      },\n      {\n        category: 'RESEARCH_ACTIVITY',\n        planned: 20000000,\n        executed: 2000000,\n        rate: 10\n      }\n    ],\n    trend: 'increasing'\n  }\n}\n\n// Ïù∏Î†• Ï∞∏Ïó¨Ïú® Í≥ÑÏÇ∞\nfunction calculateParticipationRate(projectId: string, weekStart: string, weekEnd: string): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî participationAssignments Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  return {\n    totalParticipants: 8,\n    averageParticipationRate: 85,\n    participationDetails: [\n      {\n        personId: 'person-1',\n        name: 'ÍπÄÏó∞Íµ¨Ïõê',\n        assignedRate: 100,\n        actualRate: 95,\n        status: 'normal'\n      },\n      {\n        personId: 'person-2',\n        name: 'Ïù¥Ïó∞Íµ¨Ïõê',\n        assignedRate: 80,\n        actualRate: 75,\n        status: 'normal'\n      }\n    ],\n    overloadWarnings: 0,\n    underutilizationWarnings: 1\n  }\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂úÎ•† Í≥ÑÏÇ∞\nfunction calculateResearchNoteSubmission(\n  projectId: string,\n  weekStart: string,\n  weekEnd: string\n): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî researchNotes Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  return {\n    expectedSubmissions: 8,\n    actualSubmissions: 7,\n    submissionRate: 87.5,\n    missingSubmissions: [\n      {\n        authorId: 'person-3',\n        name: 'Î∞ïÏó∞Íµ¨Ïõê',\n        weekOf: '2024-W03'\n      }\n    ],\n    trend: 'stable'\n  }\n}\n\n// Ïù¥Ïäà Î∞è Î¶¨Ïä§ÌÅ¨ ÏàòÏßë\nfunction collectIssuesAndRisks(projectId: string, weekStart: string, weekEnd: string): any {\n  return {\n    issues: [\n      {\n        id: 'issue-1',\n        title: 'Ïô∏Î∂Ä ÌòëÎ†•ÏÇ¨ ÏùºÏ†ï ÏßÄÏó∞',\n        severity: 'medium',\n        status: 'open',\n        description: 'ÌòëÎ†•ÏÇ¨ AÏÇ¨Ïùò Î∂ÄÌíà ÎÇ©Í∏∞Í∞Ä 1Ï£ºÏùº ÏßÄÏó∞Îê† ÏòàÏ†ï',\n        impact: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Ï†úÏûë ÏùºÏ†ï 1Ï£ºÏùº ÏßÄÏó∞',\n        mitigation: 'ÎåÄÏ≤¥ Í≥µÍ∏âÏóÖÏ≤¥ Í≤ÄÌÜ† Ï§ë'\n      }\n    ],\n    risks: [\n      {\n        id: 'risk-1',\n        title: 'ÌïµÏã¨ Ïù∏Î†• Ïù¥ÌÉà ÏúÑÌóò',\n        severity: 'high',\n        probability: 30,\n        impact: 'ÌîÑÎ°úÏ†ùÌä∏ ÏùºÏ†ï 2Í∞úÏõî ÏßÄÏó∞',\n        mitigation: 'Ïù∏Î†• ÌôïÎ≥¥ Í≥ÑÌöç ÏàòÎ¶Ω'\n      }\n    ],\n    totalIssues: 1,\n    totalRisks: 1,\n    criticalCount: 0,\n    highCount: 1,\n    mediumCount: 1,\n    lowCount: 0\n  }\n}\n\n// Îã§Ïùå Ï£º Í≥ÑÌöç ÏÉùÏÑ±\nfunction generateNextWeekPlan(projectId: string): any {\n  return {\n    priorities: [\n      {\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥Ñ ÏôÑÎ£å',\n        owner: 'ÍπÄÏó∞Íµ¨Ïõê',\n        dueDate: '2024-01-30',\n        priority: 'high'\n      },\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Í∞úÎ∞ú ÏãúÏûë',\n        owner: 'Ïù¥Ïó∞Íµ¨Ïõê',\n        dueDate: '2024-02-05',\n        priority: 'medium'\n      }\n    ],\n    deliverables: [\n      {\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥ÑÏÑú',\n        type: 'document',\n        dueDate: '2024-01-30'\n      },\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1.0',\n        type: 'prototype',\n        dueDate: '2024-02-05'\n      }\n    ],\n    meetings: [\n      {\n        title: 'Ï£ºÍ∞Ñ ÏßÑÌñâÌöåÏùò',\n        date: '2024-01-29',\n        time: '14:00',\n        participants: ['PM', 'ÌåÄÏõê Ï†ÑÏ≤¥']\n      }\n    ]\n  }\n}\n\n// Î∂ÑÍ∏∞ Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\nexport function generateQuarterlyReport(projectId: string, quarter: number, year: number): string {\n  const reportId = crypto.randomUUID()\n\n  const quarterStart = new Date(year, (quarter - 1) * 3, 1)\n  const quarterEnd = new Date(year, quarter * 3, 0)\n\n  const summaryData = collectQuarterlyData(projectId, quarterStart, quarterEnd)\n\n  const report: Report = {\n    id: reportId,\n    projectId,\n    type: 'quarterly',\n    periodStart: quarterStart.toISOString().split('T')[0],\n    periodEnd: quarterEnd.toISOString().split('T')[0],\n    summaryJson: summaryData,\n    generatedAt: new Date().toISOString(),\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  reports.update(list => [...list, report])\n  logAudit('generate', 'quarterly_report', reportId, {}, report)\n\n  return reportId\n}\n\n// Î∂ÑÍ∏∞ Îç∞Ïù¥ÌÑ∞ ÏàòÏßë\nfunction collectQuarterlyData(projectId: string, quarterStart: Date, quarterEnd: Date): any {\n  return {\n    quarter: Math.ceil((quarterStart.getMonth() + 1) / 3),\n    year: quarterStart.getFullYear(),\n    executiveSummary: generateExecutiveSummary(projectId, quarterStart, quarterEnd),\n    achievements: collectAchievements(projectId, quarterStart, quarterEnd),\n    challenges: collectChallenges(projectId, quarterStart, quarterEnd),\n    financialSummary: collectFinancialSummary(projectId, quarterStart, quarterEnd),\n    personnelSummary: collectPersonnelSummary(projectId, quarterStart, quarterEnd),\n    nextQuarterPlan: generateNextQuarterPlan(projectId),\n    recommendations: generateRecommendations(projectId)\n  }\n}\n\n// Í≤ΩÏòÅÏßÑ ÏöîÏïΩ ÏÉùÏÑ±\nfunction generateExecutiveSummary(projectId: string, quarterStart: Date, quarterEnd: Date): any {\n  return {\n    overallStatus: 'on-track',\n    keyAchievements: ['ÏãúÏä§ÌÖú ÏÑ§Í≥Ñ ÏôÑÎ£å', 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1.0 Í∞úÎ∞ú ÏôÑÎ£å', 'ÌïµÏã¨ ÏïåÍ≥†Î¶¨Ï¶ò Íµ¨ÌòÑ ÏôÑÎ£å'],\n    keyChallenges: ['Ïô∏Î∂Ä ÌòëÎ†•ÏÇ¨ ÏùºÏ†ï ÏßÄÏó∞', 'ÏòàÏÇ∞ ÏßëÌñâÎ•† Î∂ÄÏ°±'],\n    overallProgress: 75,\n    budgetUtilization: 60,\n    riskLevel: 'medium'\n  }\n}\n\n// ÏÑ±Í≥º ÏàòÏßë\nfunction collectAchievements(projectId: string, quarterStart: Date, quarterEnd: Date): any {\n  return {\n    milestones: [\n      {\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥Ñ ÏôÑÎ£å',\n        status: 'completed',\n        completionDate: '2024-01-30',\n        impact: 'high'\n      },\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1.0 Í∞úÎ∞ú',\n        status: 'completed',\n        completionDate: '2024-02-15',\n        impact: 'high'\n      }\n    ],\n    deliverables: [\n      {\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥ÑÏÑú',\n        type: 'document',\n        status: 'delivered'\n      },\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1.0',\n        type: 'prototype',\n        status: 'delivered'\n      }\n    ],\n    publications: [],\n    patents: [],\n    awards: []\n  }\n}\n\n// ÎèÑÏ†ÑÍ≥ºÏ†ú ÏàòÏßë\nfunction collectChallenges(projectId: string, quarterStart: Date, quarterEnd: Date): any {\n  return {\n    technical: [\n      {\n        title: 'ÏÑ±Îä• ÏµúÏ†ÅÌôî Ïù¥Ïäà',\n        description: 'Ïã§ÏãúÍ∞Ñ Ï≤òÎ¶¨ ÏÑ±Îä•Ïù¥ ÏöîÍµ¨ÏÇ¨Ìï≠Ïóê ÎØ∏Îã¨',\n        status: 'ongoing',\n        impact: 'medium'\n      }\n    ],\n    resource: [\n      {\n        title: 'ÏòàÏÇ∞ ÏßëÌñâ ÏßÄÏó∞',\n        description: 'ÏòàÏÇ∞ ÏßëÌñâÎ•†Ïù¥ Í≥ÑÌöç ÎåÄÎπÑ ÎÇÆÏùå',\n        status: 'ongoing',\n        impact: 'low'\n      }\n    ],\n    schedule: [\n      {\n        title: 'Ïô∏Î∂Ä ÌòëÎ†•ÏÇ¨ ÏùºÏ†ï ÏßÄÏó∞',\n        description: 'Î∂ÄÌíà ÎÇ©Í∏∞ ÏßÄÏó∞ÏúºÎ°ú Ïù∏Ìïú ÏùºÏ†ï ÏòÅÌñ•',\n        status: 'resolved',\n        impact: 'medium'\n      }\n    ]\n  }\n}\n\n// Ïû¨Î¨¥ ÏöîÏïΩ ÏàòÏßë\nfunction collectFinancialSummary(projectId: string, quarterStart: Date, quarterEnd: Date): any {\n  return {\n    totalBudget: 100000000,\n    executedAmount: 60000000,\n    executionRate: 60,\n    categoryBreakdown: [\n      {\n        category: 'PERSONNEL_CASH',\n        planned: 50000000,\n        executed: 35000000,\n        rate: 70\n      },\n      {\n        category: 'MATERIAL',\n        planned: 30000000,\n        executed: 20000000,\n        rate: 67\n      },\n      {\n        category: 'RESEARCH_ACTIVITY',\n        planned: 20000000,\n        executed: 5000000,\n        rate: 25\n      }\n    ],\n    trend: 'increasing',\n    forecast: {\n      expectedCompletion: 95,\n      riskAreas: ['RESEARCH_ACTIVITY']\n    }\n  }\n}\n\n// Ïù∏Î†• ÏöîÏïΩ ÏàòÏßë\nfunction collectPersonnelSummary(projectId: string, quarterStart: Date, quarterEnd: Date): any {\n  return {\n    totalParticipants: 8,\n    averageParticipationRate: 85,\n    participationTrend: 'stable',\n    keyPersonnel: [\n      {\n        personId: 'person-1',\n        name: 'ÍπÄÏó∞Íµ¨Ïõê',\n        role: 'Lead Developer',\n        participationRate: 100,\n        performance: 'excellent'\n      }\n    ],\n    recruitment: {\n      planned: 2,\n      completed: 1,\n      pending: 1\n    },\n    training: {\n      completed: 3,\n      planned: 2\n    }\n  }\n}\n\n// Îã§Ïùå Î∂ÑÍ∏∞ Í≥ÑÌöç ÏÉùÏÑ±\nfunction generateNextQuarterPlan(projectId: string): any {\n  return {\n    objectives: [\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v2.0 Í∞úÎ∞ú',\n        description: 'ÏÑ±Îä• ÏµúÏ†ÅÌôî Î∞è Í∏∞Îä• ÌôïÏû•',\n        priority: 'high',\n        targetDate: '2024-06-30'\n      },\n      {\n        title: 'ÏÇ¨Ïö©Ïûê ÌÖåÏä§Ìä∏ ÏßÑÌñâ',\n        description: 'Î≤†ÌÉÄ ÌÖåÏä§ÌÑ∞ Î™®Ïßë Î∞è ÌîºÎìúÎ∞± ÏàòÏßë',\n        priority: 'medium',\n        targetDate: '2024-05-31'\n      }\n    ],\n    milestones: [\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v2.0 ÏôÑÏÑ±',\n        dueDate: '2024-06-30',\n        owner: 'Í∞úÎ∞úÌåÄ'\n      },\n      {\n        title: 'ÏÇ¨Ïö©Ïûê ÌÖåÏä§Ìä∏ ÏôÑÎ£å',\n        dueDate: '2024-05-31',\n        owner: 'QAÌåÄ'\n      }\n    ],\n    resourceRequirements: {\n      personnel: 2,\n      budget: 30000000,\n      equipment: ['ÌÖåÏä§Ìä∏ ÏÑúÎ≤Ñ', 'Î™®ÎãàÌÑ∞ÎßÅ ÎèÑÍµ¨']\n    }\n  }\n}\n\n// Í∂åÍ≥†ÏÇ¨Ìï≠ ÏÉùÏÑ±\nfunction generateRecommendations(projectId: string): any {\n  return {\n    immediate: [\n      {\n        title: 'ÏòàÏÇ∞ ÏßëÌñâÎ•† Í∞úÏÑ†',\n        description: 'Ïó∞Íµ¨ÌôúÎèôÎπÑ ÏßëÌñâÎ•†Ïù¥ ÎÇÆÏúºÎØÄÎ°ú ÏßëÌñâ Í≥ÑÌöç Ïû¨Í≤ÄÌÜ† ÌïÑÏöî',\n        priority: 'high',\n        actionOwner: 'PM'\n      }\n    ],\n    shortTerm: [\n      {\n        title: 'ÏÑ±Îä• ÏµúÏ†ÅÌôî Ï†ÑÎûµ ÏàòÎ¶Ω',\n        description: 'ÏÑ±Îä• Ïù¥Ïäà Ìï¥Í≤∞ÏùÑ ÏúÑÌïú Íµ¨Ï≤¥Ï†ÅÏù∏ Ï†ÑÎûµ ÏàòÎ¶Ω',\n        priority: 'medium',\n        actionOwner: 'Í∏∞Ïà†ÌåÄ'\n      }\n    ],\n    longTerm: [\n      {\n        title: 'Ïù∏Î†• ÌôïÎ≥¥ Í≥ÑÌöç',\n        description: 'ÌîÑÎ°úÏ†ùÌä∏ ÌôïÏû•ÏùÑ ÏúÑÌïú Ï∂îÍ∞Ä Ïù∏Î†• ÌôïÎ≥¥ Í≥ÑÌöç',\n        priority: 'low',\n        actionOwner: 'HRÌåÄ'\n      }\n    ]\n  }\n}\n\n// Î¶¨Ìè¨Ìä∏ ÌÖúÌîåÎ¶ø Í¥ÄÎ¶¨\nexport function createReportTemplate(\n  templateName: string,\n  templateType: 'weekly' | 'quarterly',\n  templateData: any\n): void {\n  reportTemplates.update(templates => ({\n    ...templates,\n    [templateName]: {\n      type: templateType,\n      data: templateData,\n      createdAt: new Date().toISOString()\n    }\n  }))\n}\n\n// Î¶¨Ìè¨Ìä∏ ÌÖúÌîåÎ¶ø Ï†ÅÏö©\nexport function applyReportTemplate(\n  projectId: string,\n  templateName: string,\n  periodStart: string,\n  periodEnd: string\n): string {\n  let template: any = null\n\n  reportTemplates.subscribe(templates => {\n    template = templates[templateName]\n  })()\n\n  if (!template) {\n    throw new Error(`Template ${templateName} not found`)\n  }\n\n  if (template.type === 'weekly') {\n    return generateWeeklyReport(projectId, periodStart, periodEnd)\n  } else if (template.type === 'quarterly') {\n    return generateQuarterlyReport(projectId, 1, 2024) // Ïã§Ï†úÎ°úÎäî ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú Í≥ÑÏÇ∞\n  }\n\n  throw new Error(`Unsupported template type: ${template.type}`)\n}\n\n// Î¶¨Ìè¨Ìä∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞\nexport function exportReport(reportId: string, format: 'pdf' | 'docx' | 'html' | 'excel'): string {\n  let report: Report | undefined = undefined\n\n  reports.subscribe(list => {\n    report = list.find(r => r.id === reportId)\n  })()\n\n  if (!report) {\n    throw new Error(`Report ${reportId} not found`)\n  }\n\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏÑúÎ≤ÑÏóêÏÑú Ìï¥Îãπ ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò\n  // Ïó¨Í∏∞ÏÑúÎäî HTML ÌòïÏãùÏúºÎ°ú Î∞òÌôò\n  return generateReportHTML(report)\n}\n\n// Î¶¨Ìè¨Ìä∏ HTML ÏÉùÏÑ±\nfunction generateReportHTML(report: Report): string {\n  const data = report.summaryJson\n\n  return `\n\t\t<!DOCTYPE html>\n\t\t<html>\n\t\t<head>\n\t\t\t<title>${report.type === 'weekly' ? 'Ï£ºÍ∞Ñ' : 'Î∂ÑÍ∏∞'} Î¶¨Ìè¨Ìä∏</title>\n\t\t\t<meta charset=\"utf-8\">\n\t\t\t<style>\n\t\t\t\tbody { font-family: Arial, sans-serif; margin: 20px; }\n\t\t\t\t.header { background-color: #f0f0f0; padding: 20px; margin-bottom: 20px; }\n\t\t\t\t.section { margin-bottom: 30px; }\n\t\t\t\t.section h2 { color: #333; border-bottom: 2px solid #333; }\n\t\t\t\t.table { width: 100%; border-collapse: collapse; }\n\t\t\t\t.table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n\t\t\t\t.table th { background-color: #f2f2f2; }\n\t\t\t</style>\n\t\t</head>\n\t\t<body>\n\t\t\t<div class=\"header\">\n\t\t\t\t<h1>${report.type === 'weekly' ? 'Ï£ºÍ∞Ñ' : 'Î∂ÑÍ∏∞'} ÏßÑÎèÑÎ≥¥Í≥†ÏÑú</h1>\n\t\t\t\t<p>ÌîÑÎ°úÏ†ùÌä∏: ${report.projectId}</p>\n\t\t\t\t<p>Í∏∞Í∞Ñ: ${report.periodStart} ~ ${report.periodEnd}</p>\n\t\t\t\t<p>ÏÉùÏÑ±Ïùº: ${report.generatedAt}</p>\n\t\t\t</div>\n\t\t\t\n\t\t\t${report.type === 'weekly' ? generateWeeklyReportHTML(data) : generateQuarterlyReportHTML(data)}\n\t\t</body>\n\t\t</html>\n\t`\n}\n\n// Ï£ºÍ∞Ñ Î¶¨Ìè¨Ìä∏ HTML ÏÉùÏÑ±\nfunction generateWeeklyReportHTML(data: any): string {\n  return `\n\t\t<div class=\"section\">\n\t\t\t<h2>ÎßàÏùºÏä§ÌÜ§ ÏßÑÌñâÎ•†</h2>\n\t\t\t<p>Ï†ÑÏ≤¥ ÏßÑÌñâÎ•†: ${data.milestoneProgress.overallProgress}%</p>\n\t\t\t<p>ÏôÑÎ£åÎêú ÎßàÏùºÏä§ÌÜ§: ${data.milestoneProgress.completedMilestones}/${data.milestoneProgress.totalMilestones}</p>\n\t\t</div>\n\t\t\n\t\t<div class=\"section\">\n\t\t\t<h2>ÏòàÏÇ∞ ÏßëÌñâÎ•†</h2>\n\t\t\t<p>ÏßëÌñâÎ•†: ${data.budgetExecution.executionRate}%</p>\n\t\t\t<p>ÏßëÌñâ Í∏àÏï°: ${data.budgetExecution.executedAmount.toLocaleString()}Ïõê</p>\n\t\t</div>\n\t\t\n\t\t<div class=\"section\">\n\t\t\t<h2>Ïù∏Î†• Ï∞∏Ïó¨Ïú®</h2>\n\t\t\t<p>ÌèâÍ∑† Ï∞∏Ïó¨Ïú®: ${data.participationRate.averageParticipationRate}%</p>\n\t\t\t<p>Ï∞∏Ïó¨Ïûê Ïàò: ${data.participationRate.totalParticipants}Î™Ö</p>\n\t\t</div>\n\t\t\n\t\t<div class=\"section\">\n\t\t\t<h2>Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂úÎ•†</h2>\n\t\t\t<p>Ï†úÏ∂úÎ•†: ${data.researchNoteSubmission.submissionRate}%</p>\n\t\t\t<p>Ï†úÏ∂ú Í±¥Ïàò: ${data.researchNoteSubmission.actualSubmissions}/${data.researchNoteSubmission.expectedSubmissions}</p>\n\t\t</div>\n\t`\n}\n\n// Î∂ÑÍ∏∞ Î¶¨Ìè¨Ìä∏ HTML ÏÉùÏÑ±\nfunction generateQuarterlyReportHTML(data: any): string {\n  return `\n\t\t<div class=\"section\">\n\t\t\t<h2>Í≤ΩÏòÅÏßÑ ÏöîÏïΩ</h2>\n\t\t\t<p>Ï†ÑÏ≤¥ ÏÉÅÌÉú: ${data.executiveSummary.overallStatus}</p>\n\t\t\t<p>Ï†ÑÏ≤¥ ÏßÑÌñâÎ•†: ${data.executiveSummary.overallProgress}%</p>\n\t\t\t<p>ÏòàÏÇ∞ ÌôúÏö©Î•†: ${data.executiveSummary.budgetUtilization}%</p>\n\t\t</div>\n\t\t\n\t\t<div class=\"section\">\n\t\t\t<h2>Ï£ºÏöî ÏÑ±Í≥º</h2>\n\t\t\t<ul>\n\t\t\t\t${data.achievements.milestones\n          .map((milestone: any) => `<li>${milestone.title} - ${milestone.status}</li>`)\n          .join('')}\n\t\t\t</ul>\n\t\t</div>\n\t\t\n\t\t<div class=\"section\">\n\t\t\t<h2>Ïû¨Î¨¥ ÏöîÏïΩ</h2>\n\t\t\t<p>Ï¥ù ÏòàÏÇ∞: ${data.financialSummary.totalBudget.toLocaleString()}Ïõê</p>\n\t\t\t<p>ÏßëÌñâ Í∏àÏï°: ${data.financialSummary.executedAmount.toLocaleString()}Ïõê</p>\n\t\t\t<p>ÏßëÌñâÎ•†: ${data.financialSummary.executionRate}%</p>\n\t\t</div>\n\t`\n}\n\n// ÏûêÎèô Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ± Ïä§ÏºÄÏ§ÑÎßÅ\nexport function scheduleAutoReports(\n  projectId: string,\n  scheduleType: 'weekly' | 'quarterly',\n  dayOfWeek?: number, // 0-6 (ÏùºÏöîÏùº-ÌÜ†ÏöîÏùº)\n  dayOfMonth?: number // 1-31\n): void {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Î∞±Í∑∏ÎùºÏö¥Îìú ÏûëÏóÖÏúºÎ°ú Ïä§ÏºÄÏ§ÑÎßÅ\n  // Ïó¨Í∏∞ÏÑúÎäî Í∞ÑÎã®Ìûà ÏÑ§Ï†ïÎßå Ï†ÄÏû•\n  const schedule = {\n    projectId,\n    scheduleType,\n    dayOfWeek,\n    dayOfMonth,\n    enabled: true,\n    createdAt: new Date().toISOString()\n  }\n\n  // Ïä§ÏºÄÏ§Ñ Ï†ÄÏû• (Ïã§Ï†úÎ°úÎäî Î≥ÑÎèÑ Ïä§ÌÜ†Ïñ¥Ïóê Ï†ÄÏû•)\n  logger.log('Auto report scheduled:', schedule)\n}\n\n// Î¶¨Ìè¨Ìä∏ ÌÜµÍ≥Ñ\nexport function getReportStatistics(projectId: string): any {\n  let projectReports: Report[] = []\n\n  reports.subscribe(list => {\n    projectReports = list.filter(r => r.projectId === projectId)\n  })()\n\n  const weeklyReports = projectReports.filter(r => r.type === 'weekly')\n  const quarterlyReports = projectReports.filter(r => r.type === 'quarterly')\n\n  return {\n    totalReports: projectReports.length,\n    weeklyReports: weeklyReports.length,\n    quarterlyReports: quarterlyReports.length,\n    lastReportDate:\n      projectReports.length > 0\n        ? Math.max(...projectReports.map(r => new Date(r.generatedAt).getTime()))\n        : null,\n    averageGenerationTime: calculateAverageGenerationTime(projectReports)\n  }\n}\n\n// ÌèâÍ∑† ÏÉùÏÑ± ÏãúÍ∞Ñ Í≥ÑÏÇ∞\nfunction calculateAverageGenerationTime(reports: Report[]): number {\n  if (reports.length === 0) return 0\n\n  const totalTime = reports.reduce((sum, report) => {\n    const created = new Date(report.createdAt).getTime()\n    const generated = new Date(report.generatedAt).getTime()\n    return sum + (generated - created)\n  }, 0)\n\n  return totalTime / reports.length\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/research-notes.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 20,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 78,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 78,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 111,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 111,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'period' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 454,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 454,
        "endColumn": 9
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type { ResearchNote, Document } from './types'\nimport { logAudit } from './core'\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ Í¥ÄÎ¶¨\nexport const researchNotes = writable<ResearchNote[]>([])\nexport const researchNoteAttachments = writable<Record<string, Document[]>>({})\nexport const researchNoteSignatures = writable<Record<string, unknown[]>>({})\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏÉùÏÑ±\nexport function createResearchNote(\n  projectId: string,\n  authorId: string,\n  weekOf: string,\n  title: string,\n  contentMd: string,\n  attachments: string[] = []\n): string {\n  const note: ResearchNote = {\n    id: crypto.randomUUID(),\n    projectId,\n    authorId,\n    weekOf,\n    title,\n    contentMd,\n    attachments,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  researchNotes.update(list => [...list, note])\n  logAudit('create', 'research_note', note.id, {}, note)\n\n  return note.id\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏàòÏ†ï\nexport function updateResearchNote(noteId: string, updates: Partial<ResearchNote>): void {\n  researchNotes.update(list => {\n    const index = list.findIndex(n => n.id === noteId)\n    if (index === -1) return list\n\n    const oldNote = list[index]\n    const updatedNote = {\n      ...oldNote,\n      ...updates,\n      updatedAt: new Date().toISOString()\n    }\n\n    const newList = [...list]\n    newList[index] = updatedNote\n\n    logAudit('update', 'research_note', noteId, oldNote, updatedNote)\n    return newList\n  })\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏÇ≠Ï†ú\nexport function deleteResearchNote(noteId: string): void {\n  researchNotes.update(list => {\n    const note = list.find(n => n.id === noteId)\n    if (note) {\n      logAudit('delete', 'research_note', noteId, note, {})\n    }\n    return list.filter(n => n.id !== noteId)\n  })\n}\n\n// Ï≤®Î∂ÄÌååÏùº Ï∂îÍ∞Ä\nexport function addResearchNoteAttachment(\n  noteId: string,\n  filename: string,\n  storageUrl: string,\n  sha256: string,\n  description?: string\n): string {\n  const attachment: Document = {\n    id: crypto.randomUUID(),\n    projectId: '', // Ïó∞Íµ¨ÎÖ∏Ìä∏Ïùò ÌîÑÎ°úÏ†ùÌä∏ IDÎ°ú ÏÑ§Ï†ï\n    type: 'other',\n    filename,\n    storageUrl,\n    sha256,\n    version: 1,\n    meta: { description, noteId },\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  researchNoteAttachments.update(attachments => {\n    const noteAttachments = attachments[noteId] || []\n    return {\n      ...attachments,\n      [noteId]: [...noteAttachments, attachment]\n    }\n  })\n\n  logAudit('add_attachment', 'research_note', noteId, {}, attachment)\n\n  return attachment.id\n}\n\n// Ï†ÑÏûêÏÑúÎ™Ö Ï∂îÍ∞Ä\nexport function addResearchNoteSignature(\n  noteId: string,\n  signerId: string,\n  signatureData: string,\n  signatureType: 'author' | 'verifier' = 'author'\n): string {\n  const signature = {\n    id: crypto.randomUUID(),\n    noteId,\n    signerId,\n    signatureData,\n    signatureType,\n    signedAt: new Date().toISOString(),\n    verified: false\n  }\n\n  researchNoteSignatures.update(signatures => {\n    const noteSignatures = signatures[noteId] || []\n    return {\n      ...signatures,\n      [noteId]: [...noteSignatures, signature]\n    }\n  })\n\n  logAudit('add_signature', 'research_note', noteId, { signerId, signatureType }, signature)\n\n  // Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏÑúÎ™Ö ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n  updateResearchNote(noteId, { signedAt: signature.signedAt })\n\n  return signature.id\n}\n\n// ÏÑúÎ™Ö Í≤ÄÏ¶ù\nexport function verifyResearchNoteSignature(\n  noteId: string,\n  signatureId: string,\n  verifierId: string\n): void {\n  researchNoteSignatures.update(signatures => {\n    const noteSignatures = signatures[noteId] || []\n    const updatedSignatures = noteSignatures.map(sig => {\n      if (sig.id === signatureId) {\n        return {\n          ...sig,\n          verified: true,\n          verifiedBy: verifierId,\n          verifiedAt: new Date().toISOString()\n        }\n      }\n      return sig\n    })\n\n    return {\n      ...signatures,\n      [noteId]: updatedSignatures\n    }\n  })\n\n  logAudit('verify_signature', 'research_note', noteId, { signatureId, verifierId }, {})\n\n  // Ïó∞Íµ¨ÎÖ∏Ìä∏ Í≤ÄÏ¶ù ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n  updateResearchNote(noteId, { verifiedBy: verifierId })\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏ Î™©Î°ù\nexport function getResearchNotesByProject(projectId: string): ResearchNote[] {\n  let projectNotes: ResearchNote[] = []\n\n  researchNotes.subscribe(list => {\n    projectNotes = list\n      .filter(n => n.projectId === projectId)\n      .sort((a, b) => new Date(b.weekOf).getTime() - new Date(a.weekOf).getTime())\n  })()\n\n  return projectNotes\n}\n\n// ÏûëÏÑ±ÏûêÎ≥Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏ Î™©Î°ù\nexport function getResearchNotesByAuthor(authorId: string): ResearchNote[] {\n  let authorNotes: ResearchNote[] = []\n\n  researchNotes.subscribe(list => {\n    authorNotes = list\n      .filter(n => n.authorId === authorId)\n      .sort((a, b) => new Date(b.weekOf).getTime() - new Date(a.weekOf).getTime())\n  })()\n\n  return authorNotes\n}\n\n// Ï£ºÏ∞®Î≥Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏ Î™©Î°ù\nexport function getResearchNotesByWeek(projectId: string, weekOf: string): ResearchNote[] {\n  let weekNotes: ResearchNote[] = []\n\n  researchNotes.subscribe(list => {\n    weekNotes = list.filter(n => n.projectId === projectId && n.weekOf === weekOf)\n  })()\n\n  return weekNotes\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏Î≥Ñ Ï≤®Î∂ÄÌååÏùº Î™©Î°ù\nexport function getResearchNoteAttachments(noteId: string): Document[] {\n  let attachments: Document[] = []\n\n  researchNoteAttachments.subscribe(attachmentMap => {\n    attachments = attachmentMap[noteId] || []\n  })()\n\n  return attachments\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏Î≥Ñ ÏÑúÎ™Ö Î™©Î°ù\nexport function getResearchNoteSignatures(noteId: string): unknown[] {\n  let signatures: unknown[] = []\n\n  researchNoteSignatures.subscribe(signatureMap => {\n    signatures = signatureMap[noteId] || []\n  })()\n\n  return signatures\n}\n\n// ÎØ∏Ï†úÏ∂ú Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï≤¥ÌÅ¨\nexport function getMissingResearchNotes(\n  projectId: string,\n  startDate: string,\n  endDate: string\n): {\n  missingWeeks: string[]\n  missingAuthors: string[]\n} {\n  const start = new Date(startDate)\n  const end = new Date(endDate)\n  const missingWeeks: string[] = []\n  const missingAuthors: string[] = []\n\n  // Ï£ºÏ∞®Î≥ÑÎ°ú Ï≤¥ÌÅ¨\n  const currentDate = new Date(start)\n  while (currentDate <= end) {\n    const weekOf = getWeekOfYear(currentDate)\n    const weekNotes = getResearchNotesByWeek(projectId, weekOf)\n\n    if (weekNotes.length === 0) {\n      missingWeeks.push(weekOf)\n    }\n\n    currentDate.setDate(currentDate.getDate() + 7)\n  }\n\n  // ÏûëÏÑ±ÏûêÎ≥Ñ Ï≤¥ÌÅ¨ (Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨Ïûê Î™©Î°ùÏùÑ Í∞ÄÏ†∏ÏôÄÏïº Ìï®)\n  // Ïó¨Í∏∞ÏÑúÎäî Í∞ÑÎã®Ìûà Ï≤òÎ¶¨\n\n  return { missingWeeks, missingAuthors }\n}\n\n// Ï£ºÏ∞® Í≥ÑÏÇ∞ (ISO 8601 Í∏∞Ï§Ä)\nfunction getWeekOfYear(date: Date): string {\n  const year = date.getFullYear()\n  const firstDayOfYear = new Date(year, 0, 1)\n  const pastDaysOfYear = (date.getTime() - firstDayOfYear.getTime()) / 86400000\n  const weekNumber = Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7)\n  return `${year}-W${weekNumber.toString().padStart(2, '0')}`\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú ÌòÑÌô©\nexport function getResearchNoteSubmissionStatus(\n  projectId: string,\n  month: string\n): {\n  totalWeeks: number\n  submittedWeeks: number\n  submissionRate: number\n  missingWeeks: string[]\n} {\n  const startDate = new Date(month + '-01')\n  const endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 1, 0)\n\n  const { missingWeeks } = getMissingResearchNotes(\n    projectId,\n    startDate.toISOString(),\n    endDate.toISOString()\n  )\n\n  // Ìï¥Îãπ ÏõîÏùò Ï¥ù Ï£ºÏ∞® Ïàò Í≥ÑÏÇ∞\n  const totalWeeks = Math.ceil(\n    (endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24 * 7)\n  )\n  const submittedWeeks = totalWeeks - missingWeeks.length\n  const submissionRate = totalWeeks > 0 ? (submittedWeeks / totalWeeks) * 100 : 0\n\n  return {\n    totalWeeks,\n    submittedWeeks,\n    submissionRate,\n    missingWeeks\n  }\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ ÌÖúÌîåÎ¶ø ÏÉùÏÑ±\nexport function createResearchNoteTemplate(\n  projectId: string,\n  authorId: string,\n  weekOf: string,\n  templateType: 'weekly' | 'experiment' | 'analysis' | 'meeting'\n): string {\n  const templates = {\n    weekly: {\n      title: `Ï£ºÍ∞Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏ - ${weekOf}`,\n      content: `# Ï£ºÍ∞Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏\n\n## Ïù¥Î≤à Ï£º Ï£ºÏöî ÌôúÎèô\n- \n\n## Ïã§Ìóò/Ïó∞Íµ¨ ÏßÑÌñâÏÇ¨Ìï≠\n- \n\n## Í≤∞Í≥º Î∞è Î∂ÑÏÑù\n- \n\n## Îã§Ïùå Ï£º Í≥ÑÌöç\n- \n\n## Ïù¥Ïäà Î∞è Î¨∏Ï†úÏ†ê\n- \n\n## Ï∞∏Í≥†ÏûêÎ£å\n- `\n    },\n    experiment: {\n      title: `Ïã§Ìóò ÎÖ∏Ìä∏ - ${weekOf}`,\n      content: `# Ïã§Ìóò ÎÖ∏Ìä∏\n\n## Ïã§Ìóò Î™©Ï†Å\n- \n\n## Ïã§Ìóò Î∞©Î≤ï\n- \n\n## Ïã§Ìóò Ï°∞Í±¥\n- \n\n## Í≤∞Í≥º\n- \n\n## Î∂ÑÏÑù Î∞è Ìï¥ÏÑù\n- \n\n## Í≤∞Î°†\n- \n\n## Ìñ•ÌõÑ Í≥ÑÌöç\n- `\n    },\n    analysis: {\n      title: `Î∂ÑÏÑù ÎÖ∏Ìä∏ - ${weekOf}`,\n      content: `# Î∂ÑÏÑù ÎÖ∏Ìä∏\n\n## Î∂ÑÏÑù Î™©Ï†Å\n- \n\n## Îç∞Ïù¥ÌÑ∞ ÏÜåÏä§\n- \n\n## Î∂ÑÏÑù Î∞©Î≤ï\n- \n\n## Í≤∞Í≥º\n- \n\n## Ìï¥ÏÑù\n- \n\n## ÌïúÍ≥ÑÏ†ê\n- \n\n## Í∞úÏÑ† Î∞©Ïïà\n- `\n    },\n    meeting: {\n      title: `ÌöåÏùò ÎÖ∏Ìä∏ - ${weekOf}`,\n      content: `# ÌöåÏùò ÎÖ∏Ìä∏\n\n## ÌöåÏùò Ï†ïÎ≥¥\n- ÏùºÏãú: \n- Ï∞∏ÏÑùÏûê: \n- Ïû•ÏÜå: \n\n## ÏïàÍ±¥\n- \n\n## ÎÖºÏùò ÎÇ¥Ïö©\n- \n\n## Í≤∞Ï†ïÏÇ¨Ìï≠\n- \n\n## Ïï°ÏÖò ÏïÑÏù¥ÌÖú\n- \n\n## Îã§Ïùå ÌöåÏùò\n- `\n    }\n  }\n\n  const template = templates[templateType]\n  return createResearchNote(projectId, authorId, weekOf, template.title, template.content)\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ Í≤ÄÏÉâ\nexport function searchResearchNotes(\n  projectId: string,\n  query: string,\n  authorId?: string,\n  startDate?: string,\n  endDate?: string\n): ResearchNote[] {\n  let searchResults: ResearchNote[] = []\n\n  researchNotes.subscribe(list => {\n    searchResults = list.filter(note => {\n      // ÌîÑÎ°úÏ†ùÌä∏ ÌïÑÌÑ∞\n      if (note.projectId !== projectId) return false\n\n      // ÏûëÏÑ±Ïûê ÌïÑÌÑ∞\n      if (authorId && note.authorId !== authorId) return false\n\n      // ÎÇ†Ïßú ÌïÑÌÑ∞\n      if (startDate && note.weekOf < startDate) return false\n      if (endDate && note.weekOf > endDate) return false\n\n      // ÌÖçÏä§Ìä∏ Í≤ÄÏÉâ\n      if (query) {\n        const searchText = query.toLowerCase()\n        return (\n          note.title.toLowerCase().includes(searchText) ||\n          note.contentMd.toLowerCase().includes(searchText)\n        )\n      }\n\n      return true\n    })\n  })()\n\n  return searchResults\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ ÌÜµÍ≥Ñ\nexport function getResearchNoteStatistics(\n  projectId: string,\n  period: 'month' | 'quarter' | 'year'\n): {\n  totalNotes: number\n  submittedNotes: number\n  signedNotes: number\n  verifiedNotes: number\n  averageNotesPerWeek: number\n  topAuthors: Array<{ authorId: string; count: number }>\n} {\n  const projectNotes = getResearchNotesByProject(projectId)\n\n  const totalNotes = projectNotes.length\n  const submittedNotes = projectNotes.filter(n => n.signedAt).length\n  const signedNotes = projectNotes.filter(n => n.signedAt).length\n  const verifiedNotes = projectNotes.filter(n => n.verifiedBy).length\n\n  // Ï£ºÏ∞®Î≥Ñ ÌèâÍ∑† Í≥ÑÏÇ∞\n  const weeks = new Set(projectNotes.map(n => n.weekOf))\n  const averageNotesPerWeek = weeks.size > 0 ? totalNotes / weeks.size : 0\n\n  // ÏûëÏÑ±ÏûêÎ≥Ñ ÌÜµÍ≥Ñ\n  const authorCounts: Record<string, number> = {}\n  projectNotes.forEach(note => {\n    authorCounts[note.authorId] = (authorCounts[note.authorId] || 0) + 1\n  })\n\n  const topAuthors = Object.entries(authorCounts)\n    .map(([authorId, count]) => ({ authorId, count }))\n    .sort((a, b) => b.count - a.count)\n    .slice(0, 5)\n\n  return {\n    totalNotes,\n    submittedNotes,\n    signedNotes,\n    verifiedNotes,\n    averageNotesPerWeek,\n    topAuthors\n  }\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ (PDF/Word ÌòïÏãù)\nexport function exportResearchNotes(\n  projectId: string,\n  format: 'pdf' | 'docx' | 'html',\n  startDate?: string,\n  endDate?: string\n): string {\n  const notes = getResearchNotesByProject(projectId)\n  const filteredNotes = notes.filter(note => {\n    if (startDate && note.weekOf < startDate) return false\n    if (endDate && note.weekOf > endDate) return false\n    return true\n  })\n\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏÑúÎ≤ÑÏóêÏÑú PDF/Word ÏÉùÏÑ±\n  // Ïó¨Í∏∞ÏÑúÎäî HTML ÌòïÏãùÏúºÎ°ú Î∞òÌôò\n  const html = `\n\t\t<!DOCTYPE html>\n\t\t<html>\n\t\t<head>\n\t\t\t<title>Ïó∞Íµ¨ÎÖ∏Ìä∏ Î™®Ïùå</title>\n\t\t\t<meta charset=\"utf-8\">\n\t\t</head>\n\t\t<body>\n\t\t\t<h1>Ïó∞Íµ¨ÎÖ∏Ìä∏ Î™®Ïùå</h1>\n\t\t\t${filteredNotes\n        .map(\n          note => `\n\t\t\t\t<div class=\"note\">\n\t\t\t\t\t<h2>${note.title}</h2>\n\t\t\t\t\t<p><strong>Ï£ºÏ∞®:</strong> ${note.weekOf}</p>\n\t\t\t\t\t<p><strong>ÏûëÏÑ±Ïûê:</strong> ${note.authorId}</p>\n\t\t\t\t\t<p><strong>ÏûëÏÑ±Ïùº:</strong> ${note.createdAt}</p>\n\t\t\t\t\t<div class=\"content\">${note.contentMd}</div>\n\t\t\t\t</div>\n\t\t\t`\n        )\n        .join('')}\n\t\t</body>\n\t\t</html>\n\t`\n\n  return html\n}\n\n// Ïó∞Íµ¨ÎÖ∏Ìä∏ Î∞±ÏóÖ\nexport function backupResearchNotes(projectId: string): {\n  notes: ResearchNote[]\n  attachments: Record<string, Document[]>\n  signatures: Record<string, unknown[]>\n  backupDate: string\n} {\n  const notes = getResearchNotesByProject(projectId)\n  const attachments: Record<string, Document[]> = {}\n  const signatures: Record<string, unknown[]> = {}\n\n  notes.forEach(note => {\n    attachments[note.id] = getResearchNoteAttachments(note.id)\n    signatures[note.id] = getResearchNoteSignatures(note.id)\n  })\n\n  return {\n    notes,\n    attachments,\n    signatures,\n    backupDate: new Date().toISOString()\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/sla-alerts.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 101,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 101,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 124,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 124,
        "endColumn": 15
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 149,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 149,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4587, 4590], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4587, 4590], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 158,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 158,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4764, 4767], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4764, 4767], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 170,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 170,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5122, 5125], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5122, 5125], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 186,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 186,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5530, 5533], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5530, 5533], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'entityId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 201,
        "column": 46,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 201,
        "endColumn": 54
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 225,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 225,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6696, 6699], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6696, 6699], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'entityType' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 249,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 249,
        "endColumn": 37
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'entityId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 249,
        "column": 47,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 249,
        "endColumn": 55
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'escalationPath' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 249,
        "column": 65,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 249,
        "endColumn": 79
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 310,
        "column": 69,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 310,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8950, 8953], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8950, 8953], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 391,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 391,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11381, 11384], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11381, 11384], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { getCurrentUTC } from '$lib/utils/date-handler'\nimport { writable } from 'svelte/store'\nimport { logAudit } from './core'\nimport type { Notification, SLAAlert } from './types'\nimport { logger } from '$lib/utils/logger';\n\n// SLA ÏïåÎ¶º Í¥ÄÎ¶¨\nexport const slaAlerts = writable<SLAAlert[]>([])\nexport const notifications = writable<Notification[]>([])\nexport const escalationPolicies = writable<Record<string, unknown>>({})\n\n// SLA Ï†ïÏ±Ö Ï†ïÏùò\nexport function defineSlaPolicies(): void {\n  const policies = {\n    expense_approval: {\n      name: 'ÏßÄÏ∂ú ÏäπÏù∏ SLA',\n      entityType: 'expense',\n      stages: [\n        {\n          stage: 'PM_APPROVAL',\n          slaDays: 2,\n          alerts: [\n            { daysBefore: 1, type: 'warning', message: 'PM ÏäπÏù∏ ÎßàÍ∞ê 1Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysBefore: 0, type: 'breach', message: 'PM ÏäπÏù∏ ÎßàÍ∞êÏùºÏûÖÎãàÎã§.' },\n            { daysAfter: 1, type: 'escalation', message: 'PM ÏäπÏù∏ ÏßÄÏó∞ 1Ïùº Í≤ΩÍ≥º' }\n          ]\n        },\n        {\n          stage: 'SUPPORT_REVIEW',\n          slaDays: 3,\n          alerts: [\n            { daysBefore: 1, type: 'warning', message: 'Í≤ΩÏòÅÏßÄÏõê Í≤ÄÌÜ† ÎßàÍ∞ê 1Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysBefore: 0, type: 'breach', message: 'Í≤ΩÏòÅÏßÄÏõê Í≤ÄÌÜ† ÎßàÍ∞êÏùºÏûÖÎãàÎã§.' },\n            { daysAfter: 1, type: 'escalation', message: 'Í≤ΩÏòÅÏßÄÏõê Í≤ÄÌÜ† ÏßÄÏó∞ 1Ïùº Í≤ΩÍ≥º' }\n          ]\n        }\n      ],\n      escalationPath: [\n        { level: 1, role: 'PM', delayDays: 1 },\n        { level: 2, role: 'LAB_HEAD', delayDays: 3 },\n        { level: 3, role: 'EXECUTIVE', delayDays: 5 }\n      ]\n    },\n    milestone_delivery: {\n      name: 'ÎßàÏùºÏä§ÌÜ§ ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂ú SLA',\n      entityType: 'milestone',\n      stages: [\n        {\n          stage: 'DELIVERY',\n          slaDays: 0,\n          alerts: [\n            { daysBefore: 7, type: 'warning', message: 'ÎßàÏùºÏä§ÌÜ§ ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂ú 7Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysBefore: 3, type: 'warning', message: 'ÎßàÏùºÏä§ÌÜ§ ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂ú 3Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysBefore: 1, type: 'warning', message: 'ÎßàÏùºÏä§ÌÜ§ ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂ú 1Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysAfter: 0, type: 'breach', message: 'ÎßàÏùºÏä§ÌÜ§ ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂ú ÎßàÍ∞êÏùºÏûÖÎãàÎã§.' },\n            { daysAfter: 1, type: 'escalation', message: 'ÎßàÏùºÏä§ÌÜ§ ÏÇ∞Ï∂úÎ¨º Ï†úÏ∂ú ÏßÄÏó∞ 1Ïùº Í≤ΩÍ≥º' }\n          ]\n        }\n      ],\n      escalationPath: [\n        { level: 1, role: 'PM', delayDays: 1 },\n        { level: 2, role: 'LAB_HEAD', delayDays: 3 },\n        { level: 3, role: 'EXECUTIVE', delayDays: 7 }\n      ]\n    },\n    research_note_submission: {\n      name: 'Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú SLA',\n      entityType: 'research_note',\n      stages: [\n        {\n          stage: 'SUBMISSION',\n          slaDays: 0,\n          alerts: [\n            { daysBefore: 3, type: 'warning', message: 'Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú 3Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysBefore: 1, type: 'warning', message: 'Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú 1Ïùº Ï†ÑÏûÖÎãàÎã§.' },\n            { daysAfter: 0, type: 'breach', message: 'Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú ÎßàÍ∞êÏùºÏûÖÎãàÎã§.' },\n            { daysAfter: 3, type: 'escalation', message: 'Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú ÏßÄÏó∞ 3Ïùº Í≤ΩÍ≥º' }\n          ]\n        }\n      ],\n      escalationPath: [\n        { level: 1, role: 'PM', delayDays: 3 },\n        { level: 2, role: 'LAB_HEAD', delayDays: 7 }\n      ]\n    }\n  }\n\n  escalationPolicies.set(policies)\n}\n\n// SLA ÏïåÎ¶º ÏÉùÏÑ±\nexport function createSlaAlert(\n  entityType: string,\n  entityId: string,\n  alertType: 'sla-warning' | 'sla-breach' | 'escalation',\n  message: string,\n  severity: 'low' | 'medium' | 'high' | 'critical',\n  assignedTo: string[]\n): string {\n  const alert: SLAAlert = {\n    id: crypto.randomUUID(),\n    entityType,\n    entityId,\n    alertType,\n    message,\n    severity,\n    assignedTo,\n    status: 'active',\n    createdAt: new Date().toISOString()\n  }\n\n  slaAlerts.update(alerts => [...alerts, alert])\n  logAudit('create', 'sla_alert', alert.id, {}, alert)\n\n  // ÏïåÎ¶º Î∞úÏÜ°\n  sendNotification(alert)\n\n  return alert.id\n}\n\n// ÏïåÎ¶º Î∞úÏÜ°\nfunction sendNotification(alert: SLAAlert): void {\n  const notification: Notification = {\n    id: crypto.randomUUID(),\n    userId: 'current-user', // Ïã§Ï†úÎ°úÎäî assignedToÏùò Í∞Å ÏÇ¨Ïö©ÏûêÏóêÍ≤å Î∞úÏÜ°\n    title: `SLA ÏïåÎ¶º: ${alert.alertType}`,\n    message: alert.message,\n    type: alert.severity === 'critical' ? 'error' : alert.severity === 'high' ? 'warning' : 'info',\n    priority: alert.severity,\n    read: false,\n    actionUrl: `/project-management/${alert.entityType}/${alert.entityId}`,\n    createdAt: new Date().toISOString()\n  }\n\n  notifications.update(notifications => [...notifications, notification])\n}\n\n// SLA Ï≤¥ÌÅ¨ Î∞è ÏïåÎ¶º ÏÉùÏÑ±\nexport function checkSlaCompliance(entityType: string, entityId: string): void {\n  const policies = getEscalationPolicies()\n  const policy =\n    policies[`${entityType}_approval`] ||\n    policies[`${entityType}_delivery`] ||\n    policies[`${entityType}_submission`]\n\n  if (!policy) return\n\n  // Í∞Å Îã®Í≥ÑÎ≥Ñ SLA Ï≤¥ÌÅ¨\n  policy.stages.forEach((stage: any) => {\n    checkStageSla(entityType, entityId, stage, policy.escalationPath)\n  })\n}\n\n// Îã®Í≥ÑÎ≥Ñ SLA Ï≤¥ÌÅ¨\nfunction checkStageSla(\n  entityType: string,\n  entityId: string,\n  stage: any,\n  escalationPath: unknown[]\n): void {\n  const entityData = getEntityData(entityType, entityId)\n  if (!entityData) return\n\n  const currentStage = getCurrentStage(entityType, entityId)\n  if (currentStage !== stage.stage) return\n\n  const daysElapsed = calculateDaysElapsed(entityData.createdAt, stage.slaDays)\n\n  // ÏïåÎ¶º Ï°∞Í±¥ Ï≤¥ÌÅ¨\n  stage.alerts.forEach((alert: any) => {\n    if (shouldTriggerAlert(daysElapsed, alert)) {\n      const assignedTo = getAssignedUsers(entityType, entityId, escalationPath)\n      createSlaAlert(\n        entityType,\n        entityId,\n        alert.type,\n        alert.message,\n        getSeverityFromAlertType(alert.type),\n        assignedTo\n      )\n    }\n  })\n}\n\n// ÏóîÌã∞Ìã∞ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getEntityData(entityType: string, entityId: string): any {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ìï¥Îãπ ÏóîÌã∞Ìã∞Ïùò Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¥\n  switch (entityType) {\n    case 'expense':\n      return { id: entityId, createdAt: '2024-01-20T00:00:00Z', status: 'pending-approval' }\n    case 'milestone':\n      return { id: entityId, createdAt: '2024-01-15T00:00:00Z', dueDate: '2024-01-30T00:00:00Z' }\n    case 'research_note':\n      return { id: entityId, createdAt: '2024-01-22T00:00:00Z', weekOf: '2024-W04' }\n    default:\n      return null\n  }\n}\n\n// ÌòÑÏû¨ Îã®Í≥Ñ Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getCurrentStage(entityType: string, entityId: string): string {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏóîÌã∞Ìã∞Ïùò ÌòÑÏû¨ Îã®Í≥ÑÎ•º Í∞ÄÏ†∏Ïò¥\n  switch (entityType) {\n    case 'expense':\n      return 'PM_APPROVAL'\n    case 'milestone':\n      return 'DELIVERY'\n    case 'research_note':\n      return 'SUBMISSION'\n    default:\n      return ''\n  }\n}\n\n// Í≤ΩÍ≥º ÏùºÏàò Í≥ÑÏÇ∞\nfunction calculateDaysElapsed(createdAt: string, slaDays: number): number {\n  const created = new Date(createdAt)\n  const now = new Date(getCurrentUTC())\n  const deadline = new Date(created.getTime() + slaDays * 24 * 60 * 60 * 1000)\n\n  return Math.ceil((now.getTime() - deadline.getTime()) / (1000 * 60 * 60 * 24))\n}\n\n// ÏïåÎ¶º Î∞úÏÜ° Ï°∞Í±¥ Ï≤¥ÌÅ¨\nfunction shouldTriggerAlert(daysElapsed: number, alert: any): boolean {\n  if (alert.daysBefore !== undefined) {\n    return daysElapsed === -alert.daysBefore\n  } else if (alert.daysAfter !== undefined) {\n    return daysElapsed === alert.daysAfter\n  }\n  return false\n}\n\n// ÏïåÎ¶º ÌÉÄÏûÖÏóêÏÑú Ïã¨Í∞ÅÎèÑ Í≤∞Ï†ï\nfunction getSeverityFromAlertType(alertType: string): 'low' | 'medium' | 'high' | 'critical' {\n  switch (alertType) {\n    case 'warning':\n      return 'medium'\n    case 'breach':\n      return 'high'\n    case 'escalation':\n      return 'critical'\n    default:\n      return 'low'\n  }\n}\n\n// Ìï†ÎãπÎêú ÏÇ¨Ïö©Ïûê Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getAssignedUsers(entityType: string, entityId: string, escalationPath: unknown[]): string[] {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏóîÌã∞Ìã∞Ïùò Îã¥ÎãπÏûêÏôÄ ÏóêÏä§Ïª¨Î†àÏù¥ÏÖò Í≤ΩÎ°úÎ•º Í∏∞Î∞òÏúºÎ°ú ÏÇ¨Ïö©Ïûê Í≤∞Ï†ï\n  const users = ['PM', 'LAB_HEAD', 'EXECUTIVE']\n  return users\n}\n\n// ÏóêÏä§Ïª¨Î†àÏù¥ÏÖò Ï†ïÏ±Ö Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getEscalationPolicies(): Record<string, unknown> {\n  let policies: Record<string, unknown> = {}\n  escalationPolicies.subscribe(p => {\n    policies = p\n  })()\n  return policies\n}\n\n// SLA ÏïåÎ¶º Ìï¥Í≤∞\nexport function resolveSlaAlert(alertId: string, resolvedBy: string, resolution: string): void {\n  slaAlerts.update(alerts => {\n    const index = alerts.findIndex(a => a.id === alertId)\n    if (index === -1) return alerts\n\n    const alert = alerts[index]\n    const updatedAlert = {\n      ...alert,\n      status: 'resolved' as const,\n      resolvedAt: new Date().toISOString()\n    }\n\n    const newList = [...alerts]\n    newList[index] = updatedAlert\n\n    logAudit('resolve', 'sla_alert', alertId, { resolvedBy, resolution }, updatedAlert)\n\n    return newList\n  })\n}\n\n// SLA ÏïåÎ¶º ÏóêÏä§Ïª¨Î†àÏù¥ÏÖò\nexport function escalateSlaAlert(alertId: string, escalatedBy: string, reason: string): void {\n  slaAlerts.update(alerts => {\n    const index = alerts.findIndex(a => a.id === alertId)\n    if (index === -1) return alerts\n\n    const alert = alerts[index]\n    const updatedAlert = {\n      ...alert,\n      status: 'escalated' as const,\n      severity: 'critical' as const,\n      assignedTo: [...alert.assignedTo, 'EXECUTIVE'] // ÏÉÅÏúÑ Î†àÎ≤®Î°ú ÏóêÏä§Ïª¨Î†àÏù¥ÏÖò\n    }\n\n    const newList = [...alerts]\n    newList[index] = updatedAlert\n\n    logAudit('escalate', 'sla_alert', alertId, { escalatedBy, reason }, updatedAlert)\n\n    return newList\n  })\n}\n\n// SLA ÌÜµÍ≥Ñ\nexport function getSlaStatistics(period: 'day' | 'week' | 'month'): any {\n  let allAlerts: SLAAlert[] = []\n\n  slaAlerts.subscribe(alerts => {\n    allAlerts = alerts\n  })()\n\n  const now = new Date()\n  const periodStart = getPeriodStart(now, period)\n\n  const periodAlerts = allAlerts.filter(alert => new Date(alert.createdAt) >= periodStart)\n\n  const totalAlerts = periodAlerts.length\n  const activeAlerts = periodAlerts.filter(a => a.status === 'active').length\n  const resolvedAlerts = periodAlerts.filter(a => a.status === 'resolved').length\n  const escalatedAlerts = periodAlerts.filter(a => a.status === 'escalated').length\n\n  const severityBreakdown = {\n    critical: periodAlerts.filter(a => a.severity === 'critical').length,\n    high: periodAlerts.filter(a => a.severity === 'high').length,\n    medium: periodAlerts.filter(a => a.severity === 'medium').length,\n    low: periodAlerts.filter(a => a.severity === 'low').length\n  }\n\n  const typeBreakdown = {\n    warning: periodAlerts.filter(a => a.alertType === 'sla-warning').length,\n    breach: periodAlerts.filter(a => a.alertType === 'sla-breach').length,\n    escalation: periodAlerts.filter(a => a.alertType === 'escalation').length\n  }\n\n  const averageResolutionTime = calculateAverageResolutionTime(periodAlerts)\n\n  return {\n    period,\n    totalAlerts,\n    activeAlerts,\n    resolvedAlerts,\n    escalatedAlerts,\n    resolutionRate: totalAlerts > 0 ? (resolvedAlerts / totalAlerts) * 100 : 0,\n    escalationRate: totalAlerts > 0 ? (escalatedAlerts / totalAlerts) * 100 : 0,\n    severityBreakdown,\n    typeBreakdown,\n    averageResolutionTime\n  }\n}\n\n// Í∏∞Í∞Ñ ÏãúÏûëÏùº Í≥ÑÏÇ∞\nfunction getPeriodStart(now: Date, period: string): Date {\n  const start = new Date(now)\n\n  switch (period) {\n    case 'day':\n      start.setHours(0, 0, 0, 0)\n      break\n    case 'week':\n      start.setDate(start.getDate() - 7)\n      break\n    case 'month':\n      start.setMonth(start.getMonth() - 1)\n      break\n  }\n\n  return start\n}\n\n// ÌèâÍ∑† Ìï¥Í≤∞ ÏãúÍ∞Ñ Í≥ÑÏÇ∞\nfunction calculateAverageResolutionTime(alerts: SLAAlert[]): number {\n  const resolvedAlerts = alerts.filter(a => a.status === 'resolved' && a.resolvedAt)\n\n  if (resolvedAlerts.length === 0) return 0\n\n  const totalTime = resolvedAlerts.reduce((sum, alert) => {\n    const created = new Date(alert.createdAt).getTime()\n    const resolved = new Date(alert.resolvedAt!).getTime()\n    return sum + (resolved - created)\n  }, 0)\n\n  return totalTime / resolvedAlerts.length\n}\n\n// SLA ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞\nexport function getSlaDashboardData(): any {\n  const dayStats = getSlaStatistics('day')\n  const weekStats = getSlaStatistics('week')\n  const monthStats = getSlaStatistics('month')\n\n  let recentAlerts: SLAAlert[] = []\n  slaAlerts.subscribe(alerts => {\n    recentAlerts = alerts\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n      .slice(0, 10)\n  })()\n\n  return {\n    dayStats,\n    weekStats,\n    monthStats,\n    recentAlerts,\n    trends: {\n      alertsTrend: calculateTrend(dayStats.totalAlerts, weekStats.totalAlerts),\n      resolutionTrend: calculateTrend(dayStats.resolutionRate, weekStats.resolutionRate),\n      escalationTrend: calculateTrend(dayStats.escalationRate, weekStats.escalationRate)\n    }\n  }\n}\n\n// Ìä∏Î†åÎìú Í≥ÑÏÇ∞\nfunction calculateTrend(current: number, previous: number): 'up' | 'down' | 'stable' {\n  const change = ((current - previous) / previous) * 100\n\n  if (change > 5) return 'up'\n  if (change < -5) return 'down'\n  return 'stable'\n}\n\n// SLA ÏïåÎ¶º ÏûêÎèô Ï≤¥ÌÅ¨ Ïä§ÏºÄÏ§ÑÎßÅ\nexport function scheduleSlaChecks(): void {\n  // Îß§ÏãúÍ∞Ñ SLA Ï≤¥ÌÅ¨ Ïã§Ìñâ\n  setInterval(\n    () => {\n      logger.log('Running SLA checks...')\n\n      // Î™®Îì† ÌôúÏÑ± ÏóîÌã∞Ìã∞Ïóê ÎåÄÌï¥ SLA Ï≤¥ÌÅ¨\n      checkAllActiveEntities()\n    },\n    60 * 60 * 1000\n  ) // 1ÏãúÍ∞ÑÎßàÎã§\n}\n\n// Î™®Îì† ÌôúÏÑ± ÏóîÌã∞Ìã∞ SLA Ï≤¥ÌÅ¨\nfunction checkAllActiveEntities(): void {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Î™®Îì† ÌôúÏÑ± ÏóîÌã∞Ìã∞Î•º Í∞ÄÏ†∏ÏôÄÏÑú Ï≤¥ÌÅ¨\n  const activeEntities = [\n    { type: 'expense', id: 'expense-1' },\n    { type: 'expense', id: 'expense-2' },\n    { type: 'milestone', id: 'milestone-1' },\n    { type: 'research_note', id: 'note-1' }\n  ]\n\n  activeEntities.forEach(entity => {\n    checkSlaCompliance(entity.type, entity.id)\n  })\n}\n\n// SLA ÏïåÎ¶º ÎÇ¥Î≥¥ÎÇ¥Í∏∞\nexport function exportSlaAlerts(format: 'json' | 'csv' | 'excel', period?: string): string {\n  let allAlerts: SLAAlert[] = []\n\n  slaAlerts.subscribe(alerts => {\n    if (period) {\n      const periodStart = getPeriodStart(new Date(), period)\n      allAlerts = alerts.filter(alert => new Date(alert.createdAt) >= periodStart)\n    } else {\n      allAlerts = alerts\n    }\n  })()\n\n  if (format === 'json') {\n    return JSON.stringify(allAlerts, null, 2)\n  } else if (format === 'csv') {\n    const csvHeader =\n      'ID,Entity Type,Entity ID,Alert Type,Message,Severity,Status,Created At,Resolved At\\n'\n    const csvRows = allAlerts\n      .map(\n        alert =>\n          `${alert.id},${alert.entityType},${alert.entityId},${alert.alertType},\"${alert.message}\",${alert.severity},${alert.status},${alert.createdAt},${alert.resolvedAt || ''}`\n      )\n      .join('\\n')\n    return csvHeader + csvRows\n  }\n\n  return JSON.stringify(allAlerts, null, 2)\n}\n\n// SLA ÏïåÎ¶º ÌÖúÌîåÎ¶ø Í¥ÄÎ¶¨\nexport function createSlaTemplate(\n  templateName: string,\n  entityType: string,\n  stages: unknown[],\n  escalationPath: unknown[]\n): void {\n  const template = {\n    name: templateName,\n    entityType,\n    stages,\n    escalationPath,\n    createdAt: new Date().toISOString()\n  }\n\n  escalationPolicies.update(policies => ({\n    ...policies,\n    [templateName]: template\n  }))\n}\n\n// SLA ÏïåÎ¶º ÏÑ§Ï†ï ÏóÖÎç∞Ïù¥Ìä∏\nexport function updateSlaSettings(\n  entityType: string,\n  settings: {\n    enabled: boolean\n    alertChannels: string[]\n    escalationEnabled: boolean\n    notificationFrequency: 'immediate' | 'daily' | 'weekly'\n  }\n): void {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî SLA ÏÑ§Ï†ïÏùÑ Ï†ÄÏû•\n  logger.log(`SLA settings updated for ${entityType}:`, settings)\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/submission-bundles.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 19,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 19,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 86,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 86,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2320, 2323], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2320, 2323], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 102,
        "column": 33,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 102,
        "endColumn": 42
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'period' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 102,
        "column": 52,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 102,
        "endColumn": 58
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 127,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 127,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'period' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 127,
        "column": 53,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 127,
        "endColumn": 59
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 127,
        "column": 78,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 127,
        "endColumn": 81,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3352, 3355], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3352, 3355], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 156,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 156,
        "endColumn": 46
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'period' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 156,
        "column": 56,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 156,
        "endColumn": 62
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 156,
        "column": 81,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 156,
        "endColumn": 84,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3953, 3956], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3953, 3956], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 180,
        "column": 39,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 180,
        "endColumn": 48
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'period' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 180,
        "column": 58,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 180,
        "endColumn": 64
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 180,
        "column": 83,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 180,
        "endColumn": 86,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4481, 4484], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4481, 4484], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 214,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 214,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5119, 5122], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5119, 5122], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 215,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 215,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5138, 5141], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5138, 5141], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 216,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 216,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5160, 5163], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5160, 5163], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 217,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 217,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5184, 5187], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5184, 5187], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 240,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 240,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6033, 6036], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6033, 6036], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 258,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 258,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6467, 6470], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6467, 6470], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 276,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 276,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6962, 6965], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6962, 6965], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 290,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 290,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7317, 7320], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7317, 7320], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 313,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 313,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7799, 7802], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7799, 7802], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 313,
        "column": 61,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 313,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7819, 7822], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7819, 7822], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 313,
        "column": 83,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 313,
        "endColumn": 86,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7841, 7844], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7841, 7844], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 320,
        "column": 88,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 320,
        "endColumn": 91,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8601, 8604], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8601, 8604], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 320,
        "column": 172,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 320,
        "endColumn": 175,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8685, 8688], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8685, 8688], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 321,
        "column": 91,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 321,
        "endColumn": 94,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8873, 8876], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8873, 8876], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 321,
        "column": 177,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 321,
        "endColumn": 180,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8959, 8962], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8959, 8962], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'bundleFile' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 349,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 349,
        "endColumn": 44
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 352,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 352,
        "endColumn": 26
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'DOMParser' is not defined.",
        "line": 443,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 443,
        "endColumn": 35
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 450,
        "column": 14,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 450,
        "endColumn": 19
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 477,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 477,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12491, 12494], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12491, 12494], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 501,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 501,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13028, 13031], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13028, 13031], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 529,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 529,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13721, 13724], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13721, 13724], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 567,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 567,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15010, 15013], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15010, 15013], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 13,
    "fatalErrorCount": 0,
    "warningCount": 23,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable } from 'svelte/store'\nimport type {\n  SubmissionBundle,\n  Document\n} from './types'\nimport { logAudit } from './core'\nimport { logger } from '$lib/utils/logger';\n\n// ÏóÖÎ°úÎìú Î≤àÎì§ Í¥ÄÎ¶¨\nexport const submissionBundles = writable<SubmissionBundle[]>([])\nexport const bundleTemplates = writable<Record<string, unknown>>({})\n\n// Íµ≠Í∞ÄR&D ÏóÖÎ°úÎìú Î≤àÎì§ ÏÉùÏÑ±\nexport function createSubmissionBundle(\n  projectId: string,\n  period: string,\n  requestedBy: string\n): string {\n  const bundleId = crypto.randomUUID()\n\n  // Î≤àÎì§ ÏÉùÏÑ± ÏãúÏûë\n  const bundle: SubmissionBundle = {\n    id: bundleId,\n    projectId,\n    period,\n    fileUrl: '', // ÏÉùÏÑ± ÏôÑÎ£å ÌõÑ ÏÑ§Ï†ï\n    manifestXml: '', // ÏÉùÏÑ± ÏôÑÎ£å ÌõÑ ÏÑ§Ï†ï\n    checksum: '', // ÏÉùÏÑ± ÏôÑÎ£å ÌõÑ ÏÑ§Ï†ï\n    createdBy: requestedBy,\n    createdAt: new Date().toISOString(),\n    status: 'generating'\n  }\n\n  submissionBundles.update(list => [...list, bundle])\n  logAudit('create', 'submission_bundle', bundleId, { projectId, period }, bundle)\n\n  // ÎπÑÎèôÍ∏∞Î°ú Î≤àÎì§ ÏÉùÏÑ±\n  generateBundleContent(bundleId, projectId, period)\n\n  return bundleId\n}\n\n// Î≤àÎì§ ÏΩòÌÖêÏ∏† ÏÉùÏÑ±\nasync function generateBundleContent(\n  bundleId: string,\n  projectId: string,\n  period: string\n): Promise<void> {\n  try {\n    // 1. ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏàòÏßë\n    const projectInfo = await collectProjectInfo(projectId)\n\n    // 2. Î¨∏ÏÑú ÏàòÏßë\n    const documents = await collectDocuments(projectId, period)\n\n    // 3. ÏòàÏÇ∞ Ï†ïÎ≥¥ ÏàòÏßë\n    const budgetInfo = await collectBudgetInfo(projectId, period)\n\n    // 4. Ïù∏Î†• Ï†ïÎ≥¥ ÏàòÏßë\n    const personnelInfo = await collectPersonnelInfo(projectId, period)\n\n    // 5. ÏÑ±Í≥º Ï†ïÎ≥¥ ÏàòÏßë\n    const performanceInfo = await collectPerformanceInfo(projectId, period)\n\n    // 6. Îß§ÎãàÌéòÏä§Ìä∏ XML ÏÉùÏÑ±\n    const manifestXml = generateManifestXml(projectInfo, budgetInfo, personnelInfo, performanceInfo)\n\n    // 7. ÏöîÏïΩ CSV ÏÉùÏÑ±\n    const summaryCsv = generateSummaryCsv(budgetInfo, personnelInfo, performanceInfo)\n\n    // 8. Î≤àÎì§ ÌååÏùº ÏÉùÏÑ±\n    const bundleFile = await createBundleFile(documents, manifestXml, summaryCsv)\n\n    // 9. Ï≤¥ÌÅ¨ÏÑ¨ Í≥ÑÏÇ∞\n    const checksum = await calculateChecksum(bundleFile)\n\n    // 10. Î≤àÎì§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n    updateBundleStatus(bundleId, 'ready', bundleFile.url, manifestXml, checksum)\n  } catch (error) {\n    logger.error('Bundle generation failed:', error)\n    updateBundleStatus(bundleId, 'failed', '', '', '')\n  }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏàòÏßë\nasync function collectProjectInfo(projectId: string): Promise<any> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¥\n  return {\n    id: projectId,\n    code: 'R&D-2024-001',\n    title: 'AI Í∏∞Î∞ò Ïä§ÎßàÌä∏ Ï†úÏ°∞ ÏãúÏä§ÌÖú Í∞úÎ∞ú',\n    sponsor: 'Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä',\n    startDate: '2024-01-01',\n    endDate: '2024-12-31',\n    manager: 'ÍπÄÏó∞Íµ¨Ïõê',\n    department: 'Í∞úÎ∞úÌåÄ',\n    description: 'AI Í∏∞Ïà†ÏùÑ ÌôúÏö©Ìïú Ïä§ÎßàÌä∏ Ï†úÏ°∞ ÏãúÏä§ÌÖú Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏'\n  }\n}\n\n// Î¨∏ÏÑú ÏàòÏßë\nasync function collectDocuments(projectId: string, period: string): Promise<Document[]> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ìï¥Îãπ Í∏∞Í∞ÑÏùò Î™®Îì† Î¨∏ÏÑúÎ•º ÏàòÏßë\n  const mockDocuments = [\n    {\n      id: 'doc-1',\n      type: 'requisition',\n      filename: 'Í∏∞ÏïàÏÑú_2024-01-15.pdf',\n      storageUrl: '/documents/requisition_2024-01-15.pdf',\n      sha256: 'abc123...',\n      uploadedAt: '2024-01-15T10:00:00Z'\n    },\n    {\n      id: 'doc-2',\n      type: 'tax_invoice',\n      filename: 'ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú_2024-01-20.pdf',\n      storageUrl: '/documents/tax_invoice_2024-01-20.pdf',\n      sha256: 'def456...',\n      uploadedAt: '2024-01-20T14:30:00Z'\n    }\n  ]\n\n  return mockDocuments\n}\n\n// ÏòàÏÇ∞ Ï†ïÎ≥¥ ÏàòÏßë\nasync function collectBudgetInfo(projectId: string, period: string): Promise<any> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßë\n  return {\n    totalBudget: 100000000,\n    executedAmount: 60000000,\n    categoryBreakdown: [\n      {\n        category: 'PERSONNEL_CASH',\n        planned: 50000000,\n        executed: 35000000,\n        rate: 70\n      },\n      {\n        category: 'MATERIAL',\n        planned: 30000000,\n        executed: 20000000,\n        rate: 67\n      },\n      {\n        category: 'RESEARCH_ACTIVITY',\n        planned: 20000000,\n        executed: 5000000,\n        rate: 25\n      }\n    ]\n  }\n}\n\n// Ïù∏Î†• Ï†ïÎ≥¥ ÏàòÏßë\nasync function collectPersonnelInfo(projectId: string, period: string): Promise<any> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ïù∏Î†• Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßë\n  return {\n    totalParticipants: 8,\n    participationDetails: [\n      {\n        personId: 'person-1',\n        name: 'ÍπÄÏó∞Íµ¨Ïõê',\n        department: 'Í∞úÎ∞úÌåÄ',\n        participationRate: 100,\n        monthlyAllocation: 5000000\n      },\n      {\n        personId: 'person-2',\n        name: 'Ïù¥Ïó∞Íµ¨Ïõê',\n        department: 'Í∞úÎ∞úÌåÄ',\n        participationRate: 80,\n        monthlyAllocation: 4000000\n      }\n    ]\n  }\n}\n\n// ÏÑ±Í≥º Ï†ïÎ≥¥ ÏàòÏßë\nasync function collectPerformanceInfo(projectId: string, period: string): Promise<any> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÏÑ±Í≥º Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßë\n  return {\n    milestones: [\n      {\n        id: 'milestone-1',\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥Ñ ÏôÑÎ£å',\n        status: 'completed',\n        completionDate: '2024-01-30'\n      },\n      {\n        id: 'milestone-2',\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1.0 Í∞úÎ∞ú',\n        status: 'completed',\n        completionDate: '2024-02-15'\n      }\n    ],\n    deliverables: [\n      {\n        title: 'ÏãúÏä§ÌÖú ÏÑ§Í≥ÑÏÑú',\n        type: 'document',\n        status: 'delivered'\n      },\n      {\n        title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1.0',\n        type: 'prototype',\n        status: 'delivered'\n      }\n    ]\n  }\n}\n\n// Îß§ÎãàÌéòÏä§Ìä∏ XML ÏÉùÏÑ±\nfunction generateManifestXml(\n  projectInfo: any,\n  budgetInfo: any,\n  personnelInfo: any,\n  performanceInfo: any\n): string {\n  const xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<submission_bundle>\n\t<project_info>\n\t\t<id>${projectInfo.id}</id>\n\t\t<code>${projectInfo.code}</code>\n\t\t<title>${projectInfo.title}</title>\n\t\t<sponsor>${projectInfo.sponsor}</sponsor>\n\t\t<start_date>${projectInfo.startDate}</start_date>\n\t\t<end_date>${projectInfo.endDate}</end_date>\n\t\t<manager>${projectInfo.manager}</manager>\n\t\t<department>${projectInfo.department}</department>\n\t\t<description>${projectInfo.description}</description>\n\t</project_info>\n\t\n\t<budget_info>\n\t\t<total_budget>${budgetInfo.totalBudget}</total_budget>\n\t\t<executed_amount>${budgetInfo.executedAmount}</executed_amount>\n\t\t<execution_rate>${((budgetInfo.executedAmount / budgetInfo.totalBudget) * 100).toFixed(2)}</execution_rate>\n\t\t<categories>\n\t\t\t${budgetInfo.categoryBreakdown\n        .map(\n          (cat: any) => `\n\t\t\t<category>\n\t\t\t\t<name>${cat.category}</name>\n\t\t\t\t<planned>${cat.planned}</planned>\n\t\t\t\t<executed>${cat.executed}</executed>\n\t\t\t\t<rate>${cat.rate}</rate>\n\t\t\t</category>\n\t\t\t`\n        )\n        .join('')}\n\t\t</categories>\n\t</budget_info>\n\t\n\t<personnel_info>\n\t\t<total_participants>${personnelInfo.totalParticipants}</total_participants>\n\t\t<participants>\n\t\t\t${personnelInfo.participationDetails\n        .map(\n          (person: any) => `\n\t\t\t<participant>\n\t\t\t\t<person_id>${person.personId}</person_id>\n\t\t\t\t<name>${person.name}</name>\n\t\t\t\t<department>${person.department}</department>\n\t\t\t\t<participation_rate>${person.participationRate}</participation_rate>\n\t\t\t\t<monthly_allocation>${person.monthlyAllocation}</monthly_allocation>\n\t\t\t</participant>\n\t\t\t`\n        )\n        .join('')}\n\t\t</participants>\n\t</personnel_info>\n\t\n\t<performance_info>\n\t\t<milestones>\n\t\t\t${performanceInfo.milestones\n        .map(\n          (milestone: any) => `\n\t\t\t<milestone>\n\t\t\t\t<id>${milestone.id}</id>\n\t\t\t\t<title>${milestone.title}</title>\n\t\t\t\t<status>${milestone.status}</status>\n\t\t\t\t<completion_date>${milestone.completionDate}</completion_date>\n\t\t\t</milestone>\n\t\t\t`\n        )\n        .join('')}\n\t\t</milestones>\n\t\t<deliverables>\n\t\t\t${performanceInfo.deliverables\n        .map(\n          (deliverable: any) => `\n\t\t\t<deliverable>\n\t\t\t\t<title>${deliverable.title}</title>\n\t\t\t\t<type>${deliverable.type}</type>\n\t\t\t\t<status>${deliverable.status}</status>\n\t\t\t</deliverable>\n\t\t\t`\n        )\n        .join('')}\n\t\t</deliverables>\n\t</performance_info>\n\t\n\t<metadata>\n\t\t<generated_at>${new Date().toISOString()}</generated_at>\n\t\t<version>1.0</version>\n\t\t<format>R&D_SUBMISSION_BUNDLE</format>\n\t</metadata>\n</submission_bundle>`\n\n  return xml\n}\n\n// ÏöîÏïΩ CSV ÏÉùÏÑ±\nfunction generateSummaryCsv(budgetInfo: any, personnelInfo: any, performanceInfo: any): string {\n  const csv = `Íµ¨Î∂Ñ,Ìï≠Î™©,Í≥ÑÌöç,Ïã§Ìñâ,ÎπÑÏú®\nÏòàÏÇ∞,Ï¥ùÏòàÏÇ∞,${budgetInfo.totalBudget},${budgetInfo.executedAmount},${((budgetInfo.executedAmount / budgetInfo.totalBudget) * 100).toFixed(2)}%\nÏòàÏÇ∞,Ïù∏Í±¥ÎπÑ,${budgetInfo.categoryBreakdown[0].planned},${budgetInfo.categoryBreakdown[0].executed},${budgetInfo.categoryBreakdown[0].rate}%\nÏòàÏÇ∞,Ïû¨Î£åÎπÑ,${budgetInfo.categoryBreakdown[1].planned},${budgetInfo.categoryBreakdown[1].executed},${budgetInfo.categoryBreakdown[1].rate}%\nÏòàÏÇ∞,Ïó∞Íµ¨ÌôúÎèôÎπÑ,${budgetInfo.categoryBreakdown[2].planned},${budgetInfo.categoryBreakdown[2].executed},${budgetInfo.categoryBreakdown[2].rate}%\nÏù∏Î†•,Ï¥ùÏ∞∏Ïó¨Ïûê,${personnelInfo.totalParticipants},${personnelInfo.totalParticipants},100%\nÏÑ±Í≥º,ÏôÑÎ£åÎßàÏùºÏä§ÌÜ§,${performanceInfo.milestones.length},${performanceInfo.milestones.filter((m: any) => m.status === 'completed').length},${((performanceInfo.milestones.filter((m: any) => m.status === 'completed').length / performanceInfo.milestones.length) * 100).toFixed(2)}%\nÏÑ±Í≥º,Ï†úÏ∂úÏÇ∞Ï∂úÎ¨º,${performanceInfo.deliverables.length},${performanceInfo.deliverables.filter((d: any) => d.status === 'delivered').length},${((performanceInfo.deliverables.filter((d: any) => d.status === 'delivered').length / performanceInfo.deliverables.length) * 100).toFixed(2)}%`\n\n  return csv\n}\n\n// Î≤àÎì§ ÌååÏùº ÏÉùÏÑ±\nasync function createBundleFile(\n  documents: Document[],\n  manifestXml: string,\n  summaryCsv: string\n): Promise<{ url: string; size: number }> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ZIP ÌååÏùºÏùÑ ÏÉùÏÑ±ÌïòÍ≥† Ïä§ÌÜ†Î¶¨ÏßÄÏóê ÏóÖÎ°úÎìú\n  // Ïó¨Í∏∞ÏÑúÎäî Î™®Ïùò Íµ¨ÌòÑ\n  const bundleData = {\n    documents: documents,\n    manifest: manifestXml,\n    summary: summaryCsv,\n    createdAt: new Date().toISOString()\n  }\n\n  // Î™®Ïùò ÌååÏùº URLÍ≥º ÌÅ¨Í∏∞\n  return {\n    url: `/bundles/submission_${Date.now()}.zip`,\n    size: JSON.stringify(bundleData).length\n  }\n}\n\n// Ï≤¥ÌÅ¨ÏÑ¨ Í≥ÑÏÇ∞\nasync function calculateChecksum(bundleFile: { url: string; size: number }): Promise<string> {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌååÏùºÏùò SHA-256 Ìï¥ÏãúÎ•º Í≥ÑÏÇ∞\n  // Ïó¨Í∏∞ÏÑúÎäî Î™®Ïùò Ìï¥Ïãú\n  return `sha256:${crypto.randomUUID().replace(/-/g, '')}`\n}\n\n// Î≤àÎì§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\nfunction updateBundleStatus(\n  bundleId: string,\n  status: SubmissionBundle['status'],\n  fileUrl: string,\n  manifestXml: string,\n  checksum: string\n): void {\n  submissionBundles.update(list => {\n    const index = list.findIndex(b => b.id === bundleId)\n    if (index === -1) return list\n\n    const bundle = list[index]\n    const updatedBundle = {\n      ...bundle,\n      status,\n      fileUrl,\n      manifestXml,\n      checksum\n    }\n\n    const newList = [...list]\n    newList[index] = updatedBundle\n\n    logAudit('update', 'submission_bundle', bundleId, { status }, updatedBundle)\n\n    return newList\n  })\n}\n\n// Î≤àÎì§ Îã§Ïö¥Î°úÎìú\nexport function downloadBundle(bundleId: string): void {\n  let bundle: SubmissionBundle | undefined = undefined\n\n  submissionBundles.subscribe(list => {\n    bundle = list.find(b => b.id === bundleId)\n  })()\n\n  if (!bundle || bundle.status !== 'ready') {\n    throw new Error('Bundle not ready for download')\n  }\n\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî ÌååÏùº Îã§Ïö¥Î°úÎìú Ï≤òÎ¶¨\n  logger.log(`Downloading bundle: ${bundle.fileUrl}`)\n\n  // Îã§Ïö¥Î°úÎìú Ïù¥Î†• Í∏∞Î°ù\n  logAudit('download', 'submission_bundle', bundleId, { fileUrl: bundle.fileUrl }, {})\n}\n\n// Î≤àÎì§ Í≤ÄÏ¶ù\nexport function validateBundle(bundleId: string): {\n  valid: boolean\n  errors: string[]\n  warnings: string[]\n} {\n  let bundle: SubmissionBundle | undefined = undefined\n\n  submissionBundles.subscribe(list => {\n    bundle = list.find(b => b.id === bundleId)\n  })()\n\n  if (!bundle) {\n    return {\n      valid: false,\n      errors: ['Bundle not found'],\n      warnings: []\n    }\n  }\n\n  const errors: string[] = []\n  const warnings: string[] = []\n\n  // 1. ÌïÑÏàò ÌååÏùº Ï°¥Ïû¨ Ïó¨Î∂Ä ÌôïÏù∏\n  if (!bundle.fileUrl) {\n    errors.push('Bundle file not found')\n  }\n\n  if (!bundle.manifestXml) {\n    errors.push('Manifest XML not found')\n  }\n\n  if (!bundle.checksum) {\n    errors.push('Checksum not found')\n  }\n\n  // 2. Îß§ÎãàÌéòÏä§Ìä∏ XML Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨\n  if (bundle.manifestXml) {\n    try {\n      const parser = new DOMParser()\n      const doc = parser.parseFromString(bundle.manifestXml, 'text/xml')\n      const parseError = doc.querySelector('parsererror')\n\n      if (parseError) {\n        errors.push('Invalid XML format in manifest')\n      }\n    } catch (error) {\n      errors.push('Failed to parse manifest XML')\n    }\n  }\n\n  // 3. Ï≤¥ÌÅ¨ÏÑ¨ Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨\n  if (bundle.checksum && !bundle.checksum.startsWith('sha256:')) {\n    warnings.push('Invalid checksum format')\n  }\n\n  // 4. Î≤àÎì§ ÏÉÅÌÉú ÌôïÏù∏\n  if (bundle.status !== 'ready') {\n    errors.push(`Bundle status is ${bundle.status}, expected 'ready'`)\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings\n  }\n}\n\n// Î≤àÎì§ ÌÖúÌîåÎ¶ø ÏÉùÏÑ±\nexport function createBundleTemplate(\n  templateName: string,\n  templateData: {\n    requiredDocuments: string[]\n    manifestStructure: any\n    validationRules: unknown[]\n  }\n): void {\n  const template = {\n    name: templateName,\n    requiredDocuments: templateData.requiredDocuments,\n    manifestStructure: templateData.manifestStructure,\n    validationRules: templateData.validationRules,\n    createdAt: new Date().toISOString()\n  }\n\n  bundleTemplates.update(templates => ({\n    ...templates,\n    [templateName]: template\n  }))\n}\n\n// Î≤àÎì§ ÌÖúÌîåÎ¶ø Ï†ÅÏö©\nexport function applyBundleTemplate(\n  projectId: string,\n  templateName: string,\n  period: string\n): string {\n  let template: any = undefined\n\n  bundleTemplates.subscribe(templates => {\n    template = templates[templateName]\n  })()\n\n  if (!template) {\n    throw new Error(`Template ${templateName} not found`)\n  }\n\n  // ÌÖúÌîåÎ¶øÏùÑ Ï†ÅÏö©ÌïòÏó¨ Î≤àÎì§ ÏÉùÏÑ±\n  return createSubmissionBundle(projectId, period, 'current-user')\n}\n\n// Î≤àÎì§ Ïù¥Î†• Ï°∞Ìöå\nexport function getBundleHistory(projectId: string): SubmissionBundle[] {\n  let history: SubmissionBundle[] = []\n\n  submissionBundles.subscribe(list => {\n    history = list\n      .filter(b => b.projectId === projectId)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n  })()\n\n  return history\n}\n\n// Î≤àÎì§ ÌÜµÍ≥Ñ\nexport function getBundleStatistics(projectId: string): any {\n  const history = getBundleHistory(projectId)\n\n  const totalBundles = history.length\n  const readyBundles = history.filter(b => b.status === 'ready').length\n  const generatingBundles = history.filter(b => b.status === 'generating').length\n  const failedBundles = history.filter(b => b.status === 'failed').length\n  const uploadedBundles = history.filter(b => b.status === 'uploaded').length\n\n  const averageGenerationTime = calculateAverageGenerationTime(history)\n\n  return {\n    totalBundles,\n    readyBundles,\n    generatingBundles,\n    failedBundles,\n    uploadedBundles,\n    successRate: totalBundles > 0 ? (readyBundles / totalBundles) * 100 : 0,\n    averageGenerationTime\n  }\n}\n\n// ÌèâÍ∑† ÏÉùÏÑ± ÏãúÍ∞Ñ Í≥ÑÏÇ∞\nfunction calculateAverageGenerationTime(history: SubmissionBundle[]): number {\n  const completedBundles = history.filter(b => b.status === 'ready' || b.status === 'uploaded')\n\n  if (completedBundles.length === 0) return 0\n\n  const totalTime = completedBundles.reduce((sum, bundle) => {\n    const created = new Date(bundle.createdAt).getTime()\n    const completed = new Date(bundle.createdAt).getTime() + 300000 // Î™®Ïùò ÏôÑÎ£å ÏãúÍ∞Ñ (5Î∂Ñ ÌõÑ)\n    return sum + (completed - created)\n  }, 0)\n\n  return totalTime / completedBundles.length\n}\n\n// Î≤àÎì§ ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞\nexport function getBundleDashboardData(): any {\n  let allBundles: SubmissionBundle[] = []\n\n  submissionBundles.subscribe(list => {\n    allBundles = list\n  })()\n\n  const recentBundles = allBundles\n    .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n    .slice(0, 10)\n\n  const statusCounts = {\n    generating: allBundles.filter(b => b.status === 'generating').length,\n    ready: allBundles.filter(b => b.status === 'ready').length,\n    uploaded: allBundles.filter(b => b.status === 'uploaded').length,\n    failed: allBundles.filter(b => b.status === 'failed').length\n  }\n\n  return {\n    recentBundles,\n    statusCounts,\n    totalBundles: allBundles.length\n  }\n}\n\n// Î≤àÎì§ ÏûêÎèô ÏÉùÏÑ± Ïä§ÏºÄÏ§ÑÎßÅ\nexport function scheduleAutoBundleGeneration(\n  projectId: string,\n  schedule: 'monthly' | 'quarterly' | 'yearly'\n): void {\n  // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ïä§ÏºÄÏ§ÑÎü¨Ïóê Îì±Î°ù\n  const scheduleConfig = {\n    projectId,\n    schedule,\n    enabled: true,\n    createdAt: new Date().toISOString()\n  }\n\n  logger.log('Auto bundle generation scheduled:', scheduleConfig)\n}\n\n// Î≤àÎì§ ÎÇ¥Î≥¥ÎÇ¥Í∏∞\nexport function exportBundleData(format: 'json' | 'csv' | 'excel'): string {\n  let allBundles: SubmissionBundle[] = []\n\n  submissionBundles.subscribe(list => {\n    allBundles = list\n  })()\n\n  if (format === 'json') {\n    return JSON.stringify(allBundles, null, 2)\n  } else if (format === 'csv') {\n    const csvHeader = 'ID,Project ID,Period,Status,File URL,Checksum,Created By,Created At\\n'\n    const csvRows = allBundles\n      .map(\n        bundle =>\n          `${bundle.id},${bundle.projectId},${bundle.period},${bundle.status},${bundle.fileUrl},${bundle.checksum},${bundle.createdBy},${bundle.createdAt}`\n      )\n      .join('\\n')\n    return csvHeader + csvRows\n  }\n\n  return JSON.stringify(allBundles, null, 2)\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/project-management/types.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 330,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 330,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7108, 7111], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7108, 7111], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 330,
        "column": 26,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 330,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7118, 7121], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7118, 7121], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Project Management System Types\n// ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖúÏùÑ ÏúÑÌïú ÌÉÄÏûÖ Ï†ïÏùò\n\nexport interface Project {\n  id: string\n  code: string\n  title: string\n  description?: string\n  sponsor?: string\n  sponsorName?: string\n  sponsorType: 'government' | 'private' | 'internal'\n  startDate?: string\n  endDate?: string\n  managerId?: string\n  managerName?: string\n  status: 'planning' | 'active' | 'completed' | 'cancelled' | 'suspended'\n  budgetTotal?: number\n  budgetCurrency: string\n  researchType?: 'basic' | 'applied' | 'development'\n  technologyArea?: string\n  priority: 'low' | 'medium' | 'high' | 'critical'\n  memberCount?: number\n  totalParticipationRate?: number\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ProjectMember {\n  id: string\n  projectId: string\n  employeeId: string\n  employeeName?: string\n  department?: string\n  role: string\n  startDate: string\n  endDate?: string\n  participationRate: number\n  monthlySalary?: number\n  status: 'active' | 'inactive' | 'completed' | 'withdrawn'\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ProjectBudget {\n  id: string\n  projectId: string\n  fiscalYear: number\n  totalBudget: number\n  personnelCost: number\n  materialCost: number\n  researchActivityCost: number\n  indirectCost: number\n  otherCost: number\n  spentAmount: number\n  currency: string\n  status: 'planned' | 'approved' | 'executing' | 'completed'\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ParticipationRate {\n  id: string\n  employeeId: string\n  employeeName?: string\n  projectId: string\n  projectName?: string\n  participationRate: number\n  startDate: string\n  endDate?: string\n  status: 'active' | 'inactive' | 'completed'\n  createdBy?: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ParticipationRateHistory {\n  id: string\n  employeeId: string\n  employeeName?: string\n  projectId: string\n  projectName?: string\n  oldRate?: number\n  newRate: number\n  changeReason:\n    | 'project_start'\n    | 'project_end'\n    | 'manual_adjustment'\n    | 'employee_leave'\n    | 'employee_join'\n  changeDate: string\n  changedBy?: string\n  changedByName?: string\n  notes?: string\n  createdAt: string\n}\n\nexport interface BudgetCategory {\n  id: string\n  code: string\n  name: string\n  description?: string\n  parentCategoryId?: string\n  isActive: boolean\n  sortOrder: number\n  createdAt: string\n  updatedAt: string\n  // Ï∂îÍ∞Ä ÏÜçÏÑ±Îì§\n  categoryCode?: string\n  nameKo?: string\n  requiredDocs?: Document[]\n  defaultWorkflow?: {\n    steps: string[]\n    sla: number\n  }\n  defaultSlaDays?: number\n  defaultOwners?: {\n    primary: string\n    secondary: string\n  }\n}\n\nexport interface ProjectMilestone {\n  id: string\n  projectId: string\n  title: string\n  description?: string\n  milestoneDate: string\n  status: 'pending' | 'completed' | 'delayed' | 'cancelled'\n  completionDate?: string\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ProjectRisk {\n  id: string\n  projectId: string\n  riskType: 'technical' | 'schedule' | 'budget' | 'resource' | 'external'\n  title: string\n  description?: string\n  probability: 'low' | 'medium' | 'high'\n  impact: 'low' | 'medium' | 'high'\n  status: 'open' | 'mitigated' | 'closed'\n  mitigationPlan?: string\n  ownerId?: string\n  ownerName?: string\n  createdAt: string\n  updatedAt: string\n}\n\n// ÎåÄÏãúÎ≥¥ÎìúÏö© ÏöîÏïΩ Ï†ïÎ≥¥\nexport interface ProjectSummary {\n  totalProjects: number\n  activeProjects: number\n  completedProjects: number\n  totalBudget: number\n  currentYearBudget: number\n  totalMembers: number\n  overParticipationEmployees: number\n}\n\nexport interface EmployeeParticipationSummary {\n  employeeId: string\n  employeeName: string\n  department: string\n  activeProjects: number\n  totalParticipationRate: number\n  participationStatus: 'OVER_LIMIT' | 'FULL' | 'AVAILABLE'\n  projects: Array<{\n    projectId: string\n    projectName: string\n    participationRate: number\n    role: string\n  }>\n}\n\nexport interface BudgetSummaryByYear {\n  fiscalYear: number\n  projectCount: number\n  totalBudget: number\n  totalPersonnelCost: number\n  totalMaterialCost: number\n  totalResearchActivityCost: number\n  totalIndirectCost: number\n  totalOtherCost: number\n  totalSpentAmount: number\n}\n\n// API ÏöîÏ≤≠/ÏùëÎãµ ÌÉÄÏûÖ\nexport interface CreateProjectRequest {\n  code: string\n  title: string\n  description?: string\n  sponsor?: string\n  sponsorName?: string\n  sponsorType: 'government' | 'private' | 'internal'\n  startDate?: string\n  endDate?: string\n  managerId?: string\n  budgetTotal?: number\n  researchType?: 'basic' | 'applied' | 'development'\n  technologyArea?: string\n  priority: 'low' | 'medium' | 'high' | 'critical'\n}\n\nexport interface UpdateProjectRequest extends Partial<CreateProjectRequest> {\n  id: string\n}\n\nexport interface AddProjectMemberRequest {\n  projectId: string\n  employeeId: string\n  role: string\n  startDate: string\n  endDate?: string\n  participationRate: number\n  monthlySalary?: number\n  notes?: string\n}\n\nexport interface UpdateProjectMemberRequest extends Partial<AddProjectMemberRequest> {\n  id: string\n}\n\nexport interface CreateProjectBudgetRequest {\n  projectId: string\n  fiscalYear: number\n  totalBudget: number\n  personnelCost?: number\n  materialCost?: number\n  researchActivityCost?: number\n  indirectCost?: number\n  otherCost?: number\n  notes?: string\n}\n\nexport interface UpdateProjectBudgetRequest extends Partial<CreateProjectBudgetRequest> {\n  id: string\n}\n\nexport interface UpdateParticipationRateRequest {\n  employeeId: string\n  projectId: string\n  participationRate: number\n  changeReason:\n    | 'project_start'\n    | 'project_end'\n    | 'manual_adjustment'\n    | 'employee_leave'\n    | 'employee_join'\n  notes?: string\n}\n\n// ÌïÑÌÑ∞ÎßÅ Î∞è Í≤ÄÏÉâ ÌÉÄÏûÖ\nexport interface ProjectFilters {\n  status?: string\n  sponsorType?: string\n  researchType?: string\n  priority?: string\n  managerId?: string\n  startDateFrom?: string\n  startDateTo?: string\n  search?: string\n}\n\nexport interface ParticipationRateFilters {\n  employeeId?: string\n  projectId?: string\n  status?: string\n  participationStatus?: 'OVER_LIMIT' | 'FULL' | 'AVAILABLE'\n  department?: string\n}\n\n// ÌÜµÍ≥Ñ Î∞è Ï∞®Ìä∏ Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ\nexport interface ProjectStatusStats {\n  planning: number\n  active: number\n  completed: number\n  cancelled: number\n  suspended: number\n}\n\nexport interface BudgetDistributionStats {\n  personnelCost: number\n  materialCost: number\n  researchActivityCost: number\n  indirectCost: number\n  otherCost: number\n}\n\nexport interface ParticipationRateStats {\n  overLimit: number\n  full: number\n  available: number\n  averageRate: number\n}\n\n// ÏïåÎ¶º Î∞è Í≤ΩÍ≥† ÌÉÄÏûÖ\nexport interface ParticipationRateAlert {\n  employeeId: string\n  employeeName: string\n  totalParticipationRate: number\n  excessRate: number\n  projects: Array<{\n    projectId: string\n    projectName: string\n    participationRate: number\n  }>\n}\n\nexport interface BudgetAlert {\n  projectId: string\n  projectName: string\n  fiscalYear: number\n  alertType: 'over_budget' | 'near_budget' | 'under_utilized'\n  message: string\n  amount?: number\n  percentage?: number\n}\n\n// Í∞êÏÇ¨ Î∞è Î≥¥Ïïà Í¥ÄÎ†® ÌÉÄÏûÖ\nexport interface AuditLog {\n  id: string\n  actorId: string\n  action: string\n  entity: string\n  entityId: string\n  diff: { old: any; new: any }\n  at: string\n  metadata?: Record<string, unknown>\n}\n\nexport interface Person {\n  id: string\n  name: string\n  email: string\n  department: string\n  roleSet: string[]\n  active: boolean\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface Document {\n  id: string\n  title: string\n  type: string\n  content?: string\n  filePath?: string\n  createdBy: string\n  createdAt: string\n  updatedAt: string\n  // Ï∂îÍ∞Ä ÏÜçÏÑ±Îì§\n  required?: boolean\n  templateId?: string\n}\n\nexport interface Approval {\n  id: string\n  entityType: string\n  entityId: string\n  status: 'pending' | 'approved' | 'rejected'\n  requestedBy: string\n  approvedBy?: string\n  requestedAt: string\n  approvedAt?: string\n  notes?: string\n  // Ï∂îÍ∞Ä ÏÜçÏÑ±Îì§\n  decision?: 'approve' | 'reject' | 'pending'\n}\n\nexport interface Employment {\n  id: string\n  employeeId: string\n  startDate: string\n  endDate?: string\n  position: string\n  department: string\n  salary: number\n  status: 'active' | 'inactive' | 'terminated'\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface SalaryHistory {\n  id: string\n  employeeId: string\n  effectiveDate: string\n  salary: number\n  changeReason: string\n  createdAt: string\n}\n\nexport interface Milestone {\n  id: string\n  projectId: string\n  title: string\n  description?: string\n  dueDate: string\n  status: 'pending' | 'completed' | 'overdue'\n  completedAt?: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ParticipationAssignment {\n  id: string\n  employeeId: string\n  projectId: string\n  participationRate: number\n  startDate: string\n  endDate?: string\n  role: string\n  status: 'active' | 'inactive'\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface ExpenseItem {\n  id: string\n  expenseId: string\n  category: string\n  description: string\n  amount: number\n  currency: string\n  receiptPath?: string\n  createdAt: string\n  updatedAt: string\n  // Ï∂îÍ∞Ä ÏÜçÏÑ±Îì§\n  status?: 'pending' | 'approved' | 'rejected' | 'completed'\n}\n\nexport interface ResearchNote {\n  id: string\n  projectId: string\n  title: string\n  content: string\n  authorId: string\n  authorName: string\n  tags: string[]\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface Report {\n  id: string\n  title: string\n  type: string\n  content: string\n  generatedBy: string\n  generatedAt: string\n  parameters?: Record<string, unknown>\n}\n\n// BudgetCategoryMasterÎäî BudgetCategoryÏùò Î≥ÑÏπ≠\nexport type BudgetCategoryMaster = BudgetCategory\n\n// ===== Ï†úÏ∂ú Î≤àÎì§ ÌÉÄÏûÖ =====\nexport interface SubmissionBundle {\n  id: string\n  projectId: string\n  categoryId: string\n  title: string\n  description?: string\n  documents: Document[]\n  status: 'draft' | 'submitted' | 'under_review' | 'approved' | 'rejected'\n  submittedBy: string\n  submittedAt?: string\n  reviewedBy?: string\n  reviewedAt?: string\n  comments?: string\n  createdAt: string\n  updatedAt: string\n}\n\n// ProjectBudgetCategoryÎäî BudgetCategoryÏùò Î≥ÑÏπ≠\nexport type ProjectBudgetCategory = BudgetCategory\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rd.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/recruitment.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/budget-categories.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'categoryCode' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 508,
        "column": 39,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 508,
        "endColumn": 51
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// R&D ÌÜµÌï©Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÎßàÏä§ÌÑ∞ Î∞è ÏõåÌÅ¨ÌîåÎ°úÏö∞ Í¥ÄÎ¶¨\n\nimport { derived, writable } from 'svelte/store'\nimport {\n  UserRole,\n  type BudgetCategory,\n  type RequiredDocument,\n  type UUID,\n  type WorkflowStep\n} from './types'\n\n// ===== ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÎßàÏä§ÌÑ∞ Îç∞Ïù¥ÌÑ∞ =====\nconst BUDGET_CATEGORY_MASTER: BudgetCategory[] = [\n  {\n    id: 'cat-001',\n    code: 'PERSONNEL_CASH',\n    name: 'Personnel Cost (Cash)',\n    nameKo: 'Ïù∏Í±¥ÎπÑ(ÌòÑÍ∏à)',\n    description: 'Ïó∞Íµ¨Ïõê Í∏âÏó¨ Î∞è ÌòÑÍ∏à ÏßÄÍ∏â Ïù∏Í±¥ÎπÑ',\n    requiredDocuments: [\n      {\n        type: 'PARTICIPATION_ASSIGNMENT',\n        required: true,\n        templateId: 'TMP-PA-001',\n        description: 'Ï∞∏Ïó¨Î∞∞Ï†ïÏÑú'\n      },\n      { type: 'SALARY_SLIP', required: true, templateId: 'TMP-SS-001', description: 'Í∏âÏó¨Î™ÖÏÑ∏' },\n      {\n        type: 'INSURANCE_DATA',\n        required: true,\n        templateId: 'TMP-ID-001',\n        description: '4ÎåÄÎ≥¥Ìóò/ÏõêÏ≤úÏÑ∏ ÏûêÎ£å'\n      },\n      {\n        type: 'SALARY_DISTRIBUTION',\n        required: true,\n        templateId: 'TMP-SD-001',\n        description: 'Í∏âÏó¨Î∞∞Î∂ÑÌëú'\n      }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 2 },\n      { step: 2, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 3 }\n    ],\n    defaultSlaDays: 5,\n    defaultOwners: ['Í≤ΩÏòÅÏßÄÏõêÌåÄ'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-002',\n    code: 'PERSONNEL_IN_KIND',\n    name: 'Personnel Cost (In-Kind)',\n    nameKo: 'Ïù∏Í±¥ÎπÑ(ÌòÑÎ¨º)',\n    description: 'Ïó∞Íµ¨Ïõê ÌòÑÎ¨º ÏßÄÍ∏â Ïù∏Í±¥ÎπÑ',\n    requiredDocuments: [\n      {\n        type: 'PARTICIPATION_ASSIGNMENT',\n        required: true,\n        templateId: 'TMP-PA-001',\n        description: 'Ï∞∏Ïó¨Î∞∞Ï†ïÏÑú'\n      },\n      {\n        type: 'IN_KIND_EVIDENCE',\n        required: true,\n        templateId: 'TMP-IK-001',\n        description: 'ÌòÑÎ¨ºÏßÄÍ∏â Ï¶ùÎπô'\n      },\n      {\n        type: 'SALARY_DISTRIBUTION',\n        required: true,\n        templateId: 'TMP-SD-001',\n        description: 'Í∏âÏó¨Î∞∞Î∂ÑÌëú'\n      }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 2 },\n      { step: 2, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 3 }\n    ],\n    defaultSlaDays: 5,\n    defaultOwners: ['Í≤ΩÏòÅÏßÄÏõêÌåÄ'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-003',\n    code: 'MATERIAL',\n    name: 'Material Cost',\n    nameKo: 'Ïû¨Î£åÎπÑ',\n    description: 'Ïó∞Íµ¨Ïö© Ïû¨Î£å Î∞è ÏÜåÎ™®Ìíà Íµ¨Îß§ÎπÑ',\n    requiredDocuments: [\n      { type: 'REQUISITION', required: true, templateId: 'TMP-REQ-001', description: 'Í∏∞ÏïàÏÑú' },\n      { type: 'QUOTE', required: true, templateId: 'TMP-QTE-001', description: 'Í≤¨Ï†ÅÏÑú 1Í∞ú Ïù¥ÏÉÅ' },\n      { type: 'PURCHASE_ORDER', required: true, templateId: 'TMP-PO-001', description: 'Î∞úÏ£ºÏÑú' },\n      { type: 'TAX_INVOICE', required: true, description: 'ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú' },\n      { type: 'DELIVERY_NOTE', required: true, description: 'ÎÇ©ÌíàÏÑú' },\n      {\n        type: 'INSPECTION_REPORT',\n        required: true,\n        templateId: 'TMP-INS-001',\n        description: 'Í≤ÄÏàòÎ≥¥Í≥†ÏÑú'\n      }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 2 },\n      { step: 2, role: UserRole.DEPARTMENT_HEAD, action: 'execute', required: true, slaDays: 5 },\n      { step: 3, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 3 }\n    ],\n    defaultSlaDays: 10,\n    defaultOwners: ['Íµ¨Îß§ÌåÄ'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-004',\n    code: 'RESEARCH_ACTIVITY',\n    name: 'Research Activity Cost',\n    nameKo: 'Ïó∞Íµ¨ÌôúÎèôÎπÑ',\n    description: 'Ïó∞Íµ¨ ÌôúÎèô Í¥ÄÎ†® ÎπÑÏö©',\n    requiredDocuments: [\n      { type: 'REQUISITION', required: true, templateId: 'TMP-REQ-001', description: 'Í∏∞ÏïàÏÑú' },\n      {\n        type: 'ACTIVITY_PLAN',\n        required: true,\n        templateId: 'TMP-AP-001',\n        description: 'ÌôúÎèôÍ≥ÑÌöçÏÑú/Î≥¥Í≥†ÏÑú'\n      },\n      { type: 'RECEIPT', required: true, description: 'ÏòÅÏàòÏ¶ù' }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 1 },\n      { step: 2, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 4 }\n    ],\n    defaultSlaDays: 5,\n    defaultOwners: ['PM'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-005',\n    code: 'TRAVEL',\n    name: 'Travel Cost',\n    nameKo: 'Ï∂úÏû•ÎπÑ',\n    description: 'Ï∂úÏû• Í¥ÄÎ†® ÎπÑÏö©',\n    requiredDocuments: [\n      { type: 'TRAVEL_PLAN', required: true, templateId: 'TMP-TP-001', description: 'Ï∂úÏû•Í≥ÑÌöçÏÑú' },\n      { type: 'TRAVEL_RECEIPT', required: true, description: 'ÍµêÌÜµ/ÏàôÎ∞ï ÏòÅÏàòÏ¶ù' },\n      { type: 'TRAVEL_REPORT', required: true, templateId: 'TMP-TR-001', description: 'Ï∂úÏû•Î≥¥Í≥†ÏÑú' }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 1 },\n      { step: 2, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 2 }\n    ],\n    defaultSlaDays: 3,\n    defaultOwners: ['PM', 'Îã¥ÎãπÏûê'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-006',\n    code: 'MEETING',\n    name: 'Meeting Cost',\n    nameKo: 'ÌöåÏùòÎπÑ',\n    description: 'ÌöåÏùò Í¥ÄÎ†® ÎπÑÏö©',\n    requiredDocuments: [\n      { type: 'REQUISITION', required: true, templateId: 'TMP-REQ-001', description: 'Í∏∞ÏïàÏÑú' },\n      {\n        type: 'ATTENDEE_LIST',\n        required: true,\n        templateId: 'TMP-AL-001',\n        description: 'Ï∞∏ÏÑùÏûê Î™ÖÎã®'\n      },\n      { type: 'RECEIPT', required: true, description: 'ÏòÅÏàòÏ¶ù' },\n      { type: 'MEETING_MINUTES', required: true, templateId: 'TMP-MM-001', description: 'ÌöåÏùòÎ°ù' }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.DEPARTMENT_HEAD, action: 'execute', required: true, slaDays: 1 },\n      { step: 2, role: UserRole.PM, action: 'approve', required: true, slaDays: 1 },\n      { step: 3, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 1 }\n    ],\n    defaultSlaDays: 3,\n    defaultOwners: ['Îã¥ÎãπÎ∂ÄÏÑú'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-007',\n    code: 'PATENT',\n    name: 'Patent Application Cost',\n    nameKo: 'ÌäπÌóàÏ∂úÏõêÎπÑ',\n    description: 'ÌäπÌóà Ï∂úÏõê Í¥ÄÎ†® ÎπÑÏö©',\n    requiredDocuments: [\n      { type: 'REQUISITION', required: true, templateId: 'TMP-REQ-001', description: 'Í∏∞ÏïàÏÑú' },\n      {\n        type: 'PATENT_SPECIFICATION',\n        required: true,\n        templateId: 'TMP-PS-001',\n        description: 'Ï∂úÏõêÎ™ÖÏÑ∏ÏÑú'\n      },\n      {\n        type: 'POWER_OF_ATTORNEY',\n        required: true,\n        templateId: 'TMP-POA-001',\n        description: 'ÏúÑÏûÑÏû•'\n      },\n      { type: 'FEE_RECEIPT', required: true, description: 'ÏàòÏàòÎ£å ÏòÅÏàòÏ¶ù' }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 2 },\n      { step: 2, role: UserRole.DEPARTMENT_HEAD, action: 'execute', required: true, slaDays: 3 },\n      { step: 3, role: UserRole.LAB_HEAD, action: 'approve', required: true, slaDays: 2 },\n      { step: 4, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 3 }\n    ],\n    defaultSlaDays: 10,\n    defaultOwners: ['R&DÏ†ÑÎûµÌåÄ'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-008',\n    code: 'RESEARCH_STIPEND',\n    name: 'Research Stipend',\n    nameKo: 'Ïó∞Íµ¨ÏàòÎãπ',\n    description: 'Ïó∞Íµ¨Ïõê Ïó∞Íµ¨ÏàòÎãπ ÏßÄÍ∏â',\n    requiredDocuments: [\n      { type: 'REQUISITION', required: true, templateId: 'TMP-REQ-001', description: 'Í∏∞ÏïàÏÑú' },\n      {\n        type: 'PARTICIPATION_ASSIGNMENT',\n        required: true,\n        templateId: 'TMP-PA-001',\n        description: 'Ï∞∏Ïó¨Î∞∞Ï†ïÏÑú'\n      },\n      {\n        type: 'STIPEND_CALCULATION',\n        required: true,\n        templateId: 'TMP-SC-001',\n        description: 'Ïó∞Íµ¨ÏàòÎãπ ÏÇ∞Ï†ïÏÑú'\n      },\n      { type: 'RECEIPT', required: true, description: 'ÏßÄÍ∏â ÏòÅÏàòÏ¶ù' }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 2 },\n      { step: 2, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 3 }\n    ],\n    defaultSlaDays: 5,\n    defaultOwners: ['Í≤ΩÏòÅÏßÄÏõêÌåÄ'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  },\n  {\n    id: 'cat-009',\n    code: 'OFFICE_SUPPLIES',\n    name: 'Office Supplies Cost',\n    nameKo: 'ÏÇ¨Î¨¥Ïö©ÌíàÎπÑ',\n    description: 'ÏÇ¨Î¨¥Ïö©Ìíà Íµ¨Îß§ ÎπÑÏö©',\n    requiredDocuments: [\n      { type: 'REQUISITION', required: true, templateId: 'TMP-REQ-001', description: 'Í∏∞ÏïàÏÑú' },\n      { type: 'QUOTE', required: true, description: 'Í≤¨Ï†Å/ÏòÅÏàòÏ¶ù' },\n      { type: 'RECEIPT', required: true, description: 'ÏàòÎ†πÏ¶ù' }\n    ],\n    defaultWorkflow: [\n      { step: 1, role: UserRole.PM, action: 'approve', required: true, slaDays: 1 },\n      { step: 2, role: UserRole.MANAGEMENT_SUPPORT, action: 'approve', required: true, slaDays: 2 }\n    ],\n    defaultSlaDays: 3,\n    defaultOwners: ['Ï¥ùÎ¨¥ÌåÄ'],\n    active: true,\n    createdAt: '2024-01-01T00:00:00Z'\n  }\n]\n\n// ===== ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ Ïä§ÌÜ†Ïñ¥ =====\nexport const budgetCategories = writable<BudgetCategory[]>(BUDGET_CATEGORY_MASTER)\n\n// ===== ÌôúÏÑ± Ïπ¥ÌÖåÍ≥†Î¶¨Îßå ÌïÑÌÑ∞ÎßÅ =====\nexport const activeBudgetCategories = derived(budgetCategories, $budgetCategories =>\n  $budgetCategories.filter(cat => cat.active)\n)\n\n// ===== Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∑∏Î£πÌôî =====\nexport const budgetCategoriesByType = derived(activeBudgetCategories, $activeBudgetCategories => {\n  const groups: Record<string, BudgetCategory[]> = {\n    Ïù∏Í±¥ÎπÑ: [],\n    Ïû¨Î£åÎπÑ: [],\n    Ïó∞Íµ¨ÌôúÎèôÎπÑ: [],\n    Ïó∞Íµ¨ÏàòÎãπ: [],\n    Ï∂úÏû•ÎπÑ: [],\n    ÌöåÏùòÎπÑ: [],\n    ÌäπÌóàÏ∂úÏõêÎπÑ: [],\n    ÏÇ¨Î¨¥Ïö©ÌíàÎπÑ: [],\n    Í∏∞ÌÉÄ: []\n  }\n\n  $activeBudgetCategories.forEach(category => {\n    if (category.code.includes('PERSONNEL')) {\n      groups['Ïù∏Í±¥ÎπÑ'].push(category)\n    } else if (category.code === 'MATERIAL') {\n      groups['Ïû¨Î£åÎπÑ'].push(category)\n    } else if (category.code === 'RESEARCH_ACTIVITY') {\n      groups['Ïó∞Íµ¨ÌôúÎèôÎπÑ'].push(category)\n    } else if (category.code === 'RESEARCH_STIPEND') {\n      groups['Ïó∞Íµ¨ÏàòÎãπ'].push(category)\n    } else if (category.code === 'TRAVEL') {\n      groups['Ï∂úÏû•ÎπÑ'].push(category)\n    } else if (category.code === 'MEETING') {\n      groups['ÌöåÏùòÎπÑ'].push(category)\n    } else if (category.code === 'PATENT') {\n      groups['ÌäπÌóàÏ∂úÏõêÎπÑ'].push(category)\n    } else if (category.code === 'OFFICE_SUPPLIES') {\n      groups['ÏÇ¨Î¨¥Ïö©ÌíàÎπÑ'].push(category)\n    } else {\n      groups['Í∏∞ÌÉÄ'].push(category)\n    }\n  })\n\n  return groups\n})\n\n// ===== ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§ =====\n\n/**\n * ÏΩîÎìúÎ°ú ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ Ï∞æÍ∏∞\n */\nexport function getBudgetCategoryByCode(code: string): BudgetCategory | undefined {\n  let categories: BudgetCategory[] = []\n  budgetCategories.subscribe(value => (categories = value))()\n  return categories.find(cat => cat.code === code)\n}\n\n/**\n * IDÎ°ú ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ Ï∞æÍ∏∞\n */\nexport function getBudgetCategoryById(id: UUID): BudgetCategory | undefined {\n  let categories: BudgetCategory[] = []\n  budgetCategories.subscribe(value => (categories = value))()\n  return categories.find(cat => cat.id === id)\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌïÑÏàò Î¨∏ÏÑú Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getRequiredDocuments(categoryCode: string): RequiredDocument[] {\n  const category = getBudgetCategoryByCode(categoryCode)\n  return category?.requiredDocuments || []\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∏∞Î≥∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getDefaultWorkflow(categoryCode: string): WorkflowStep[] {\n  const category = getBudgetCategoryByCode(categoryCode)\n  return category?.defaultWorkflow || []\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∏∞Î≥∏ SLA ÏùºÏàò Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getDefaultSlaDays(categoryCode: string): number {\n  const category = getBudgetCategoryByCode(categoryCode)\n  return category?.defaultSlaDays || 5\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∏∞Î≥∏ Îã¥ÎãπÏûê Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getDefaultOwners(categoryCode: string): string[] {\n  const category = getBudgetCategoryByCode(categoryCode)\n  return category?.defaultOwners || []\n}\n\n/**\n * ÌïÑÏàò Î¨∏ÏÑú Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±\n */\nexport function generateDocumentChecklist(categoryCode: string): Array<{\n  type: string\n  required: boolean\n  description: string\n  templateId?: string\n  status: 'pending' | 'uploaded' | 'verified'\n  uploadedAt?: string\n  verifiedAt?: string\n}> {\n  const requiredDocs = getRequiredDocuments(categoryCode)\n  return requiredDocs.map(doc => ({\n    type: doc.type,\n    required: doc.required,\n    description: doc.description,\n    templateId: doc.templateId,\n    status: 'pending' as const\n  }))\n}\n\n/**\n * Î¨∏ÏÑú Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏôÑÏÑ±ÎèÑ ÌôïÏù∏\n */\nexport function checkDocumentCompleteness(\n  categoryCode: string,\n  uploadedDocuments: Array<{ type: string; uploadedAt: string }>\n): {\n  completeness: number // 0-100\n  missing: string[]\n  completed: string[]\n} {\n  const requiredDocs = getRequiredDocuments(categoryCode)\n  const uploadedTypes = uploadedDocuments.map(doc => doc.type)\n\n  const completed = requiredDocs\n    .filter(doc => doc.required && uploadedTypes.includes(doc.type))\n    .map(doc => doc.type)\n\n  const missing = requiredDocs\n    .filter(doc => doc.required && !uploadedTypes.includes(doc.type))\n    .map(doc => doc.type)\n\n  const completeness =\n    requiredDocs.length > 0 ? Math.round((completed.length / requiredDocs.length) * 100) : 100\n\n  return { completeness, missing, completed }\n}\n\n/**\n * ÏõåÌÅ¨ÌîåÎ°úÏö∞ Îã®Í≥ÑÎ≥Ñ SLA ÌôïÏù∏\n */\nexport function checkWorkflowSla(\n  categoryCode: string,\n  currentStep: number,\n  stepStartDate: string\n): {\n  isOverdue: boolean\n  remainingDays: number\n  slaDays: number\n} {\n  const workflow = getDefaultWorkflow(categoryCode)\n  const currentWorkflowStep = workflow.find(step => step.step === currentStep)\n\n  if (!currentWorkflowStep) {\n    return { isOverdue: false, remainingDays: 0, slaDays: 0 }\n  }\n\n  const startDate = new Date(stepStartDate)\n  const now = new Date()\n  const elapsedDays = Math.floor((now.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24))\n  const remainingDays = currentWorkflowStep.slaDays - elapsedDays\n  const isOverdue = remainingDays < 0\n\n  return {\n    isOverdue,\n    remainingDays: Math.max(0, remainingDays),\n    slaDays: currentWorkflowStep.slaDays\n  }\n}\n\n/**\n * ÏÉà ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÉùÏÑ±\n */\nexport function createBudgetCategory(\n  category: Omit<BudgetCategory, 'id' | 'createdAt'>\n): BudgetCategory {\n  const newCategory: BudgetCategory = {\n    ...category,\n    id: `cat-${Date.now()}`,\n    createdAt: new Date().toISOString()\n  }\n\n  budgetCategories.update(categories => [...categories, newCategory])\n  return newCategory\n}\n\n/**\n * ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏóÖÎç∞Ïù¥Ìä∏\n */\nexport function updateBudgetCategory(id: UUID, updates: Partial<BudgetCategory>): boolean {\n  let updated = false\n  budgetCategories.update(categories => {\n    const index = categories.findIndex(cat => cat.id === id)\n    if (index !== -1) {\n      categories[index] = { ...categories[index], ...updates, updatedAt: new Date().toISOString() }\n      updated = true\n    }\n    return categories\n  })\n  return updated\n}\n\n/**\n * ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÎπÑÌôúÏÑ±Ìôî\n */\nexport function deactivateBudgetCategory(id: UUID): boolean {\n  return updateBudgetCategory(id, { active: false })\n}\n\n/**\n * ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÇ≠Ï†ú\n */\nexport function deleteBudgetCategory(id: UUID): boolean {\n  let deleted = false\n  budgetCategories.update(categories => {\n    const filtered = categories.filter(cat => cat.id !== id)\n    deleted = filtered.length !== categories.length\n    return filtered\n  })\n  return deleted\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌÜµÍ≥Ñ Ï†ïÎ≥¥\n */\nexport function getCategoryStatistics(categoryCode: string): {\n  totalExpenses: number\n  pendingExpenses: number\n  approvedExpenses: number\n  averageAmount: number\n  lastUsed: string | null\n} {\n  // Ïã§Ï†úÎ°úÎäî expenseItems Ïä§ÌÜ†Ïñ¥ÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏ÏôÄÏïº Ìï®\n  // Ïó¨Í∏∞ÏÑúÎäî ÎçîÎØ∏ Îç∞Ïù¥ÌÑ∞ Î∞òÌôò\n  return {\n    totalExpenses: 0,\n    pendingExpenses: 0,\n    approvedExpenses: 0,\n    averageAmount: 0,\n    lastUsed: null\n  }\n}\n\n/**\n * ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú URL ÏÉùÏÑ±\n */\nexport function getTemplateDownloadUrl(templateId: string): string {\n  return `/api/templates/${templateId}/download`\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í∂åÌïú ÌôïÏù∏\n */\nexport function canManageCategory(categoryCode: string, userRoles: UserRole[]): boolean {\n  // Í≤ΩÏòÅÏßÄÏõêÌåÄÎßå Ïπ¥ÌÖåÍ≥†Î¶¨ Í¥ÄÎ¶¨ Í∞ÄÎä•\n  return userRoles.includes(UserRole.MANAGEMENT_SUPPORT)\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨ Í≤ÄÏÉâ\n */\nexport function searchBudgetCategories(query: string): BudgetCategory[] {\n  let categories: BudgetCategory[] = []\n  budgetCategories.subscribe(value => (categories = value))()\n\n  if (!query.trim()) return categories\n\n  const searchTerm = query.toLowerCase()\n  return categories.filter(\n    cat =>\n      cat.name.toLowerCase().includes(searchTerm) ||\n      cat.nameKo.toLowerCase().includes(searchTerm) ||\n      cat.code.toLowerCase().includes(searchTerm) ||\n      cat.description.toLowerCase().includes(searchTerm)\n  )\n}\n\n/**\n * Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏÇ¨Ïö© ÎπàÎèÑ ÌÜµÍ≥Ñ\n */\nexport function getCategoryUsageStats(): Array<{\n  category: BudgetCategory\n  usageCount: number\n  totalAmount: number\n  lastUsed: string | null\n}> {\n  let categories: BudgetCategory[] = []\n  budgetCategories.subscribe(value => (categories = value))()\n\n  // Ïã§Ï†úÎ°úÎäî expenseItemsÏóêÏÑú ÌÜµÍ≥ÑÎ•º Í≥ÑÏÇ∞Ìï¥Ïïº Ìï®\n  // Ïó¨Í∏∞ÏÑúÎäî ÎçîÎØ∏ Îç∞Ïù¥ÌÑ∞ Î∞òÌôò\n  return categories.map(category => ({\n    category,\n    usageCount: Math.floor(Math.random() * 50),\n    totalAmount: Math.floor(Math.random() * 100000000),\n    lastUsed: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString()\n  }))\n}\n\n// ===== ÎÇ¥Î≥¥ÎÇ¥Í∏∞ =====\nexport { BUDGET_CATEGORY_MASTER }\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/dummy-data.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/expense-workflow.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'approverId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 464,
        "column": 44,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 464,
        "endColumn": 54
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'executedBy' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 486,
        "column": 53,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 486,
        "endColumn": 63
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'completedBy' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 496,
        "column": 54,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 496,
        "endColumn": 65
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'reason' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 506,
        "column": 52,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 506,
        "endColumn": 58
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// R&D ÌÜµÌï©Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú ÏßÄÏ∂ú/Ï¶ùÎπô ÌëúÏ§Ä ÌùêÎ¶Ñ Î∞è Í≤∞Ïû¨ ÏãúÏä§ÌÖú\n\nimport { writable, derived } from 'svelte/store'\nimport type {\n  ExpenseItem,\n  Document,\n  Approval,\n  ApprovalWorkflow,\n  ApprovalStatus,\n  DocumentType,\n  UUID\n} from './types'\nimport {\n  getDefaultWorkflow,\n  checkDocumentCompleteness\n} from './budget-categories'\n\n// ===== ÏßÄÏ∂ú Ìï≠Î™© Ïä§ÌÜ†Ïñ¥ =====\nexport const expenseItems = writable<ExpenseItem[]>([])\n\n// ===== Î¨∏ÏÑú Ïä§ÌÜ†Ïñ¥ =====\nexport const documents = writable<Document[]>([])\n\n// ===== Í≤∞Ïû¨ Ïä§ÌÜ†Ïñ¥ =====\nexport const approvals = writable<Approval[]>([])\n\n// ===== Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ïä§ÌÜ†Ïñ¥ =====\nexport const approvalWorkflows = writable<ApprovalWorkflow[]>([])\n\n// ===== ÌïÑÌÑ∞ÎßÅÎêú Îç∞Ïù¥ÌÑ∞ =====\nexport const pendingExpenses = derived(expenseItems, $expenseItems =>\n  $expenseItems.filter(\n    expense => expense.status === 'pending_approval' || expense.status === 'draft'\n  )\n)\n\nexport const approvedExpenses = derived(expenseItems, $expenseItems =>\n  $expenseItems.filter(\n    expense =>\n      expense.status === 'approved' ||\n      expense.status === 'executed' ||\n      expense.status === 'completed'\n  )\n)\n\nexport const rejectedExpenses = derived(expenseItems, $expenseItems =>\n  $expenseItems.filter(expense => expense.status === 'rejected')\n)\n\n// ===== ÏßÄÏ∂ú Ìï≠Î™© Í¥ÄÎ¶¨ Ìï®ÏàòÎì§ =====\n\n/**\n * ÏÉà ÏßÄÏ∂ú ÏöîÏ≤≠ ÏÉùÏÑ±\n */\nexport function createExpenseRequest(expenseData: {\n  projectId: UUID\n  categoryCode: string\n  requesterId: UUID\n  amount: number\n  currency: 'KRW' | 'USD' | 'EUR'\n  description: string\n  deptOwner: string\n}): ExpenseItem {\n  const newExpense: ExpenseItem = {\n    id: `exp-${Date.now()}`,\n    ...expenseData,\n    status: 'draft',\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  expenseItems.update(items => [...items, newExpense])\n\n  // Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï¥àÍ∏∞Ìôî\n  initializeApprovalWorkflow(newExpense.id, expenseData.categoryCode)\n\n  return newExpense\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© ÏóÖÎç∞Ïù¥Ìä∏\n */\nexport function updateExpenseItem(id: UUID, updates: Partial<ExpenseItem>): boolean {\n  let updated = false\n  expenseItems.update(items => {\n    const index = items.findIndex(item => item.id === id)\n    if (index !== -1) {\n      items[index] = { ...items[index], ...updates, updatedAt: new Date().toISOString() }\n      updated = true\n    }\n    return items\n  })\n  return updated\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© ÏÇ≠Ï†ú\n */\nexport function deleteExpenseItem(id: UUID): boolean {\n  let deleted = false\n  expenseItems.update(items => {\n    const filtered = items.filter(item => item.id !== id)\n    deleted = filtered.length !== items.length\n    return filtered\n  })\n\n  if (deleted) {\n    // Í¥ÄÎ†® Î¨∏ÏÑúÏôÄ Í≤∞Ïû¨ Ï†ïÎ≥¥ÎèÑ ÏÇ≠Ï†ú\n    documents.update(docs => docs.filter(doc => doc.expenseId !== id))\n    approvals.update(apps => apps.filter(app => app.subjectId !== id))\n    approvalWorkflows.update(workflows => workflows.filter(workflow => workflow.subjectId !== id))\n  }\n\n  return deleted\n}\n\n// ===== Î¨∏ÏÑú Í¥ÄÎ¶¨ Ìï®ÏàòÎì§ =====\n\n/**\n * Î¨∏ÏÑú ÏóÖÎ°úÎìú\n */\nexport function uploadDocument(documentData: {\n  expenseId?: UUID\n  projectId?: UUID\n  type: DocumentType\n  filename: string\n  originalFilename: string\n  storageUrl: string\n  sha256: string\n  meta?: Record<string, unknown>\n}): Document {\n  const newDocument: Document = {\n    id: `doc-${Date.now()}`,\n    ...documentData,\n    version: 1,\n    createdAt: new Date().toISOString()\n  }\n\n  documents.update(docs => [...docs, newDocument])\n\n  // ÏßÄÏ∂ú Ìï≠Î™©Ïùò Î¨∏ÏÑú ÏôÑÏÑ±ÎèÑ ÌôïÏù∏\n  if (documentData.expenseId) {\n    checkExpenseDocumentCompleteness(documentData.expenseId)\n  }\n\n  return newDocument\n}\n\n/**\n * Î¨∏ÏÑú ÏÑúÎ™Ö\n */\nexport function signDocument(documentId: UUID, signedBy: UUID): boolean {\n  let signed = false\n  documents.update(docs => {\n    const index = docs.findIndex(doc => doc.id === documentId)\n    if (index !== -1) {\n      docs[index] = {\n        ...docs[index],\n        signedBy,\n        signedAt: new Date().toISOString()\n      }\n      signed = true\n    }\n    return docs\n  })\n  return signed\n}\n\n/**\n * Î¨∏ÏÑú Í≤ÄÏ¶ù\n */\nexport function verifyDocument(documentId: UUID, verifiedBy: UUID): boolean {\n  let verified = false\n  documents.update(docs => {\n    const index = docs.findIndex(doc => doc.id === documentId)\n    if (index !== -1) {\n      docs[index] = {\n        ...docs[index],\n        verifiedBy,\n        verifiedAt: new Date().toISOString()\n      }\n      verified = true\n    }\n    return docs\n  })\n  return verified\n}\n\n/**\n * Î¨∏ÏÑú Î≤ÑÏ†Ñ Í¥ÄÎ¶¨\n */\nexport function createDocumentVersion(\n  originalDocumentId: UUID,\n  newDocumentData: {\n    filename: string\n    storageUrl: string\n    sha256: string\n    meta?: Record<string, unknown>\n  }\n): Document | null {\n  let originalDoc: Document | undefined\n  documents.subscribe(docs => {\n    originalDoc = docs.find(doc => doc.id === originalDocumentId)\n  })()\n\n  if (!originalDoc) return null\n\n  const newVersion: Document = {\n    id: `doc-${Date.now()}`,\n    expenseId: originalDoc.expenseId,\n    projectId: originalDoc.projectId,\n    type: originalDoc.type,\n    filename: newDocumentData.filename,\n    originalFilename: newDocumentData.filename,\n    storageUrl: newDocumentData.storageUrl,\n    sha256: newDocumentData.sha256,\n    version: originalDoc.version + 1,\n    signedBy: originalDoc.signedBy,\n    signedAt: originalDoc.signedAt,\n    verifiedBy: originalDoc.verifiedBy,\n    verifiedAt: originalDoc.verifiedAt,\n    meta: { ...originalDoc.meta, ...newDocumentData.meta },\n    createdAt: new Date().toISOString()\n  }\n\n  documents.update(docs => [...docs, newVersion])\n  return newVersion\n}\n\n// ===== Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Í¥ÄÎ¶¨ =====\n\n/**\n * Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï¥àÍ∏∞Ìôî\n */\nfunction initializeApprovalWorkflow(expenseId: UUID, categoryCode: string): void {\n  const workflow = getDefaultWorkflow(categoryCode)\n\n  const newWorkflow: ApprovalWorkflow = {\n    id: `workflow-${Date.now()}`,\n    subjectType: 'expense',\n    subjectId: expenseId,\n    currentStep: 1,\n    totalSteps: workflow.length,\n    status: 'pending',\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  approvalWorkflows.update(workflows => [...workflows, newWorkflow])\n}\n\n/**\n * Í≤∞Ïû¨ ÏßÑÌñâ\n */\nexport function processApproval(approvalData: {\n  subjectType: 'expense' | 'milestone' | 'document' | 'project'\n  subjectId: UUID\n  approverId: UUID\n  decision: ApprovalStatus\n  comment?: string\n}): boolean {\n  const newApproval: Approval = {\n    id: `app-${Date.now()}`,\n    subjectType: approvalData.subjectType,\n    subjectId: approvalData.subjectId,\n    stepNo: 0, // ÏõåÌÅ¨ÌîåÎ°úÏö∞ÏóêÏÑú Í≥ÑÏÇ∞\n    approverId: approvalData.approverId,\n    decision: approvalData.decision,\n    comment: approvalData.comment,\n    decidedAt: new Date().toISOString(),\n    createdAt: new Date().toISOString()\n  }\n\n  // ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏóÖÎç∞Ïù¥Ìä∏\n  let workflowUpdated = false\n  approvalWorkflows.update(workflows => {\n    const workflowIndex = workflows.findIndex(\n      w => w.subjectType === approvalData.subjectType && w.subjectId === approvalData.subjectId\n    )\n\n    if (workflowIndex !== -1) {\n      const workflow = workflows[workflowIndex]\n      newApproval.stepNo = workflow.currentStep\n\n      if (approvalData.decision === 'approved') {\n        workflow.currentStep += 1\n        if (workflow.currentStep > workflow.totalSteps) {\n          workflow.status = 'approved'\n        }\n      } else if (approvalData.decision === 'rejected') {\n        workflow.status = 'rejected'\n      }\n\n      workflow.updatedAt = new Date().toISOString()\n      workflowUpdated = true\n    }\n\n    return workflows\n  })\n\n  if (workflowUpdated) {\n    approvals.update(apps => [...apps, newApproval])\n\n    // ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n    if (approvalData.subjectType === 'expense') {\n      updateExpenseStatus(approvalData.subjectId)\n    }\n\n    return true\n  }\n\n  return false\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n */\nfunction updateExpenseStatus(expenseId: UUID): void {\n  let workflow: ApprovalWorkflow | undefined\n  approvalWorkflows.subscribe(workflows => {\n    workflow = workflows.find(w => w.subjectType === 'expense' && w.subjectId === expenseId)\n  })()\n\n  if (!workflow) return\n\n  let newStatus: ExpenseItem['status']\n\n  switch (workflow.status) {\n    case 'pending':\n      newStatus = 'pending_approval'\n      break\n    case 'approved':\n      newStatus = 'approved'\n      break\n    case 'rejected':\n      newStatus = 'rejected'\n      break\n    case 'cancelled':\n      newStatus = 'draft'\n      break\n    default:\n      return\n  }\n\n  updateExpenseItem(expenseId, { status: newStatus })\n}\n\n// ===== Î¨∏ÏÑú ÏôÑÏÑ±ÎèÑ ÌôïÏù∏ =====\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™©Ïùò Î¨∏ÏÑú ÏôÑÏÑ±ÎèÑ ÌôïÏù∏\n */\nfunction checkExpenseDocumentCompleteness(expenseId: UUID): void {\n  let expense: ExpenseItem | undefined\n  expenseItems.subscribe(items => {\n    expense = items.find(item => item.id === expenseId)\n  })()\n\n  if (!expense) return\n\n  let uploadedDocs: Array<{ type: string; uploadedAt: string }> = []\n  documents.subscribe(docs => {\n    uploadedDocs = docs\n      .filter(doc => doc.expenseId === expenseId)\n      .map(doc => ({ type: doc.type, uploadedAt: doc.createdAt }))\n  })()\n\n  const completeness = checkDocumentCompleteness(expense.categoryCode, uploadedDocs)\n\n  // Î¨∏ÏÑú ÏôÑÏÑ±ÎèÑÍ∞Ä 100%Ïù¥Í≥† ÏÉÅÌÉúÍ∞Ä draftÎùºÎ©¥ pending_approvalÎ°ú Î≥ÄÍ≤Ω\n  if (completeness.completeness === 100 && expense.status === 'draft') {\n    updateExpenseItem(expenseId, { status: 'pending_approval' })\n  }\n}\n\n// ===== ÏßÄÏ∂ú Ìï≠Î™© Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ÎßÅ =====\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© Í≤ÄÏÉâ\n */\nexport function searchExpenseItems(filters: {\n  projectId?: UUID\n  status?: string\n  categoryCode?: string\n  requesterId?: UUID\n  dateFrom?: string\n  dateTo?: string\n  amountMin?: number\n  amountMax?: number\n}): ExpenseItem[] {\n  let items: ExpenseItem[] = []\n  expenseItems.subscribe(value => (items = value))()\n\n  return items.filter(item => {\n    if (filters.projectId && item.projectId !== filters.projectId) return false\n    if (filters.status && item.status !== filters.status) return false\n    if (filters.categoryCode && item.categoryCode !== filters.categoryCode) return false\n    if (filters.requesterId && item.requesterId !== filters.requesterId) return false\n\n    if (filters.dateFrom) {\n      const itemDate = new Date(item.createdAt)\n      const filterDate = new Date(filters.dateFrom)\n      if (itemDate < filterDate) return false\n    }\n\n    if (filters.dateTo) {\n      const itemDate = new Date(item.createdAt)\n      const filterDate = new Date(filters.dateTo)\n      if (itemDate > filterDate) return false\n    }\n\n    if (filters.amountMin && item.amount < filters.amountMin) return false\n    if (filters.amountMax && item.amount > filters.amountMax) return false\n\n    return true\n  })\n}\n\n/**\n * ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÏßÄÏ∂ú ÌÜµÍ≥Ñ\n */\nexport function getProjectExpenseStatistics(projectId: UUID): {\n  totalAmount: number\n  totalCount: number\n  byCategory: Record<string, { amount: number; count: number }>\n  byStatus: Record<string, { amount: number; count: number }>\n} {\n  let items: ExpenseItem[] = []\n  expenseItems.subscribe(value => (items = value))()\n\n  const projectExpenses = items.filter(item => item.projectId === projectId)\n\n  const statistics = {\n    totalAmount: 0,\n    totalCount: projectExpenses.length,\n    byCategory: {} as Record<string, { amount: number; count: number }>,\n    byStatus: {} as Record<string, { amount: number; count: number }>\n  }\n\n  projectExpenses.forEach(expense => {\n    statistics.totalAmount += expense.amount\n\n    // Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌÜµÍ≥Ñ\n    if (!statistics.byCategory[expense.categoryCode]) {\n      statistics.byCategory[expense.categoryCode] = { amount: 0, count: 0 }\n    }\n    statistics.byCategory[expense.categoryCode].amount += expense.amount\n    statistics.byCategory[expense.categoryCode].count += 1\n\n    // ÏÉÅÌÉúÎ≥Ñ ÌÜµÍ≥Ñ\n    if (!statistics.byStatus[expense.status]) {\n      statistics.byStatus[expense.status] = { amount: 0, count: 0 }\n    }\n    statistics.byStatus[expense.status].amount += expense.amount\n    statistics.byStatus[expense.status].count += 1\n  })\n\n  return statistics\n}\n\n/**\n * Í≤∞Ïû¨ ÎåÄÍ∏∞ Ï§ëÏù∏ ÏßÄÏ∂ú Ìï≠Î™©\n */\nexport function getPendingApprovalExpenses(approverId: UUID): ExpenseItem[] {\n  let items: ExpenseItem[] = []\n  expenseItems.subscribe(value => (items = value))()\n\n  let workflows: ApprovalWorkflow[] = []\n  approvalWorkflows.subscribe(value => (workflows = value))()\n\n  // ÌòÑÏû¨ Í≤∞Ïû¨ Îã®Í≥ÑÏóêÏÑú Ìï¥Îãπ ÏÇ¨Ïö©ÏûêÍ∞Ä ÏäπÏù∏Ìï¥Ïïº ÌïòÎäî Ìï≠Î™©Îì§\n  const pendingWorkflows = workflows.filter(\n    workflow => workflow.status === 'pending' && workflow.subjectType === 'expense'\n  )\n\n  const pendingExpenseIds = pendingWorkflows.map(workflow => workflow.subjectId)\n\n  return items.filter(\n    item => pendingExpenseIds.includes(item.id) && item.status === 'pending_approval'\n  )\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© Ïã§Ìñâ (ÏßëÌñâ)\n */\nexport function executeExpenseItem(expenseId: UUID, executedBy: UUID): boolean {\n  return updateExpenseItem(expenseId, {\n    status: 'executed',\n    updatedAt: new Date().toISOString()\n  })\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© ÏôÑÎ£å\n */\nexport function completeExpenseItem(expenseId: UUID, completedBy: UUID): boolean {\n  return updateExpenseItem(expenseId, {\n    status: 'completed',\n    updatedAt: new Date().toISOString()\n  })\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© Ï∑®ÏÜå\n */\nexport function cancelExpenseItem(expenseId: UUID, reason: string): boolean {\n  // ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï∑®ÏÜå\n  approvalWorkflows.update(workflows => {\n    const index = workflows.findIndex(w => w.subjectType === 'expense' && w.subjectId === expenseId)\n    if (index !== -1) {\n      workflows[index].status = 'cancelled'\n      workflows[index].updatedAt = new Date().toISOString()\n    }\n    return workflows\n  })\n\n  return updateExpenseItem(expenseId, {\n    status: 'draft',\n    updatedAt: new Date().toISOString()\n  })\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© Î∞òÎ†§\n */\nexport function rejectExpenseItem(expenseId: UUID, reason: string, rejectedBy: UUID): boolean {\n  // Í≤∞Ïû¨ Ï≤òÎ¶¨\n  processApproval({\n    subjectType: 'expense',\n    subjectId: expenseId,\n    approverId: rejectedBy,\n    decision: 'rejected',\n    comment: reason\n  })\n\n  return true\n}\n\n/**\n * ÏßÄÏ∂ú Ìï≠Î™© ÏäπÏù∏\n */\nexport function approveExpenseItem(expenseId: UUID, approvedBy: UUID, comment?: string): boolean {\n  // Í≤∞Ïû¨ Ï≤òÎ¶¨\n  processApproval({\n    subjectType: 'expense',\n    subjectId: expenseId,\n    approverId: approvedBy,\n    decision: 'approved',\n    comment\n  })\n\n  return true\n}\n\n// ===== ÎÇ¥Î≥¥ÎÇ¥Í∏∞ =====\nexport // Ïä§ÌÜ†Ïñ¥Îäî Ïù¥ÎØ∏ exportÎê®\n {}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/init-dummy-data.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 60,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 60,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1887, 1890], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1887, 1890], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 96,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 96,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2841, 2844], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2841, 2844], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 132,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 132,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4181, 4184], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4181, 4184], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 158,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 158,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5047, 5050], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5047, 5050], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// R&D ÌÜµÌï©Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú ÎçîÎØ∏Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî\n\nimport { toUTC } from '$lib/utils/date-handler'\nimport { approvalWorkflows, approvals, documents, expenseItems } from './expense-workflow'\nimport type { Approval, ApprovalWorkflow, Document, ExpenseItem } from './types'\nimport { logger } from '$lib/utils/logger';\n\n// ===== ÎçîÎØ∏ ÏßÄÏ∂ú Ìï≠Î™© ÏÉùÏÑ± =====\nfunction generateDummyExpenses(): ExpenseItem[] {\n  const categories = [\n    'PERSONNEL_CASH',\n    'MATERIAL',\n    'RESEARCH_ACTIVITY',\n    'TRAVEL',\n    'MEETING',\n    'PATENT',\n    'OFFICE_SUPPLIES'\n  ]\n  const statuses = ['draft', 'pending_approval', 'approved', 'executed', 'completed', 'rejected']\n  const projects = ['proj-001', 'proj-002', 'proj-003', 'proj-004', 'proj-005']\n  const requesters = [\n    'person-002',\n    'person-008',\n    'person-009',\n    'person-011',\n    'person-013',\n    'person-014',\n    'person-015'\n  ]\n  const deptOwners = [\n    'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n    'Íµ¨Îß§ÌåÄ',\n    'AIÏó∞Íµ¨ÌåÄ',\n    'Î∏îÎ°ùÏ≤¥Ïù∏ÌåÄ',\n    'IoTÌåÄ',\n    'Ï¥ùÎ¨¥ÌåÄ',\n    'R&DÏ†ÑÎûµÌåÄ'\n  ]\n\n  const expenses: ExpenseItem[] = []\n\n  for (let i = 1; i <= 25; i++) {\n    const category = categories[Math.floor(Math.random() * categories.length)]\n    const status = statuses[Math.floor(Math.random() * statuses.length)]\n    const project = projects[Math.floor(Math.random() * projects.length)]\n    const requester = requesters[Math.floor(Math.random() * requesters.length)]\n    const deptOwner = deptOwners[Math.floor(Math.random() * deptOwners.length)]\n\n    const amount = Math.floor(Math.random() * 10000000) + 100000 // 10ÎßåÏõê ~ 1000ÎßåÏõê\n    const createdAt = new Date(Date.now() - Math.random() * 90 * 24 * 60 * 60 * 1000).toISOString()\n\n    expenses.push({\n      id: `exp-${i.toString().padStart(3, '0')}`,\n      projectId: project,\n      categoryCode: category,\n      requesterId: requester,\n      amount: amount,\n      currency: 'KRW',\n      description: `${category} Í¥ÄÎ†® ÏßÄÏ∂ú - ${i}Î≤àÏß∏ ÏöîÏ≤≠`,\n      status: status as any,\n      deptOwner: deptOwner,\n      createdAt: createdAt,\n      updatedAt: createdAt\n    })\n  }\n\n  return expenses\n}\n\n// ===== ÎçîÎØ∏ Î¨∏ÏÑú ÏÉùÏÑ± =====\nfunction generateDummyDocuments(): Document[] {\n  const documentTypes = [\n    'REQUISITION',\n    'QUOTE',\n    'PURCHASE_ORDER',\n    'TAX_INVOICE',\n    'DELIVERY_NOTE',\n    'INSPECTION_REPORT',\n    'RECEIPT',\n    'MEETING_MINUTES',\n    'TRAVEL_REPORT',\n    'PATENT_DOCUMENT'\n  ]\n  const expenses = generateDummyExpenses()\n  const documents: Document[] = []\n\n  for (let i = 1; i <= 30; i++) {\n    const expense = expenses[Math.floor(Math.random() * expenses.length)]\n    const docType = documentTypes[Math.floor(Math.random() * documentTypes.length)]\n    const createdAt = new Date(Date.now() - Math.random() * 60 * 24 * 60 * 60 * 1000).toISOString()\n\n    documents.push({\n      id: `doc-${i.toString().padStart(3, '0')}`,\n      expenseId: expense.id,\n      projectId: expense.projectId,\n      type: docType as any,\n      filename: `${docType}_${i}.pdf`,\n      originalFilename: `${docType}_${i}.pdf`,\n      storageUrl: `/storage/documents/${docType}_${i}.pdf`,\n      sha256: `sha256_${i}_${Math.random().toString(36).substr(2, 9)}`,\n      version: 1,\n      meta: {\n        fileSize: Math.floor(Math.random() * 5000000) + 100000, // 100KB ~ 5MB\n        uploadedBy: expense.requesterId\n      },\n      createdAt: createdAt\n    })\n  }\n\n  return documents\n}\n\n// ===== ÎçîÎØ∏ Í≤∞Ïû¨ ÏÉùÏÑ± =====\nfunction generateDummyApprovals(): Approval[] {\n  const expenses = generateDummyExpenses()\n  const approvers = ['person-003', 'person-010', 'person-012', 'person-001', 'person-005']\n  const decisions = ['approved', 'rejected', 'pending']\n  const approvals: Approval[] = []\n\n  for (let i = 1; i <= 20; i++) {\n    const expense = expenses[Math.floor(Math.random() * expenses.length)]\n    const approver = approvers[Math.floor(Math.random() * approvers.length)]\n    const decision = decisions[Math.floor(Math.random() * decisions.length)]\n    const createdAt = new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString()\n\n    approvals.push({\n      id: `app-${i.toString().padStart(3, '0')}`,\n      subjectType: 'expense',\n      subjectId: expense.id,\n      stepNo: Math.floor(Math.random() * 3) + 1,\n      approverId: approver,\n      decision: decision as any,\n      comment: decision === 'rejected' ? 'Ï∂îÍ∞Ä ÏÑúÎ•ò ÌïÑÏöî' : 'ÏäπÏù∏ ÏôÑÎ£å',\n      decidedAt: decision !== 'pending' ? createdAt : undefined,\n      createdAt: createdAt\n    })\n  }\n\n  return approvals\n}\n\n// ===== ÎçîÎØ∏ Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉùÏÑ± =====\nfunction generateDummyWorkflows(): ApprovalWorkflow[] {\n  const expenses = generateDummyExpenses()\n  const workflows: ApprovalWorkflow[] = []\n\n  expenses.forEach((expense, index) => {\n    const statuses = ['pending', 'approved', 'rejected', 'cancelled']\n    const status = statuses[Math.floor(Math.random() * statuses.length)]\n    const createdAt = new Date(Date.now() - Math.random() * 60 * 24 * 60 * 60 * 1000).toISOString()\n\n    workflows.push({\n      id: `workflow-${index + 1}`,\n      subjectType: 'expense',\n      subjectId: expense.id,\n      currentStep: Math.floor(Math.random() * 3) + 1,\n      totalSteps: 3,\n      status: status as any,\n      createdAt: createdAt,\n      updatedAt: createdAt\n    })\n  })\n\n  return workflows\n}\n\n// ===== ÎçîÎØ∏Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî Ìï®Ïàò =====\nexport function initializeDummyData(): void {\n  logger.log('R&D ÏãúÏä§ÌÖú ÎçîÎØ∏Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî ÏãúÏûë...')\n\n  // ÏßÄÏ∂ú Ìï≠Î™© Ï¥àÍ∏∞Ìôî\n  const dummyExpenses = generateDummyExpenses()\n  expenseItems.set(dummyExpenses)\n  logger.log(`${dummyExpenses.length}Í∞úÏùò ÏßÄÏ∂ú Ìï≠Î™© ÏÉùÏÑ± ÏôÑÎ£å`)\n\n  // Î¨∏ÏÑú Ï¥àÍ∏∞Ìôî\n  const dummyDocuments = generateDummyDocuments()\n  documents.set(dummyDocuments)\n  logger.log(`${dummyDocuments.length}Í∞úÏùò Î¨∏ÏÑú ÏÉùÏÑ± ÏôÑÎ£å`)\n\n  // Í≤∞Ïû¨ Ï¥àÍ∏∞Ìôî\n  const dummyApprovals = generateDummyApprovals()\n  approvals.set(dummyApprovals)\n  logger.log(`${dummyApprovals.length}Í∞úÏùò Í≤∞Ïû¨ ÏÉùÏÑ± ÏôÑÎ£å`)\n\n  // Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï¥àÍ∏∞Ìôî\n  const dummyWorkflows = generateDummyWorkflows()\n  approvalWorkflows.set(dummyWorkflows)\n  logger.log(`${dummyWorkflows.length}Í∞úÏùò Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÉùÏÑ± ÏôÑÎ£å`)\n\n  logger.log('R&D ÏãúÏä§ÌÖú ÎçîÎØ∏Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî ÏôÑÎ£å!')\n}\n\n// ===== ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± =====\nexport function generateStatistics() {\n  let expenses: ExpenseItem[] = []\n  expenseItems.subscribe(value => (expenses = value))()\n\n  const stats = {\n    total: expenses.length,\n    pending: expenses.filter(e => e.status === 'pending_approval' || e.status === 'draft').length,\n    approved: expenses.filter(\n      e => e.status === 'approved' || e.status === 'executed' || e.status === 'completed'\n    ).length,\n    rejected: expenses.filter(e => e.status === 'rejected').length,\n    totalAmount: expenses.reduce((sum, e) => sum + e.amount, 0),\n    byCategory: {} as Record<string, number>,\n    byProject: {} as Record<string, number>,\n    byStatus: {} as Record<string, number>\n  }\n\n  // Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌÜµÍ≥Ñ\n  expenses.forEach(expense => {\n    stats.byCategory[expense.categoryCode] = (stats.byCategory[expense.categoryCode] || 0) + 1\n    stats.byProject[expense.projectId] = (stats.byProject[expense.projectId] || 0) + 1\n    stats.byStatus[expense.status] = (stats.byStatus[expense.status] || 0) + 1\n  })\n\n  return stats\n}\n\n// ===== ÎûúÎç§ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ïú†Ìã∏Î¶¨Ìã∞ =====\nexport function generateRandomId(prefix: string): string {\n  return `${prefix}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n}\n\nexport function generateRandomDate(daysAgo: number = 30): string {\n  const date = new Date(Date.now() - Math.random() * daysAgo * 24 * 60 * 60 * 1000)\n  return toUTC(date)\n}\n\nexport function generateRandomAmount(min: number = 100000, max: number = 10000000): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n// ===== ÏÉòÌîå ÌÖçÏä§Ìä∏ ÏÉùÏÑ± =====\nexport const sampleTexts = {\n  descriptions: [\n    'Ïó∞Íµ¨Ïö© Ïû•ÎπÑ Íµ¨Îß§',\n    'ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ ÎùºÏù¥ÏÑ†Ïä§ Íµ¨Îß§',\n    'Ï∂úÏû•ÎπÑ Ï†ïÏÇ∞',\n    'ÌöåÏùòÎπÑ ÏßÄÏ∂ú',\n    'ÌäπÌóàÏ∂úÏõê ÏàòÏàòÎ£å',\n    'ÏÇ¨Î¨¥Ïö©Ìíà Íµ¨Îß§',\n    'Ïó∞Íµ¨ÌôúÎèôÎπÑ ÏßÄÏ∂ú',\n    'ÍµêÏú°ÎπÑ ÏßÄÏ∂ú',\n    'Ïª®ÏÑ§ÌåÖÎπÑ ÏßÄÏ∂ú',\n    'ÎßàÏºÄÌåÖÎπÑ ÏßÄÏ∂ú'\n  ],\n  comments: [\n    'ÏäπÏù∏ ÏôÑÎ£å',\n    'Ï∂îÍ∞Ä ÏÑúÎ•ò ÌïÑÏöî',\n    'Í∏àÏï° Ï°∞Ï†ï ÌïÑÏöî',\n    'Ïπ¥ÌÖåÍ≥†Î¶¨ Î≥ÄÍ≤Ω ÌïÑÏöî',\n    'Îã¥ÎãπÏûê ÌôïÏù∏ ÌïÑÏöî',\n    'ÏòàÏÇ∞ Ï¥àÍ≥º',\n    'Ï†ïÏÉÅ Ï≤òÎ¶¨',\n    'Ïû¨Í≤ÄÌÜ† ÌïÑÏöî',\n    'Ï¶âÏãú Ï≤òÎ¶¨',\n    'Î≥¥Î•ò'\n  ],\n  departments: [\n    'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n    'Íµ¨Îß§ÌåÄ',\n    'AIÏó∞Íµ¨ÌåÄ',\n    'Î∏îÎ°ùÏ≤¥Ïù∏ÌåÄ',\n    'IoTÌåÄ',\n    'Ï¥ùÎ¨¥ÌåÄ',\n    'R&DÏ†ÑÎûµÌåÄ',\n    'Í∏∞Ïà†ÌåÄ',\n    'ÎßàÏºÄÌåÖÌåÄ',\n    'Ïù∏ÏÇ¨ÌåÄ'\n  ]\n}\n\n// ===== ÎÇ¥Î≥¥ÎÇ¥Í∏∞ =====\nexport {\n  generateDummyApprovals,\n  generateDummyDocuments,\n  generateDummyExpenses,\n  generateDummyWorkflows\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/mock-data.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/participation-manager.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 76,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 76,
        "endColumn": 23
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 94,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 94,
        "endColumn": 23
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 116,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 116,
        "endColumn": 23
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'monthlyAnalysis' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 208,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 208,
        "endColumn": 26
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 214,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 214,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 246,
        "column": 15,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 246,
        "endColumn": 21
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'history' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 333,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 333,
        "endColumn": 18
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'crypto' is not defined.",
        "line": 334,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 334,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'changes' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 359,
        "column": 5,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 359,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 414,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 414,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13314, 13317], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13314, 13317], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 418,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 418,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13439, 13442], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13439, 13442], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable, derived, get } from 'svelte/store'\nimport { employees, projects } from '../rd'\nimport type { ParticipationAssignment } from './types'\nimport type { Employee, Project } from '../rd'\n\n// Í≥†ÎèÑÌôîÎêú Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨ Ïä§ÌÜ†Ïñ¥\nexport const participationAssignments = writable<ParticipationAssignment[]>([])\nexport const participationHistory = writable<ParticipationHistory[]>([])\nexport const participationConflicts = writable<ParticipationConflict[]>([])\nexport const participationRecommendations = writable<ParticipationRecommendation[]>([])\n// participationHealthÏôÄ participationTrendsÎäî derived storeÎ°ú Ï†ïÏùòÎê®\n\n// Ï∞∏Ïó¨Ïú® ÌûàÏä§ÌÜ†Î¶¨ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface ParticipationHistory {\n  id: string\n  personId: string\n  projectId: string\n  oldRate: number\n  newRate: number\n  changeReason: string\n  changedBy: string\n  changedAt: string\n  effectiveFrom: string\n  effectiveTo: string\n}\n\n// Ï∞∏Ïó¨Ïú® Ï∂©Îèå Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface ParticipationConflict {\n  id: string\n  personId: string\n  conflictType: 'overload' | 'underutilization' | 'schedule_conflict' | 'skill_mismatch'\n  severity: 'low' | 'medium' | 'high' | 'critical'\n  description: string\n  affectedProjects: string[]\n  recommendedActions: string[]\n  detectedAt: string\n  resolvedAt?: string\n}\n\n// Ï∞∏Ïó¨Ïú® Ï∂îÏ≤ú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface ParticipationRecommendation {\n  id: string\n  type: 'rebalance' | 'hire' | 'reduce' | 'optimize'\n  priority: 'low' | 'medium' | 'high' | 'urgent'\n  title: string\n  description: string\n  affectedPersons: string[]\n  affectedProjects: string[]\n  estimatedImpact: {\n    cost: number\n    benefit: number\n    risk: number\n  }\n  recommendedActions: string[]\n  createdAt: string\n  expiresAt: string\n}\n\n// Í≥†Í∏â Ï∞∏Ïó¨Ïú® Î∂ÑÏÑù Ìï®ÏàòÎì§\nexport class ParticipationManager {\n  // 1. Ï∞∏Ïó¨Ïú® Ï∂©Îèå Í∞êÏßÄ\n  static detectConflicts(): ParticipationConflict[] {\n    const conflicts: ParticipationConflict[] = []\n    const currentAssignments = get(participationAssignments)\n    const currentEmployees = get(employees)\n    const currentProjects = get(projects)\n\n    // ÏõîÎ≥Ñ Ï∞∏Ïó¨Ïú® Î∂ÑÏÑù\n    const monthlyAnalysis = this.analyzeMonthlyParticipation()\n\n    // Í≥ºÎ∂ÄÌïò Í∞êÏßÄ\n    monthlyAnalysis.forEach(monthData => {\n      monthData.personAnalysis.forEach(personData => {\n        if (personData.totalRate > 100) {\n          conflicts.push({\n            id: crypto.randomUUID(),\n            personId: personData.personId,\n            conflictType: 'overload',\n            severity: personData.totalRate > 120 ? 'critical' : 'high',\n            description: `${personData.personName}Ïùò ${monthData.month} Ï∞∏Ïó¨Ïú®Ïù¥ ${personData.totalRate}%Î°ú Í≥ºÎ∂ÄÌïò ÏÉÅÌÉúÏûÖÎãàÎã§.`,\n            affectedProjects: personData.projects.map(p => p.projectId),\n            recommendedActions: ['Ï∞∏Ïó¨Ïú® Ïû¨Ï°∞Ï†ï', 'Ï∂îÍ∞Ä Ïù∏Î†• Ìà¨ÏûÖ', 'ÌîÑÎ°úÏ†ùÌä∏ ÏùºÏ†ï Ï°∞Ï†ï'],\n            detectedAt: new Date().toISOString()\n          })\n        }\n      })\n    })\n\n    // ÎØ∏ÌôúÏö© Í∞êÏßÄ\n    monthlyAnalysis.forEach(monthData => {\n      monthData.personAnalysis.forEach(personData => {\n        if (personData.totalRate < 50 && personData.totalRate > 0) {\n          conflicts.push({\n            id: crypto.randomUUID(),\n            personId: personData.personId,\n            conflictType: 'underutilization',\n            severity: personData.totalRate < 30 ? 'medium' : 'low',\n            description: `${personData.personName}Ïùò ${monthData.month} Ï∞∏Ïó¨Ïú®Ïù¥ ${personData.totalRate}%Î°ú ÎØ∏ÌôúÏö© ÏÉÅÌÉúÏûÖÎãàÎã§.`,\n            affectedProjects: personData.projects.map(p => p.projectId),\n            recommendedActions: ['Ï∂îÍ∞Ä ÌîÑÎ°úÏ†ùÌä∏ Î∞∞Ï†ï', 'ÍµêÏú° Î∞è Í∞úÎ∞ú ÌôúÎèô', 'Îã§Î•∏ ÌåÄ ÏßÄÏõê'],\n            detectedAt: new Date().toISOString()\n          })\n        }\n      })\n    })\n\n    // Ïä§ÌÇ¨ Î∂àÏùºÏπò Í∞êÏßÄ\n    currentAssignments.forEach(assignment => {\n      const employee = currentEmployees.find(e => e.id === assignment.personId)\n      const project = currentProjects.find(p => p.id === assignment.projectId)\n\n      if (employee && project) {\n        const skillMatch = this.calculateSkillMatch(employee, project)\n        if (skillMatch < 0.6) {\n          conflicts.push({\n            id: crypto.randomUUID(),\n            personId: assignment.personId,\n            conflictType: 'skill_mismatch',\n            severity: skillMatch < 0.4 ? 'high' : 'medium',\n            description: `${employee.name}Ïùò Ïä§ÌÇ¨Ïù¥ ${project.name} ÌîÑÎ°úÏ†ùÌä∏ ÏöîÍµ¨ÏÇ¨Ìï≠Í≥º ${(skillMatch * 100).toFixed(0)}% ÏùºÏπòÌï©ÎãàÎã§.`,\n            affectedProjects: [assignment.projectId],\n            recommendedActions: ['Ïä§ÌÇ¨ Ìñ•ÏÉÅ ÍµêÏú°', 'Î©òÌÜ†ÎßÅ ÌîÑÎ°úÍ∑∏Îû®', 'ÌîÑÎ°úÏ†ùÌä∏ Ïó≠Ìï† Ï°∞Ï†ï'],\n            detectedAt: new Date().toISOString()\n          })\n        }\n      }\n    })\n\n    participationConflicts.set(conflicts)\n    return conflicts\n  }\n\n  // 2. ÏõîÎ≥Ñ Ï∞∏Ïó¨Ïú® Î∂ÑÏÑù\n  static analyzeMonthlyParticipation(): Array<{\n    month: string\n    personAnalysis: Array<{\n      personId: string\n      personName: string\n      totalRate: number\n      projects: Array<{\n        projectId: string\n        projectName: string\n        rate: number\n      }>\n    }>\n  }> {\n    const assignments = get(participationAssignments)\n    const employees = get(employees)\n    const projects = get(projects)\n\n    // ÏµúÍ∑º 12Í∞úÏõî Î∂ÑÏÑù\n    const months = []\n    for (let i = 0; i < 12; i++) {\n      const date = new Date()\n      date.setMonth(date.getMonth() - i)\n      months.push(date.toISOString().slice(0, 7)) // YYYY-MM ÌòïÏãù\n    }\n\n    return months.map(month => {\n      const personAnalysis = employees.map(employee => {\n        const personAssignments = assignments.filter(\n          a =>\n            a.personId === employee.id && a.dateFrom <= `${month}-31` && a.dateTo >= `${month}-01`\n        )\n\n        const projects = personAssignments.map(assignment => {\n          const project = projects.find(p => p.id === assignment.projectId)\n          return {\n            projectId: assignment.projectId,\n            projectName: project?.name || 'Unknown',\n            rate: assignment.ratePct\n          }\n        })\n\n        const totalRate = personAssignments.reduce((sum, a) => sum + a.ratePct, 0)\n\n        return {\n          personId: employee.id,\n          personName: employee.name,\n          totalRate,\n          projects\n        }\n      })\n\n      return { month, personAnalysis }\n    })\n  }\n\n  // 3. Ïä§ÌÇ¨ Îß§Ïπ≠ Í≥ÑÏÇ∞\n  static calculateSkillMatch(employee: Employee, project: Project): number {\n    // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Îçî Ï†ïÍµêÌïú Ïä§ÌÇ¨ Îß§Ïπ≠ ÏïåÍ≥†Î¶¨Ï¶ò ÏÇ¨Ïö©\n    const requiredSkills = project.requiredSkills || []\n    const employeeSkills = employee.skills || []\n\n    if (requiredSkills.length === 0) return 1.0\n\n    const matchedSkills = requiredSkills.filter(skill =>\n      employeeSkills.some(empSkill => empSkill.toLowerCase().includes(skill.toLowerCase()))\n    )\n\n    return matchedSkills.length / requiredSkills.length\n  }\n\n  // 4. Ï∞∏Ïó¨Ïú® ÏµúÏ†ÅÌôî Ï∂îÏ≤ú\n  static generateOptimizationRecommendations(): ParticipationRecommendation[] {\n    const recommendations: ParticipationRecommendation[] = []\n    const conflicts = get(participationConflicts)\n    const monthlyAnalysis = this.analyzeMonthlyParticipation()\n\n    // Í≥ºÎ∂ÄÌïò Ìï¥Í≤∞ Ï∂îÏ≤ú\n    const overloadConflicts = conflicts.filter(c => c.conflictType === 'overload')\n    if (overloadConflicts.length > 0) {\n      recommendations.push({\n        id: crypto.randomUUID(),\n        type: 'rebalance',\n        priority: 'high',\n        title: 'Ï∞∏Ïó¨Ïú® Ïû¨Ï°∞Ï†ï ÌïÑÏöî',\n        description: `${overloadConflicts.length}Î™ÖÏùò Ïó∞Íµ¨ÏõêÏù¥ Í≥ºÎ∂ÄÌïò ÏÉÅÌÉúÏûÖÎãàÎã§. Ï∞∏Ïó¨Ïú® Ïû¨Ï°∞Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.`,\n        affectedPersons: overloadConflicts.map(c => c.personId),\n        affectedProjects: [...new Set(overloadConflicts.flatMap(c => c.affectedProjects))],\n        estimatedImpact: {\n          cost: 0,\n          benefit: 5000000, // ÏÉùÏÇ∞ÏÑ± Ìñ•ÏÉÅ\n          risk: 0.2\n        },\n        recommendedActions: [\n          'Í≥ºÎ∂ÄÌïò Ïù∏Î†•Ïùò Ï∞∏Ïó¨Ïú® 20% Í∞êÏÜå',\n          'ÎØ∏ÌôúÏö© Ïù∏Î†•Ïùò Ï∞∏Ïó¨Ïú® Ï¶ùÍ∞Ä',\n          'ÌîÑÎ°úÏ†ùÌä∏ Ïö∞ÏÑ†ÏàúÏúÑ Ïû¨Í≤ÄÌÜ†'\n        ],\n        createdAt: new Date().toISOString(),\n        expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString() // 7Ïùº ÌõÑ\n      })\n    }\n\n    // Ïã†Í∑ú Ï±ÑÏö© Ï∂îÏ≤ú\n    const underutilizationConflicts = conflicts.filter(c => c.conflictType === 'underutilization')\n    const totalUnderutilized = underutilizationConflicts.length\n    if (totalUnderutilized === 0) {\n      // Î™®Îì† Ïù∏Î†•Ïù¥ Ï†ÅÏ†àÌûà ÌôúÏö©ÎêòÍ≥† ÏûàÏßÄÎßå, ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÎßéÎã§Î©¥ Ïã†Í∑ú Ï±ÑÏö© Í≥†Î†§\n      const activeProjects = get(projects).filter(p => p.status === 'active')\n      const totalEmployees = get(employees).length\n\n      if (activeProjects.length > totalEmployees * 0.8) {\n        recommendations.push({\n          id: crypto.randomUUID(),\n          type: 'hire',\n          priority: 'medium',\n          title: 'Ïã†Í∑ú Ïó∞Íµ¨Ïõê Ï±ÑÏö© Í≥†Î†§',\n          description: 'ÌîÑÎ°úÏ†ùÌä∏ ÏàòÍ∞Ä Ïù∏Î†• ÎåÄÎπÑ ÎßéÏïÑ Ïã†Í∑ú Ï±ÑÏö©ÏùÑ Í≥†Î†§Ìï¥Î≥º Ïàò ÏûàÏäµÎãàÎã§.',\n          affectedPersons: [],\n          affectedProjects: activeProjects.map(p => p.id),\n          estimatedImpact: {\n            cost: 60000000, // Ïó∞Î¥â 6000ÎßåÏõê\n            benefit: 80000000, // ÏÉùÏÇ∞ÏÑ± Ìñ•ÏÉÅ\n            risk: 0.3\n          },\n          recommendedActions: ['ÌïÑÏöî Ïä§ÌÇ¨ Î∂ÑÏÑù', 'Ï±ÑÏö© Í≥ÑÌöç ÏàòÎ¶Ω', 'Ïò®Î≥¥Îî© Í≥ÑÌöç Ï§ÄÎπÑ'],\n          createdAt: new Date().toISOString(),\n          expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString() // 30Ïùº ÌõÑ\n        })\n      }\n    }\n\n    participationRecommendations.set(recommendations)\n    return recommendations\n  }\n\n  // 5. Ï∞∏Ïó¨Ïú® ÏûêÎèô Ï°∞Ï†ï\n  static autoAdjustParticipation(personId: string, targetRate: number, reason: string): boolean {\n    const assignments = get(participationAssignments)\n    const personAssignments = assignments.filter(a => a.personId === personId)\n\n    if (personAssignments.length === 0) return false\n\n    // ÌòÑÏû¨ Ï¥ù Ï∞∏Ïó¨Ïú® Í≥ÑÏÇ∞\n    const currentTotal = personAssignments.reduce((sum, a) => sum + a.ratePct, 0)\n    const adjustment = targetRate - currentTotal\n\n    if (Math.abs(adjustment) < 5) return true // 5% ÎØ∏ÎßåÏù¥Î©¥ Ï°∞Ï†ïÌïòÏßÄ ÏïäÏùå\n\n    // Ï°∞Ï†ï Î°úÏßÅ: Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä ÎÇÆÏùÄ ÌîÑÎ°úÏ†ùÌä∏Î∂ÄÌÑ∞ Ï°∞Ï†ï\n    const sortedAssignments = personAssignments.sort((a, b) => {\n      const projectA = get(projects).find(p => p.id === a.projectId)\n      const projectB = get(projects).find(p => p.id === b.projectId)\n      return (projectA?.priority || 0) - (projectB?.priority || 0)\n    })\n\n    let remainingAdjustment = adjustment\n    const updates: Array<{ id: string; newRate: number }> = []\n\n    for (const assignment of sortedAssignments) {\n      if (remainingAdjustment === 0) break\n\n      const currentRate = assignment.ratePct\n      let newRate = currentRate\n\n      if (remainingAdjustment > 0) {\n        // Ï∞∏Ïó¨Ïú® Ï¶ùÍ∞Ä\n        const maxIncrease = Math.min(remainingAdjustment, 100 - currentRate)\n        newRate = currentRate + maxIncrease\n        remainingAdjustment -= maxIncrease\n      } else {\n        // Ï∞∏Ïó¨Ïú® Í∞êÏÜå\n        const maxDecrease = Math.min(Math.abs(remainingAdjustment), currentRate)\n        newRate = currentRate - maxDecrease\n        remainingAdjustment += maxDecrease\n      }\n\n      if (newRate !== currentRate) {\n        updates.push({ id: assignment.id, newRate })\n      }\n    }\n\n    // ÏóÖÎç∞Ïù¥Ìä∏ Ï†ÅÏö©\n    updates.forEach(update => {\n      this.updateParticipationRate(update.id, update.newRate, reason)\n    })\n\n    return true\n  }\n\n  // 6. Ï∞∏Ïó¨Ïú® ÏóÖÎç∞Ïù¥Ìä∏ (ÌûàÏä§ÌÜ†Î¶¨ Ìè¨Ìï®)\n  static updateParticipationRate(assignmentId: string, newRate: number, reason: string): void {\n    const assignments = get(participationAssignments)\n    const assignment = assignments.find(a => a.id === assignmentId)\n\n    if (!assignment) return\n\n    const oldRate = assignment.ratePct\n\n    // ÌûàÏä§ÌÜ†Î¶¨ Í∏∞Î°ù\n    const history: ParticipationHistory = {\n      id: crypto.randomUUID(),\n      personId: assignment.personId,\n      projectId: assignment.projectId,\n      oldRate,\n      newRate,\n      changeReason: reason,\n      changedBy: 'system', // Ïã§Ï†úÎ°úÎäî ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê ID\n      changedAt: new Date().toISOString(),\n      effectiveFrom: new Date().toISOString(),\n      effectiveTo: assignment.dateTo\n    }\n\n    // Ìï†Îãπ ÏóÖÎç∞Ïù¥Ìä∏\n    participationAssignments.update(assignments =>\n      assignments.map(a =>\n        a.id === assignmentId ? { ...a, ratePct: newRate, updatedAt: new Date().toISOString() } : a\n      )\n    )\n\n    // ÌûàÏä§ÌÜ†Î¶¨ Ï∂îÍ∞Ä\n    participationHistory.update(history => [history, ...history])\n  }\n\n  // 7. Ï∞∏Ïó¨Ïú® ÏòàÏ∏° Î∞è ÏãúÎÆ¨Î†àÏù¥ÏÖò\n  static simulateParticipationChanges(\n    changes: Array<{\n      personId: string\n      projectId: string\n      newRate: number\n    }>\n  ): {\n    monthlyImpact: Array<{\n      month: string\n      overloadCount: number\n      underutilizedCount: number\n      totalCost: number\n    }>\n    recommendations: string[]\n  } {\n    // ÏãúÎÆ¨Î†àÏù¥ÏÖò Î°úÏßÅ Íµ¨ÌòÑ\n    const monthlyImpact = []\n    const recommendations = []\n\n    // ÏµúÍ∑º 6Í∞úÏõî ÏãúÎÆ¨Î†àÏù¥ÏÖò\n    for (let i = 0; i < 6; i++) {\n      const date = new Date()\n      date.setMonth(date.getMonth() + i)\n      const month = date.toISOString().slice(0, 7)\n\n      // ÏãúÎÆ¨Î†àÏù¥ÏÖòÎêú Ï∞∏Ïó¨Ïú®Î°ú Î∂ÑÏÑù\n      const simulatedAnalysis = this.analyzeMonthlyParticipation()\n      const monthData = simulatedAnalysis.find(m => m.month === month)\n\n      if (monthData) {\n        const overloadCount = monthData.personAnalysis.filter(p => p.totalRate > 100).length\n        const underutilizedCount = monthData.personAnalysis.filter(\n          p => p.totalRate < 50 && p.totalRate > 0\n        ).length\n\n        monthlyImpact.push({\n          month,\n          overloadCount,\n          underutilizedCount,\n          totalCost: this.calculateMonthlyCost(monthData)\n        })\n      }\n    }\n\n    // Ï∂îÏ≤úÏÇ¨Ìï≠ ÏÉùÏÑ±\n    if (monthlyImpact.some(m => m.overloadCount > 0)) {\n      recommendations.push('ÏùºÎ∂Ä Ïù∏Î†•Ïùò Í≥ºÎ∂ÄÌïòÍ∞Ä ÏòàÏÉÅÎê©ÎãàÎã§. Ï∂îÍ∞Ä Ïù∏Î†• Ìà¨ÏûÖÏùÑ Í≥†Î†§ÌïòÏÑ∏Ïöî.')\n    }\n    if (monthlyImpact.some(m => m.underutilizedCount > 0)) {\n      recommendations.push('ÏùºÎ∂Ä Ïù∏Î†•Ïùò ÎØ∏ÌôúÏö©Ïù¥ ÏòàÏÉÅÎê©ÎãàÎã§. Ï∂îÍ∞Ä ÌîÑÎ°úÏ†ùÌä∏ Î∞∞Ï†ïÏùÑ Í≥†Î†§ÌïòÏÑ∏Ïöî.')\n    }\n\n    return { monthlyImpact, recommendations }\n  }\n\n  // 8. ÏõîÎ≥Ñ ÎπÑÏö© Í≥ÑÏÇ∞\n  static calculateMonthlyCost(monthData: any): number {\n    const employees = get(employees)\n    let totalCost = 0\n\n    monthData.personAnalysis.forEach((personData: any) => {\n      const employee = employees.find(e => e.id === personData.personId)\n      if (employee) {\n        // ÏõîÍ∏âÏùò Ï∞∏Ïó¨Ïú® ÎπÑÏú®Î°ú Í≥ÑÏÇ∞\n        const monthlySalary = employee.salary\n        const participationCost = monthlySalary * (personData.totalRate / 100)\n        totalCost += participationCost\n      }\n    })\n\n    return totalCost\n  }\n}\n\n// ÌååÏÉù Ïä§ÌÜ†Ïñ¥Îì§\nexport const participationHealth = derived(\n  [participationAssignments, participationConflicts],\n  ([assignments, conflicts]) => {\n    const totalAssignments = assignments.length\n    const criticalConflicts = conflicts.filter(c => c.severity === 'critical').length\n    const highConflicts = conflicts.filter(c => c.severity === 'high').length\n\n    const healthScore = Math.max(0, 100 - criticalConflicts * 20 - highConflicts * 10)\n\n    return {\n      score: healthScore,\n      status:\n        healthScore >= 80\n          ? 'excellent'\n          : healthScore >= 60\n            ? 'good'\n            : healthScore >= 40\n              ? 'fair'\n              : 'poor',\n      criticalIssues: criticalConflicts,\n      highIssues: highConflicts,\n      totalAssignments\n    }\n  }\n)\n\nexport const participationTrends = derived(participationHistory, history => {\n  // ÏµúÍ∑º 6Í∞úÏõî Ìä∏Î†åÎìú Î∂ÑÏÑù\n  const sixMonthsAgo = new Date()\n  sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6)\n\n  const recentHistory = history.filter(h => new Date(h.changedAt) >= sixMonthsAgo)\n\n  const monthlyChanges = {}\n  recentHistory.forEach(change => {\n    const month = change.changedAt.slice(0, 7)\n    if (!monthlyChanges[month]) {\n      monthlyChanges[month] = { increases: 0, decreases: 0, total: 0 }\n    }\n\n    if (change.newRate > change.oldRate) {\n      monthlyChanges[month].increases++\n    } else if (change.newRate < change.oldRate) {\n      monthlyChanges[month].decreases++\n    }\n    monthlyChanges[month].total++\n  })\n\n  return {\n    monthlyChanges,\n    totalChanges: recentHistory.length,\n    averageChange:\n      recentHistory.length > 0\n        ? recentHistory.reduce((sum, h) => sum + Math.abs(h.newRate - h.oldRate), 0) /\n          recentHistory.length\n        : 0\n  }\n})\n\n// Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\nexport function initializeParticipationManager() {\n  // Ï∂©Îèå Í∞êÏßÄ\n  ParticipationManager.detectConflicts()\n\n  // Ï∂îÏ≤ú ÏÉùÏÑ±\n  ParticipationManager.generateOptimizationRecommendations()\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/rbac.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 280,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 280,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9183, 9186], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9183, 9186], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 280,
        "column": 66,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 280,
        "endColumn": 69,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9208, 9211], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9208, 9211], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// R&D ÌÜµÌï©Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú RBAC (Role-Based Access Control) Íµ¨ÌòÑ\n\nimport { writable, derived } from 'svelte/store'\nimport { UserRole, Permission, type Person } from './types'\n\n// ===== Í∂åÌïú Îß§Ìä∏Î¶≠Ïä§ Ï†ïÏùò =====\nconst PERMISSION_MATRIX: Record<UserRole, Permission[]> = {\n  [UserRole.RESEARCHER]: [\n    Permission.READ_PROJECT,\n    Permission.UPLOAD_DOCUMENT,\n    Permission.CREATE_REPORT\n  ],\n  [UserRole.PM]: [\n    Permission.READ_PROJECT,\n    Permission.WRITE_PROJECT,\n    Permission.APPROVE_EXPENSE,\n    Permission.MANAGE_PERSONNEL,\n    Permission.CREATE_REPORT,\n    Permission.UPLOAD_DOCUMENT\n  ],\n  [UserRole.DEPARTMENT_HEAD]: [\n    Permission.READ_PROJECT,\n    Permission.WRITE_PROJECT,\n    Permission.APPROVE_EXPENSE,\n    Permission.UPLOAD_DOCUMENT\n  ],\n  [UserRole.MANAGEMENT_SUPPORT]: [\n    Permission.READ_ALL,\n    Permission.WRITE_ALL,\n    Permission.APPROVE_ALL,\n    Permission.MANAGE_BUDGET,\n    Permission.MANAGE_PERSONNEL,\n    Permission.CREATE_REPORT,\n    Permission.UPLOAD_DOCUMENT,\n    Permission.VIEW_AUDIT_LOG\n  ],\n  [UserRole.LAB_HEAD]: [\n    Permission.READ_ALL,\n    Permission.WRITE_PROJECT,\n    Permission.APPROVE_ALL,\n    Permission.MANAGE_PERSONNEL,\n    Permission.CREATE_REPORT,\n    Permission.VIEW_AUDIT_LOG\n  ],\n  [UserRole.EXECUTIVE]: [\n    Permission.READ_ALL,\n    Permission.APPROVE_ALL,\n    Permission.MANAGE_BUDGET,\n    Permission.MANAGE_PERSONNEL,\n    Permission.VIEW_AUDIT_LOG\n  ],\n  [UserRole.AUDITOR]: [Permission.READ_ALL, Permission.VIEW_AUDIT_LOG]\n}\n\n// ===== ÏóîÌÑ∞Ìã∞Î≥Ñ Í∂åÌïú Ï†ïÏùò =====\nconst ENTITY_PERMISSIONS: Record<string, Record<UserRole, string[]>> = {\n  Project: {\n    [UserRole.RESEARCHER]: ['read'],\n    [UserRole.PM]: ['read', 'write', 'approve'],\n    [UserRole.DEPARTMENT_HEAD]: ['read', 'write'],\n    [UserRole.MANAGEMENT_SUPPORT]: ['read', 'write', 'approve', 'lock'],\n    [UserRole.LAB_HEAD]: ['read', 'write', 'approve'],\n    [UserRole.EXECUTIVE]: ['read', 'approve', 'lock'],\n    [UserRole.AUDITOR]: ['read']\n  },\n  ExpenseItem: {\n    [UserRole.RESEARCHER]: ['read'],\n    [UserRole.PM]: ['read', 'write', 'approve'],\n    [UserRole.DEPARTMENT_HEAD]: ['read', 'write', 'approve'],\n    [UserRole.MANAGEMENT_SUPPORT]: ['read', 'write', 'approve', 'lock'],\n    [UserRole.LAB_HEAD]: ['read', 'write', 'approve'],\n    [UserRole.EXECUTIVE]: ['read', 'approve'],\n    [UserRole.AUDITOR]: ['read']\n  },\n  Document: {\n    [UserRole.RESEARCHER]: ['read', 'write'],\n    [UserRole.PM]: ['read', 'write', 'approve'],\n    [UserRole.DEPARTMENT_HEAD]: ['read', 'write'],\n    [UserRole.MANAGEMENT_SUPPORT]: ['read', 'write', 'approve', 'lock'],\n    [UserRole.LAB_HEAD]: ['read', 'write', 'approve'],\n    [UserRole.EXECUTIVE]: ['read', 'approve'],\n    [UserRole.AUDITOR]: ['read']\n  },\n  ResearchNote: {\n    [UserRole.RESEARCHER]: ['read', 'write'],\n    [UserRole.PM]: ['read', 'write', 'approve'],\n    [UserRole.DEPARTMENT_HEAD]: ['read'],\n    [UserRole.MANAGEMENT_SUPPORT]: ['read', 'write'],\n    [UserRole.LAB_HEAD]: ['read', 'write', 'approve'],\n    [UserRole.EXECUTIVE]: ['read'],\n    [UserRole.AUDITOR]: ['read']\n  },\n  SubmissionBundle: {\n    [UserRole.RESEARCHER]: [],\n    [UserRole.PM]: ['read'],\n    [UserRole.DEPARTMENT_HEAD]: ['read'],\n    [UserRole.MANAGEMENT_SUPPORT]: ['read', 'write', 'approve'],\n    [UserRole.LAB_HEAD]: ['read'],\n    [UserRole.EXECUTIVE]: ['read', 'approve'],\n    [UserRole.AUDITOR]: ['read', 'lock']\n  }\n}\n\n// ===== ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê Ïä§ÌÜ†Ïñ¥ =====\nexport const currentUser = writable<Person | null>(null)\n\n// ===== ÏÇ¨Ïö©Ïûê Ïó≠Ìï† Ïä§ÌÜ†Ïñ¥ =====\nexport const userRoles = writable<UserRole[]>([])\n\n// ===== ÏÇ¨Ïö©Ïûê Í∂åÌïú Ïä§ÌÜ†Ïñ¥ =====\nexport const userPermissions = derived(userRoles, $userRoles => {\n  const permissions = new Set<Permission>()\n  $userRoles.forEach(role => {\n    PERMISSION_MATRIX[role]?.forEach(permission => {\n      permissions.add(permission)\n    })\n  })\n  return Array.from(permissions)\n})\n\n// ===== RBAC Ìï®ÏàòÎì§ =====\n\n/**\n * ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÌäπÏ†ï Í∂åÌïúÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n */\nexport function hasPermission(permission: Permission, userRoles: UserRole[]): boolean {\n  return userRoles.some(role => PERMISSION_MATRIX[role]?.includes(permission))\n}\n\n/**\n * ÏÇ¨Ïö©ÏûêÍ∞Ä ÌäπÏ†ï ÏóîÌÑ∞Ìã∞Ïóê ÎåÄÌï¥ ÌäπÏ†ï Ïï°ÏÖòÏùÑ ÏàòÌñâÌï† Ïàò ÏûàÎäîÏßÄ ÌôïÏù∏\n */\nexport function canPerformAction(entity: string, action: string, userRoles: UserRole[]): boolean {\n  return userRoles.some(role => {\n    const entityPermissions = ENTITY_PERMISSIONS[entity]\n    if (!entityPermissions || !entityPermissions[role]) {\n      return false\n    }\n    return entityPermissions[role].includes(action)\n  })\n}\n\n/**\n * ÏÇ¨Ïö©ÏûêÏùò Î™®Îì† Í∂åÌïúÏùÑ Í∞ÄÏ†∏Ïò¥\n */\nexport function getUserPermissions(userRoles: UserRole[]): Permission[] {\n  const permissions = new Set<Permission>()\n  userRoles.forEach(role => {\n    PERMISSION_MATRIX[role]?.forEach(permission => {\n      permissions.add(permission)\n    })\n  })\n  return Array.from(permissions)\n}\n\n/**\n * ÌäπÏ†ï Ïó≠Ìï†Ïùò Î™®Îì† Í∂åÌïúÏùÑ Í∞ÄÏ†∏Ïò¥\n */\nexport function getRolePermissions(role: UserRole): Permission[] {\n  return PERMISSION_MATRIX[role] || []\n}\n\n/**\n * ÏÇ¨Ïö©Ïûê Ïó≠Ìï† ÏÑ§Ï†ï\n */\nexport function setUserRoles(roles: UserRole[]): void {\n  userRoles.set(roles)\n}\n\n/**\n * ÏÇ¨Ïö©Ïûê Ïó≠Ìï† Ï∂îÍ∞Ä\n */\nexport function addUserRole(role: UserRole): void {\n  userRoles.update(roles => {\n    if (!roles.includes(role)) {\n      return [...roles, role]\n    }\n    return roles\n  })\n}\n\n/**\n * ÏÇ¨Ïö©Ïûê Ïó≠Ìï† Ï†úÍ±∞\n */\nexport function removeUserRole(role: UserRole): void {\n  userRoles.update(roles => roles.filter(r => r !== role))\n}\n\n/**\n * ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê ÏÑ§Ï†ï\n */\nexport function setCurrentUser(user: Person): void {\n  currentUser.set(user)\n  setUserRoles(user.roleSet)\n}\n\n/**\n * ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getCurrentUser(): Person | null {\n  let user: Person | null = null\n  currentUser.subscribe(value => (user = value))()\n  return user\n}\n\n/**\n * Í∂åÌïú Ï≤¥ÌÅ¨ Ìó¨Ìçº Ìï®ÏàòÎì§\n */\nexport const permissionChecks = {\n  canReadAll: (roles: UserRole[]) => hasPermission(Permission.READ_ALL, roles),\n  canWriteAll: (roles: UserRole[]) => hasPermission(Permission.WRITE_ALL, roles),\n  canApproveAll: (roles: UserRole[]) => hasPermission(Permission.APPROVE_ALL, roles),\n  canAuditAll: (roles: UserRole[]) => hasPermission(Permission.AUDIT_ALL, roles),\n  canManageBudget: (roles: UserRole[]) => hasPermission(Permission.MANAGE_BUDGET, roles),\n  canManagePersonnel: (roles: UserRole[]) => hasPermission(Permission.MANAGE_PERSONNEL, roles),\n  canCreateReport: (roles: UserRole[]) => hasPermission(Permission.CREATE_REPORT, roles),\n  canUploadDocument: (roles: UserRole[]) => hasPermission(Permission.UPLOAD_DOCUMENT, roles),\n  canViewAuditLog: (roles: UserRole[]) => hasPermission(Permission.VIEW_AUDIT_LOG, roles)\n}\n\n/**\n * ÏóîÌÑ∞Ìã∞Î≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨ Ìó¨Ìçº Ìï®ÏàòÎì§\n */\nexport const entityPermissionChecks = {\n  canReadProject: (roles: UserRole[]) => canPerformAction('Project', 'read', roles),\n  canWriteProject: (roles: UserRole[]) => canPerformAction('Project', 'write', roles),\n  canApproveProject: (roles: UserRole[]) => canPerformAction('Project', 'approve', roles),\n  canLockProject: (roles: UserRole[]) => canPerformAction('Project', 'lock', roles),\n\n  canReadExpense: (roles: UserRole[]) => canPerformAction('ExpenseItem', 'read', roles),\n  canWriteExpense: (roles: UserRole[]) => canPerformAction('ExpenseItem', 'write', roles),\n  canApproveExpense: (roles: UserRole[]) => canPerformAction('ExpenseItem', 'approve', roles),\n  canLockExpense: (roles: UserRole[]) => canPerformAction('ExpenseItem', 'lock', roles),\n\n  canReadDocument: (roles: UserRole[]) => canPerformAction('Document', 'read', roles),\n  canWriteDocument: (roles: UserRole[]) => canPerformAction('Document', 'write', roles),\n  canApproveDocument: (roles: UserRole[]) => canPerformAction('Document', 'approve', roles),\n  canLockDocument: (roles: UserRole[]) => canPerformAction('Document', 'lock', roles),\n\n  canReadResearchNote: (roles: UserRole[]) => canPerformAction('ResearchNote', 'read', roles),\n  canWriteResearchNote: (roles: UserRole[]) => canPerformAction('ResearchNote', 'write', roles),\n  canApproveResearchNote: (roles: UserRole[]) => canPerformAction('ResearchNote', 'approve', roles),\n\n  canReadSubmissionBundle: (roles: UserRole[]) =>\n    canPerformAction('SubmissionBundle', 'read', roles),\n  canWriteSubmissionBundle: (roles: UserRole[]) =>\n    canPerformAction('SubmissionBundle', 'write', roles),\n  canApproveSubmissionBundle: (roles: UserRole[]) =>\n    canPerformAction('SubmissionBundle', 'approve', roles),\n  canLockSubmissionBundle: (roles: UserRole[]) =>\n    canPerformAction('SubmissionBundle', 'lock', roles)\n}\n\n/**\n * Ïó≠Ìï†Î≥Ñ Î©îÎâ¥ Ï†ëÍ∑º Í∂åÌïú ÌôïÏù∏\n */\nexport function canAccessMenu(menuName: string, roles: UserRole[]): boolean {\n  const menuPermissions: Record<string, Permission[]> = {\n    ÎåÄÏãúÎ≥¥Îìú: [Permission.READ_PROJECT],\n    'ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨': [Permission.READ_PROJECT, Permission.WRITE_PROJECT],\n    'ÏòàÏÇ∞ Í¥ÄÎ¶¨': [Permission.MANAGE_BUDGET],\n    'ÏßÄÏ∂ú Í¥ÄÎ¶¨': [Permission.APPROVE_EXPENSE],\n    'Ïù∏Î†• Í¥ÄÎ¶¨': [Permission.MANAGE_PERSONNEL],\n    Ïó∞Íµ¨ÎÖ∏Ìä∏: [Permission.READ_PROJECT],\n    Î¶¨Ìè¨Ìä∏: [Permission.CREATE_REPORT],\n    'Í≤∞Ïû¨ Í¥ÄÎ¶¨': [Permission.APPROVE_ALL],\n    'Íµ≠Í∞ÄR&D ÏóÖÎ°úÎìú': [Permission.WRITE_ALL],\n    'Í∞êÏÇ¨ Î°úÍ∑∏': [Permission.VIEW_AUDIT_LOG]\n  }\n\n  const requiredPermissions = menuPermissions[menuName]\n  if (!requiredPermissions) return false\n\n  return requiredPermissions.some(permission => hasPermission(permission, roles))\n}\n\n/**\n * Îç∞Ïù¥ÌÑ∞ ÎßàÏä§ÌÇπ (ÎØºÍ∞ê Ï†ïÎ≥¥ Î≥¥Ìò∏)\n */\nexport function maskSensitiveData(data: any, roles: UserRole[]): any {\n  if (!data) return data\n\n  // Í≤ΩÏòÅÏßÄÏõêÌåÄÍ≥º Í≤ΩÏòÅÏßÑÎßå Í∏âÏó¨ Ï†ïÎ≥¥ Ï°∞Ìöå Í∞ÄÎä•\n  const canViewSalary = roles.some(role =>\n    [UserRole.MANAGEMENT_SUPPORT, UserRole.EXECUTIVE].includes(role)\n  )\n\n  if (!canViewSalary && data.salary) {\n    data.salary = '***'\n  }\n\n  // Í∞úÏù∏Ï†ïÎ≥¥ ÎßàÏä§ÌÇπ (Ïó∞Íµ¨ÏõêÏùÄ Î≥∏Ïù∏ Ï†ïÎ≥¥Îßå Ï°∞Ìöå Í∞ÄÎä•)\n  const canViewPersonalInfo = roles.some(role =>\n    [UserRole.MANAGEMENT_SUPPORT, UserRole.EXECUTIVE, UserRole.LAB_HEAD].includes(role)\n  )\n\n  if (!canViewPersonalInfo) {\n    if (data.phone) data.phone = '***-****-****'\n    if (data.email) data.email = data.email.replace(/(.{2}).*(@.*)/, '$1***$2')\n  }\n\n  return data\n}\n\n/**\n * Ïó≠Ìï†Î≥Ñ ÎåÄÏãúÎ≥¥Îìú ÌÉÄÏûÖ Í≤∞Ï†ï\n */\nexport function getDashboardType(roles: UserRole[]): string {\n  if (roles.includes(UserRole.EXECUTIVE)) return 'executive'\n  if (roles.includes(UserRole.LAB_HEAD)) return 'lab_head'\n  if (roles.includes(UserRole.PM)) return 'pm'\n  if (roles.includes(UserRole.MANAGEMENT_SUPPORT)) return 'management_support'\n  if (roles.includes(UserRole.DEPARTMENT_HEAD)) return 'department_head'\n  return 'researcher'\n}\n\n/**\n * Ïó≠Ìï†Î≥Ñ Ïö∞ÏÑ†ÏàúÏúÑ (ÎÜíÏùÑÏàòÎ°ù Í∂åÌïúÏù¥ ÎÜíÏùå)\n */\nconst ROLE_PRIORITY: Record<UserRole, number> = {\n  [UserRole.RESEARCHER]: 1,\n  [UserRole.DEPARTMENT_HEAD]: 2,\n  [UserRole.PM]: 3,\n  [UserRole.MANAGEMENT_SUPPORT]: 4,\n  [UserRole.LAB_HEAD]: 5,\n  [UserRole.EXECUTIVE]: 6,\n  [UserRole.AUDITOR]: 7\n}\n\n/**\n * ÏÇ¨Ïö©ÏûêÏùò ÏµúÍ≥† Í∂åÌïú Ïó≠Ìï† Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getHighestRole(roles: UserRole[]): UserRole | null {\n  if (roles.length === 0) return null\n\n  return roles.reduce((highest, current) => {\n    return ROLE_PRIORITY[current] > ROLE_PRIORITY[highest] ? current : highest\n  })\n}\n\n/**\n * Ïó≠Ìï†Î≥Ñ ÏÑ§Î™Ö\n */\nexport const ROLE_DESCRIPTIONS: Record<UserRole, string> = {\n  [UserRole.RESEARCHER]: 'Ïó∞Íµ¨Ïõê - Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏûëÏÑ±, ÏÇ∞Ï∂úÎ¨º ÏóÖÎ°úÎìú, Î≥∏Ïù∏ Ìú¥Í∞Ä/Ï∞∏Ïó¨Ïú® ÌôïÏù∏',\n  [UserRole.PM]:\n    'PM(Í≥ºÏ†úÏ±ÖÏûÑÏûê) - Î∂ÑÍ∏∞ Î™©Ìëú/ÏÇ∞Ï∂úÎ¨º Ï†ïÏùò, Ï∞∏Ïó¨ Î∞∞Ï†ï, ÏßÄÏ∂úÏöîÏ≤≠ ÏäπÏù∏(1Ï∞®), Î¶¨Ïä§ÌÅ¨ Îì±Î°ù',\n  [UserRole.DEPARTMENT_HEAD]: 'Îã¥ÎãπÎ∂ÄÏÑú(Íµ¨Îß§¬∑Í∏∞Ïà† Îì±) - Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏßÄÏ∂ú ÏßëÌñâ/Í≤ÄÏàò, Î¨∏ÏÑú ÏàòÏ∑®',\n  [UserRole.MANAGEMENT_SUPPORT]:\n    'Í≤ΩÏòÅÏßÄÏõê(ÌöåÍ≥Ñ¬∑Ï¥ùÎ¨¥) - ÏòàÏÇ∞ Ìï≠Î™© Í¥ÄÎ¶¨, Ï¶ùÎπô Í≤ÄÌÜ†, ÎÇ¥Î∂Ä Ï†ÑÏûêÍ≤∞Ïû¨ Í∏∞Ïïà/Ï¢ÖÍ≤∞, Íµ≠Í∞ÄR&D ÏóÖÎ°úÎìú Î≤àÎì§ ÏÉùÏÑ±',\n  [UserRole.LAB_HEAD]: 'Ïó∞Íµ¨ÏÜåÏû• - Ï£ºÍ∞Ñ/Î∂ÑÍ∏∞ Î¶¨Ìè¨Ìä∏ ÏàòÏã†, Ï§ëÏöî ÏäπÏù∏(2Ï∞®), Ïù∏Î†• ÍµêÏ≤¥ ÏäπÏù∏',\n  [UserRole.EXECUTIVE]: 'Í≤ΩÏòÅÏßÑ - ÏùòÏÇ¨Í≤∞Ï†ï/ÏóêÏä§Ïª¨Î†àÏù¥ÏÖò ÏäπÏù∏, Ïã†Í∑ú Ï±ÑÏö© Ìä∏Î¶¨Í±∞ ÏäπÏù∏',\n  [UserRole.AUDITOR]: 'Í∞êÏÇ¨/Ïô∏Î∂ÄÌèâÍ∞Ä - ÏùΩÍ∏∞ Ï†ÑÏö©(Í∞êÏÇ¨ Î°úÍ∑∏/Ï¶ùÎπô Î≤àÎì§ Ïó¥Îûå)'\n}\n\n/**\n * Ïó≠Ìï†Î≥Ñ ÌïúÍ∏ÄÎ™Ö\n */\nexport const ROLE_NAMES_KO: Record<UserRole, string> = {\n  [UserRole.RESEARCHER]: 'Ïó∞Íµ¨Ïõê',\n  [UserRole.PM]: 'PM(Í≥ºÏ†úÏ±ÖÏûÑÏûê)',\n  [UserRole.DEPARTMENT_HEAD]: 'Îã¥ÎãπÎ∂ÄÏÑú',\n  [UserRole.MANAGEMENT_SUPPORT]: 'Í≤ΩÏòÅÏßÄÏõê',\n  [UserRole.LAB_HEAD]: 'Ïó∞Íµ¨ÏÜåÏû•',\n  [UserRole.EXECUTIVE]: 'Í≤ΩÏòÅÏßÑ',\n  [UserRole.AUDITOR]: 'Í∞êÏÇ¨'\n}\n\n// ===== Ï¥àÍ∏∞Ìôî Ìï®Ïàò =====\nexport function initializeRBAC(): void {\n  // Í∏∞Î≥∏ ÏÇ¨Ïö©Ïûê ÏÑ§Ï†ï (Í≤ΩÏòÅÏßÄÏõêÌåÄ)\n  const defaultUser: Person = {\n    id: 'user-001',\n    name: 'ÍπÄÍ≤ΩÏòÅ',\n    email: 'kim.kyung@company.com',\n    phone: '010-1234-5678',\n    department: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n    position: 'ÌåÄÏû•',\n    roleSet: [UserRole.MANAGEMENT_SUPPORT],\n    active: true,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n\n  setCurrentUser(defaultUser)\n}\n\n// ===== ÎÇ¥Î≥¥ÎÇ¥Í∏∞ =====\nexport { PERMISSION_MATRIX, ENTITY_PERMISSIONS, ROLE_PRIORITY }\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/rnd/types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/salary/contract-store.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/salary/salary-store.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/theme.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 106,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 106,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 119,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 119,
        "endColumn": 28
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'MediaQueryListEvent' is not defined.",
        "line": 119,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 119,
        "endColumn": 49
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 144,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 144,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { writable, derived } from 'svelte/store'\nimport { browser } from '$app/environment'\n\n// Theme types\nexport type Theme = 'light' | 'dark' | 'auto'\nexport type ColorScheme = 'light' | 'dark'\n\n// Theme configuration\nexport interface ThemeConfig {\n  name: string\n  displayName: string\n  colors: {\n    primary: string\n    secondary: string\n    accent: string\n    background: string\n    surface: string\n    text: string\n    textSecondary: string\n    border: string\n    success: string\n    warning: string\n    error: string\n    info: string\n  }\n}\n\n// Predefined themes\nexport const themes: Record<ColorScheme, ThemeConfig> = {\n  light: {\n    name: 'light',\n    displayName: 'Light',\n    colors: {\n      primary: '#3B82F6',\n      secondary: '#6B7280',\n      accent: '#8B5CF6',\n      background: '#FFFFFF',\n      surface: '#F9FAFB',\n      text: '#111827',\n      textSecondary: '#6B7280',\n      border: '#E5E7EB',\n      success: '#10B981',\n      warning: '#F59E0B',\n      error: '#EF4444',\n      info: '#06B6D4'\n    }\n  },\n  dark: {\n    name: 'dark',\n    displayName: 'Dark',\n    colors: {\n      primary: '#60A5FA',\n      secondary: '#9CA3AF',\n      accent: '#A78BFA',\n      background: '#111827',\n      surface: '#1F2937',\n      text: '#F9FAFB',\n      textSecondary: '#D1D5DB',\n      border: '#374151',\n      success: '#34D399',\n      warning: '#FBBF24',\n      error: '#F87171',\n      info: '#22D3EE'\n    }\n  }\n}\n\n// Theme store\nconst themeStore = writable<Theme>('auto')\nconst systemColorScheme = writable<ColorScheme>('light')\n\n// Current effective theme (resolved from auto)\nexport const currentTheme = derived([themeStore, systemColorScheme], ([theme, systemScheme]) => {\n  if (theme === 'auto') {\n    return systemScheme\n  }\n  return theme as ColorScheme\n})\n\n// Current theme configuration\nexport const themeConfig = derived(currentTheme, scheme => themes[scheme])\n\n// Theme management class\nexport class ThemeManager {\n  private static instance: ThemeManager\n  private store = themeStore\n  private systemStore = systemColorScheme\n\n  private constructor() {\n    if (browser) {\n      this.initializeTheme()\n      this.setupSystemThemeListener()\n    }\n  }\n\n  public static getInstance(): ThemeManager {\n    if (!ThemeManager.instance) {\n      ThemeManager.instance = new ThemeManager()\n    }\n    return ThemeManager.instance\n  }\n\n  // Initialize theme from localStorage and system preference\n  private initializeTheme(): void {\n    // Get saved theme from localStorage\n    const savedTheme = localStorage.getItem('theme') as Theme\n    if (savedTheme && ['light', 'dark', 'auto'].includes(savedTheme)) {\n      this.store.set(savedTheme)\n    }\n\n    // Get system color scheme\n    this.updateSystemColorScheme()\n  }\n\n  // Setup listener for system theme changes\n  private setupSystemThemeListener(): (() => void) | void {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n\n    const handleChange = (e: MediaQueryListEvent) => {\n      this.updateSystemColorScheme()\n    }\n\n    mediaQuery.addEventListener('change', handleChange)\n\n    // Cleanup function\n    return () => {\n      mediaQuery.removeEventListener('change', handleChange)\n    }\n  }\n\n  // Update system color scheme\n  private updateSystemColorScheme(): void {\n    if (browser) {\n      const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n      this.systemStore.set(isDark ? 'dark' : 'light')\n    }\n  }\n\n  // Set theme\n  public setTheme(theme: Theme): void {\n    this.store.set(theme)\n\n    if (browser) {\n      localStorage.setItem('theme', theme)\n      this.applyTheme()\n    }\n  }\n\n  // Get current theme\n  public getTheme(): Theme {\n    let currentTheme: Theme\n    this.store.subscribe(theme => {\n      currentTheme = theme\n    })()\n    return currentTheme!\n  }\n\n  // Apply theme to document\n  public applyTheme(): void {\n    if (!browser) return\n\n    const scheme = this.getEffectiveColorScheme()\n    const config = themes[scheme]\n\n    // Apply CSS custom properties\n    const root = document.documentElement\n\n    Object.entries(config.colors).forEach(([key, value]) => {\n      root.style.setProperty(`--color-${key}`, value)\n    })\n\n    // Set data attribute for CSS selectors\n    root.setAttribute('data-theme', scheme)\n    root.setAttribute('data-color-scheme', scheme)\n\n    // Update meta theme-color\n    const metaThemeColor = document.querySelector('meta[name=\"theme-color\"]')\n    if (metaThemeColor) {\n      metaThemeColor.setAttribute('content', config.colors.primary)\n    }\n  }\n\n  // Get effective color scheme\n  public getEffectiveColorScheme(): ColorScheme {\n    const theme = this.getTheme()\n    if (theme === 'auto') {\n      let systemScheme: ColorScheme\n      this.systemStore.subscribe(scheme => {\n        systemScheme = scheme\n      })()\n      return systemScheme!\n    }\n    return theme as ColorScheme\n  }\n\n  // Toggle between light and dark\n  public toggleTheme(): void {\n    const current = this.getEffectiveColorScheme()\n    const newTheme = current === 'light' ? 'dark' : 'light'\n    this.setTheme(newTheme)\n  }\n\n  // Get available themes\n  public getAvailableThemes(): Array<{ value: Theme; label: string }> {\n    return [\n      { value: 'light', label: 'Light' },\n      { value: 'dark', label: 'Dark' },\n      { value: 'auto', label: 'Auto (System)' }\n    ]\n  }\n\n  // Subscribe to theme changes\n  public subscribe(callback: (theme: Theme) => void) {\n    return this.store.subscribe(callback)\n  }\n\n  // Subscribe to current effective theme\n  public subscribeToCurrent(callback: (scheme: ColorScheme) => void) {\n    return currentTheme.subscribe(callback)\n  }\n\n  // Subscribe to theme config\n  public subscribeToConfig(callback: (config: ThemeConfig) => void) {\n    return themeConfig.subscribe(callback)\n  }\n}\n\n// Export singleton instance\nexport const themeManager = ThemeManager.getInstance()\n\n// Apply theme on initialization\nif (browser) {\n  themeManager.applyTheme()\n\n  // Apply theme when it changes\n  currentTheme.subscribe(() => {\n    themeManager.applyTheme()\n  })\n}\n\n// CSS custom properties for theme colors\nexport const themeCSS = `\n\t:root {\n\t\t--color-primary: ${themes.light.colors.primary};\n\t\t--color-secondary: ${themes.light.colors.secondary};\n\t\t--color-accent: ${themes.light.colors.accent};\n\t\t--color-background: ${themes.light.colors.background};\n\t\t--color-surface: ${themes.light.colors.surface};\n\t\t--color-text: ${themes.light.colors.text};\n\t\t--color-text-secondary: ${themes.light.colors.textSecondary};\n\t\t--color-border: ${themes.light.colors.border};\n\t\t--color-success: ${themes.light.colors.success};\n\t\t--color-warning: ${themes.light.colors.warning};\n\t\t--color-error: ${themes.light.colors.error};\n\t\t--color-info: ${themes.light.colors.info};\n\t}\n\n\t[data-theme=\"dark\"] {\n\t\t--color-primary: ${themes.dark.colors.primary};\n\t\t--color-secondary: ${themes.dark.colors.secondary};\n\t\t--color-accent: ${themes.dark.colors.accent};\n\t\t--color-background: ${themes.dark.colors.background};\n\t\t--color-surface: ${themes.dark.colors.surface};\n\t\t--color-text: ${themes.dark.colors.text};\n\t\t--color-text-secondary: ${themes.dark.colors.textSecondary};\n\t\t--color-border: ${themes.dark.colors.border};\n\t\t--color-success: ${themes.dark.colors.success};\n\t\t--color-warning: ${themes.dark.colors.warning};\n\t\t--color-error: ${themes.dark.colors.error};\n\t\t--color-info: ${themes.dark.colors.info};\n\t}\n`\n\n// Utility functions for components\nexport function useTheme() {\n  return {\n    subscribe: themeManager.subscribe.bind(themeManager),\n    subscribeToCurrent: themeManager.subscribeToCurrent.bind(themeManager),\n    subscribeToConfig: themeManager.subscribeToConfig.bind(themeManager),\n    setTheme: themeManager.setTheme.bind(themeManager),\n    toggleTheme: themeManager.toggleTheme.bind(themeManager),\n    getTheme: themeManager.getTheme.bind(themeManager),\n    getAvailableThemes: themeManager.getAvailableThemes.bind(themeManager)\n  }\n}\n\n// Reactive stores for common theme checks\nexport const isDark = derived(currentTheme, scheme => scheme === 'dark')\nexport const isLight = derived(currentTheme, scheme => scheme === 'light')\nexport const isAuto = derived(themeStore, theme => theme === 'auto')\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/timezone.ts",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 13,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 13,
        "endColumn": 37
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 25,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 25,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { browser } from '$app/environment'\nimport { formatDateForDisplay } from '$lib/utils/date-handler'\nimport { DEFAULT_TIMEZONE, SUPPORTED_TIMEZONES, type Timezone } from '$lib/utils/timezone'\nimport { derived, writable } from 'svelte/store'\nimport { logger } from '$lib/utils/logger';\n\n// ÌÉÄÏûÑÏ°¥ ÏÑ§Ï†ï Ïä§ÌÜ†Ïñ¥\nexport const userTimezone = writable<Timezone>(DEFAULT_TIMEZONE)\n\n// Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú ÏÇ¨Ïö©ÏûêÏùò Í∏∞Î≥∏ ÌÉÄÏûÑÏ°¥ Í∞êÏßÄ\nif (browser) {\n  // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú Ï†ÄÏû•Îêú ÌÉÄÏûÑÏ°¥ ÏÑ§Ï†ï Î∂àÎü¨Ïò§Í∏∞\n  const savedTimezone = localStorage.getItem('user-timezone') as Timezone\n  if (savedTimezone && SUPPORTED_TIMEZONES[savedTimezone]) {\n    userTimezone.set(savedTimezone)\n  } else {\n    // Î∏åÎùºÏö∞Ï†ÄÏùò Í∏∞Î≥∏ ÌÉÄÏûÑÏ°¥ Í∞êÏßÄ\n    const browserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone\n    const detectedTimezone = detectTimezoneFromBrowser(browserTimezone)\n    userTimezone.set(detectedTimezone)\n  }\n\n  // ÌÉÄÏûÑÏ°¥ Î≥ÄÍ≤Ω Ïãú Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóê Ï†ÄÏû•\n  userTimezone.subscribe(timezone => {\n    localStorage.setItem('user-timezone', timezone)\n  })\n}\n\n// Î∏åÎùºÏö∞Ï†Ä ÌÉÄÏûÑÏ°¥ÏùÑ ÏßÄÏõêÌïòÎäî ÌÉÄÏûÑÏ°¥ÏúºÎ°ú Îß§Ìïë\nfunction detectTimezoneFromBrowser(browserTimezone: string): Timezone {\n  const timezoneMap: Record<string, Timezone> = {\n    'Asia/Seoul': 'KST',\n    'Asia/Tokyo': 'JST',\n    'America/New_York': 'EST',\n    'America/Los_Angeles': 'PST',\n    UTC: 'UTC',\n    'Europe/London': 'GMT',\n    'Europe/Paris': 'CET',\n    'Asia/Shanghai': 'CST',\n    'Asia/Kolkata': 'IST',\n    'Australia/Sydney': 'AEST',\n    'Pacific/Auckland': 'NZST'\n  }\n\n  return timezoneMap[browserTimezone] || DEFAULT_TIMEZONE\n}\n\n// ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê ÌÉÄÏûÑÏ°¥ Ï†ïÎ≥¥\nexport const currentTimezone = derived(userTimezone, $timezone => ({\n  timezone: $timezone,\n  timezoneString: SUPPORTED_TIMEZONES[$timezone],\n  offset: getTimezoneOffset($timezone),\n  displayName: getTimezoneDisplayName($timezone)\n}))\n\n// ÌÉÄÏûÑÏ°¥ Ïò§ÌîÑÏÖã Í≥ÑÏÇ∞\nfunction getTimezoneOffset(timezone: Timezone): number {\n  const offsets: Record<Timezone, number> = {\n    UTC: 0,\n    KST: -540, // UTC+9 = -540Î∂Ñ\n    JST: -540, // UTC+9 = -540Î∂Ñ\n    EST: 300, // UTC-5 = +300Î∂Ñ\n    PST: 480, // UTC-8 = +480Î∂Ñ\n    GMT: 0, // UTC+0 = 0Î∂Ñ\n    CET: -60, // UTC+1 = -60Î∂Ñ\n    CST: -480, // UTC+8 = -480Î∂Ñ\n    IST: -330, // UTC+5:30 = -330Î∂Ñ\n    AEST: -600, // UTC+10 = -600Î∂Ñ\n    NZST: -720 // UTC+12 = -720Î∂Ñ\n  }\n  return offsets[timezone]\n}\n\n// ÌÉÄÏûÑÏ°¥ ÌëúÏãúÎ™Ö\nfunction getTimezoneDisplayName(timezone: Timezone): string {\n  const names: Record<Timezone, string> = {\n    UTC: 'UTC (ÌòëÏ†ïÏÑ∏Í≥ÑÏãú)',\n    KST: 'KST (ÌïúÍµ≠ ÌëúÏ§ÄÏãú, UTC+9)',\n    JST: 'JST (ÏùºÎ≥∏ ÌëúÏ§ÄÏãú, UTC+9)',\n    EST: 'EST (ÎØ∏Íµ≠ ÎèôÎ∂Ä ÌëúÏ§ÄÏãú, UTC-5)',\n    PST: 'PST (ÎØ∏Íµ≠ ÏÑúÎ∂Ä ÌëúÏ§ÄÏãú, UTC-8)',\n    GMT: 'GMT (Í∑∏Î¶¨ÎãàÏπò ÌëúÏ§ÄÏãú, UTC+0)',\n    CET: 'CET (Ï§ëÏïôÏú†ÎüΩ ÌëúÏ§ÄÏãú, UTC+1)',\n    CST: 'CST (Ï§ëÍµ≠ ÌëúÏ§ÄÏãú, UTC+8)',\n    IST: 'IST (Ïù∏ÎèÑ ÌëúÏ§ÄÏãú, UTC+5:30)',\n    AEST: 'AEST (Ìò∏Ï£º ÎèôÎ∂Ä ÌëúÏ§ÄÏãú, UTC+10)',\n    NZST: 'NZST (Îâ¥ÏßàÎûúÎìú ÌëúÏ§ÄÏãú, UTC+12)'\n  }\n  return names[timezone]\n}\n\n// ÌÉÄÏûÑÏ°¥ Î≥ÄÍ≤Ω Ìï®Ïàò\nexport function setUserTimezone(timezone: Timezone) {\n  if (SUPPORTED_TIMEZONES[timezone]) {\n    userTimezone.set(timezone)\n  } else {\n    logger.warn(`Unsupported timezone: ${timezone}`)\n  }\n}\n\n// ÌòÑÏû¨ ÏãúÍ∞ÑÏùÑ ÏÇ¨Ïö©Ïûê ÌÉÄÏûÑÏ°¥ÏúºÎ°ú Ìè¨Îß∑ÌåÖ\nexport const currentTime = derived(userTimezone, $timezone => {\n  if (!browser) return ''\n\n  const now = new Date()\n  const timezoneString = SUPPORTED_TIMEZONES[$timezone]\n\n  return {\n    formatted:\n      formatDateForDisplay(now.toISOString(), 'KOREAN') +\n      ' ' +\n      now.toLocaleTimeString('ko-KR', {\n        timeZone: timezoneString,\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      }),\n    dateOnly: formatDateForDisplay(now.toISOString(), 'KOREAN'),\n    timeOnly: now.toLocaleTimeString('ko-KR', {\n      timeZone: timezoneString,\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    })\n  }\n})\n\n// ÏßÄÏõêÌïòÎäî Î™®Îì† ÌÉÄÏûÑÏ°¥ Î™©Î°ù (UIÏö©)\nexport const availableTimezones = Object.entries(SUPPORTED_TIMEZONES).map(([key, value]) => ({\n  key: key as Timezone,\n  value,\n  displayName: getTimezoneDisplayName(key as Timezone),\n  offset: getTimezoneOffset(key as Timezone)\n}))\n\n// ÌÉÄÏûÑÏ°¥Î≥Ñ ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ ÏòµÏÖò\nexport const getDateFormatOptions = (timezone: Timezone) => {\n  const baseOptions: Intl.DateTimeFormatOptions = {\n    timeZone: SUPPORTED_TIMEZONES[timezone],\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  }\n\n  return {\n    date: baseOptions,\n    dateTime: {\n      ...baseOptions,\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      timeZoneName: 'short'\n    },\n    time: {\n      timeZone: SUPPORTED_TIMEZONES[timezone],\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/toasts.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/stores/ui.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/types/common.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 39,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 39,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1290, 1293], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1290, 1293], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 46,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 46,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1405, 1408], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1405, 1408], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Centralized common types to avoid conflicts\n\n// ===== User Roles and Permissions =====\nexport enum UserRole {\n  RESEARCHER = 'RESEARCHER', // Ïó∞Íµ¨Ïõê\n  PM = 'PM', // PM(Í≥ºÏ†úÏ±ÖÏûÑÏûê)\n  DEPARTMENT_HEAD = 'DEPARTMENT_HEAD', // Îã¥ÎãπÎ∂ÄÏÑú(Íµ¨Îß§¬∑Í∏∞Ïà† Îì±)\n  MANAGEMENT_SUPPORT = 'MANAGEMENT_SUPPORT', // Í≤ΩÏòÅÏßÄÏõê(ÌöåÍ≥Ñ¬∑Ï¥ùÎ¨¥)\n  LAB_HEAD = 'LAB_HEAD', // Ïó∞Íµ¨ÏÜåÏû•\n  EXECUTIVE = 'EXECUTIVE', // Í≤ΩÏòÅÏßÑ\n  AUDITOR = 'AUDITOR' // Í∞êÏÇ¨/Ïô∏Î∂ÄÌèâÍ∞Ä\n}\n\nexport enum Permission {\n  READ_ALL = 'READ_ALL',\n  WRITE_ALL = 'WRITE_ALL',\n  APPROVE_ALL = 'APPROVE_ALL',\n  AUDIT_ALL = 'AUDIT_ALL',\n  READ_PROJECT = 'READ_PROJECT',\n  WRITE_PROJECT = 'WRITE_PROJECT',\n  APPROVE_EXPENSE = 'APPROVE_EXPENSE',\n  APPROVE_PROJECT = 'APPROVE_PROJECT',\n  READ_PERSONNEL = 'READ_PERSONNEL',\n  WRITE_PERSONNEL = 'WRITE_PERSONNEL',\n  READ_REPORTS = 'READ_REPORTS',\n  WRITE_REPORTS = 'WRITE_REPORTS'\n}\n\n// ===== Basic Types =====\nexport type UUID = string\nexport type DateString = string\nexport type Currency = 'KRW' | 'USD' | 'EUR'\nexport type HealthStatus = 'green' | 'amber' | 'red'\nexport type ApprovalStatus = 'pending' | 'approved' | 'rejected' | 'cancelled'\nexport type DocumentStatus = 'draft' | 'submitted' | 'approved' | 'locked'\nexport type ProjectStatus = 'planning' | 'active' | 'completed'\n\n// ===== API Response Types =====\nexport interface ApiResponse<T = any> {\n  success: boolean\n  data?: T\n  error?: string\n  message?: string\n}\n\nexport interface PaginatedResponse<T = any> extends ApiResponse<T[]> {\n  pagination: {\n    page: number\n    limit: number\n    total: number\n    totalPages: number\n  }\n}\n\n// ===== Form Data Types =====\nexport interface ProjectFormData {\n  name: string\n  description: string\n  startDate: string\n  endDate: string\n  budget: number\n  organization: string\n  personnelIds: string[]\n}\n\nexport interface ExpenseFormData {\n  projectId: string\n  category: string\n  description: string\n  amount: number\n  date: string\n  receiptUrl?: string\n}\n\nexport interface MilestoneFormData {\n  projectId: string\n  name: string\n  description: string\n  targetDate: string\n  deliverables: string[]\n}\n\n// ===== Dashboard Types =====\nexport interface DashboardData {\n  projects: {\n    total: number\n    active: number\n    completed: number\n    overdue: number\n  }\n  expenses: {\n    total: number\n    budget: number\n    remaining: number\n  }\n  personnel: {\n    total: number\n    allocated: number\n    available: number\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/types/hr.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/types/index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/types/project-budget.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 66,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 66,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1458, 1461], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1458, 1461], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// ÌîÑÎ°úÏ†ùÌä∏ Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Íµ¨Ï°∞ ÌÉÄÏûÖ Ï†ïÏùò\n\nexport interface ProjectBudgetStructure {\n  projectId: string\n  totalBudget: number // Ï†ÑÏ≤¥ ÏÇ¨ÏóÖÎπÑ (Î™®Îì† Ïó∞Ï∞® Ìï©Í≥Ñ)\n  annualBudgets: AnnualBudget[] // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface AnnualBudget {\n  id: string\n  projectId: string\n  year: number // Ïó∞Ï∞® (1Ï∞®ÎÖÑÎèÑ, 2Ï∞®ÎÖÑÎèÑ Îì±)\n  startDate?: string // Ïó∞Ï∞® ÏãúÏûëÏùº\n  endDate?: string // Ïó∞Ï∞® Ï¢ÖÎ£åÏùº\n\n  // ÏßÄÏõêÍ∏à (ÌòÑÍ∏àÎßå)\n  governmentFunding: number // Ï†ïÎ∂Ä ÏßÄÏõêÍ∏à (ÌòÑÍ∏à)\n\n  // Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à\n  companyCash: number // Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à (ÌòÑÍ∏à)\n  companyInKind: number // Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à (ÌòÑÎ¨º)\n\n  // Í≥ÑÏÇ∞Îêú Í∞íÎì§\n  totalCash: number // ÌòÑÍ∏à Ï¥ùÏï° (ÏßÄÏõêÍ∏à + Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à ÌòÑÍ∏à)\n  totalInKind: number // ÌòÑÎ¨º Ï¥ùÏï° (Í∏∞ÏóÖÎ∂ÄÎã¥Í∏à ÌòÑÎ¨º)\n  yearlyTotal: number // Ïó∞Ï∞® ÏÇ¨ÏóÖÎπÑ (ÌòÑÍ∏à + ÌòÑÎ¨º)\n\n  status: 'draft' | 'submitted' | 'approved' | 'active' | 'completed'\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\n// ÏòàÏÇ∞ ÏûÖÎ†•/ÏàòÏ†ïÏùÑ ÏúÑÌïú Ìèº Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ\nexport interface AnnualBudgetFormData {\n  year: number\n  startDate?: string\n  endDate?: string\n  governmentFunding: number\n  companyCash: number\n  companyInKind: number\n  notes?: string\n}\n\n// ÏòàÏÇ∞ ÏöîÏïΩ Ï†ïÎ≥¥\nexport interface BudgetSummary {\n  projectId: string\n  totalYears: number\n  totalBudget: number\n  totalGovernmentFunding: number\n  totalCompanyCash: number\n  totalCompanyInKind: number\n  totalCash: number\n  totalInKind: number\n\n  // ÎπÑÏú® Ï†ïÎ≥¥\n  governmentFundingRatio: number // ÏßÄÏõêÍ∏à ÎπÑÏú®\n  companyBurdenRatio: number // Í∏∞ÏóÖÎ∂ÄÎã¥ ÎπÑÏú®\n  cashRatio: number // ÌòÑÍ∏à ÎπÑÏú®\n  inKindRatio: number // ÌòÑÎ¨º ÎπÑÏú®\n}\n\n// API ÏùëÎãµ ÌÉÄÏûÖ\nexport interface BudgetApiResponse<T = any> {\n  success: boolean\n  data?: T\n  error?: string\n  message?: string\n}\n\n// ÏòàÏÇ∞ Í≤ÄÏ¶ù Í≤∞Í≥º\nexport interface BudgetValidationResult {\n  isValid: boolean\n  errors: string[]\n  warnings: string[]\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/types/salary-contracts.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/types/salary.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/ai-coding-guidelines.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'logger' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 1,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "unused-imports/no-unused-imports",
        "severity": 2,
        "message": "'logger' is defined but never used.",
        "line": 1,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 16,
        "fix": { "range": [0, 44], "text": "" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 1,
    "fixableWarningCount": 0,
    "source": "import { logger } from '$lib/utils/logger';\n// AI ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Î∞è ÏπºÎüºÎ™Ö Í≤ÄÏ¶ù ÎèÑÍµ¨\n\nexport interface CodingGuideline {\n  id: string\n  category: string\n  title: string\n  description: string\n  examples: {\n    good: string[]\n    bad: string[]\n  }\n  severity: 'error' | 'warning' | 'info'\n}\n\nexport interface ValidationRule {\n  pattern: RegExp\n  message: string\n  severity: 'error' | 'warning' | 'info'\n}\n\n// AI ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Ï†ïÏùò\nexport const AI_CODING_GUIDELINES: CodingGuideline[] = [\n  {\n    id: 'column-naming',\n    category: 'Database',\n    title: 'ÏπºÎüºÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÏôÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['user_id', 'created_at', 'first_name', 'budget_total'],\n      bad: ['userId', 'CreatedAt', 'firstName', 'budget-total', 'BudgetTotal']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'table-naming',\n    category: 'Database',\n    title: 'ÌÖåÏù¥Î∏îÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'ÌÖåÏù¥Î∏îÎ™ÖÏùÄ Î≥µÏàòÌòï ÏÜåÎ¨∏ÏûêÏôÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['projects', 'project_budgets', 'project_members', 'evidence_items'],\n      bad: ['Project', 'projectBudget', 'project-members', 'EvidenceItems']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'foreign-key-naming',\n    category: 'Database',\n    title: 'Ïô∏ÎûòÌÇ§ Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'Ïô∏ÎûòÌÇ§Îäî Ï∞∏Ï°∞ÌïòÎäî ÌÖåÏù¥Î∏îÎ™Ö_id ÌòïÌÉúÏó¨Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['project_id', 'employee_id', 'category_id', 'budget_id'],\n      bad: ['projectId', 'employee', 'cat_id', 'budgetId']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'api-endpoint-naming',\n    category: 'API',\n    title: 'API ÏóîÎìúÌè¨Ïù∏Ìä∏ Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'API ÏóîÎìúÌè¨Ïù∏Ìä∏Îäî kebab-caseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['/api/project-management/projects', '/api/project-management/budget-validation'],\n      bad: ['/api/projectManagement/projects', '/api/project_management/budgetValidation']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'variable-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'Î≥ÄÏàòÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'JavaScript/TypeScript Î≥ÄÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['projectId', 'budgetTotal', 'isValid', 'validationResults'],\n      bad: ['project_id', 'budget_total', 'is_valid', 'validation_results']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'function-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'Ìï®ÏàòÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'Ìï®ÏàòÎ™ÖÏùÄ ÎèôÏÇ¨Î°ú ÏãúÏûëÌïòÎäî camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['validateProject', 'calculateBudget', 'getEmployeeInfo', 'createValidationResult'],\n      bad: ['project_validate', 'budget_calculate', 'employee_info', 'validation_result_create']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'class-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'ÌÅ¥ÎûòÏä§Î™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'ÌÅ¥ÎûòÏä§Î™ÖÏùÄ PascalCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['ValidationUtils', 'PersonnelCostValidator', 'ProjectManager', 'BudgetCalculator'],\n      bad: ['validation_utils', 'personnelCostValidator', 'project_manager', 'budget_calculator']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'constant-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'ÏÉÅÏàòÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'ÏÉÅÏàòÎ™ÖÏùÄ UPPER_SNAKE_CASEÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['DEFAULT_VALIDATION_RULES', 'MAX_RETRY_COUNT', 'API_BASE_URL'],\n      bad: ['defaultValidationRules', 'maxRetryCount', 'apiBaseUrl']\n    },\n    severity: 'warning'\n  },\n  {\n    id: 'sql-query-formatting',\n    category: 'SQL',\n    title: 'SQL ÏøºÎ¶¨ Ìè¨Îß∑ÌåÖ',\n    description: 'SQL ÏøºÎ¶¨Îäî Í∞ÄÎèÖÏÑ±ÏùÑ ÏúÑÌï¥ Ï†ÅÏ†àÌûà Îì§Ïó¨Ïì∞Í∏∞ÌïòÍ≥† Ï§ÑÎ∞îÍøàÌï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: [\n        `SELECT \n\t\t\t\t\tp.id,\n\t\t\t\t\tp.title,\n\t\t\t\t\tp.budget_total\n\t\t\t\tFROM projects p\n\t\t\t\tWHERE p.status = 'active'\n\t\t\t\tORDER BY p.created_at DESC`\n      ],\n      bad: [\n        `SELECT p.id, p.title, p.budget_total FROM projects p WHERE p.status = 'active' ORDER BY p.created_at DESC`\n      ]\n    },\n    severity: 'warning'\n  },\n  {\n    id: 'error-handling',\n    category: 'Error Handling',\n    title: 'ÏóêÎü¨ Ï≤òÎ¶¨ Í∑úÏπô',\n    description: 'Î™®Îì† API Ìò∏Ï∂úÍ≥º Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏûëÏóÖÏóêÎäî Ï†ÅÏ†àÌïú ÏóêÎü¨ Ï≤òÎ¶¨Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.',\n    examples: {\n      good: [\n        `try {\n\t\t\t\t\tconst result = await pool.query(query, params);\n\t\t\t\t\treturn result.rows;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('Database query error:', error);\n\t\t\t\t\tthrow new Error('Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏøºÎ¶¨ Ïã§Ìå®');\n\t\t\t\t}`\n      ],\n      bad: [\n        `const result = await pool.query(query, params);\n\t\t\t\treturn result.rows;`\n      ]\n    },\n    severity: 'error'\n  }\n]\n\n// Í≤ÄÏ¶ù Í∑úÏπô Ï†ïÏùò\nexport const VALIDATION_RULES: ValidationRule[] = [\n  // ÏπºÎüºÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[a-z][a-z0-9_]*$/,\n    message: 'ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏãúÏûëÌïòÍ≥†, ÏÜåÎ¨∏Ïûê, Ïà´Ïûê, Ïñ∏ÎçîÏä§ÏΩîÏñ¥Îßå ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.',\n    severity: 'error'\n  },\n  {\n    pattern: /^[a-z][a-z0-9_]*_id$/,\n    message: 'Ïô∏ÎûòÌÇ§ ÏπºÎüºÎ™ÖÏùÄ ÌÖåÏù¥Î∏îÎ™Ö_id ÌòïÌÉúÏó¨Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // Î≥ÄÏàòÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[a-z][a-zA-Z0-9]*$/,\n    message: 'Î≥ÄÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // Ìï®ÏàòÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[a-z][a-zA-Z0-9]*$/,\n    message: 'Ìï®ÏàòÎ™ÖÏùÄ ÎèôÏÇ¨Î°ú ÏãúÏûëÌïòÎäî camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // ÌÅ¥ÎûòÏä§Î™Ö Í∑úÏπô\n  {\n    pattern: /^[A-Z][a-zA-Z0-9]*$/,\n    message: 'ÌÅ¥ÎûòÏä§Î™ÖÏùÄ PascalCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // ÏÉÅÏàòÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[A-Z][A-Z0-9_]*$/,\n    message: 'ÏÉÅÏàòÎ™ÖÏùÄ UPPER_SNAKE_CASEÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'warning'\n  }\n]\n\n// AI ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù ÎèÑÍµ¨\nexport class AICodingValidator {\n  /**\n   * ÏπºÎüºÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateColumnName(columnName: string): { isValid: boolean; issues: string[] } {\n    const issues: string[] = []\n\n    // 1. ÏÜåÎ¨∏Ïûê Í≤ÄÏ¶ù\n    if (columnName !== columnName.toLowerCase()) {\n      issues.push('ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏûëÏÑ±Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n\n    // 2. Ïñ∏ÎçîÏä§ÏΩîÏñ¥ ÏÇ¨Ïö© Í≤ÄÏ¶ù\n    if (columnName.includes('-') || /[A-Z]/.test(columnName)) {\n      issues.push('ÏπºÎüºÎ™ÖÏùÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥(_)Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§. (camelCase Í∏àÏßÄ)')\n    }\n\n    // 3. ÏòàÏïΩÏñ¥ Í≤ÄÏ¶ù\n    const reservedWords = ['name', 'type', 'order', 'group', 'user', 'date', 'time']\n    if (reservedWords.includes(columnName.toLowerCase())) {\n      issues.push(`ÏòàÏïΩÏñ¥ '${columnName}' ÏÇ¨Ïö©ÏùÑ ÌîºÌï¥Ïïº Ìï©ÎãàÎã§.`)\n    }\n\n    // 4. Ìå®ÌÑ¥ Í≤ÄÏ¶ù\n    const columnRule = VALIDATION_RULES.find(rule => rule.message.includes('ÏπºÎüºÎ™Ö'))\n    if (columnRule && !columnRule.pattern.test(columnName)) {\n      issues.push(columnRule.message)\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  /**\n   * Î≥ÄÏàòÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateVariableName(variableName: string): { isValid: boolean; issues: string[] } {\n    const issues: string[] = []\n\n    // 1. camelCase Í≤ÄÏ¶ù\n    if (!/^[a-z][a-zA-Z0-9]*$/.test(variableName)) {\n      issues.push('Î≥ÄÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n\n    // 2. Ïñ∏ÎçîÏä§ÏΩîÏñ¥ ÏÇ¨Ïö© Í∏àÏßÄ\n    if (variableName.includes('_')) {\n      issues.push('Î≥ÄÏàòÎ™ÖÏóêÎäî Ïñ∏ÎçîÏä§ÏΩîÏñ¥(_)Î•º ÏÇ¨Ïö©ÌïòÏßÄ ÎßàÏÑ∏Ïöî.')\n    }\n\n    // 3. ÎåÄÎ¨∏ÏûêÎ°ú ÏãúÏûë Í∏àÏßÄ\n    if (/^[A-Z]/.test(variableName)) {\n      issues.push('Î≥ÄÏàòÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏãúÏûëÌï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  /**\n   * Ìï®ÏàòÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateFunctionName(functionName: string): { isValid: boolean; issues: string[] } {\n    const issues: string[] = []\n\n    // 1. camelCase Í≤ÄÏ¶ù\n    if (!/^[a-z][a-zA-Z0-9]*$/.test(functionName)) {\n      issues.push('Ìï®ÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n\n    // 2. ÎèôÏÇ¨Î°ú ÏãúÏûëÌïòÎäîÏßÄ Í≤ÄÏ¶ù\n    const verbPrefixes = [\n      'get',\n      'set',\n      'create',\n      'update',\n      'delete',\n      'validate',\n      'calculate',\n      'check',\n      'find',\n      'search',\n      'parse',\n      'format',\n      'convert',\n      'transform',\n      'process',\n      'handle',\n      'execute',\n      'run',\n      'start',\n      'stop',\n      'init',\n      'load',\n      'save',\n      'export',\n      'import'\n    ]\n    const startsWithVerb = verbPrefixes.some(prefix => functionName.startsWith(prefix))\n\n    if (!startsWithVerb) {\n      issues.push('Ìï®ÏàòÎ™ÖÏùÄ ÎèôÏÇ¨Î°ú ÏãúÏûëÌï¥Ïïº Ìï©ÎãàÎã§. (Ïòà: get, set, create, validate Îì±)')\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  /**\n   * ÌÅ¥ÎûòÏä§Î™Ö Í≤ÄÏ¶ù\n   */\n  static validateClassName(className: string): { isValid: boolean; issues: string[] } {\n    const issues: string[] = []\n\n    // 1. PascalCase Í≤ÄÏ¶ù\n    if (!/^[A-Z][a-zA-Z0-9]*$/.test(className)) {\n      issues.push('ÌÅ¥ÎûòÏä§Î™ÖÏùÄ PascalCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n\n    // 2. Î™ÖÏÇ¨Î°ú ÎÅùÎÇòÎäîÏßÄ Í≤ÄÏ¶ù\n    const nounSuffixes = [\n      'Manager',\n      'Validator',\n      'Calculator',\n      'Handler',\n      'Service',\n      'Controller',\n      'Repository',\n      'Model',\n      'Entity',\n      'Utils',\n      'Helper',\n      'Factory',\n      'Builder'\n    ]\n    const endsWithNoun = nounSuffixes.some(suffix => className.endsWith(suffix))\n\n    if (!endsWithNoun) {\n      issues.push('ÌÅ¥ÎûòÏä§Î™ÖÏùÄ Î™ÖÏÇ¨Î°ú ÎÅùÎÇòÏïº Ìï©ÎãàÎã§. (Ïòà: Manager, Validator, Utils Îì±)')\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  /**\n   * SQL ÏøºÎ¶¨ Í≤ÄÏ¶ù\n   */\n  static validateSQLQuery(query: string): { isValid: boolean; issues: string[] } {\n    const issues: string[] = []\n\n    // 1. SQL Ïù∏Ï†ùÏÖò Î∞©ÏßÄ Í≤ÄÏ¶ù\n    const dangerousPatterns = [\n      /;\\s*drop\\s+table/i,\n      /;\\s*delete\\s+from/i,\n      /;\\s*truncate/i,\n      /union\\s+select/i,\n      /or\\s+1\\s*=\\s*1/i\n    ]\n\n    for (const pattern of dangerousPatterns) {\n      if (pattern.test(query)) {\n        issues.push('ÏúÑÌóòÌïú SQL Ìå®ÌÑ¥Ïù¥ Í∞êÏßÄÎêòÏóàÏäµÎãàÎã§.')\n        break\n      }\n    }\n\n    // 2. ÌååÎùºÎØ∏ÌÑ∞ÌôîÎêú ÏøºÎ¶¨ ÏÇ¨Ïö© Í≤ÄÏ¶ù\n    if (query.includes(\"'\") && !query.includes('$')) {\n      issues.push('ÌïòÎìúÏΩîÎî©Îêú Î¨∏ÏûêÏó¥ ÎåÄÏã† ÌååÎùºÎØ∏ÌÑ∞ÌôîÎêú ÏøºÎ¶¨Î•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.')\n    }\n\n    // 3. Ï†ÅÏ†àÌïú Îì§Ïó¨Ïì∞Í∏∞ Í≤ÄÏ¶ù\n    const lines = query.split('\\n')\n    let hasIndentation = false\n    for (const line of lines) {\n      if (line.trim() && line.startsWith('  ')) {\n        hasIndentation = true\n        break\n      }\n    }\n\n    if (lines.length > 3 && !hasIndentation) {\n      issues.push('SQL ÏøºÎ¶¨Îäî Í∞ÄÎèÖÏÑ±ÏùÑ ÏúÑÌï¥ Ï†ÅÏ†àÌûà Îì§Ïó¨Ïì∞Í∏∞ÌïòÏÑ∏Ïöî.')\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  /**\n   * Ï†ÑÏ≤¥ ÏΩîÎìú Í≤ÄÏ¶ù\n   */\n  static validateCode(\n    code: string,\n    language: 'typescript' | 'sql' | 'javascript'\n  ): {\n    isValid: boolean\n    issues: Array<{ type: string; message: string; severity: 'error' | 'warning' | 'info' }>\n  } {\n    const issues: Array<{ type: string; message: string; severity: 'error' | 'warning' | 'info' }> =\n      []\n\n    if (language === 'sql') {\n      const sqlValidation = this.validateSQLQuery(code)\n      if (!sqlValidation.isValid) {\n        issues.push(\n          ...sqlValidation.issues.map(issue => ({\n            type: 'sql',\n            message: issue,\n            severity: 'error' as const\n          }))\n        )\n      }\n    }\n\n    // TypeScript/JavaScript ÏΩîÎìú Í≤ÄÏ¶ù\n    if (language === 'typescript' || language === 'javascript') {\n      // ÏóêÎü¨ Ï≤òÎ¶¨ Í≤ÄÏ¶ù\n      if (code.includes('await') && !code.includes('try') && !code.includes('catch')) {\n        issues.push({\n          type: 'error-handling',\n          message: 'ÎπÑÎèôÍ∏∞ ÏûëÏóÖÏóêÎäî Ï†ÅÏ†àÌïú ÏóêÎü¨ Ï≤òÎ¶¨Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.',\n          severity: 'error'\n        })\n      }\n\n      // ÌÉÄÏûÖ ÏïàÏ†ÑÏÑ± Í≤ÄÏ¶ù\n      if (language === 'typescript' && code.includes('any')) {\n        issues.push({\n          type: 'type-safety',\n          message: 'any ÌÉÄÏûÖ ÏÇ¨Ïö©ÏùÑ ÌîºÌïòÍ≥† Íµ¨Ï≤¥Ï†ÅÏù∏ ÌÉÄÏûÖÏùÑ ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.',\n          severity: 'warning'\n        })\n      }\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  /**\n   * Í∞ÄÏù¥ÎìúÎùºÏù∏ Ï°∞Ìöå\n   */\n  static getGuidelines(category?: string): CodingGuideline[] {\n    if (category) {\n      return AI_CODING_GUIDELINES.filter(guideline => guideline.category === category)\n    }\n    return AI_CODING_GUIDELINES\n  }\n\n  /**\n   * Í≤ÄÏ¶ù Í∑úÏπô Ï°∞Ìöå\n   */\n  static getValidationRules(): ValidationRule[] {\n    return VALIDATION_RULES\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/api-data-transformer.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 46,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 46,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1193, 1196], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1193, 1196], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 92,
        "column": 52,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 92,
        "endColumn": 55,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2312, 2315], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2312, 2315], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 127,
        "column": 52,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 127,
        "endColumn": 55,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3076, 3079], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3076, 3079], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 156,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 156,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3650, 3653], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3650, 3653], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 169,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 169,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3916, 3919], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3916, 3919], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 183,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 183,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4178, 4181], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4178, 4181], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 214,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 214,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5053, 5056], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5053, 5056], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 235,
        "column": 76,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 235,
        "endColumn": 79,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5666, 5669], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5666, 5669], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 249,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 249,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5975, 5978], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5975, 5978], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 249,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 249,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5981, 5984], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5981, 5984], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 254,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 254,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6165, 6168], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6165, 6168], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 11,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// API Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò Ïú†Ìã∏Î¶¨Ìã∞\n// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ snake_caseÎ•º JavaScript camelCaseÎ°ú Î≥ÄÌôòÌïòÎäî Í≥µÌÜµ Ìï®ÏàòÎì§\n\nimport { formatDateForAPI } from './date-calculator'\nimport { formatEmployeeName } from './format'\n\n/**\n * ÌïúÍµ≠ Ïù¥Î¶ÑÏùÑ ÌëúÏ§Ä ÌòïÏãùÏúºÎ°ú Ìè¨Îß∑ÌåÖ (ÏÑ±+Ïù¥Î¶Ñ, ÎùÑÏñ¥Ïì∞Í∏∞ ÏóÜÏùå)\n */\nfunction formatKoreanNameStandard(fullName: string): string {\n  if (!fullName || typeof fullName !== 'string') return ''\n\n  const trimmed = fullName.trim()\n\n  // Ïù¥ÎØ∏ ÌëúÏ§Ä ÌòïÏãùÏù∏ Í≤ΩÏö∞ (ÎùÑÏñ¥Ïì∞Í∏∞ ÏóÜÏùå)\n  if (!trimmed.includes(' ')) {\n    return trimmed\n  }\n\n  // ÌïúÍµ≠ Ïù¥Î¶ÑÏù∏ÏßÄ ÌôïÏù∏ (ÌïúÍ∏Ä Ï†ïÍ∑úÏãù)\n  const koreanRegex = /^[Í∞Ä-Ìû£\\s]+$/\n  if (koreanRegex.test(trimmed)) {\n    // Í≥µÎ∞±ÏúºÎ°ú Î∂ÑÎ¶¨\n    const parts = trimmed.split(/\\s+/)\n    if (parts.length === 2) {\n      const [first, second] = parts\n\n      // ÏùºÎ∞òÏ†ÅÏúºÎ°ú ÏÑ±ÏùÄ 1Í∏ÄÏûê, Ïù¥Î¶ÑÏùÄ 2Í∏ÄÏûê Ïù¥ÏÉÅ\n      if (first.length >= 2 && second.length === 1) {\n        // \"ÏßÄÏùÄ Ï∞®\" -> \"Ï∞®ÏßÄÏùÄ\" (Ïù¥Î¶Ñ ÏÑ± -> ÏÑ± Ïù¥Î¶Ñ)\n        return formatEmployeeName({ last_name: second, first_name: first })\n      } else if (first.length === 1 && second.length >= 2) {\n        // \"Ï∞® ÏßÄÏùÄ\" -> \"Ï∞®ÏßÄÏùÄ\" (Ïù¥ÎØ∏ Ïò¨Î∞îÎ•∏ ÏàúÏÑú)\n        return formatEmployeeName({ last_name: first, first_name: second })\n      }\n    }\n  }\n\n  // ÌïúÍµ≠ Ïù¥Î¶ÑÏù¥ ÏïÑÎãå Í≤ΩÏö∞ ÏõêÎ≥∏ Î∞òÌôò\n  return trimmed\n}\n\n/**\n * ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformProjectData(project: any) {\n  // snake_case ÌïÑÎìúÎì§ÏùÑ Ï†úÍ±∞ÌïòÍ≥† camelCaseÎ°úÎßå Íµ¨ÏÑ±\n  const {\n    start_date,\n    end_date,\n    manager_id,\n    budget_total,\n    sponsor_type,\n    sponsor_name,\n    research_type,\n    technology_area,\n    created_at,\n    updated_at,\n    manager_name,\n    member_count,\n    total_participation_rate,\n    budget_currency,\n    ...otherFields\n  } = project\n\n  return {\n    ...otherFields,\n    // camelCaseÎ°ú Î≥ÄÌôòÎêú ÌïÑÎìúÎì§Îßå Ìè¨Ìï®\n    startDate: formatDateForAPI(start_date),\n    endDate: formatDateForAPI(end_date),\n    managerId: manager_id,\n    budgetTotal: budget_total,\n    sponsorType: sponsor_type,\n    sponsorName: sponsor_name,\n    researchType: research_type,\n    technologyArea: technology_area,\n    createdAt: created_at,\n    updatedAt: updated_at,\n    budgetCurrency: budget_currency,\n    // Ï∂îÍ∞Ä ÌïÑÎìúÎì§\n    ...(manager_name && { managerName: manager_name }),\n    ...(member_count && { memberCount: parseInt(member_count) || 0 }),\n    ...(total_participation_rate && {\n      totalParticipationRate: parseInt(total_participation_rate) || 0\n    })\n  }\n}\n\n/**\n * ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformProjectMemberData(member: any) {\n  // snake_case ÌïÑÎìúÎì§ÏùÑ Ï†úÍ±∞ÌïòÍ≥† camelCaseÎ°úÎßå Íµ¨ÏÑ±\n  const {\n    employee_id,\n    employee_name,\n    project_id,\n    start_date,\n    end_date,\n    participation_rate,\n    contribution_type,\n    monthly_amount,\n    created_at,\n    updated_at,\n    ...otherFields\n  } = member\n\n  return {\n    ...otherFields,\n    // camelCaseÎ°ú Î≥ÄÌôòÎêú ÌïÑÎìúÎì§Îßå Ìè¨Ìï®\n    employeeId: employee_id,\n    employeeName: employee_name,\n    projectId: project_id,\n    startDate: formatDateForAPI(start_date),\n    endDate: formatDateForAPI(end_date),\n    participationRate: participation_rate,\n    contributionType: contribution_type,\n    monthlyAmount: monthly_amount,\n    createdAt: created_at,\n    updatedAt: updated_at\n  }\n}\n\n/**\n * ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformProjectBudgetData(budget: any) {\n  // snake_case ÌïÑÎìúÎì§ÏùÑ Ï†úÍ±∞ÌïòÍ≥† camelCaseÎ°úÎßå Íµ¨ÏÑ±\n  const {\n    project_id,\n    start_date,\n    end_date,\n    fiscal_year,\n    period_number,\n    created_at,\n    updated_at,\n    ...otherFields\n  } = budget\n\n  return {\n    ...otherFields,\n    // camelCaseÎ°ú Î≥ÄÌôòÎêú ÌïÑÎìúÎì§Îßå Ìè¨Ìï®\n    projectId: project_id,\n    startDate: formatDateForAPI(start_date),\n    endDate: formatDateForAPI(end_date),\n    fiscalYear: fiscal_year,\n    periodNumber: period_number,\n    createdAt: created_at,\n    updatedAt: updated_at\n  }\n}\n\n/**\n * ÎßàÏùºÏä§ÌÜ§ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformMilestoneData(milestone: any) {\n  return {\n    ...milestone,\n    projectId: milestone.project_id,\n    dueDate: formatDateForAPI(milestone.due_date),\n    createdAt: milestone.created_at,\n    updatedAt: milestone.updated_at\n  }\n}\n\n/**\n * Î¶¨Ïä§ÌÅ¨ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformRiskData(risk: any) {\n  return {\n    ...risk,\n    projectId: risk.project_id,\n    ownerId: risk.owner_id,\n    ownerName: risk.owner_name,\n    createdAt: risk.created_at,\n    updatedAt: risk.updated_at\n  }\n}\n\n/**\n * ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformEmployeeData(employee: any) {\n  const lastName = employee.last_name || ''\n  const firstName = employee.first_name || ''\n\n  return {\n    ...employee,\n    employeeId: employee.employee_id,\n    firstName: firstName,\n    lastName: lastName,\n    phoneNumber: employee.phone_number,\n    emailAddress: employee.email_address,\n    departmentId: employee.department_id,\n    positionId: employee.position_id,\n    hireDate: formatDateForAPI(employee.hire_date),\n    salaryAmount: employee.salary_amount,\n    createdAt: employee.created_at,\n    updatedAt: employee.updated_at,\n    // ÏßÅÏõê Ïù¥Î¶ÑÏùÑ ÌëúÏ§Ä ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò\n    ...(lastName &&\n      firstName && {\n        displayName: formatEmployeeName({ last_name: lastName, first_name: firstName })\n      }),\n    ...(employee.name && {\n      name: formatKoreanNameStandard(employee.name)\n    })\n  }\n}\n\n/**\n * Ï¶ùÎπô Ìï≠Î™© Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n */\nexport function transformEvidenceItemData(evidence: any) {\n  return {\n    ...evidence,\n    projectId: evidence.project_id,\n    projectBudgetId: evidence.project_budget_id,\n    dueDate: formatDateForAPI(evidence.due_date),\n    createdAt: evidence.created_at,\n    updatedAt: evidence.updated_at,\n    // Îã¥ÎãπÏûê Ïù¥Î¶ÑÏùÑ ÌëúÏ§Ä ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò\n    ...(evidence.assignee_full_name && {\n      assigneeFullName: formatKoreanNameStandard(evidence.assignee_full_name)\n    }),\n    ...(evidence.assignee_name && {\n      assigneeName: formatKoreanNameStandard(evidence.assignee_name)\n    })\n  }\n}\n\n/**\n * Î∞∞Ïó¥ Îç∞Ïù¥ÌÑ∞ ÏùºÍ¥Ñ Î≥ÄÌôò\n */\nexport function transformArrayData<T>(data: unknown[], transformer: (item: any) => T): T[] {\n  return data.map(transformer)\n}\n\n/**\n * ÏùºÎ∞òÏ†ÅÏù∏ snake_case to camelCase Î≥ÄÌôò\n */\nexport function toCamelCase(str: string): string {\n  return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase())\n}\n\n/**\n * Í∞ùÏ≤¥Ïùò Î™®Îì† ÌÇ§Î•º snake_caseÏóêÏÑú camelCaseÎ°ú Î≥ÄÌôò\n */\nexport function transformObjectKeys(obj: any): any {\n  if (obj === null || obj === undefined) return obj\n  if (Array.isArray(obj)) return obj.map(transformObjectKeys)\n  if (typeof obj !== 'object') return obj\n\n  const transformed: any = {}\n  for (const [key, value] of Object.entries(obj)) {\n    const camelKey = toCamelCase(key)\n    transformed[camelKey] = transformObjectKeys(value)\n  }\n  return transformed\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/api.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/auto-validation-hooks.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [588, 591], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [588, 591], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 118,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 118,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2857, 2860], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2857, 2860], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 119,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 119,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2873, 2876], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2873, 2876], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 120,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 120,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2893, 2896], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2893, 2896], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 123,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 123,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2948, 2951], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2948, 2951], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 124,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 124,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2975, 2978], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2975, 2978], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 125,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 125,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3006, 3009], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3006, 3009], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 149,
        "column": 77,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 149,
        "endColumn": 80,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3579, 3582], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3579, 3582], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 174,
        "column": 69,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 174,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4309, 4312], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4309, 4312], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 191,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 191,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4723, 4726], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4723, 4726], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'validation' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 191,
        "column": 50,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 191,
        "endColumn": 60
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 191,
        "column": 62,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 191,
        "endColumn": 65,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4740, 4743], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4740, 4743], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'filePath' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 200,
        "column": 44,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 200,
        "endColumn": 52
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 200,
        "column": 71,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 200,
        "endColumn": 74,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4972, 4975], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4972, 4975], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 12,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// ÏûêÎèô Í≤ÄÏ¶ù ÌõÖ ÏãúÏä§ÌÖú\n\nimport { readFileSync, watch, writeFileSync } from 'fs'\nimport { extname, join } from 'path'\nimport { AICodingValidator } from './ai-coding-guidelines'\nimport { SafeChangeManager } from './safe-change-manager'\nimport { SchemaValidator } from './schema-validation'\nimport { logger } from '$lib/utils/logger';\n\n// ÌååÏùº Î≥ÄÍ≤Ω Í∞êÏßÄ Î∞è ÏûêÎèô Í≤ÄÏ¶ù\nexport class AutoValidationHooks {\n  private static readonly WATCH_DIRS = ['src/lib/utils', 'src/routes/api/project-management']\n  private static readonly SUPPORTED_EXTENSIONS = ['.ts', '.js', '.svelte']\n  private static watchers: Map<string, any> = new Map()\n  private static isEnabled = false\n\n  /**\n   * ÏûêÎèô Í≤ÄÏ¶ù ÏãúÏä§ÌÖú ÌôúÏÑ±Ìôî\n   */\n  static enable(): void {\n    if (this.isEnabled) {\n      logger.log('‚ö†Ô∏è [ÏûêÎèô Í≤ÄÏ¶ù] Ïù¥ÎØ∏ ÌôúÏÑ±ÌôîÎêòÏñ¥ ÏûàÏäµÎãàÎã§.')\n      return\n    }\n\n    logger.log('üöÄ [ÏûêÎèô Í≤ÄÏ¶ù] ÏãúÏä§ÌÖú ÌôúÏÑ±Ìôî ÏãúÏûë')\n\n    // ÌååÏùº Î≥ÄÍ≤Ω Í∞êÏßÄ ÏãúÏûë\n    this.startFileWatching()\n\n    // Git ÌõÖ ÏÑ§Ï†ï\n    this.setupGitHooks()\n\n    // IDE ÌôïÏû• ÌîÑÎ°úÍ∑∏Îû® Ïó∞Îèô\n    this.setupIDEIntegration()\n\n    this.isEnabled = true\n    logger.log('‚úÖ [ÏûêÎèô Í≤ÄÏ¶ù] ÏãúÏä§ÌÖú ÌôúÏÑ±Ìôî ÏôÑÎ£å')\n  }\n\n  /**\n   * ÏûêÎèô Í≤ÄÏ¶ù ÏãúÏä§ÌÖú ÎπÑÌôúÏÑ±Ìôî\n   */\n  static disable(): void {\n    if (!this.isEnabled) {\n      logger.log('‚ö†Ô∏è [ÏûêÎèô Í≤ÄÏ¶ù] Ïù¥ÎØ∏ ÎπÑÌôúÏÑ±ÌôîÎêòÏñ¥ ÏûàÏäµÎãàÎã§.')\n      return\n    }\n\n    logger.log('üõë [ÏûêÎèô Í≤ÄÏ¶ù] ÏãúÏä§ÌÖú ÎπÑÌôúÏÑ±Ìôî ÏãúÏûë')\n\n    // ÌååÏùº Í∞êÏßÄ Ï§ëÏßÄ\n    this.stopFileWatching()\n\n    this.isEnabled = false\n    logger.log('‚úÖ [ÏûêÎèô Í≤ÄÏ¶ù] ÏãúÏä§ÌÖú ÎπÑÌôúÏÑ±Ìôî ÏôÑÎ£å')\n  }\n\n  /**\n   * ÌååÏùº Î≥ÄÍ≤Ω Í∞êÏßÄ ÏãúÏûë\n   */\n  private static startFileWatching(): void {\n    for (const dir of this.WATCH_DIRS) {\n      try {\n        const watcher = watch(dir, { recursive: true }, (eventType, filename) => {\n          if (filename && this.SUPPORTED_EXTENSIONS.includes(extname(filename))) {\n            const filePath = join(dir, filename)\n            this.handleFileChange(eventType, filePath)\n          }\n        })\n\n        this.watchers.set(dir, watcher)\n        logger.log(`üëÄ [ÌååÏùº Í∞êÏßÄ] ${dir} Í∞êÏãú ÏãúÏûë`)\n      } catch (error) {\n        logger.error(`‚ùå [ÌååÏùº Í∞êÏßÄ] ${dir} Í∞êÏãú Ïã§Ìå®:`, error)\n      }\n    }\n  }\n\n  /**\n   * ÌååÏùº Î≥ÄÍ≤Ω Í∞êÏßÄ Ï§ëÏßÄ\n   */\n  private static stopFileWatching(): void {\n    for (const [dir, watcher] of this.watchers) {\n      watcher.close()\n      logger.log(`üëÄ [ÌååÏùº Í∞êÏßÄ] ${dir} Í∞êÏãú Ï§ëÏßÄ`)\n    }\n    this.watchers.clear()\n  }\n\n  /**\n   * ÌååÏùº Î≥ÄÍ≤Ω Ï≤òÎ¶¨\n   */\n  private static async handleFileChange(eventType: string, filePath: string): Promise<void> {\n    logger.log(`üìù [ÌååÏùº Î≥ÄÍ≤Ω] ${eventType}: ${filePath}`)\n\n    try {\n      // 1. ÌååÏùº ÎÇ¥Ïö© ÏùΩÍ∏∞\n      const content = readFileSync(filePath, 'utf-8')\n\n      // 2. ÏûêÎèô Í≤ÄÏ¶ù Ïã§Ìñâ\n      const validation = await this.runAutoValidation(filePath, content)\n\n      // 3. Í≤ÄÏ¶ù Í≤∞Í≥º Ï≤òÎ¶¨\n      await this.handleValidationResult(filePath, validation)\n    } catch (error) {\n      logger.error(`‚ùå [ÌååÏùº Î≥ÄÍ≤Ω Ï≤òÎ¶¨] ${filePath} Ïò§Î•ò:`, error)\n    }\n  }\n\n  /**\n   * ÏûêÎèô Í≤ÄÏ¶ù Ïã§Ìñâ\n   */\n  private static async runAutoValidation(\n    filePath: string,\n    content: string\n  ): Promise<{\n    coding: any\n    schema: any\n    dependency: any\n  }> {\n    const results = {\n      coding: null as any,\n      schema: null as any,\n      dependency: null as any\n    }\n\n    try {\n      // 1. ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù\n      results.coding = AICodingValidator.validateCode(content, 'typescript')\n\n      // 2. Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù (API ÌååÏùºÏù∏ Í≤ΩÏö∞)\n      if (filePath.includes('/api/')) {\n        results.schema = await SchemaValidator.validateDatabaseSchema()\n      }\n\n      // 3. ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n      results.dependency = await this.analyzeDependencies(filePath)\n    } catch (error) {\n      logger.error(`‚ùå [ÏûêÎèô Í≤ÄÏ¶ù] ${filePath} Ïò§Î•ò:`, error)\n    }\n\n    return results\n  }\n\n  /**\n   * Í≤ÄÏ¶ù Í≤∞Í≥º Ï≤òÎ¶¨\n   */\n  private static async handleValidationResult(filePath: string, validation: any): Promise<void> {\n    const hasErrors = validation.coding?.errors?.length > 0\n    const hasWarnings = validation.coding?.warnings?.length > 0\n\n    if (hasErrors) {\n      logger.log(`‚ùå [Í≤ÄÏ¶ù Ïã§Ìå®] ${filePath}`)\n      validation.coding.errors.forEach((error: string) => {\n        logger.log(`  - ${error}`)\n      })\n\n      // ÏûêÎèô ÏàòÏ†ï ÏãúÎèÑ\n      await this.attemptAutoFix(filePath, validation)\n    } else if (hasWarnings) {\n      logger.log(`‚ö†Ô∏è [Í≤ÄÏ¶ù Í≤ΩÍ≥†] ${filePath}`)\n      validation.coding.warnings.forEach((warning: string) => {\n        logger.log(`  - ${warning}`)\n      })\n    } else {\n      logger.log(`‚úÖ [Í≤ÄÏ¶ù ÌÜµÍ≥º] ${filePath}`)\n    }\n  }\n\n  /**\n   * ÏûêÎèô ÏàòÏ†ï ÏãúÎèÑ\n   */\n  private static async attemptAutoFix(filePath: string, validation: any): Promise<void> {\n    logger.log(`üîß [ÏûêÎèô ÏàòÏ†ï] ${filePath} ÏãúÎèÑ`)\n\n    try {\n      // Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±\n      const plan = await SafeChangeManager.createChangePlan(filePath, 'modify', 'ÏûêÎèô ÏàòÏ†ï')\n\n      // ÏûêÎèô ÏàòÏ†ï Î°úÏßÅ Ïã§Ìñâ\n      await this.executeAutoFix(plan, validation)\n    } catch (error) {\n      logger.error(`‚ùå [ÏûêÎèô ÏàòÏ†ï] ${filePath} Ïã§Ìå®:`, error)\n    }\n  }\n\n  /**\n   * ÏûêÎèô ÏàòÏ†ï Ïã§Ìñâ\n   */\n  private static async executeAutoFix(plan: any, validation: any): Promise<void> {\n    // Ïã§Ï†ú ÏûêÎèô ÏàòÏ†ï Î°úÏßÅÏùÄ Ïó¨Í∏∞Ïóê Íµ¨ÌòÑ\n    // Ïòà: ÏΩîÎìú Ìè¨Îß∑ÌåÖ, ÌÉÄÏûÖ ÏàòÏ†ï, import Ï†ïÎ¶¨ Îì±\n    logger.log(`üîß [ÏûêÎèô ÏàòÏ†ï] Í≥ÑÌöç ID: ${plan.id}`)\n  }\n\n  /**\n   * ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n   */\n  private static async analyzeDependencies(filePath: string): Promise<any> {\n    // Í∞ÑÎã®Ìïú ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n    return {\n      riskLevel: 'low',\n      dependencies: [],\n      dependents: []\n    }\n  }\n\n  /**\n   * Git ÌõÖ ÏÑ§Ï†ï\n   */\n  private static setupGitHooks(): void {\n    logger.log('üîó [Git ÌõÖ] ÏÑ§Ï†ï ÏãúÏûë')\n\n    // pre-commit ÌõÖ ÏÑ§Ï†ï\n    const preCommitHook = `#!/bin/sh\n# ÏûêÎèô Í≤ÄÏ¶ù Ïã§Ìñâ\necho \"üîç [Git ÌõÖ] Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù ÏãúÏûë\"\nnode -e \"\nconst { AutoValidationHooks } = require('./src/lib/utils/auto-validation-hooks.ts');\nAutoValidationHooks.runPreCommitValidation();\n\"\n`\n\n    // post-commit ÌõÖ ÏÑ§Ï†ï\n    const postCommitHook = `#!/bin/sh\n# Ïª§Î∞ã ÌõÑ Í≤ÄÏ¶ù\necho \"‚úÖ [Git ÌõÖ] Ïª§Î∞ã ÌõÑ Í≤ÄÏ¶ù ÏôÑÎ£å\"\n`\n\n    try {\n      writeFileSync('.git/hooks/pre-commit', preCommitHook)\n      writeFileSync('.git/hooks/post-commit', postCommitHook)\n      logger.log('‚úÖ [Git ÌõÖ] ÏÑ§Ï†ï ÏôÑÎ£å')\n    } catch (error) {\n      logger.error('‚ùå [Git ÌõÖ] ÏÑ§Ï†ï Ïã§Ìå®:', error)\n    }\n  }\n\n  /**\n   * IDE ÌôïÏû• ÌîÑÎ°úÍ∑∏Îû® Ïó∞Îèô\n   */\n  private static setupIDEIntegration(): void {\n    logger.log('üîå [IDE Ïó∞Îèô] ÏÑ§Ï†ï ÏãúÏûë')\n\n    // VS Code ÏÑ§Ï†ï\n    const vscodeSettings = {\n      'files.watcherExclude': {\n        '**/node_modules/**': true,\n        '**/.git/**': true\n      },\n      'typescript.preferences.includePackageJsonAutoImports': 'auto',\n      'editor.codeActionsOnSave': {\n        'source.fixAll': true,\n        'source.organizeImports': true\n      }\n    }\n\n    try {\n      writeFileSync('.vscode/settings.json', JSON.stringify(vscodeSettings, null, 2))\n      logger.log('‚úÖ [IDE Ïó∞Îèô] VS Code ÏÑ§Ï†ï ÏôÑÎ£å')\n    } catch (error) {\n      logger.error('‚ùå [IDE Ïó∞Îèô] ÏÑ§Ï†ï Ïã§Ìå®:', error)\n    }\n  }\n\n  /**\n   * Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù Ïã§Ìñâ\n   */\n  static async runPreCommitValidation(): Promise<boolean> {\n    logger.log('üîç [Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù] ÏãúÏûë')\n\n    try {\n      // Î≥ÄÍ≤ΩÎêú ÌååÏùºÎì§ Í≤ÄÏ¶ù\n      const changedFiles = await this.getChangedFiles()\n      let allValid = true\n\n      for (const file of changedFiles) {\n        const content = readFileSync(file, 'utf-8')\n        const validation = await this.runAutoValidation(file, content)\n\n        if (validation.coding?.errors?.length > 0) {\n          logger.log(`‚ùå [Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù] ${file} Ïã§Ìå®`)\n          allValid = false\n        }\n      }\n\n      if (allValid) {\n        logger.log('‚úÖ [Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù] Î™®Îì† ÌååÏùº ÌÜµÍ≥º')\n      } else {\n        logger.log('‚ùå [Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù] ÏùºÎ∂Ä ÌååÏùº Ïã§Ìå® - Ïª§Î∞ã Ï§ëÎã®')\n      }\n\n      return allValid\n    } catch (error) {\n      logger.error('‚ùå [Ïª§Î∞ã Ï†Ñ Í≤ÄÏ¶ù] Ïò§Î•ò:', error)\n      return false\n    }\n  }\n\n  /**\n   * Î≥ÄÍ≤ΩÎêú ÌååÏùº Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n   */\n  private static async getChangedFiles(): Promise<string[]> {\n    // Git Î™ÖÎ†πÏñ¥Î°ú Î≥ÄÍ≤ΩÎêú ÌååÏùº Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n    // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî child_processÎ•º ÏÇ¨Ïö©\n    return []\n  }\n\n  /**\n   * ÏÉÅÌÉú Ï°∞Ìöå\n   */\n  static getStatus(): {\n    isEnabled: boolean\n    watchedDirs: string[]\n    watchersCount: number\n  } {\n    return {\n      isEnabled: this.isEnabled,\n      watchedDirs: this.WATCH_DIRS,\n      watchersCount: this.watchers.size\n    }\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/backup.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 60,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 60,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1726, 1729], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1726, 1729], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 105,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 105,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 106,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 106,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 115,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 115,
        "endColumn": 38
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'FileReader' is not defined.",
        "line": 134,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 134,
        "endColumn": 34
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'localStorage' is not defined.",
        "line": 204,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 204,
        "endColumn": 38
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import type { BankAccount, Transaction, ExpectedTransaction } from '$lib/stores/funds'\nimport type { BudgetCategory, BudgetGoal } from '$lib/stores/budget'\nimport type { Notification, NotificationSettings } from '$lib/stores/notifications'\nimport { logger } from '$lib/utils/logger';\n\nexport interface BackupData {\n  version: string\n  timestamp: string\n  data: {\n    bankAccounts: BankAccount[]\n    transactions: Transaction[]\n    expectedTransactions: ExpectedTransaction[]\n    budgetCategories: BudgetCategory[]\n    budgetGoals: BudgetGoal[]\n    notifications: Notification[]\n    notificationSettings: NotificationSettings\n  }\n}\n\n// Îç∞Ïù¥ÌÑ∞ Î∞±ÏóÖ\nexport function createBackup(\n  bankAccounts: BankAccount[],\n  transactions: Transaction[],\n  expectedTransactions: ExpectedTransaction[],\n  budgetCategories: BudgetCategory[],\n  budgetGoals: BudgetGoal[],\n  notifications: Notification[],\n  notificationSettings: NotificationSettings\n): BackupData {\n  return {\n    version: '1.0.0',\n    timestamp: new Date().toISOString(),\n    data: {\n      bankAccounts,\n      transactions,\n      expectedTransactions,\n      budgetCategories,\n      budgetGoals,\n      notifications,\n      notificationSettings\n    }\n  }\n}\n\n// Î∞±ÏóÖ ÌååÏùº Îã§Ïö¥Î°úÎìú\nexport function downloadBackup(backupData: BackupData) {\n  const jsonString = JSON.stringify(backupData, null, 2)\n  const blob = new Blob([jsonString], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `workstream-backup-${new Date().toISOString().split('T')[0]}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  URL.revokeObjectURL(url)\n}\n\n// Î∞±ÏóÖ ÌååÏùº Í≤ÄÏ¶ù\nexport function validateBackup(data: any): data is BackupData {\n  if (!data || typeof data !== 'object') {\n    return false\n  }\n\n  if (!data.version || !data.timestamp || !data.data) {\n    return false\n  }\n\n  const requiredFields = [\n    'bankAccounts',\n    'transactions',\n    'expectedTransactions',\n    'budgetCategories',\n    'budgetGoals',\n    'notifications',\n    'notificationSettings'\n  ]\n\n  return requiredFields.every(\n    field => Array.isArray(data.data[field]) || typeof data.data[field] === 'object'\n  )\n}\n\n// Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóê ÏûêÎèô Î∞±ÏóÖ\nexport function autoBackup(\n  bankAccounts: BankAccount[],\n  transactions: Transaction[],\n  expectedTransactions: ExpectedTransaction[],\n  budgetCategories: BudgetCategory[],\n  budgetGoals: BudgetGoal[],\n  notifications: Notification[],\n  notificationSettings: NotificationSettings\n) {\n  const backupData = createBackup(\n    bankAccounts,\n    transactions,\n    expectedTransactions,\n    budgetCategories,\n    budgetGoals,\n    notifications,\n    notificationSettings\n  )\n\n  try {\n    localStorage.setItem('workstream-auto-backup', JSON.stringify(backupData))\n    localStorage.setItem('workstream-backup-timestamp', backupData.timestamp)\n  } catch (error) {\n    logger.error('ÏûêÎèô Î∞±ÏóÖ Ïã§Ìå®:', error)\n  }\n}\n\n// Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú ÏûêÎèô Î∞±ÏóÖ Î≥µÏõê\nexport function loadAutoBackup(): BackupData | null {\n  try {\n    const backupString = localStorage.getItem('workstream-auto-backup')\n    if (!backupString) {\n      return null\n    }\n\n    const backupData = JSON.parse(backupString)\n    if (validateBackup(backupData)) {\n      return backupData\n    }\n  } catch (error) {\n    logger.error('ÏûêÎèô Î∞±ÏóÖ Î°úÎìú Ïã§Ìå®:', error)\n  }\n\n  return null\n}\n\n// Î∞±ÏóÖ ÌååÏùº ÏùΩÍ∏∞\nexport function readBackupFile(file: File): Promise<BackupData> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.onload = e => {\n      try {\n        const result = e.target?.result\n        if (typeof result !== 'string') {\n          throw new Error('ÌååÏùº ÏùΩÍ∏∞ Ïã§Ìå®')\n        }\n\n        const backupData = JSON.parse(result)\n        if (validateBackup(backupData)) {\n          resolve(backupData)\n        } else {\n          reject(new Error('ÏûòÎ™ªÎêú Î∞±ÏóÖ ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§.'))\n        }\n      } catch (error) {\n        reject(new Error('Î∞±ÏóÖ ÌååÏùº ÌååÏã± Ïã§Ìå®: ' + (error as Error).message))\n      }\n    }\n\n    reader.onerror = () => {\n      reject(new Error('ÌååÏùº ÏùΩÍ∏∞ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'))\n    }\n\n    reader.readAsText(file)\n  })\n}\n\n// Î∞±ÏóÖ Î≥µÏõê ÌôïÏù∏ Î©îÏãúÏßÄ\nexport function getRestoreConfirmMessage(backupData: BackupData): string {\n  const backupDate = new Date(backupData.timestamp).toLocaleString('ko-KR')\n  const dataCount = {\n    accounts: backupData.data.bankAccounts.length,\n    transactions: backupData.data.transactions.length,\n    expectedTransactions: backupData.data.expectedTransactions.length,\n    budgetCategories: backupData.data.budgetCategories.length,\n    budgetGoals: backupData.data.budgetGoals.length\n  }\n\n  return `\nÎã§Ïùå Î∞±ÏóÖÏùÑ Î≥µÏõêÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\nÎ∞±ÏóÖ ÏùºÏãú: ${backupDate}\nÎ≤ÑÏ†Ñ: ${backupData.version}\n\nÌè¨Ìï®Îêú Îç∞Ïù¥ÌÑ∞:\n- Í≥ÑÏ¢å: ${dataCount.accounts}Í∞ú\n- Í±∞ÎûòÎÇ¥Ïó≠: ${dataCount.transactions}Í∞ú  \n- ÏòàÏÉÅÍ±∞Îûò: ${dataCount.expectedTransactions}Í∞ú\n- ÏòàÏÇ∞Ïπ¥ÌÖåÍ≥†Î¶¨: ${dataCount.budgetCategories}Í∞ú\n- ÏòàÏÇ∞Î™©Ìëú: ${dataCount.budgetGoals}Í∞ú\n\n‚Äª ÌòÑÏû¨ Îç∞Ïù¥ÌÑ∞Îäî Î™®Îëê ÎåÄÏ≤¥Îê©ÎãàÎã§.\n\t`.trim()\n}\n\n// Î∞±ÏóÖ ÌÜµÍ≥Ñ\nexport interface BackupStats {\n  lastBackupTime: string | null\n  backupSize: number\n  totalRecords: number\n}\n\nexport function getBackupStats(\n  bankAccounts: BankAccount[],\n  transactions: Transaction[],\n  expectedTransactions: ExpectedTransaction[],\n  budgetCategories: BudgetCategory[],\n  budgetGoals: BudgetGoal[]\n): BackupStats {\n  const lastBackupTime = localStorage.getItem('workstream-backup-timestamp')\n  const totalRecords =\n    bankAccounts.length +\n    transactions.length +\n    expectedTransactions.length +\n    budgetCategories.length +\n    budgetGoals.length\n\n  const backupData = createBackup(\n    bankAccounts,\n    transactions,\n    expectedTransactions,\n    budgetCategories,\n    budgetGoals,\n    [],\n    {} as NotificationSettings\n  )\n  const backupSize = JSON.stringify(backupData).length\n\n  return {\n    lastBackupTime,\n    backupSize,\n    totalRecords\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/date-calculator.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/date-handler.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'currentTimezone' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 75,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 75,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'hours' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 179,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 179,
        "endColumn": 16
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'minutes' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 180,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 180,
        "endColumn": 18
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'seoulDate' is not defined.",
        "line": 192,
        "column": 32,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 192,
        "endColumn": 41
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { logger } from '$lib/utils/logger';\n/**\n * ÌÜµÏùºÎêú ÎÇ†Ïßú Ï≤òÎ¶¨ Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïù¥ Î™®ÎìàÏùÄ Î™®Îì† ÎÇ†Ïßú Ï≤òÎ¶¨Î•º ÌëúÏ§ÄÌôîÌïòÏó¨ UTCÏôÄ ÏÑúÏö∏ ÏãúÍ∞ÑÏùÑ ÏùºÍ¥ÄÎêòÍ≤å Ï≤òÎ¶¨Ìï©ÎãàÎã§.\n *\n * ÌëúÏ§Ä:\n * - Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï†ÄÏû•: UTC (ISO 8601)\n * - ÏÇ¨Ïö©Ïûê ÌëúÏãú: ÏÑúÏö∏ ÏãúÍ∞Ñ (Asia/Seoul)\n * - ÏûÖÎ†• Ï≤òÎ¶¨: Îã§ÏñëÌïú ÌòïÏãù ÏßÄÏõê ‚Üí UTCÎ°ú Î≥ÄÌôò\n * - API ÏùëÎãµ: UTC ‚Üí ÏÑúÏö∏ ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÌôò\n */\n\n/**\n * ÌëúÏ§ÄÌôîÎêú ÎÇ†Ïßú ÌÉÄÏûÖ\n */\nexport type StandardDate = string & { readonly __brand: 'StandardDate' }\n\n/**\n * ÏßÄÏõêÌïòÎäî ÎÇ†Ïßú ÏûÖÎ†• ÌòïÏãù\n */\nexport type DateInputFormat =\n  | string // ISO 8601, YYYY-MM-DD, YYYY.MM.DD Îì±\n  | Date // JavaScript Date Í∞ùÏ≤¥\n  | number // Unix timestamp, Excel ÎÇ†Ïßú Îì±\n\n/**\n * ÎÇ†Ïßú ÌëúÏãú ÌòïÏãù\n */\nexport const DATE_FORMATS = {\n  // ÌëúÏãúÏö© ÌòïÏãùÎì§\n  DISPLAY: {\n    FULL: 'YYYY. MM. DD.', // 2025. 01. 15.\n    SHORT: 'MM/DD', // 01/15\n    ISO: 'YYYY-MM-DD', // 2025-01-15\n    KOREAN: 'YYYYÎÖÑ MMÏõî DDÏùº', // 2025ÎÖÑ 01Ïõî 15Ïùº\n    RELATIVE: 'relative' // ÏÉÅÎåÄÏ†Å ÏãúÍ∞Ñ (1Ïùº Ï†Ñ, 2ÏãúÍ∞Ñ Ï†Ñ Îì±)\n  },\n\n  // ÏûÖÎ†•Ïö© ÌòïÏãùÎì§\n  INPUT: {\n    HTML_DATE: 'YYYY-MM-DD', // HTML date input\n    DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // HTML datetime-local input\n    ISO: 'YYYY-MM-DDTHH:mm:ss.sssZ' // ISO 8601\n  }\n} as const\n\n/**\n * ÏãúÍ∞ÑÎåÄ ÏÑ§Ï†ï import\n */\n// timezone-config.js ÌååÏùºÏù¥ ÏÇ≠Ï†úÎêòÏñ¥ import Ï†úÍ±∞Îê®\n\n/**\n * ÏãúÍ∞ÑÎåÄ ÏÉÅÏàò (ÌïòÏúÑ Ìò∏ÌôòÏÑ±ÏùÑ ÏúÑÌï¥ Ïú†ÏßÄ)\n */\nexport const SEOUL_TIMEZONE = 'Asia/Seoul'\nexport const UTC_TIMEZONE = 'UTC'\n\n/**\n * ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§.\n */\nfunction getCurrentAppTimezone(): string {\n  return SEOUL_TIMEZONE // Í∏∞Î≥∏Í∞íÏúºÎ°ú ÏÑúÏö∏ ÏãúÍ∞ÑÎåÄ ÏÇ¨Ïö©\n}\n\n/**\n * ÎÇ†ÏßúÎ•º UTCÎ°ú Î≥ÄÌôò (Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï†ÄÏû•Ïö©)\n * Î™®Îì† ÏûÖÎ†•ÏùÑ ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄ Í∏∞Ï§ÄÏúºÎ°ú Ìï¥ÏÑùÌïòÏó¨ UTCÎ°ú Ï†ÄÏû•\n */\nexport function toUTC(date: DateInputFormat): StandardDate {\n  if (!date) return '' as StandardDate\n\n  try {\n    let dateObj: Date\n    const currentTimezone = getCurrentAppTimezone()\n    const timezoneOffset = '+09:00' // ÏÑúÏö∏ ÏãúÍ∞ÑÎåÄ Ïò§ÌîÑÏÖã\n\n    if (date instanceof Date) {\n      // Date Í∞ùÏ≤¥Îäî Ïù¥ÎØ∏ Ïò¨Î∞îÎ•∏ ÏãúÍ∞ÑÎåÄÎ°ú Í∞ÑÏ£º\n      dateObj = date\n    } else if (typeof date === 'number') {\n      // Excel ÎÇ†Ïßú ÎòêÎäî Unix timestamp Ï≤òÎ¶¨\n      if (date > 25569) {\n        // Excel ÎÇ†Ïßú (1900-01-01 Í∏∞Ï§Ä)\n        const excelEpoch = new Date(1900, 0, 1)\n        dateObj = new Date(excelEpoch.getTime() + (date - 2) * 24 * 60 * 60 * 1000)\n      } else {\n        // Unix timestamp\n        dateObj = new Date(date * 1000)\n      }\n    } else {\n      // Î¨∏ÏûêÏó¥ Ï≤òÎ¶¨ - Î™®Îì† ÎÇ†ÏßúÎ•º ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄ Í∏∞Ï§ÄÏúºÎ°ú Ìï¥ÏÑù\n      const dateStr = String(date).trim()\n\n      if (!dateStr) return '' as StandardDate\n\n      // Îã§ÏñëÌïú ÌòïÏãù ÏßÄÏõê\n      if (dateStr.includes('T')) {\n        // ISO 8601 ÌòïÏãù - Ïù¥ÎØ∏ ÏãúÍ∞ÑÎåÄ Ï†ïÎ≥¥Í∞Ä Ìè¨Ìï®ÎêòÏñ¥ ÏûàÏúºÎ©¥ Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n        if (dateStr.includes('+') || dateStr.includes('Z') || dateStr.includes('-', 10)) {\n          dateObj = new Date(dateStr)\n        } else {\n          // ÏãúÍ∞ÑÎåÄ Ï†ïÎ≥¥Í∞Ä ÏóÜÏúºÎ©¥ ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄÎ°ú Ìï¥ÏÑù\n          dateObj = new Date(`${dateStr}${timezoneOffset}`)\n        }\n      } else if (dateStr.includes('.')) {\n        // YYYY.MM.DD ÌòïÏãù - ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄ ÏûêÏ†ïÏúºÎ°ú Ìï¥ÏÑù\n        const [year, month, day] = dateStr.split('.')\n        dateObj = new Date(\n          `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}T00:00:00${timezoneOffset}`\n        )\n      } else if (dateStr.includes('-')) {\n        // YYYY-MM-DD ÌòïÏãù - ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄ ÏûêÏ†ïÏúºÎ°ú Ìï¥ÏÑù\n        const [year, month, day] = dateStr.split('-')\n        dateObj = new Date(\n          `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}T00:00:00${timezoneOffset}`\n        )\n      } else if (dateStr.includes('/')) {\n        // MM/DD/YYYY ÎòêÎäî DD/MM/YYYY ÌòïÏãù - ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄ ÏûêÏ†ïÏúºÎ°ú Ìï¥ÏÑù\n        const parts = dateStr.split('/')\n        if (parts.length === 3) {\n          // MM/DD/YYYY Í∞ÄÏ†ï\n          const [month, day, year] = parts\n          dateObj = new Date(\n            `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}T00:00:00${timezoneOffset}`\n          )\n        }\n      } else {\n        // Í∏∞Î≥∏ Date ÏÉùÏÑ±Ïûê ÏÇ¨Ïö© ÌõÑ ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄÎ°ú Ìï¥ÏÑù\n        const tempDate = new Date(dateStr)\n        if (!isNaN(tempDate.getTime())) {\n          // Ïú†Ìö®Ìïú ÎÇ†ÏßúÎ©¥ ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄ ÏûêÏ†ïÏúºÎ°ú Ïû¨Ìï¥ÏÑù\n          const year = tempDate.getFullYear()\n          const month = String(tempDate.getMonth() + 1).padStart(2, '0')\n          const day = String(tempDate.getDate()).padStart(2, '0')\n          dateObj = new Date(`${year}-${month}-${day}T00:00:00${timezoneOffset}`)\n        } else {\n          dateObj = tempDate\n        }\n      }\n    }\n\n    if (isNaN(dateObj.getTime())) {\n      throw new Error(`Invalid date: ${date}`)\n    }\n\n    // UTCÎ°ú Î≥ÄÌôòÌïòÏó¨ ISO Î¨∏ÏûêÏó¥ Î∞òÌôò\n    return dateObj.toISOString() as StandardDate\n  } catch (error) {\n    logger.error('Date conversion error:', error, 'for input:', date)\n    return '' as StandardDate\n  }\n}\n\n/**\n * UTC ÎÇ†ÏßúÎ•º ÏÑúÏö∏ ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÌôòÌïòÏó¨ ÌëúÏãúÏö© ÌòïÏãùÏúºÎ°ú Ìè¨Îß∑ÌåÖ\n */\nexport function formatDateForDisplay(\n  utcDate: StandardDate | string,\n  format: keyof typeof DATE_FORMATS.DISPLAY = 'FULL'\n): string {\n  if (!utcDate) return ''\n\n  try {\n    const date = new Date(utcDate)\n\n    if (isNaN(date.getTime())) {\n      logger.warn('Invalid UTC date for display:', utcDate)\n      return ''\n    }\n\n    // ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄÎ°ú Î≥ÄÌôò\n    const currentTimezone = getCurrentAppTimezone()\n    const localDate = new Date(date.toLocaleString('en-US', { timeZone: currentTimezone }))\n\n    const year = localDate.getFullYear()\n    const month = String(localDate.getMonth() + 1).padStart(2, '0')\n    const day = String(localDate.getDate()).padStart(2, '0')\n    const hours = String(localDate.getHours()).padStart(2, '0')\n    const minutes = String(localDate.getMinutes()).padStart(2, '0')\n\n    switch (format) {\n      case 'FULL':\n        return `${year}. ${month}. ${day}.`\n      case 'SHORT':\n        return `${month}/${day}`\n      case 'ISO':\n        return `${year}-${month}-${day}`\n      case 'KOREAN':\n        return `${year}ÎÖÑ ${month}Ïõî ${day}Ïùº`\n      case 'RELATIVE':\n        return getRelativeTime(seoulDate)\n      default:\n        return `${year}. ${month}. ${day}.`\n    }\n  } catch (error) {\n    logger.error('Date display formatting error:', error, 'for date:', utcDate)\n    return ''\n  }\n}\n\n/**\n * HTML inputÏö© ÎÇ†Ïßú ÌòïÏãù (YYYY-MM-DD)\n */\nexport function formatDateForInput(utcDate: StandardDate | string): string {\n  if (!utcDate) return ''\n\n  try {\n    const date = new Date(utcDate)\n\n    if (isNaN(date.getTime())) {\n      return ''\n    }\n\n    // ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄÎ°ú Î≥ÄÌôòÌïòÏó¨ YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î∞òÌôò\n    const currentTimezone = getCurrentAppTimezone()\n    const localDate = new Date(date.toLocaleString('en-US', { timeZone: currentTimezone }))\n\n    const year = localDate.getFullYear()\n    const month = String(localDate.getMonth() + 1).padStart(2, '0')\n    const day = String(localDate.getDate()).padStart(2, '0')\n\n    return `${year}-${month}-${day}`\n  } catch (error) {\n    logger.error('Date input formatting error:', error, 'for date:', utcDate)\n    return ''\n  }\n}\n\n/**\n * HTML datetime-local inputÏö© ÌòïÏãù (YYYY-MM-DDTHH:mm)\n */\nexport function formatDateTimeForInput(utcDate: StandardDate | string): string {\n  if (!utcDate) return ''\n\n  try {\n    const date = new Date(utcDate)\n\n    if (isNaN(date.getTime())) {\n      return ''\n    }\n\n    // ÌòÑÏû¨ ÏÑ§Ï†ïÎêú ÏãúÍ∞ÑÎåÄÎ°ú Î≥ÄÌôò\n    const currentTimezone = getCurrentAppTimezone()\n    const localDate = new Date(date.toLocaleString('en-US', { timeZone: currentTimezone }))\n\n    const year = localDate.getFullYear()\n    const month = String(localDate.getMonth() + 1).padStart(2, '0')\n    const day = String(localDate.getDate()).padStart(2, '0')\n    const hours = String(localDate.getHours()).padStart(2, '0')\n    const minutes = String(localDate.getMinutes()).padStart(2, '0')\n\n    return `${year}-${month}-${day}T${hours}:${minutes}`\n  } catch (error) {\n    logger.error('DateTime input formatting error:', error, 'for date:', utcDate)\n    return ''\n  }\n}\n\n/**\n * ÏÉÅÎåÄÏ†Å ÏãúÍ∞Ñ ÌëúÏãú (Ïòà: \"1Ïùº Ï†Ñ\", \"2ÏãúÍ∞Ñ Ï†Ñ\")\n */\nfunction getRelativeTime(date: Date): string {\n  const now = new Date()\n  const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000)\n\n  if (diffInSeconds < 60) {\n    return `${diffInSeconds}Ï¥à Ï†Ñ`\n  } else if (diffInSeconds < 3600) {\n    const minutes = Math.floor(diffInSeconds / 60)\n    return `${minutes}Î∂Ñ Ï†Ñ`\n  } else if (diffInSeconds < 86400) {\n    const hours = Math.floor(diffInSeconds / 3600)\n    return `${hours}ÏãúÍ∞Ñ Ï†Ñ`\n  } else if (diffInSeconds < 2592000) {\n    const days = Math.floor(diffInSeconds / 86400)\n    return `${days}Ïùº Ï†Ñ`\n  } else if (diffInSeconds < 31536000) {\n    const months = Math.floor(diffInSeconds / 2592000)\n    return `${months}Í∞úÏõî Ï†Ñ`\n  } else {\n    const years = Math.floor(diffInSeconds / 31536000)\n    return `${years}ÎÖÑ Ï†Ñ`\n  }\n}\n\n/**\n * ÌòÑÏû¨ ÏãúÍ∞ÑÏùÑ UTCÎ°ú Î∞òÌôò\n */\nexport function getCurrentUTC(): StandardDate {\n  return new Date().toISOString() as StandardDate\n}\n\n/**\n * ÌòÑÏû¨ ÏÑúÏö∏ ÏãúÍ∞ÑÏùÑ UTCÎ°ú Î≥ÄÌôòÌïòÏó¨ Î∞òÌôò\n */\nexport function getCurrentSeoulAsUTC(): StandardDate {\n  const now = new Date()\n  // ÏÑúÏö∏ ÏãúÍ∞ÑÎåÄÏùò ÌòÑÏû¨ ÏãúÍ∞ÑÏùÑ UTCÎ°ú Î≥ÄÌôòÌïòÎäî Îçî Ï†ïÌôïÌïú Î∞©Î≤ï\n  const seoulTime = new Date(now.toLocaleString('en-US', { timeZone: SEOUL_TIMEZONE }))\n  return seoulTime.toISOString() as StandardDate\n}\n\n/**\n * ÎÇ†Ïßú Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù\n */\nexport function isValidDate(date: DateInputFormat): boolean {\n  try {\n    const utcDate = toUTC(date)\n    return utcDate !== '' && !isNaN(new Date(utcDate).getTime())\n  } catch {\n    return false\n  }\n}\n\n/**\n * Îëê ÎÇ†Ïßú Í∞ÑÏùò Ï∞®Ïù¥ Í≥ÑÏÇ∞ (Ïùº Îã®ÏúÑ)\n */\nexport function getDateDifference(\n  startDate: StandardDate | string,\n  endDate: StandardDate | string\n): number {\n  try {\n    const start = new Date(startDate)\n    const end = new Date(endDate)\n\n    if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n      return 0\n    }\n\n    const diffInMs = end.getTime() - start.getTime()\n    return Math.floor(diffInMs / (1000 * 60 * 60 * 24))\n  } catch {\n    return 0\n  }\n}\n\n/**\n * ÎÇ†Ïßú Î≤îÏúÑ Í≤ÄÏ¶ù (ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Ïù¥Ï†ÑÏù∏ÏßÄ)\n */\nexport function isValidDateRange(\n  startDate: StandardDate | string,\n  endDate: StandardDate | string\n): boolean {\n  try {\n    const start = new Date(startDate)\n    const end = new Date(endDate)\n\n    if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n      return false\n    }\n\n    return start < end\n  } catch {\n    return false\n  }\n}\n\n/**\n * ÎÇ†Ïßú Ï≤òÎ¶¨ Í∞ïÏ†ú Ìï®Ïàò (Í∞úÎ∞ú Î™®ÎìúÏóêÏÑúÎßå ÎèôÏûë)\n */\nexport function enforceStandardDate(date: DateInputFormat, context: string = 'ÎÇ†Ïßú'): StandardDate {\n  if (process.env.NODE_ENV === 'development') {\n    if (!isValidDate(date)) {\n      logger.warn(`‚ö†Ô∏è [ÎÇ†Ïßú Ï≤òÎ¶¨ Í∞ïÏ†ú] ${context}ÏóêÏÑú Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÎÇ†Ïßú Î∞úÍ≤¨: \"${date}\"`)\n    }\n  }\n\n  return toUTC(date)\n}\n\n/**\n * ÎÇ†Ïßú Ï≤òÎ¶¨ ÌëúÏ§Ä Í∞ÄÏù¥ÎìúÎùºÏù∏\n */\nexport const DATE_STANDARDS = {\n  /**\n   * ÌëúÏ§Ä ÌòïÏãù\n   */\n  FORMATS: {\n    STORAGE: 'UTC (ISO 8601)', // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï†ÄÏû•\n    DISPLAY: 'ÏÑúÏö∏ ÏãúÍ∞Ñ (Asia/Seoul)', // ÏÇ¨Ïö©Ïûê ÌëúÏãú\n    INPUT: 'Îã§ÏñëÌïú ÌòïÏãù ÏßÄÏõê' // ÏÇ¨Ïö©Ïûê ÏûÖÎ†•\n  },\n\n  /**\n   * ÏÇ¨Ïö© Í∏àÏßÄ Ìå®ÌÑ¥Îì§\n   */\n  FORBIDDEN_PATTERNS: [\n    'new Date().toLocaleDateString()', // ÏßÅÏ†ë Î°úÏª¨ ÎÇ†Ïßú ÏÇ¨Ïö©\n    'new Date().toLocaleString()', // ÏßÅÏ†ë Î°úÏª¨ ÏãúÍ∞Ñ ÏÇ¨Ïö©\n    'date.toISOString()', // UTC Î≥ÄÌôò ÏóÜÏù¥ ÏßÅÏ†ë ÏÇ¨Ïö©\n    'new Date(dateString)', // Î¨∏ÏûêÏó¥ÏùÑ ÏßÅÏ†ë Date ÏÉùÏÑ±ÏûêÏóê Ï†ÑÎã¨\n    'Date.now()' // ÏßÅÏ†ë timestamp ÏÇ¨Ïö©\n  ],\n\n  /**\n   * Í∂åÏû• Ìå®ÌÑ¥Îì§\n   */\n  RECOMMENDED_PATTERNS: [\n    'toUTC(userInput)', // ÏÇ¨Ïö©Ïûê ÏûÖÎ†•ÏùÑ UTCÎ°ú Î≥ÄÌôò\n    'formatDateForDisplay(utcDate)', // UTCÎ•º ÌëúÏãúÏö©ÏúºÎ°ú Î≥ÄÌôò\n    'formatDateForInput(utcDate)', // HTML inputÏö©ÏúºÎ°ú Î≥ÄÌôò\n    'getCurrentUTC()', // ÌòÑÏû¨ ÏãúÍ∞ÑÏùÑ UTCÎ°ú\n    'enforceStandardDate(date)' // ÌÉÄÏûÖ ÏïàÏ†ÑÌïú ÎÇ†Ïßú Ï≤òÎ¶¨\n  ]\n} as const\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/format.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/hr.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/korean-name.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/logger.ts",
    "messages": [
      {
        "ruleId": "no-redeclare",
        "severity": 2,
        "message": "'logger' is already defined.",
        "line": 6,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "redeclared",
        "endLine": 6,
        "endColumn": 20
      },
      {
        "ruleId": "no-import-assign",
        "severity": 2,
        "message": "'logger' is read-only.",
        "line": 6,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "readonly",
        "endLine": 6,
        "endColumn": 20
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { logger } from '$lib/utils/logger';\n/**\n * Safe logger wrapper that delegates to console by default\n * This allows for future logging infrastructure changes without code modifications\n */\nexport const logger = {\n  log: (...args: unknown[]) => logger.log(...args),\n  info: (...args: unknown[]) => logger.info(...args),\n  warn: (...args: unknown[]) => logger.warn(...args),\n  error: (...args: unknown[]) => logger.error(...args),\n  debug: (...args: unknown[]) => logger.debug(...args),\n  trace: (...args: unknown[]) => logger.trace(...args)\n} as const;\n\nexport default logger;\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/name-validation.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 70,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 73,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1566, 1569], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1566, 1569], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * Ïù¥Î¶Ñ Ï≤òÎ¶¨ Í≤ÄÏ¶ù Î∞è Í∞ïÏ†ú Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïù¥ Î™®ÎìàÏùÄ Ïù¥Î¶Ñ Ï≤òÎ¶¨Í∞Ä ÌëúÏ§Ä Î∞©ÏãùÏúºÎ°ú Ïù¥Î£®Ïñ¥ÏßÄÎèÑÎ°ù Í∞ïÏ†úÌïòÎäî ÎèÑÍµ¨Îì§ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.\n */\n\nimport { formatEmployeeName } from './format'\nimport { formatKoreanNameStandard } from './korean-name'\nimport { logger } from '$lib/utils/logger';\n\n/**\n * Ïù¥Î¶Ñ ÌëúÏãúÎ•º ÏúÑÌïú ÌÉÄÏûÖ Í∞ÄÎìú\n * Î™®Îì† Ïù¥Î¶Ñ ÌëúÏãúÎäî Ïù¥ ÌÉÄÏûÖÏùÑ ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.\n */\nexport type StandardizedName = string & { readonly __brand: 'StandardizedName' }\n\n/**\n * ÏßÅÏõê Í∞ùÏ≤¥ÏóêÏÑú ÌëúÏ§ÄÌôîÎêú Ïù¥Î¶ÑÏùÑ ÏÉùÏÑ±\n */\nexport function createStandardEmployeeName(employee: {\n  last_name?: string\n  first_name?: string\n}): StandardizedName {\n  return formatEmployeeName(employee) as StandardizedName\n}\n\n/**\n * Ï†ÑÏ≤¥ Ïù¥Î¶ÑÏóêÏÑú ÌëúÏ§ÄÌôîÎêú Ïù¥Î¶ÑÏùÑ ÏÉùÏÑ±\n */\nexport function createStandardFullName(fullName: string): StandardizedName {\n  return formatKoreanNameStandard(fullName) as StandardizedName\n}\n\n/**\n * Ïù¥Î¶ÑÏù¥ ÌëúÏ§Ä ÌòïÏãùÏù∏ÏßÄ Í≤ÄÏ¶ù\n */\nexport function isValidStandardName(name: string): name is StandardizedName {\n  // ÌïúÍµ≠ Ïù¥Î¶ÑÏù∏ Í≤ΩÏö∞ (ÏÑ±)(Ïù¥Î¶Ñ) ÌòïÏãùÏù¥Í≥† Í≥µÎ∞±Ïù¥ ÏóÜÏñ¥Ïïº Ìï®\n  const koreanRegex = /^[Í∞Ä-Ìû£]+$/\n  if (koreanRegex.test(name)) {\n    return name.length >= 2 && !name.includes(' ')\n  }\n\n  // ÏòÅÎ¨∏ Ïù¥Î¶ÑÏù∏ Í≤ΩÏö∞ Í∑∏ÎåÄÎ°ú ÌóàÏö©\n  return name.length > 0\n}\n\n/**\n * Ïù¥Î¶Ñ ÌëúÏãú Í∞ïÏ†ú Ìï®Ïàò (Í∞úÎ∞ú Î™®ÎìúÏóêÏÑúÎßå ÎèôÏûë)\n */\nexport function enforceStandardName(name: string, context: string = 'Ïù¥Î¶Ñ'): StandardizedName {\n  if (process.env.NODE_ENV === 'development') {\n    if (!isValidStandardName(name)) {\n      logger.warn(`‚ö†Ô∏è [Ïù¥Î¶Ñ ÌëúÏãú Í∞ïÏ†ú] ${context}ÏóêÏÑú ÎπÑÌëúÏ§Ä ÌòïÏãù Î∞úÍ≤¨: \"${name}\"`)\n      logger.warn('ÌëúÏ§Ä ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò Ï§ë...')\n    }\n  }\n\n  return formatKoreanNameStandard(name) as StandardizedName\n}\n\n/**\n * Îü∞ÌÉÄÏûÑ Í≤ÄÏ¶ùÏùÑ ÏúÑÌïú Îç∞ÏΩîÎ†àÏù¥ÌÑ∞ Ìï®Ïàò\n */\nexport function withNameValidation<T extends (...args: unknown[]) => any>(\n  fn: T,\n  context: string = 'Ìï®Ïàò'\n): T {\n  return ((...args: unknown[]) => {\n    const result = fn(...args)\n\n    if (process.env.NODE_ENV === 'development') {\n      // Í≤∞Í≥ºÍ∞Ä Î¨∏ÏûêÏó¥Ïù∏ Í≤ΩÏö∞ Ïù¥Î¶Ñ ÌòïÏãù Í≤ÄÏ¶ù\n      if (typeof result === 'string' && result.length > 0) {\n        // ÌïúÍµ≠ Ïù¥Î¶Ñ Ìå®ÌÑ¥Ïù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n        const koreanRegex = /[Í∞Ä-Ìû£]/\n        if (koreanRegex.test(result) && result.includes(' ')) {\n          logger.warn(`‚ö†Ô∏è [Ïù¥Î¶Ñ Í≤ÄÏ¶ù] ${context}ÏóêÏÑú ÎπÑÌëúÏ§Ä ÌòïÏãù Î∞òÌôò: \"${result}\"`)\n          logger.warn('ÌëúÏ§Ä ÌòïÏãù: (ÏÑ±)(Ïù¥Î¶Ñ) - Í≥µÎ∞± ÏóÜÏùå')\n        }\n      }\n    }\n\n    return result\n  }) as T\n}\n\n/**\n * Ïù¥Î¶Ñ Ï≤òÎ¶¨ ÌëúÏ§Ä Í∞ÄÏù¥ÎìúÎùºÏù∏\n */\nexport const NAME_STANDARDS = {\n  /**\n   * ÌïúÍµ≠ Ïù¥Î¶Ñ ÌëúÏ§Ä ÌòïÏãù: (ÏÑ±)(Ïù¥Î¶Ñ) - Í≥µÎ∞± ÏóÜÏùå\n   * Ïòà: \"Ï∞®ÏßÄÏùÄ\", \"Ïù¥ÏßÄÌõÑ\", \"ÍπÄÏÑ±Ìò∏\"\n   */\n  KOREAN_FORMAT: '(ÏÑ±)(Ïù¥Î¶Ñ) - Í≥µÎ∞± ÏóÜÏùå',\n\n  /**\n   * ÏòÅÎ¨∏ Ïù¥Î¶Ñ ÌëúÏ§Ä ÌòïÏãù: (First) (Last) - Í≥µÎ∞± ÏûàÏùå\n   * Ïòà: \"John Doe\", \"Jane Smith\"\n   */\n  ENGLISH_FORMAT: '(First) (Last) - Í≥µÎ∞± ÏûàÏùå',\n\n  /**\n   * ÏÇ¨Ïö© Í∏àÏßÄ Ìå®ÌÑ¥Îì§\n   */\n  FORBIDDEN_PATTERNS: [\n    'first_name + \" \" + last_name', // ÏßÅÏ†ë Î¨∏ÏûêÏó¥ Í≤∞Ìï©\n    'last_name + \" \" + first_name', // ÏßÅÏ†ë Î¨∏ÏûêÏó¥ Í≤∞Ìï©\n    '`${first} ${last}`', // ÌÖúÌîåÎ¶ø Î¶¨ÌÑ∞Îü¥ ÏßÅÏ†ë ÏÇ¨Ïö©\n    'employee.name' // ÏõêÏãú ÌïÑÎìú ÏßÅÏ†ë ÏÇ¨Ïö©\n  ],\n\n  /**\n   * Í∂åÏû• Ìå®ÌÑ¥Îì§\n   */\n  RECOMMENDED_PATTERNS: [\n    'formatEmployeeName(employee)', // ÏßÅÏõê Í∞ùÏ≤¥Ïö©\n    'formatKoreanNameStandard(fullName)', // Ï†ÑÏ≤¥ Ïù¥Î¶ÑÏö©\n    'createStandardEmployeeName(employee)', // ÌÉÄÏûÖ ÏïàÏ†ÑÌïú ÏßÅÏõê Ïù¥Î¶Ñ\n    'createStandardFullName(fullName)' // ÌÉÄÏûÖ ÏïàÏ†ÑÌïú Ï†ÑÏ≤¥ Ïù¥Î¶Ñ\n  ]\n} as const\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/report-generator.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/safe-change-manager.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'analysis' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 263,
        "column": 5,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 263,
        "endColumn": 13
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'impacts' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 264,
        "column": 5,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 264,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'impacts' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 296,
        "column": 5,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 296,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import type { ChangeImpact, DependencyAnalysis } from './code-dependency-analyzer'\nimport { CodeDependencyAnalyzer } from './code-dependency-analyzer'\nimport { logger } from '$lib/utils/logger';\n\n// Î≥ÄÍ≤Ω ÌÉÄÏûÖ Ï†ïÏùò\nexport type ChangeType = 'modify' | 'delete' | 'rename' | 'move' | 'add'\n\n// Î≥ÄÍ≤Ω Îã®Í≥Ñ Ï†ïÏùò\nexport type ChangeStep =\n  | 'analysis'\n  | 'backup'\n  | 'preparation'\n  | 'execution'\n  | 'validation'\n  | 'cleanup'\n\n// Î≥ÄÍ≤Ω ÏÉÅÌÉú Ï†ïÏùò\nexport type ChangeStatus = 'pending' | 'in_progress' | 'completed' | 'failed' | 'rolled_back'\n\n// ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Í≥ÑÌöç\nexport interface SafeChangePlan {\n  id: string\n  filePath: string\n  changeType: ChangeType\n  description: string\n  status: ChangeStatus\n  currentStep: ChangeStep\n  createdAt: Date\n  updatedAt: Date\n  analysis: DependencyAnalysis | null\n  impacts: ChangeImpact[]\n  procedure: string[]\n  risks: string[]\n  recommendations: string[]\n  affectedFiles: string[]\n  rollbackPlan: string[]\n  validationChecks: string[]\n}\n\n// Î≥ÄÍ≤Ω Í≤ÄÏ¶ù Í≤∞Í≥º\nexport interface ChangeValidationResult {\n  isValid: boolean\n  errors: string[]\n  warnings: string[]\n  recommendations: string[]\n}\n\n// ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Í¥ÄÎ¶¨Ïûê\nexport class SafeChangeManager {\n  private static changePlans = new Map<string, SafeChangePlan>()\n  private static readonly VALIDATION_RULES = {\n    global: [\n      'Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Î≥ÄÍ≤Ω Ïãú Î™®Îì† ÏÇ¨Ïö©Ï≤ò ÌôïÏù∏',\n      'API ÏóîÎìúÌè¨Ïù∏Ìä∏ Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏΩîÎìú ÌôïÏù∏',\n      'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Î≥ÄÍ≤Ω Ïãú ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Í≥ÑÌöç',\n      'ÌÉÄÏûÖ Ï†ïÏùò Î≥ÄÍ≤Ω Ïãú Î™®Îì† Íµ¨ÌòÑÏ≤¥ ÌôïÏù∏'\n    ],\n    page: [\n      'ÌéòÏù¥ÏßÄÎ≥Ñ Ïª¥Ìè¨ÎÑåÌä∏ Î≥ÄÍ≤Ω Ïãú ÏÉÅÏúÑ/ÌïòÏúÑ Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏',\n      'ÎùºÏö∞Ìä∏ Î≥ÄÍ≤Ω Ïãú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÎßÅÌÅ¨ ÌôïÏù∏',\n      'ÏÉÅÌÉú Í¥ÄÎ¶¨ Î≥ÄÍ≤Ω Ïãú Í¥ÄÎ†® Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏',\n      'Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω Ïãú ÌÖåÎßà ÏùºÍ¥ÄÏÑ± ÌôïÏù∏'\n    ],\n    api: [\n      'API ÏùëÎãµ ÌòïÏãù Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ìò∏ÌôòÏÑ± ÌôïÏù∏',\n      'Ïù∏Ï¶ù/Í∂åÌïú Î°úÏßÅ Î≥ÄÍ≤Ω Ïãú Î≥¥Ïïà ÏòÅÌñ• ÌôïÏù∏',\n      'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏøºÎ¶¨ Î≥ÄÍ≤Ω Ïãú ÏÑ±Îä• ÏòÅÌñ• ÌôïÏù∏',\n      'ÏóêÎü¨ Ï≤òÎ¶¨ Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏóêÎü¨ Ìï∏Îì§ÎßÅ ÌôïÏù∏'\n    ]\n  }\n\n  /**\n   * ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±\n   */\n  static async createChangePlan(\n    filePath: string,\n    changeType: ChangeType,\n    description: string\n  ): Promise<SafeChangePlan> {\n    logger.log(`üìã [Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±] ${changeType}: ${filePath}`)\n\n    // ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n    const analysis = await CodeDependencyAnalyzer.analyzeProjectDependencies()\n    const fileAnalysis = analysis.get(filePath)\n\n    if (!fileAnalysis) {\n      throw new Error(`ÌååÏùºÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§: ${filePath}`)\n    }\n\n    // Î≥ÄÍ≤Ω ÏòÅÌñ•ÎèÑ ÏòàÏ∏° (ChangeTypeÏùÑ predictChangeImpactÍ∞Ä Î∞õÎäî ÌÉÄÏûÖÏúºÎ°ú Î≥ÄÌôò)\n    const impactChangeType =\n      changeType === 'add' ? 'modify' : (changeType as 'modify' | 'delete' | 'rename')\n    const impacts = CodeDependencyAnalyzer.predictChangeImpact(filePath, impactChangeType, analysis)\n\n    // ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Ï†àÏ∞® ÏÉùÏÑ±\n    const procedure = this.generateChangeProcedure(filePath, changeType, fileAnalysis, impacts)\n\n    // Î°§Î∞± Í≥ÑÌöç ÏÉùÏÑ±\n    const rollbackPlan = this.generateRollbackPlan(filePath, changeType, impacts)\n\n    // Í≤ÄÏ¶ù Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±\n    const validationChecks = this.generateValidationChecks(filePath, changeType, fileAnalysis)\n\n    const plan: SafeChangePlan = {\n      id: this.generatePlanId(),\n      filePath,\n      changeType,\n      description,\n      status: 'pending',\n      currentStep: 'analysis',\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      analysis: fileAnalysis,\n      impacts,\n      procedure,\n      risks: this.identifyRisks(fileAnalysis, impacts),\n      recommendations: this.generateRecommendations(filePath, changeType, fileAnalysis),\n      affectedFiles: impacts.map(impact => impact.affectedFile),\n      rollbackPlan,\n      validationChecks\n    }\n\n    this.changePlans.set(plan.id, plan)\n    logger.log(`‚úÖ [Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±] ÏôÑÎ£å - ID: ${plan.id}`)\n\n    return plan\n  }\n\n  /**\n   * Î≥ÄÍ≤Ω Í≥ÑÌöç Ïã§Ìñâ\n   */\n  static async executeChangePlan(planId: string): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    const plan = this.changePlans.get(planId)\n    if (!plan) {\n      return { success: false, message: 'Î≥ÄÍ≤Ω Í≥ÑÌöçÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.' }\n    }\n\n    logger.log(`üöÄ [Î≥ÄÍ≤Ω Ïã§Ìñâ] ${plan.changeType}: ${plan.filePath}`)\n\n    try {\n      plan.status = 'in_progress'\n      plan.updatedAt = new Date()\n\n      // ÌòÑÏû¨ Îã®Í≥ÑÏóê Îî∞Î•∏ Ïã§Ìñâ\n      switch (plan.currentStep) {\n        case 'analysis':\n          return await this.executeAnalysisStep(plan)\n        case 'backup':\n          return await this.executeBackupStep(plan)\n        case 'preparation':\n          return await this.executePreparationStep(plan)\n        case 'execution':\n          return await this.executeExecutionStep(plan)\n        case 'validation':\n          return await this.executeValidationStep(plan)\n        case 'cleanup':\n          return await this.executeCleanupStep(plan)\n        default:\n          return { success: false, message: 'Ïïå Ïàò ÏóÜÎäî Îã®Í≥ÑÏûÖÎãàÎã§.' }\n      }\n    } catch (error) {\n      plan.status = 'failed'\n      plan.updatedAt = new Date()\n      return {\n        success: false,\n        message: `Î≥ÄÍ≤Ω Ïã§Ìñâ Ïã§Ìå®: ${error instanceof Error ? error.message : 'Unknown error'}`\n      }\n    }\n  }\n\n  /**\n   * Î≥ÄÍ≤Ω Í≥ÑÌöç Î°§Î∞±\n   */\n  static async rollbackChangePlan(planId: string): Promise<{\n    success: boolean\n    message: string\n  }> {\n    const plan = this.changePlans.get(planId)\n    if (!plan) {\n      return { success: false, message: 'Î≥ÄÍ≤Ω Í≥ÑÌöçÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.' }\n    }\n\n    logger.log(`üîÑ [Î≥ÄÍ≤Ω Î°§Î∞±] ${plan.changeType}: ${plan.filePath}`)\n\n    try {\n      // Î°§Î∞± Í≥ÑÌöç Ïã§Ìñâ\n      for (const rollbackStep of plan.rollbackPlan) {\n        logger.log(`  üîÑ ${rollbackStep}`)\n        // Ïã§Ï†ú Î°§Î∞± Î°úÏßÅ Íµ¨ÌòÑ\n      }\n\n      plan.status = 'rolled_back'\n      plan.updatedAt = new Date()\n\n      return { success: true, message: 'Î°§Î∞±Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.' }\n    } catch (error) {\n      return {\n        success: false,\n        message: `Î°§Î∞± Ïã§Ìå®: ${error instanceof Error ? error.message : 'Unknown error'}`\n      }\n    }\n  }\n\n  /**\n   * Î≥ÄÍ≤Ω Í≥ÑÌöç Ï°∞Ìöå\n   */\n  static getChangePlan(planId: string): SafeChangePlan | null {\n    return this.changePlans.get(planId) || null\n  }\n\n  /**\n   * Î™®Îì† Î≥ÄÍ≤Ω Í≥ÑÌöç Ï°∞Ìöå\n   */\n  static getAllChangePlans(): SafeChangePlan[] {\n    return Array.from(this.changePlans.values())\n  }\n\n  /**\n   * Î≥ÄÍ≤Ω Í≤ÄÏ¶ù\n   */\n  static validateChange(\n    filePath: string,\n    changeType: ChangeType,\n    content: string\n  ): ChangeValidationResult {\n    const result: ChangeValidationResult = {\n      isValid: true,\n      errors: [],\n      warnings: [],\n      recommendations: []\n    }\n\n    // ÌååÏùº ÌÉÄÏûÖÎ≥Ñ Í≤ÄÏ¶ù Í∑úÏπô Ï†ÅÏö©\n    if (filePath.includes('/utils/') || filePath.includes('/lib/')) {\n      this.validateGlobalFile(filePath, content, result)\n    }\n\n    if (filePath.includes('/routes/') || filePath.includes('/pages/')) {\n      this.validatePageFile(filePath, content, result)\n    }\n\n    if (filePath.includes('/api/')) {\n      this.validateApiFile(filePath, content, result)\n    }\n\n    // ÏùºÎ∞òÏ†ÅÏù∏ Í≤ÄÏ¶ù Í∑úÏπô\n    this.validateGeneralRules(filePath, content, result)\n\n    result.isValid = result.errors.length === 0\n    return result\n  }\n\n  /**\n   * Î≥ÄÍ≤Ω Ï†àÏ∞® ÏÉùÏÑ±\n   */\n  private static generateChangeProcedure(\n    filePath: string,\n    changeType: ChangeType,\n    analysis: DependencyAnalysis,\n    impacts: ChangeImpact[]\n  ): string[] {\n    const procedure: string[] = []\n\n    procedure.push('1. Î≥ÄÍ≤Ω Ï†Ñ ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù ÏôÑÎ£å')\n    procedure.push('2. Î∞±ÏóÖ ÏÉùÏÑ±')\n    procedure.push('3. ÏòÅÌñ•Î∞õÎäî ÌååÏùºÎì§ ÌôïÏù∏')\n\n    if (changeType === 'delete') {\n      procedure.push('4. Î™®Îì† Ï∞∏Ï°∞ Ï†úÍ±∞')\n      procedure.push('5. ÌååÏùº ÏÇ≠Ï†ú')\n    } else if (changeType === 'rename') {\n      procedure.push('4. ÏÉà Ïù¥Î¶ÑÏúºÎ°ú ÌååÏùº ÏÉùÏÑ±')\n      procedure.push('5. Î™®Îì† Ï∞∏Ï°∞ ÏóÖÎç∞Ïù¥Ìä∏')\n      procedure.push('6. Í∏∞Ï°¥ ÌååÏùº ÏÇ≠Ï†ú')\n    } else if (changeType === 'modify') {\n      procedure.push('4. ÌååÏùº ÏàòÏ†ï')\n    }\n\n    procedure.push('6. Î≥ÄÍ≤Ω ÌõÑ Í≤ÄÏ¶ù')\n    procedure.push('7. ÌÖåÏä§Ìä∏ Ïã§Ìñâ')\n    procedure.push('8. Î¨∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏')\n\n    return procedure\n  }\n\n  /**\n   * Î°§Î∞± Í≥ÑÌöç ÏÉùÏÑ±\n   */\n  private static generateRollbackPlan(\n    filePath: string,\n    changeType: ChangeType,\n    impacts: ChangeImpact[]\n  ): string[] {\n    const rollbackPlan: string[] = []\n\n    rollbackPlan.push('1. Î∞±ÏóÖÏóêÏÑú ÏõêÎ≥∏ ÌååÏùº Î≥µÏõê')\n\n    if (changeType === 'delete') {\n      rollbackPlan.push('2. ÏÇ≠Ï†úÎêú ÌååÏùº Î≥µÏõê')\n    } else if (changeType === 'rename') {\n      rollbackPlan.push('2. ÌååÏùºÎ™ÖÏùÑ ÏõêÎûòÎåÄÎ°ú Î≥ÄÍ≤Ω')\n      rollbackPlan.push('3. Î™®Îì† Ï∞∏Ï°∞Î•º ÏõêÎûòÎåÄÎ°ú Î≥µÏõê')\n    } else if (changeType === 'modify') {\n      rollbackPlan.push('2. ÏàòÏ†ïÎêú ÌååÏùºÏùÑ ÏõêÎ≥∏ÏúºÎ°ú Î≥µÏõê')\n    }\n\n    rollbackPlan.push('3. ÏòÅÌñ•Î∞õÏùÄ ÌååÏùºÎì§ Î≥µÏõê')\n    rollbackPlan.push('4. Í≤ÄÏ¶ù Î∞è ÌÖåÏä§Ìä∏')\n\n    return rollbackPlan\n  }\n\n  /**\n   * Í≤ÄÏ¶ù Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±\n   */\n  private static generateValidationChecks(\n    filePath: string,\n    changeType: ChangeType,\n    analysis: DependencyAnalysis\n  ): string[] {\n    const checks: string[] = []\n\n    // Í∏∞Î≥∏ Í≤ÄÏ¶ù\n    checks.push('Î¨∏Î≤ï Ïò§Î•ò ÏóÜÏùå')\n    checks.push('ÌÉÄÏûÖ Ïò§Î•ò ÏóÜÏùå')\n    checks.push('Î¶∞Ìä∏ Ïò§Î•ò ÏóÜÏùå')\n\n    // ÏùòÏ°¥ÏÑ± Í¥ÄÎ†® Í≤ÄÏ¶ù\n    if (analysis.dependents.length > 0) {\n      checks.push('ÏùòÏ°¥ÌïòÎäî ÌååÏùºÎì§Ïù¥ Ï†ïÏÉÅ ÏûëÎèô')\n      checks.push('Import/Export Í¥ÄÍ≥Ñ Ï†ïÏÉÅ')\n    }\n\n    // ÌååÏùº ÌÉÄÏûÖÎ≥Ñ Í≤ÄÏ¶ù\n    if (filePath.includes('/api/')) {\n      checks.push('API ÏóîÎìúÌè¨Ïù∏Ìä∏ Ï†ïÏÉÅ ÏùëÎãµ')\n      checks.push('ÏóêÎü¨ Ï≤òÎ¶¨ Ï†ïÏÉÅ')\n    }\n\n    if (filePath.includes('/utils/')) {\n      checks.push('Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Ï†ïÏÉÅ ÏûëÎèô')\n      checks.push('Î™®Îì† ÏÇ¨Ïö©Ï≤òÏóêÏÑú Ï†ïÏÉÅ Ìò∏Ï∂ú')\n    }\n\n    return checks\n  }\n\n  /**\n   * ÏúÑÌóò ÏöîÏÜå ÏãùÎ≥Ñ\n   */\n  private static identifyRisks(analysis: DependencyAnalysis, impacts: ChangeImpact[]): string[] {\n    const risks: string[] = []\n\n    if (analysis.riskLevel === 'critical') {\n      risks.push('Critical ÏúÑÌóòÎèÑ ÌååÏùº - Ïã†Ï§ëÌïú Î≥ÄÍ≤Ω ÌïÑÏöî')\n    }\n\n    if (impacts.length > 10) {\n      risks.push('ÎßéÏùÄ ÌååÏùºÏóê ÏòÅÌñ• - Í¥ëÎ≤îÏúÑÌïú ÌÖåÏä§Ìä∏ ÌïÑÏöî')\n    }\n\n    if (impacts.some(impact => impact.impactType === 'breaking')) {\n      risks.push('Breaking Change Í∞êÏßÄ - ÌïòÏúÑ Ìò∏ÌôòÏÑ± Î¨∏Ï†ú Í∞ÄÎä•')\n    }\n\n    return risks\n  }\n\n  /**\n   * Í∂åÏû•ÏÇ¨Ìï≠ ÏÉùÏÑ±\n   */\n  private static generateRecommendations(\n    filePath: string,\n    changeType: ChangeType,\n    analysis: DependencyAnalysis\n  ): string[] {\n    const recommendations: string[] = []\n\n    if (changeType === 'delete') {\n      recommendations.push('ÏÇ≠Ï†ú Ï†Ñ Î™®Îì† Ï∞∏Ï°∞ Ï†úÍ±∞')\n      recommendations.push('ÎåÄÏ≤¥ Î∞©Ïïà ÎßàÎ†®')\n    }\n\n    if (changeType === 'rename') {\n      recommendations.push('Îã®Í≥ÑÏ†Å Ïù¥Î¶Ñ Î≥ÄÍ≤Ω (Î≥ÑÏπ≠ Ïú†ÏßÄ)')\n      recommendations.push('Î™®Îì† Ï∞∏Ï°∞ ÏóÖÎç∞Ïù¥Ìä∏')\n    }\n\n    if (analysis.dependents.length > 5) {\n      recommendations.push('ÏùòÏ°¥ÌïòÎäî ÌååÏùºÏù¥ ÎßéÏùå - Îã®Í≥ÑÏ†Å Î≥ÄÍ≤Ω Í≥†Î†§')\n    }\n\n    recommendations.push('Î≥ÄÍ≤Ω ÌõÑ Ï†ÑÏ≤¥ ÌÖåÏä§Ìä∏ Ïã§Ìñâ')\n    recommendations.push('Î¨∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏')\n\n    return recommendations\n  }\n\n  /**\n   * Í∏ÄÎ°úÎ≤å ÌååÏùº Í≤ÄÏ¶ù\n   */\n  private static validateGlobalFile(\n    filePath: string,\n    content: string,\n    result: ChangeValidationResult\n  ): void {\n    // Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Í≤ÄÏ¶ù\n    if (content.includes('export') && !content.includes('export default')) {\n      result.warnings.push('Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Î≥ÄÍ≤Ω Ïãú Î™®Îì† ÏÇ¨Ïö©Ï≤ò ÌôïÏù∏ ÌïÑÏöî')\n    }\n\n    // ÌÉÄÏûÖ Ï†ïÏùò Í≤ÄÏ¶ù\n    if (content.includes('interface') || content.includes('type')) {\n      result.warnings.push('ÌÉÄÏûÖ Ï†ïÏùò Î≥ÄÍ≤Ω Ïãú Î™®Îì† Íµ¨ÌòÑÏ≤¥ ÌôïÏù∏ ÌïÑÏöî')\n    }\n  }\n\n  /**\n   * ÌéòÏù¥ÏßÄ ÌååÏùº Í≤ÄÏ¶ù\n   */\n  private static validatePageFile(\n    filePath: string,\n    content: string,\n    result: ChangeValidationResult\n  ): void {\n    // Ïª¥Ìè¨ÎÑåÌä∏ props Í≤ÄÏ¶ù\n    if (content.includes('export let')) {\n      result.warnings.push('Ïª¥Ìè¨ÎÑåÌä∏ props Î≥ÄÍ≤Ω Ïãú ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏ ÌïÑÏöî')\n    }\n\n    // ÎùºÏö∞Ìä∏ Í≤ÄÏ¶ù\n    if (filePath.includes('/routes/')) {\n      result.warnings.push('ÎùºÏö∞Ìä∏ Î≥ÄÍ≤Ω Ïãú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÎßÅÌÅ¨ ÌôïÏù∏ ÌïÑÏöî')\n    }\n  }\n\n  /**\n   * API ÌååÏùº Í≤ÄÏ¶ù\n   */\n  private static validateApiFile(\n    filePath: string,\n    content: string,\n    result: ChangeValidationResult\n  ): void {\n    // API ÏùëÎãµ ÌòïÏãù Í≤ÄÏ¶ù\n    if (content.includes('json(')) {\n      result.warnings.push('API ÏùëÎãµ ÌòïÏãù Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ìò∏ÌôòÏÑ± ÌôïÏù∏ ÌïÑÏöî')\n    }\n\n    // Ïù∏Ï¶ù/Í∂åÌïú Í≤ÄÏ¶ù\n    if (content.includes('auth') || content.includes('permission')) {\n      result.warnings.push('Ïù∏Ï¶ù/Í∂åÌïú Î°úÏßÅ Î≥ÄÍ≤Ω Ïãú Î≥¥Ïïà ÏòÅÌñ• ÌôïÏù∏ ÌïÑÏöî')\n    }\n  }\n\n  /**\n   * ÏùºÎ∞òÏ†ÅÏù∏ Í≤ÄÏ¶ù Í∑úÏπô\n   */\n  private static validateGeneralRules(\n    filePath: string,\n    content: string,\n    result: ChangeValidationResult\n  ): void {\n    // ÌïòÎìúÏΩîÎî©Îêú Í∞í Í≤ÄÏ¶ù\n    if (content.includes('localhost') || content.includes('127.0.0.1')) {\n      result.warnings.push('ÌïòÎìúÏΩîÎî©Îêú URL ÏÇ¨Ïö© - ÌôòÍ≤Ω Î≥ÄÏàò ÏÇ¨Ïö© Í∂åÏû•')\n    }\n\n    // ÏóêÎü¨ Ï≤òÎ¶¨ Í≤ÄÏ¶ù\n    if (content.includes('await') && !content.includes('try') && !content.includes('catch')) {\n      result.warnings.push('ÎπÑÎèôÍ∏∞ ÏûëÏóÖÏóê ÏóêÎü¨ Ï≤òÎ¶¨ Ï∂îÍ∞Ä Í∂åÏû•')\n    }\n  }\n\n  /**\n   * Í≥ÑÌöç ID ÏÉùÏÑ±\n   */\n  private static generatePlanId(): string {\n    return `plan_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n  }\n\n  /**\n   * Î∂ÑÏÑù Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  private static async executeAnalysisStep(plan: SafeChangePlan): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    logger.log('  üìä ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù ÏôÑÎ£å')\n    plan.currentStep = 'backup'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Î∂ÑÏÑù ÏôÑÎ£å', nextStep: 'backup' }\n  }\n\n  /**\n   * Î∞±ÏóÖ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  private static async executeBackupStep(plan: SafeChangePlan): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    logger.log('  üíæ Î∞±ÏóÖ ÏÉùÏÑ± ÏôÑÎ£å')\n    plan.currentStep = 'preparation'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Î∞±ÏóÖ ÏôÑÎ£å', nextStep: 'preparation' }\n  }\n\n  /**\n   * Ï§ÄÎπÑ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  private static async executePreparationStep(plan: SafeChangePlan): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    logger.log('  üîß Î≥ÄÍ≤Ω Ï§ÄÎπÑ ÏôÑÎ£å')\n    plan.currentStep = 'execution'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Ï§ÄÎπÑ ÏôÑÎ£å', nextStep: 'execution' }\n  }\n\n  /**\n   * Ïã§Ìñâ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  private static async executeExecutionStep(plan: SafeChangePlan): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    logger.log('  ‚ö° Î≥ÄÍ≤Ω Ïã§Ìñâ ÏôÑÎ£å')\n    plan.currentStep = 'validation'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Ïã§Ìñâ ÏôÑÎ£å', nextStep: 'validation' }\n  }\n\n  /**\n   * Í≤ÄÏ¶ù Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  private static async executeValidationStep(plan: SafeChangePlan): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    logger.log('  ‚úÖ Í≤ÄÏ¶ù ÏôÑÎ£å')\n    plan.currentStep = 'cleanup'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Í≤ÄÏ¶ù ÏôÑÎ£å', nextStep: 'cleanup' }\n  }\n\n  /**\n   * Ï†ïÎ¶¨ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  private static async executeCleanupStep(plan: SafeChangePlan): Promise<{\n    success: boolean\n    message: string\n    nextStep?: ChangeStep\n  }> {\n    logger.log('  üßπ Ï†ïÎ¶¨ ÏôÑÎ£å')\n    plan.status = 'completed'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Î™®Îì† Îã®Í≥Ñ ÏôÑÎ£å' }\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/salary-calculator.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/schema-validation.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/timezone.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'timezone' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 34,
        "column": 43,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 34,
        "endColumn": 51
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'timezoneString' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 56,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 56,
        "endColumn": 23
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'localDate' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 141,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 141,
        "endColumn": 18
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\n * UTC Í∏∞Ï§Ä ÏãúÍ∞Ñ Ï≤òÎ¶¨ Ïú†Ìã∏Î¶¨Ìã∞\n * Î™®Îì† ÏãúÍ∞Ñ Ï≤òÎ¶¨Î•º UTC Í∏∞Ï§ÄÏúºÎ°ú ÌïòÍ≥†, ÌÉÄÏûÑÏ°¥ Î≥ÄÌôòÏùÑ Î™ÖÌôïÌïòÍ≤å Í¥ÄÎ¶¨Ìï©ÎãàÎã§.\n */\n\nimport { toUTC } from './date-handler'\n\n// ÏßÄÏõêÌïòÎäî ÌÉÄÏûÑÏ°¥ Î™©Î°ù (ÌôïÏû• Í∞ÄÎä•)\nexport const SUPPORTED_TIMEZONES = {\n  UTC: 'UTC',\n  KST: 'Asia/Seoul', // ÌïúÍµ≠ ÌëúÏ§ÄÏãú (UTC+9)\n  JST: 'Asia/Tokyo', // ÏùºÎ≥∏ ÌëúÏ§ÄÏãú (UTC+9)\n  EST: 'America/New_York', // ÎØ∏Íµ≠ ÎèôÎ∂Ä ÌëúÏ§ÄÏãú (UTC-5)\n  PST: 'America/Los_Angeles', // ÎØ∏Íµ≠ ÏÑúÎ∂Ä ÌëúÏ§ÄÏãú (UTC-8)\n  GMT: 'Europe/London', // Í∑∏Î¶¨ÎãàÏπò ÌëúÏ§ÄÏãú (UTC+0)\n  CET: 'Europe/Paris', // Ï§ëÏïôÏú†ÎüΩ ÌëúÏ§ÄÏãú (UTC+1)\n  CST: 'Asia/Shanghai', // Ï§ëÍµ≠ ÌëúÏ§ÄÏãú (UTC+8)\n  IST: 'Asia/Kolkata', // Ïù∏ÎèÑ ÌëúÏ§ÄÏãú (UTC+5:30)\n  AEST: 'Australia/Sydney', // Ìò∏Ï£º ÎèôÎ∂Ä ÌëúÏ§ÄÏãú (UTC+10)\n  NZST: 'Pacific/Auckland' // Îâ¥ÏßàÎûúÎìú ÌëúÏ§ÄÏãú (UTC+12)\n} as const\n\nexport type Timezone = keyof typeof SUPPORTED_TIMEZONES\n\n// Í∏∞Î≥∏ ÌÉÄÏûÑÏ°¥ ÏÑ§Ï†ï (ÌïúÍµ≠ ÌëúÏ§ÄÏãú)\nexport const DEFAULT_TIMEZONE: Timezone = 'KST'\n\n/**\n * UTC ÏãúÍ∞ÑÏùÑ ÌäπÏ†ï ÌÉÄÏûÑÏ°¥Ïùò Î°úÏª¨ ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÌôò\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone Î≥ÄÌôòÌï† ÌÉÄÏûÑÏ°¥\n * @returns Î≥ÄÌôòÎêú Î°úÏª¨ ÏãúÍ∞Ñ\n */\nexport function utcToLocal(utcDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): Date {\n  if (!utcDate || isNaN(utcDate.getTime())) {\n    throw new Error('Invalid UTC date provided')\n  }\n\n  // ÌëúÏ§Ä ÎÇ†Ïßú Ï≤òÎ¶¨ Ìï®Ïàò ÏÇ¨Ïö©\n  const utcString = utcDate.toISOString()\n  const localDate = new Date(toUTC(utcString))\n  return localDate\n}\n\n/**\n * Î°úÏª¨ ÏãúÍ∞ÑÏùÑ UTC ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÌôò\n * @param localDate Î°úÏª¨ ÏãúÍ∞Ñ\n * @param timezone Î°úÏª¨ ÏãúÍ∞ÑÏùò ÌÉÄÏûÑÏ°¥\n * @returns UTC ÏãúÍ∞Ñ\n */\nexport function localToUtc(localDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): Date {\n  if (!localDate || isNaN(localDate.getTime())) {\n    throw new Error('Invalid local date provided')\n  }\n\n  const timezoneString = SUPPORTED_TIMEZONES[timezone]\n  // ÌëúÏ§Ä ÎÇ†Ïßú Ï≤òÎ¶¨ Ìï®Ïàò ÏÇ¨Ïö©\n  const utcDate = new Date(toUTC(localDate.toISOString()))\n\n  // ÌÉÄÏûÑÏ°¥ Ïò§ÌîÑÏÖãÏùÑ Í≥†Î†§ÌïòÏó¨ UTCÎ°ú Î≥ÄÌôò\n  const offset = getTimezoneOffset(timezone)\n  return new Date(utcDate.getTime() - offset * 60 * 1000)\n}\n\n/**\n * ÌÉÄÏûÑÏ°¥ Ïò§ÌîÑÏÖãÏùÑ Î∂Ñ Îã®ÏúÑÎ°ú Î∞òÌôò\n * @param timezone ÌÉÄÏûÑÏ°¥\n * @returns Ïò§ÌîÑÏÖã (Î∂Ñ)\n */\nexport function getTimezoneOffset(timezone: Timezone): number {\n  const offsets: Record<Timezone, number> = {\n    UTC: 0,\n    KST: -540, // UTC+9 = -540Î∂Ñ\n    JST: -540, // UTC+9 = -540Î∂Ñ\n    EST: 300, // UTC-5 = +300Î∂Ñ\n    PST: 480, // UTC-8 = +480Î∂Ñ\n    GMT: 0, // UTC+0 = 0Î∂Ñ\n    CET: -60, // UTC+1 = -60Î∂Ñ\n    CST: -480, // UTC+8 = -480Î∂Ñ\n    IST: -330, // UTC+5:30 = -330Î∂Ñ\n    AEST: -600, // UTC+10 = -600Î∂Ñ\n    NZST: -720 // UTC+12 = -720Î∂Ñ\n  }\n\n  return offsets[timezone]\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏùÑ YYYY-MM-DD ÌòïÏãùÏùò Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò (Î°úÏª¨ ÌÉÄÏûÑÏ°¥ Í∏∞Ï§Ä)\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone Î≥ÄÌôòÌï† ÌÉÄÏûÑÏ°¥\n * @returns YYYY-MM-DD ÌòïÏãùÏùò ÎÇ†Ïßú Î¨∏ÏûêÏó¥\n */\nexport function utcToDateString(utcDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): string {\n  const localDate = utcToLocal(utcDate, timezone)\n  const year = localDate.getFullYear()\n  const month = String(localDate.getMonth() + 1).padStart(2, '0')\n  const day = String(localDate.getDate()).padStart(2, '0')\n  return `${year}-${month}-${day}`\n}\n\n/**\n * YYYY-MM-DD ÌòïÏãùÏùò Î¨∏ÏûêÏó¥ÏùÑ UTC ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÌôò\n * @param dateString YYYY-MM-DD ÌòïÏãùÏùò ÎÇ†Ïßú Î¨∏ÏûêÏó¥\n * @param timezone ÏûÖÎ†• ÎÇ†ÏßúÏùò ÌÉÄÏûÑÏ°¥\n * @returns UTC ÏãúÍ∞Ñ\n */\nexport function dateStringToUtc(dateString: string, timezone: Timezone = DEFAULT_TIMEZONE): Date {\n  if (!dateString || !dateString.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n    throw new Error('Invalid date string format. Expected YYYY-MM-DD')\n  }\n\n  // Î°úÏª¨ ÌÉÄÏûÑÏ°¥ÏóêÏÑú ÏûêÏ†ïÏúºÎ°ú Ìï¥ÏÑù\n  const [year, month, day] = dateString.split('-').map(Number)\n  const localDate = new Date(year, month - 1, day, 0, 0, 0, 0)\n\n  return localToUtc(localDate, timezone)\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏùÑ HH:MM:SS ÌòïÏãùÏùò ÏãúÍ∞Ñ Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò (Î°úÏª¨ ÌÉÄÏûÑÏ°¥ Í∏∞Ï§Ä)\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone Î≥ÄÌôòÌï† ÌÉÄÏûÑÏ°¥\n * @returns HH:MM:SS ÌòïÏãùÏùò ÏãúÍ∞Ñ Î¨∏ÏûêÏó¥\n */\nexport function utcToTimeString(utcDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): string {\n  const localDate = utcToLocal(utcDate, timezone)\n  const hours = String(localDate.getHours()).padStart(2, '0')\n  const minutes = String(localDate.getMinutes()).padStart(2, '0')\n  const seconds = String(localDate.getSeconds()).padStart(2, '0')\n  return `${hours}:${minutes}:${seconds}`\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏùÑ YYYY-MM-DD HH:MM:SS ÌòïÏãùÏùò Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò (Î°úÏª¨ ÌÉÄÏûÑÏ°¥ Í∏∞Ï§Ä)\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone Î≥ÄÌôòÌï† ÌÉÄÏûÑÏ°¥\n * @returns YYYY-MM-DD HH:MM:SS ÌòïÏãùÏùò ÎÇ†ÏßúÏãúÍ∞Ñ Î¨∏ÏûêÏó¥\n */\nexport function utcToDateTimeString(utcDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): string {\n  const localDate = utcToLocal(utcDate, timezone)\n  const dateString = utcToDateString(utcDate, timezone)\n  const timeString = utcToTimeString(utcDate, timezone)\n  return `${dateString} ${timeString}`\n}\n\n/**\n * ÌòÑÏû¨ UTC ÏãúÍ∞ÑÏùÑ Î∞òÌôò\n * @returns ÌòÑÏû¨ UTC ÏãúÍ∞Ñ\n */\nexport function getCurrentUtcTime(): Date {\n  return new Date()\n}\n\n/**\n * ÌòÑÏû¨ Î°úÏª¨ ÏãúÍ∞ÑÏùÑ Î∞òÌôò (ÏßÄÏ†ïÎêú ÌÉÄÏûÑÏ°¥ Í∏∞Ï§Ä)\n * @param timezone ÌÉÄÏûÑÏ°¥\n * @returns ÌòÑÏû¨ Î°úÏª¨ ÏãúÍ∞Ñ\n */\nexport function getCurrentLocalTime(timezone: Timezone = DEFAULT_TIMEZONE): Date {\n  return utcToLocal(getCurrentUtcTime(), timezone)\n}\n\n/**\n * Îëê UTC ÏãúÍ∞Ñ ÏÇ¨Ïù¥Ïùò ÏùºÏàòÎ•º Í≥ÑÏÇ∞\n * @param startUtc ÏãúÏûë UTC ÏãúÍ∞Ñ\n * @param endUtc Ï¢ÖÎ£å UTC ÏãúÍ∞Ñ\n * @returns ÏùºÏàò\n */\nexport function getDaysBetweenUtc(startUtc: Date, endUtc: Date): number {\n  if (!startUtc || !endUtc || isNaN(startUtc.getTime()) || isNaN(endUtc.getTime())) {\n    throw new Error('Invalid UTC dates provided')\n  }\n\n  const diffTime = endUtc.getTime() - startUtc.getTime()\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏóê ÏùºÏàòÎ•º ÎçîÌï®\n * @param utcDate Í∏∞Ï§Ä UTC ÏãúÍ∞Ñ\n * @param days ÎçîÌï† ÏùºÏàò\n * @returns Í≥ÑÏÇ∞Îêú UTC ÏãúÍ∞Ñ\n */\nexport function addDaysToUtc(utcDate: Date, days: number): Date {\n  if (!utcDate || isNaN(utcDate.getTime())) {\n    throw new Error('Invalid UTC date provided')\n  }\n\n  const result = new Date(utcDate)\n  result.setUTCDate(result.getUTCDate() + days)\n  return result\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏóêÏÑú ÏùºÏàòÎ•º Î∫å\n * @param utcDate Í∏∞Ï§Ä UTC ÏãúÍ∞Ñ\n * @param days Î∫Ñ ÏùºÏàò\n * @returns Í≥ÑÏÇ∞Îêú UTC ÏãúÍ∞Ñ\n */\nexport function subtractDaysFromUtc(utcDate: Date, days: number): Date {\n  return addDaysToUtc(utcDate, -days)\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏùÑ ÌäπÏ†ï ÌÉÄÏûÑÏ°¥Ïùò Î°úÏª¨ ÏãúÍ∞ÑÏúºÎ°ú Ìè¨Îß∑ÌåÖ\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone ÌÉÄÏûÑÏ°¥\n * @param options Intl.DateTimeFormatOptions\n * @returns Ìè¨Îß∑ÌåÖÎêú Î¨∏ÏûêÏó¥\n */\nexport function formatUtcToLocal(\n  utcDate: Date,\n  timezone: Timezone = DEFAULT_TIMEZONE,\n  options: Intl.DateTimeFormatOptions = {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZoneName: 'short'\n  }\n): string {\n  if (!utcDate || isNaN(utcDate.getTime())) {\n    throw new Error('Invalid UTC date provided')\n  }\n\n  // ÌëúÏ§Ä ÎÇ†Ïßú Ï≤òÎ¶¨ Ìï®Ïàò ÏÇ¨Ïö©\n  return formatUtcToLocal(utcDate, timezone, options)\n}\n\n/**\n * ÎÇ†Ïßú ÏûÖÎ†• ÌïÑÎìúÏö© UTC ÏãúÍ∞Ñ Î≥ÄÌôò (YYYY-MM-DD ÌòïÏãù)\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone ÌÉÄÏûÑÏ°¥\n * @returns HTML date inputÏö© YYYY-MM-DD ÌòïÏãù\n */\nexport function utcToDateInput(utcDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): string {\n  return utcToDateString(utcDate, timezone)\n}\n\n/**\n * HTML date input Í∞íÏùÑ UTC ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÌôò\n * @param dateInputValue HTML date inputÏùò Í∞í (YYYY-MM-DD)\n * @param timezone ÏûÖÎ†• Í∞íÏùò ÌÉÄÏûÑÏ°¥\n * @returns UTC ÏãúÍ∞Ñ\n */\nexport function dateInputToUtc(\n  dateInputValue: string,\n  timezone: Timezone = DEFAULT_TIMEZONE\n): Date {\n  return dateStringToUtc(dateInputValue, timezone)\n}\n\n/**\n * Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï†ÄÏû•Ïö© UTC ÏãúÍ∞Ñ Î¨∏ÏûêÏó¥ ÏÉùÏÑ±\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @returns ISO 8601 ÌòïÏãùÏùò UTC ÏãúÍ∞Ñ Î¨∏ÏûêÏó¥\n */\nexport function utcToDbString(utcDate: Date): string {\n  if (!utcDate || isNaN(utcDate.getTime())) {\n    throw new Error('Invalid UTC date provided')\n  }\n\n  return utcDate.toISOString()\n}\n\n/**\n * Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏóêÏÑú Í∞ÄÏ†∏Ïò® UTC ÏãúÍ∞Ñ Î¨∏ÏûêÏó¥ÏùÑ Date Í∞ùÏ≤¥Î°ú Î≥ÄÌôò\n * @param dbString ISO 8601 ÌòïÏãùÏùò UTC ÏãúÍ∞Ñ Î¨∏ÏûêÏó¥\n * @returns UTC Date Í∞ùÏ≤¥\n */\nexport function dbStringToUtc(dbString: string): Date {\n  if (!dbString) {\n    throw new Error('Invalid database string provided')\n  }\n\n  const date = new Date(dbString)\n  if (isNaN(date.getTime())) {\n    throw new Error('Invalid database string format')\n  }\n\n  return date\n}\n\n/**\n * ÌÉÄÏûÑÏ°¥ Ï†ïÎ≥¥Î•º Ìè¨Ìï®Ìïú ÏãúÍ∞Ñ Ï†ïÎ≥¥ Í∞ùÏ≤¥\n */\nexport interface TimeInfo {\n  utc: Date\n  local: Date\n  timezone: Timezone\n  dateString: string // YYYY-MM-DD\n  timeString: string // HH:MM:SS\n  dateTimeString: string // YYYY-MM-DD HH:MM:SS\n  formatted: string // Ìè¨Îß∑ÌåÖÎêú Î¨∏ÏûêÏó¥\n}\n\n/**\n * UTC ÏãúÍ∞ÑÏùÑ Î™®Îì† ÌòïÏãùÏúºÎ°ú Î≥ÄÌôòÌïòÏó¨ Î∞òÌôò\n * @param utcDate UTC ÏãúÍ∞Ñ\n * @param timezone ÌÉÄÏûÑÏ°¥\n * @returns ÏãúÍ∞Ñ Ï†ïÎ≥¥ Í∞ùÏ≤¥\n */\nexport function getTimeInfo(utcDate: Date, timezone: Timezone = DEFAULT_TIMEZONE): TimeInfo {\n  const local = utcToLocal(utcDate, timezone)\n\n  return {\n    utc: utcDate,\n    local,\n    timezone,\n    dateString: utcToDateString(utcDate, timezone),\n    timeString: utcToTimeString(utcDate, timezone),\n    dateTimeString: utcToDateTimeString(utcDate, timezone),\n    formatted: formatUtcToLocal(utcDate, timezone)\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/lib/utils/validation.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 13,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [438, 441], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [438, 441], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 60,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 60,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1222, 1225], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1222, 1225], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 223,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 223,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4723, 4726], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4723, 4726], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 238,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 238,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4991, 4994], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4991, 4994], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 249,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 249,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5265, 5268], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5265, 5268], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 267,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 267,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5809, 5812], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5809, 5812], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 285,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 285,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6352, 6355], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6352, 6355], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 303,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 303,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6899, 6902], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6899, 6902], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 324,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 324,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7510, 7513], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7510, 7513], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 361,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 361,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8762, 8765], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8762, 8765], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 384,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 384,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9601, 9604], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9601, 9604], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 384,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 384,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9615, 9618], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9615, 9618], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'memberEndDate' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 386,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 386,
        "endColumn": 24
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 453,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 453,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11693, 11696], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11693, 11696], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 453,
        "column": 68,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 453,
        "endColumn": 71,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11708, 11711], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11708, 11711], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 568,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 568,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14989, 14992], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14989, 14992], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 601,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 601,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [16062, 16065], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [16062, 16065], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 16,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Pool } from 'pg'\nimport { logger } from '$lib/utils/logger';\n\n// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó∞Í≤∞ ÌíÄ\nconst pool = new Pool({\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: { rejectUnauthorized: false }\n})\n\n// Í≤ÄÏ¶ù Í≤∞Í≥º ÌÉÄÏûÖ Ï†ïÏùò\nexport interface ValidationResult {\n  isValid: boolean\n  reason: string\n  message: string\n  issues?: string[]\n  details?: any\n}\n\nexport interface ValidationResponse {\n  success: boolean\n  projectId: string\n  projectTitle?: string\n  validationResults: unknown[]\n  overallValidation: {\n    isValid: boolean\n    totalItems: number\n    validItems: number\n    invalidItems: number\n  }\n  generatedAt: string\n}\n\n// Í≥µÌÜµ Í≤ÄÏ¶ù Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§\nexport class ValidationUtils {\n  // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó∞Í≤∞ ÌíÄ Ï†ëÍ∑ºÏûê\n  static get pool() {\n    return pool\n  }\n\n  // ÏøºÎ¶¨ Î©îÏÑúÎìú\n  static async query(text: string, params?: unknown[]) {\n    return await pool.query(text, params)\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ IDÎ°ú Ï°∞Ìöå\n  static async getProjectById(projectId: string) {\n    return await this.getProjectInfo(projectId)\n  }\n\n  // Í≤ÄÏ¶ù Í≤∞Í≥º ÏÉùÏÑ± Î©îÏÑúÎìú\n  static createValidationResult(\n    isValid: boolean,\n    reason: string,\n    message: string,\n    issues?: string[],\n    details?: any\n  ): ValidationResult {\n    return {\n      isValid,\n      reason,\n      message,\n      issues,\n      details\n    }\n  }\n  /**\n   * ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Ï°∞Ìöå\n   */\n  static async getProjectInfo(projectId: string) {\n    const result = await pool.query('SELECT * FROM projects WHERE id = $1', [projectId])\n    if (result.rows.length === 0) {\n      throw new Error('ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')\n    }\n    return result.rows[0]\n  }\n\n  /**\n   * ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ Ï†ïÎ≥¥ Ï°∞Ìöå\n   */\n  static async getProjectBudgets(projectId: string) {\n    const result = await pool.query(\n      'SELECT * FROM project_budgets WHERE project_id = $1 ORDER BY period_number',\n      [projectId]\n    )\n    return result.rows\n  }\n\n  /**\n   * ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥ Ï°∞Ìöå (Ïù∏ÏÇ¨ Îç∞Ïù¥ÌÑ∞ Ìè¨Ìï®)\n   */\n  static async getProjectMembers(projectId: string) {\n    const result = await pool.query(\n      `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.hire_date,\n\t\t\t\te.termination_date,\n\t\t\t\te.status,\n\t\t\t\te.employment_type,\n\t\t\t\te.department,\n\t\t\t\te.position\n\t\t\tFROM project_members pm\n\t\t\tLEFT JOIN employees e ON pm.employee_id = e.id\n\t\t\tWHERE pm.project_id = $1\n\t\t\tORDER BY pm.start_date\n\t\t`,\n      [projectId]\n    )\n    return result.rows\n  }\n\n  /**\n   * Ï¶ùÎπô Ìï≠Î™© Ï†ïÎ≥¥ Ï°∞Ìöå\n   */\n  static async getEvidenceItems(projectId: string, categoryName?: string) {\n    let query = `\n\t\t\tSELECT \n\t\t\t\tei.*,\n\t\t\t\tpb.period_number,\n\t\t\t\tpb.fiscal_year,\n\t\t\t\tpb.start_date as period_start_date,\n\t\t\t\tpb.end_date as period_end_date,\n\t\t\t\tec.name as category_name\n\t\t\tFROM evidence_items ei\n\t\t\tJOIN project_budgets pb ON ei.project_budget_id = pb.id\n\t\t\tJOIN evidence_categories ec ON ei.category_id = ec.id\n\t\t\tWHERE pb.project_id = $1\n\t\t`\n    const params = [projectId]\n\n    if (categoryName) {\n      query += ' AND ec.name = $2'\n      params.push(categoryName)\n    }\n\n    query += ' ORDER BY pb.period_number, ei.due_date'\n\n    const result = await pool.query(query, params)\n    return result.rows\n  }\n\n  /**\n   * ÏßÅÏõê Ï†ïÎ≥¥ Ï°∞Ìöå\n   */\n  static async getEmployeeInfo(employeeId: string) {\n    const result = await pool.query(\n      `\n\t\t\tSELECT \n\t\t\t\tid,\n\t\t\t\tfirst_name,\n\t\t\t\tlast_name,\n\t\t\t\thire_date,\n\t\t\t\ttermination_date,\n\t\t\t\tstatus,\n\t\t\t\temployment_type,\n\t\t\t\tdepartment,\n\t\t\t\tposition\n\t\t\tFROM employees \n\t\t\tWHERE id = $1\n\t\t`,\n      [employeeId]\n    )\n    return result.rows[0] || null\n  }\n\n  /**\n   * ÎÇ†Ïßú Î≤îÏúÑ Í≤πÏπ® ÌôïÏù∏\n   */\n  static isDateRangeOverlap(start1: Date, end1: Date, start2: Date, end2: Date): boolean {\n    return start1 <= end2 && start2 <= end1\n  }\n\n  /**\n   * ÎÇ†Ïßú Ï∞®Ïù¥ Í≥ÑÏÇ∞ (Ïõî Îã®ÏúÑ)\n   */\n  static getMonthsDifference(startDate: Date, endDate: Date): number {\n    return (\n      (endDate.getFullYear() - startDate.getFullYear()) * 12 +\n      (endDate.getMonth() - startDate.getMonth()) +\n      1\n    )\n  }\n\n  /**\n   * Í∏àÏï° Ï∞®Ïù¥ Í≥ÑÏÇ∞ (ÌóàÏö© Ïò§Ï∞® Ìè¨Ìï®)\n   */\n  static isAmountWithinTolerance(\n    expected: number,\n    actual: number,\n    tolerance: number = 1000\n  ): boolean {\n    return Math.abs(expected - actual) <= tolerance\n  }\n\n  /**\n   * Ï†ÑÏ≤¥ Í≤ÄÏ¶ù Í≤∞Í≥º ÏÉùÏÑ±\n   */\n  static createOverallValidation(validationResults: unknown[]) {\n    const validItems = validationResults.filter(result => result.validation.isValid).length\n    const invalidItems = validationResults.filter(result => !result.validation.isValid).length\n\n    return {\n      isValid: invalidItems === 0,\n      totalItems: validationResults.length,\n      validItems,\n      invalidItems\n    }\n  }\n\n  /**\n   * ÌëúÏ§Ä Í≤ÄÏ¶ù ÏùëÎãµ ÏÉùÏÑ±\n   */\n  static createValidationResponse(\n    projectId: string,\n    projectTitle: string,\n    validationResults: unknown[],\n    overallValidation: any\n  ): ValidationResponse {\n    return {\n      success: true,\n      projectId,\n      projectTitle,\n      validationResults,\n      overallValidation,\n      generatedAt: new Date().toISOString()\n    }\n  }\n\n  /**\n   * ÏóêÎü¨ ÏùëÎãµ ÏÉùÏÑ±\n   */\n  static createErrorResponse(error: any, message: string = 'Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.') {\n    return {\n      success: false,\n      error: message,\n      details: error instanceof Error ? error.message : 'Unknown error'\n    }\n  }\n\n  /**\n   * ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ ÏóÖÎç∞Ïù¥Ìä∏\n   */\n  static async updateProjectBudget(budgetId: string, data: any): Promise<boolean> {\n    try {\n      const fields = Object.keys(data)\n        .map((key, index) => `${key} = $${index + 2}`)\n        .join(', ')\n      const values = Object.values(data)\n      const query = `UPDATE project_budgets SET ${fields} WHERE id = $1`\n      await ValidationUtils.query(query, [budgetId, ...values])\n      return true\n    } catch (error) {\n      logger.error('‚ùå [ValidationUtils] ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:', error)\n      return false\n    }\n  }\n\n  /**\n   * ÌîÑÎ°úÏ†ùÌä∏ ÏóÖÎç∞Ïù¥Ìä∏\n   */\n  static async updateProject(projectId: string, data: any): Promise<boolean> {\n    try {\n      const fields = Object.keys(data)\n        .map((key, index) => `${key} = $${index + 2}`)\n        .join(', ')\n      const values = Object.values(data)\n      const query = `UPDATE projects SET ${fields} WHERE id = $1`\n      await ValidationUtils.query(query, [projectId, ...values])\n      return true\n    } catch (error) {\n      logger.error('‚ùå [ValidationUtils] ÌîÑÎ°úÏ†ùÌä∏ ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:', error)\n      return false\n    }\n  }\n\n  /**\n   * ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏóÖÎç∞Ïù¥Ìä∏\n   */\n  static async updateProjectMember(memberId: string, data: any): Promise<boolean> {\n    try {\n      const fields = Object.keys(data)\n        .map((key, index) => `${key} = $${index + 2}`)\n        .join(', ')\n      const values = Object.values(data)\n      const query = `UPDATE project_members SET ${fields} WHERE id = $1`\n      await ValidationUtils.query(query, [memberId, ...values])\n      return true\n    } catch (error) {\n      logger.error('‚ùå [ValidationUtils] ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:', error)\n      return false\n    }\n  }\n\n  /**\n   * Ï¶ùÎπô Ìï≠Î™© ÏóÖÎç∞Ïù¥Ìä∏\n   */\n  static async updateEvidenceItem(itemId: string, data: any): Promise<boolean> {\n    try {\n      const fields = Object.keys(data)\n        .map((key, index) => `${key} = $${index + 2}`)\n        .join(', ')\n      const values = Object.values(data)\n      const query = `UPDATE evidence_items SET ${fields} WHERE id = $1`\n      await ValidationUtils.query(query, [itemId, ...values])\n      return true\n    } catch (error) {\n      logger.error('‚ùå [ValidationUtils] Ï¶ùÎπô Ìï≠Î™© ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:', error)\n      return false\n    }\n  }\n}\n\n// Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù Î°úÏßÅ\nexport class PersonnelCostValidator {\n  /**\n   * Ï∞∏Ïó¨Ïó∞Íµ¨ÏõêÏùò Ïã§Ï†ú Ïù∏Í±¥ÎπÑ Í≥ÑÏÇ∞\n   */\n  static calculateActualPersonnelCost(members: unknown[], budget: any): number {\n    const budgetStartDate = new Date(budget.start_date)\n    const budgetEndDate = new Date(budget.end_date)\n\n    const relevantMembers = members.filter(member => {\n      const memberStartDate = new Date(member.start_date)\n      const memberEndDate = new Date(member.end_date)\n      return ValidationUtils.isDateRangeOverlap(\n        memberStartDate,\n        memberEndDate,\n        budgetStartDate,\n        budgetEndDate\n      )\n    })\n\n    let totalCost = 0\n    relevantMembers.forEach(member => {\n      const memberStartDate = new Date(member.start_date)\n      const memberEndDate = new Date(member.end_date)\n\n      const actualStartDate = memberStartDate > budgetStartDate ? memberStartDate : budgetStartDate\n      const actualEndDate = memberEndDate < budgetEndDate ? memberEndDate : budgetEndDate\n\n      const months = ValidationUtils.getMonthsDifference(actualStartDate, actualEndDate)\n      const monthlyAmount = parseFloat(member.monthly_amount) || 0\n      const participationRate = parseFloat(member.participation_rate) || 0\n\n      const memberCost = monthlyAmount * months * (participationRate / 100)\n      totalCost += memberCost\n    })\n\n    return totalCost\n  }\n\n  /**\n   * Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù\n   */\n  static validatePersonnelCost(budget: any, actualCost: number): ValidationResult {\n    const budgetedCost = parseFloat(budget.personnel_cost) || 0\n    const isWithinTolerance = ValidationUtils.isAmountWithinTolerance(budgetedCost, actualCost)\n\n    if (isWithinTolerance) {\n      return ValidationUtils.createValidationResult(true, 'VALID', 'Ïù∏Í±¥ÎπÑÍ∞Ä ÏòàÏÇ∞Í≥º ÏùºÏπòÌï©ÎãàÎã§.')\n    }\n\n    return ValidationUtils.createValidationResult(\n      false,\n      'PERSONNEL_COST_MISMATCH',\n      `Ïù∏Í±¥ÎπÑ Î∂àÏùºÏπò: ÏòàÏÇ∞ ${budgetedCost.toLocaleString()}Ïõê vs Ïã§Ï†ú ${actualCost.toLocaleString()}Ïõê`,\n      [`ÏòàÏÇ∞: ${budgetedCost.toLocaleString()}Ïõê`, `Ïã§Ï†ú: ${actualCost.toLocaleString()}Ïõê`],\n      { budgetedCost, actualCost, difference: Math.abs(budgetedCost - actualCost) }\n    )\n  }\n}\n\n// Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù Î°úÏßÅ\nexport class EmploymentPeriodValidator {\n  /**\n   * Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù\n   */\n  static validateMemberEmploymentPeriod(member: any, project: any): ValidationResult {\n    const memberStartDate = new Date(member.start_date)\n    const memberEndDate = new Date(member.end_date)\n    const hireDate = member.hire_date ? new Date(member.hire_date) : null\n    const terminationDate = member.termination_date ? new Date(member.termination_date) : null\n    const projectStartDate = new Date(project.start_date)\n    const projectEndDate = new Date(project.end_date)\n\n    const issues: string[] = []\n\n    // 1. ÏßÅÏõê Ï†ïÎ≥¥Í∞Ä ÏóÜÎäî Í≤ΩÏö∞\n    if (!member.first_name || !member.last_name) {\n      return ValidationUtils.createValidationResult(\n        false,\n        'EMPLOYEE_NOT_FOUND',\n        'ÏßÅÏõê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.',\n        ['ÏßÅÏõê Ï†ïÎ≥¥ ÏóÜÏùå']\n      )\n    }\n\n    // 2. Ìá¥ÏÇ¨Ìïú ÏßÅÏõêÏù∏ÏßÄ ÌôïÏù∏\n    if (member.status === 'terminated' && terminationDate) {\n      if (memberStartDate > terminationDate) {\n        issues.push(\n          `Ìá¥ÏÇ¨Ïùº: ${terminationDate.toLocaleDateString()}, Ï∞∏Ïó¨ÏãúÏûëÏùº: ${memberStartDate.toLocaleDateString()}`\n        )\n      }\n    }\n\n    // 3. ÏûÖÏÇ¨ Ï†ÑÏóê ÌîÑÎ°úÏ†ùÌä∏Ïóê Ï∞∏Ïó¨ÌñàÎäîÏßÄ ÌôïÏù∏\n    if (hireDate && memberStartDate < hireDate) {\n      issues.push(\n        `ÏûÖÏÇ¨Ïùº: ${hireDate.toLocaleDateString()}, Ï∞∏Ïó¨ÏãúÏûëÏùº: ${memberStartDate.toLocaleDateString()}`\n      )\n    }\n\n    // 4. ÌòÑÏû¨ ÎπÑÌôúÏÑ± ÏÉÅÌÉúÏù∏ ÏßÅÏõêÏù∏ÏßÄ ÌôïÏù∏\n    if (member.status === 'inactive') {\n      issues.push(`ÏÉÅÌÉú: ${member.status}`)\n    }\n\n    // 5. ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞ÑÍ≥º Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Í≤πÏπòÎäîÏßÄ ÌôïÏù∏\n    if (hireDate && projectEndDate < hireDate) {\n      issues.push(\n        `ÌîÑÎ°úÏ†ùÌä∏ Ï¢ÖÎ£å: ${projectEndDate.toLocaleDateString()}, ÏûÖÏÇ¨Ïùº: ${hireDate.toLocaleDateString()}`\n      )\n    }\n\n    if (terminationDate && projectStartDate > terminationDate) {\n      issues.push(\n        `ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûë: ${projectStartDate.toLocaleDateString()}, Ìá¥ÏÇ¨Ïùº: ${terminationDate.toLocaleDateString()}`\n      )\n    }\n\n    if (issues.length > 0) {\n      return ValidationUtils.createValidationResult(\n        false,\n        'EMPLOYMENT_PERIOD_INVALID',\n        'Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.',\n        issues\n      )\n    }\n\n    return ValidationUtils.createValidationResult(true, 'VALID', 'Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Ïú†Ìö®Ìï©ÎãàÎã§.')\n  }\n\n  /**\n   * Ï¶ùÎπô Ìï≠Î™© Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù\n   */\n  static validateEvidenceEmploymentPeriod(evidence: any, employee: any): ValidationResult {\n    if (!employee) {\n      return ValidationUtils.createValidationResult(\n        false,\n        'EMPLOYEE_NOT_FOUND',\n        'Îã¥Îãπ ÏßÅÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n      )\n    }\n\n    const dueDate = new Date(evidence.due_date)\n    const hireDate = employee.hire_date ? new Date(employee.hire_date) : null\n    const terminationDate = employee.termination_date ? new Date(employee.termination_date) : null\n\n    const issues: string[] = []\n\n    // 1. Ìá¥ÏÇ¨Ìïú ÏßÅÏõêÏù∏ÏßÄ ÌôïÏù∏\n    if (employee.status === 'terminated' || terminationDate) {\n      if (terminationDate && dueDate > terminationDate) {\n        issues.push(\n          `Ìá¥ÏÇ¨Ïùº(${terminationDate.toLocaleDateString()}) Ïù¥ÌõÑÏóê Ïù∏Í±¥ÎπÑÍ∞Ä ÏßëÌñâÎêòÏóàÏäµÎãàÎã§.`\n        )\n      }\n    }\n\n    // 2. ÏûÖÏÇ¨ Ï†ÑÏóê Ïù∏Í±¥ÎπÑÍ∞Ä ÏßëÌñâÎêòÏóàÎäîÏßÄ ÌôïÏù∏\n    if (hireDate && dueDate < hireDate) {\n      issues.push(`ÏûÖÏÇ¨Ïùº(${hireDate.toLocaleDateString()}) Ïù¥Ï†ÑÏóê Ïù∏Í±¥ÎπÑÍ∞Ä ÏßëÌñâÎêòÏóàÏäµÎãàÎã§.`)\n    }\n\n    // 3. ÌòÑÏû¨ ÎπÑÌôúÏÑ± ÏÉÅÌÉúÏù∏ ÏßÅÏõêÏù∏ÏßÄ ÌôïÏù∏\n    if (employee.status === 'inactive') {\n      issues.push('ÎπÑÌôúÏÑ± ÏÉÅÌÉúÏù∏ ÏßÅÏõêÏóêÍ≤å Ïù∏Í±¥ÎπÑÍ∞Ä ÏßëÌñâÎêòÏóàÏäµÎãàÎã§.')\n    }\n\n    // 4. ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞ÑÍ≥º Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Í≤πÏπòÎäîÏßÄ ÌôïÏù∏\n    const periodStartDate = new Date(evidence.period_start_date)\n    const periodEndDate = new Date(evidence.period_end_date)\n\n    if (hireDate && periodEndDate < hireDate) {\n      issues.push(\n        `ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ(${periodStartDate.toLocaleDateString()} ~ ${periodEndDate.toLocaleDateString()}) Ïù¥ÌõÑÏóê ÏûÖÏÇ¨ÌñàÏäµÎãàÎã§.`\n      )\n    }\n\n    if (terminationDate && periodStartDate > terminationDate) {\n      issues.push(\n        `ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ(${periodStartDate.toLocaleDateString()} ~ ${periodEndDate.toLocaleDateString()}) Ïù¥Ï†ÑÏóê Ìá¥ÏÇ¨ÌñàÏäµÎãàÎã§.`\n      )\n    }\n\n    if (issues.length > 0) {\n      return ValidationUtils.createValidationResult(\n        false,\n        'EMPLOYMENT_PERIOD_INVALID',\n        'Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.',\n        issues\n      )\n    }\n\n    return ValidationUtils.createValidationResult(true, 'VALID', 'Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Ïú†Ìö®Ìï©ÎãàÎã§.')\n  }\n}\n\n// Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù Î°úÏßÅ\nexport class ParticipationRateValidator {\n  /**\n   * Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n   */\n  static validateParticipationRate(members: unknown[]): ValidationResult {\n    const issues: string[] = []\n\n    // 1. Í∞úÎ≥Ñ Ï∞∏Ïó¨Ïú®Ïù¥ 100%Î•º Ï¥àÍ≥ºÌïòÎäîÏßÄ ÌôïÏù∏\n    members.forEach(member => {\n      const participationRate = parseFloat(member.participation_rate) || 0\n      if (participationRate > 100) {\n        issues.push(\n          `${member.first_name} ${member.last_name}: Ï∞∏Ïó¨Ïú® ${participationRate}% (100% Ï¥àÍ≥º)`\n        )\n      }\n    })\n\n    // 2. ÎèôÏùº Í∏∞Í∞Ñ ÎÇ¥ Ï∞∏Ïó¨Ïú® Ìï©Í≥ÑÍ∞Ä 100%Î•º Ï¥àÍ≥ºÌïòÎäîÏßÄ ÌôïÏù∏\n    const periodGroups = new Map<string, number>()\n\n    members.forEach(member => {\n      const key = `${member.start_date}_${member.end_date}`\n      const currentTotal = periodGroups.get(key) || 0\n      const participationRate = parseFloat(member.participation_rate) || 0\n      periodGroups.set(key, currentTotal + participationRate)\n    })\n\n    periodGroups.forEach((total, period) => {\n      if (total > 100) {\n        issues.push(`Í∏∞Í∞Ñ ${period}: Ï¥ù Ï∞∏Ïó¨Ïú® ${total}% (100% Ï¥àÍ≥º)`)\n      }\n    })\n\n    if (issues.length > 0) {\n      return ValidationUtils.createValidationResult(\n        false,\n        'PARTICIPATION_RATE_INVALID',\n        'Ï∞∏Ïó¨Ïú®Ïù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.',\n        issues\n      )\n    }\n\n    return ValidationUtils.createValidationResult(true, 'VALID', 'Ï∞∏Ïó¨Ïú®Ïù¥ Ïú†Ìö®Ìï©ÎãàÎã§.')\n  }\n}\n\n// ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù Î°úÏßÅ\nexport class BudgetConsistencyValidator {\n  /**\n   * ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\n   */\n  static validateBudgetConsistency(project: any, budgets: unknown[]): ValidationResult {\n    const totalBudgetFromBudgets = budgets.reduce((sum, budget) => {\n      return sum + (parseFloat(budget.total_budget) || 0)\n    }, 0)\n\n    const projectTotalBudget = parseFloat(project.budget_total) || 0\n\n    if (ValidationUtils.isAmountWithinTolerance(projectTotalBudget, totalBudgetFromBudgets)) {\n      return ValidationUtils.createValidationResult(true, 'VALID', 'ÏòàÏÇ∞Ïù¥ ÏùºÍ¥ÄÏÑ± ÏûàÏäµÎãàÎã§.')\n    }\n\n    return ValidationUtils.createValidationResult(\n      false,\n      'BUDGET_INCONSISTENCY',\n      `ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Î¨∏Ï†ú: ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞ ${projectTotalBudget.toLocaleString()}Ïõê vs Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ ${totalBudgetFromBudgets.toLocaleString()}Ïõê`,\n      [\n        `ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞: ${projectTotalBudget.toLocaleString()}Ïõê`,\n        `Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ: ${totalBudgetFromBudgets.toLocaleString()}Ïõê`\n      ],\n      {\n        projectTotalBudget,\n        totalBudgetFromBudgets,\n        difference: Math.abs(projectTotalBudget - totalBudgetFromBudgets)\n      }\n    )\n  }\n}\n\n// ÏÇ¨Ïö©Î•† Í≤ÄÏ¶ù Î°úÏßÅ\nexport class UsageRateValidator {\n  /**\n   * ÏÇ¨Ïö©Î•† Í≤ÄÏ¶ù\n   */\n  static validateUsageRate(budget: any, evidenceItems: unknown[]): ValidationResult {\n    const totalBudget = parseFloat(budget.total_budget) || 0\n    const spentAmount = parseFloat(budget.spent_amount) || 0\n    const overallUsageRate = totalBudget > 0 ? (spentAmount / totalBudget) * 100 : 0\n\n    const categories = ['Ïù∏Í±¥ÎπÑ', 'Ïû¨Î£åÎπÑ', 'Ïó∞Íµ¨ÌôúÎèôÎπÑ', 'Í∞ÑÏ†ëÎπÑ']\n    const issues: string[] = []\n\n    categories.forEach(categoryName => {\n      const categoryEvidence = evidenceItems.filter(\n        item => item.period_number === budget.period_number && item.category_name === categoryName\n      )\n\n      const categorySpent = categoryEvidence.reduce(\n        (sum, item) => sum + (parseFloat(item.spent_amount) || 0),\n        0\n      )\n\n      let categoryBudget = 0\n      switch (categoryName) {\n        case 'Ïù∏Í±¥ÎπÑ':\n          categoryBudget = parseFloat(budget.personnel_cost) || 0\n          break\n        case 'Ïû¨Î£åÎπÑ':\n          categoryBudget = parseFloat(budget.research_material_cost) || 0\n          break\n        case 'Ïó∞Íµ¨ÌôúÎèôÎπÑ':\n          categoryBudget = parseFloat(budget.research_activity_cost) || 0\n          break\n        case 'Í∞ÑÏ†ëÎπÑ':\n          categoryBudget = parseFloat(budget.indirect_cost) || 0\n          break\n      }\n\n      const categoryUsageRate = categoryBudget > 0 ? (categorySpent / categoryBudget) * 100 : 0\n      const tolerance = 5 // 5% ÌóàÏö© Ïò§Ï∞®\n\n      if (Math.abs(categoryUsageRate - overallUsageRate) > tolerance) {\n        issues.push(\n          `${categoryName}: Ï†ÑÏ≤¥ ${overallUsageRate.toFixed(1)}% vs ${categoryName} ${categoryUsageRate.toFixed(1)}%`\n        )\n      }\n    })\n\n    if (issues.length > 0) {\n      return ValidationUtils.createValidationResult(\n        false,\n        'USAGE_RATE_INCONSISTENCY',\n        'ÏÇ¨Ïö©Î•†Ïù¥ ÏùºÍ¥ÄÏÑ± ÏóÜÏäµÎãàÎã§.',\n        issues\n      )\n    }\n\n    return ValidationUtils.createValidationResult(true, 'VALID', 'ÏÇ¨Ïö©Î•†Ïù¥ ÏùºÍ¥ÄÏÑ± ÏûàÏäµÎãàÎã§.')\n  }\n}\n\nexport { pool }\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/+error.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/+layout.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/+page.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/auth/login/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 30,
        "column": 69,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 30,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [909, 912], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [909, 912], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'password_hash' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 51,
        "column": 13,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 26
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json, error } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { DatabaseService } from '$lib/database/connection'\nimport bcrypt from 'bcryptjs'\nimport jwt from 'jsonwebtoken'\nimport { config } from '$lib/utils/config'\nimport { logger } from '$lib/utils/logger';\n\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { email, password } = await request.json()\n\n    // Validate input\n    if (!email || !password) {\n      return error(400, 'Email and password are required')\n    }\n\n    // Get user from database\n    const user = await DatabaseService.getUserByEmail(email)\n    if (!user) {\n      return error(401, 'Invalid credentials')\n    }\n\n    // Check if user is active\n    if (!user.is_active) {\n      return error(401, 'Account is deactivated')\n    }\n\n    // Verify password\n    const isValidPassword = await bcrypt.compare(password, (user as any).password_hash)\n    if (!isValidPassword) {\n      return error(401, 'Invalid credentials')\n    }\n\n    // Generate JWT token\n    const token = jwt.sign(\n      {\n        userId: user.id,\n        email: user.email,\n        role: user.role\n      },\n      config.jwt.secret,\n      { expiresIn: config.jwt.expiresIn }\n    )\n\n    // Update last login\n    const { query } = await import('$lib/database/connection')\n    await query('UPDATE users SET last_login = CURRENT_TIMESTAMP WHERE id = $1', [user.id])\n\n    // Return user data (without password)\n    const { password_hash, ...userWithoutPassword } = user\n\n    return json({\n      success: true,\n      user: userWithoutPassword,\n      token\n    })\n  } catch (err) {\n    logger.error('Login error:', err)\n    return error(500, 'Internal server error')\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/companies/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/company/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 26,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 26,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [747, 750], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [747, 750], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 131,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 131,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3459, 3462], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3459, 3462], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport { query } from '$lib/database/connection.js'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// GET /api/company - ÌöåÏÇ¨ Ï†ïÎ≥¥ Ï°∞Ìöå\nexport const GET: RequestHandler = async () => {\n  try {\n    const result = await query(`\n\t\t\tSELECT \n\t\t\t\tid, name, establishment_date, ceo_name, business_type,\n\t\t\t\taddress, phone, fax, email, website, registration_number,\n\t\t\t\tcreated_at, updated_at\n\t\t\tFROM companies \n\t\t\tORDER BY created_at DESC\n\t\t\tLIMIT 1\n\t\t`)\n\n    const company = result.rows.length > 0 ? result.rows[0] : null\n\n    return json({\n      success: true,\n      data: company,\n      message: company ? 'ÌöåÏÇ¨ Ï†ïÎ≥¥Î•º ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï°∞ÌöåÌñàÏäµÎãàÎã§.' : 'Îì±Î°ùÎêú ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error fetching company:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÌöåÏÇ¨ Ï†ïÎ≥¥ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// POST /api/company - ÌöåÏÇ¨ Ï†ïÎ≥¥ Îì±Î°ù/ÏàòÏ†ï\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name) {\n      return json(\n        {\n          success: false,\n          error: 'ÌöåÏÇ¨Î™ÖÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Í∏∞Ï°¥ ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n    const existingResult = await query('SELECT id FROM companies LIMIT 1')\n    const existingCompany = existingResult.rows.length > 0\n\n    let result\n    if (existingCompany) {\n      // Í∏∞Ï°¥ ÌöåÏÇ¨ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n      result = await query(\n        `\n\t\t\t\tUPDATE companies SET\n\t\t\t\t\tname = $1,\n\t\t\t\t\testablishment_date = $2,\n\t\t\t\t\tceo_name = $3,\n\t\t\t\t\tbusiness_type = $4,\n\t\t\t\t\taddress = $5,\n\t\t\t\t\tphone = $6,\n\t\t\t\t\tfax = $7,\n\t\t\t\t\temail = $8,\n\t\t\t\t\twebsite = $9,\n\t\t\t\t\tregistration_number = $10,\n\t\t\t\t\tupdated_at = $11\n\t\t\t\tWHERE id = (SELECT id FROM companies LIMIT 1)\n\t\t\t\tRETURNING id, name, establishment_date, ceo_name, business_type,\n\t\t\t\t\taddress, phone, fax, email, website, registration_number,\n\t\t\t\t\tcreated_at, updated_at\n\t\t\t`,\n        [\n          data.name,\n          data.establishment_date || null,\n          data.ceo_name || null,\n          data.business_type || null,\n          data.address || null,\n          data.phone || null,\n          data.fax || null,\n          data.email || null,\n          data.website || null,\n          data.registration_number || null,\n          new Date()\n        ]\n      )\n    } else {\n      // ÏÉà ÌöåÏÇ¨ Ï†ïÎ≥¥ Îì±Î°ù\n      result = await query(\n        `\n\t\t\t\tINSERT INTO companies (\n\t\t\t\t\tname, establishment_date, ceo_name, business_type,\n\t\t\t\t\taddress, phone, fax, email, website, registration_number,\n\t\t\t\t\tcreated_at, updated_at\n\t\t\t\t) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)\n\t\t\t\tRETURNING id, name, establishment_date, ceo_name, business_type,\n\t\t\t\t\taddress, phone, fax, email, website, registration_number,\n\t\t\t\t\tcreated_at, updated_at\n\t\t\t`,\n        [\n          data.name,\n          data.establishment_date || null,\n          data.ceo_name || null,\n          data.business_type || null,\n          data.address || null,\n          data.phone || null,\n          data.fax || null,\n          data.email || null,\n          data.website || null,\n          data.registration_number || null,\n          new Date(),\n          new Date()\n        ]\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: existingCompany\n        ? 'ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n        : 'ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Îì±Î°ùÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error saving company:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÌöåÏÇ¨ Ï†ïÎ≥¥ Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/add-job-title-field/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [886, 889], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [886, 889], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÏßÅÏõê ÌÖåÏù¥Î∏îÏóê ÏßÅÏ±Ö ÌïÑÎìú Ï∂îÍ∞Ä\nexport const POST: RequestHandler = async () => {\n  try {\n    // ÏßÅÏ±Ö ÌïÑÎìúÍ∞Ä Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäîÏßÄ ÌôïÏù∏\n    const checkColumn = await query(`\n\t\t\tSELECT column_name \n\t\t\tFROM information_schema.columns \n\t\t\tWHERE table_name = 'employees' AND column_name = 'job_title_id'\n\t\t`)\n\n    if (checkColumn.rows.length === 0) {\n      // ÏßÅÏ±Ö ÌïÑÎìú Ï∂îÍ∞Ä\n      await query(`\n\t\t\t\tALTER TABLE employees \n\t\t\t\tADD COLUMN job_title_id UUID REFERENCES job_titles(id)\n\t\t\t`)\n\n      logger.log('job_title_id column added to employees table')\n    } else {\n      logger.log('job_title_id column already exists in employees table')\n    }\n\n    return json({\n      success: true,\n      message: 'ÏßÅÏ±Ö ÌïÑÎìúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error adding job_title_id field:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÏ±Ö ÌïÑÎìú Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/company-setup/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 90,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 90,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2224, 2227], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2224, 2227], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport { query } from '$lib/database/connection.js'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nexport const POST: RequestHandler = async () => {\n  try {\n    // Í∏∞Ï°¥ companies ÌÖåÏù¥Î∏î ÏÇ≠Ï†ú ÌõÑ ÏÉàÎ°ú ÏÉùÏÑ±\n    await query('DROP TABLE IF EXISTS companies CASCADE')\n\n    // ÏÉà companies ÌÖåÏù¥Î∏î ÏÉùÏÑ±\n    await query(`\n\t\t\tCREATE TABLE companies (\n\t\t\t\tid UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n\t\t\t\tname VARCHAR(255) NOT NULL,\n\t\t\t\testablishment_date DATE,\n\t\t\t\tceo_name VARCHAR(100),\n\t\t\t\tbusiness_type VARCHAR(255),\n\t\t\t\taddress TEXT,\n\t\t\t\tphone VARCHAR(50),\n\t\t\t\tfax VARCHAR(50),\n\t\t\t\temail VARCHAR(255),\n\t\t\t\twebsite VARCHAR(255),\n\t\t\t\tregistration_number VARCHAR(50),\n\t\t\t\tcreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\t\t\tupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n\t\t\t)\n\t\t`)\n\n    // Ïù∏Îç±Ïä§ ÏÉùÏÑ±\n    await query(`\n\t\t\tCREATE INDEX IF NOT EXISTS idx_companies_name ON companies(name);\n\t\t`)\n\n    // Í∏∞Ï°¥ ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n    const existingResult = await query('SELECT id FROM companies WHERE name = $1', ['(Ï£º)ÎπÑÏïÑ'])\n\n    if (existingResult.rows.length > 0) {\n      // Í∏∞Ï°¥ ÌöåÏÇ¨ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n      await query(\n        `\n\t\t\t\tUPDATE companies SET\n\t\t\t\t\testablishment_date = $1,\n\t\t\t\t\tceo_name = $2,\n\t\t\t\t\tbusiness_type = $3,\n\t\t\t\t\taddress = $4,\n\t\t\t\t\tphone = $5,\n\t\t\t\t\tfax = $6,\n\t\t\t\t\tupdated_at = $7\n\t\t\t\tWHERE name = $8\n\t\t\t`,\n        [\n          '2019-03-10',\n          'Î∞ïÍ∏∞ÏÑ†',\n          'ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Í∞úÎ∞ú Î∞è Í≥µÍ∏âÏóÖ',\n          'Ï†ÑÎùºÎ∂ÅÎèÑ Ï†ÑÏ£ºÏãú ÎçïÏßÑÍµ¨ Ïú†ÏÉÅÎ°ú67, Ï†ÑÏ£ºÌòÅÏã†Ï∞ΩÏóÖÌóàÎ∏å 513Ìò∏',\n          '063-211-0814',\n          '063-211-0813',\n          new Date(),\n          '(Ï£º)ÎπÑÏïÑ'\n        ]\n      )\n    } else {\n      // ÏÉà ÌöåÏÇ¨ Ï†ïÎ≥¥ ÏÇΩÏûÖ\n      await query(\n        `\n\t\t\t\tINSERT INTO companies (\n\t\t\t\t\tname, establishment_date, ceo_name, business_type, \n\t\t\t\t\taddress, phone, fax, created_at, updated_at\n\t\t\t\t) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)\n\t\t\t`,\n        [\n          '(Ï£º)ÎπÑÏïÑ',\n          '2019-03-10',\n          'Î∞ïÍ∏∞ÏÑ†',\n          'ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Í∞úÎ∞ú Î∞è Í≥µÍ∏âÏóÖ',\n          'Ï†ÑÎùºÎ∂ÅÎèÑ Ï†ÑÏ£ºÏãú ÎçïÏßÑÍµ¨ Ïú†ÏÉÅÎ°ú67, Ï†ÑÏ£ºÌòÅÏã†Ï∞ΩÏóÖÌóàÎ∏å 513Ìò∏',\n          '063-211-0814',\n          '063-211-0813',\n          new Date(),\n          new Date()\n        ]\n      )\n    }\n\n    return json({\n      success: true,\n      message: 'ÌöåÏÇ¨ Ï†ïÎ≥¥ ÌÖåÏù¥Î∏îÏù¥ ÏÉùÏÑ±ÎêòÍ≥† Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error setting up company table:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÌöåÏÇ¨ Ï†ïÎ≥¥ ÌÖåÏù¥Î∏î ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/employees/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/executives-setup/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 87,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 87,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3277, 3280], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3277, 3280], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Ïù¥ÏÇ¨ Î™ÖÎ∂Ä Î∞è ÏßÅÏ±Ö Ï≤¥Í≥Ñ ÌÖåÏù¥Î∏î ÏÉùÏÑ±\nexport const POST: RequestHandler = async () => {\n  try {\n    // Job Titles ÌÖåÏù¥Î∏î ÏÉùÏÑ±\n    await query(`\n\t\t\tCREATE TABLE IF NOT EXISTS job_titles (\n\t\t\t\tid UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n\t\t\t\tname VARCHAR(100) UNIQUE NOT NULL,\n\t\t\t\tlevel INTEGER NOT NULL,\n\t\t\t\tcategory VARCHAR(50) NOT NULL,\n\t\t\t\tdescription TEXT,\n\t\t\t\tis_active BOOLEAN DEFAULT true,\n\t\t\t\tcreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\t\t\tupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n\t\t\t)\n\t\t`)\n\n    // Executives ÌÖåÏù¥Î∏î ÏÉùÏÑ±\n    await query(`\n\t\t\tCREATE TABLE IF NOT EXISTS executives (\n\t\t\t\tid UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n\t\t\t\texecutive_id VARCHAR(50) UNIQUE NOT NULL,\n\t\t\t\tfirst_name VARCHAR(100) NOT NULL,\n\t\t\t\tlast_name VARCHAR(100) NOT NULL,\n\t\t\t\temail VARCHAR(255) UNIQUE NOT NULL,\n\t\t\t\tphone VARCHAR(50),\n\t\t\t\tjob_title_id UUID REFERENCES job_titles(id),\n\t\t\t\tdepartment VARCHAR(100),\n\t\t\t\tappointment_date DATE,\n\t\t\t\tterm_end_date DATE,\n\t\t\t\tstatus VARCHAR(50) DEFAULT 'active',\n\t\t\t\tbio TEXT,\n\t\t\t\tprofile_image_url VARCHAR(500),\n\t\t\t\tcreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\t\t\tupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n\t\t\t)\n\t\t`)\n\n    // Ïù∏Îç±Ïä§ ÏÉùÏÑ±\n    await query(`CREATE INDEX IF NOT EXISTS idx_job_titles_level ON job_titles(level)`)\n    await query(`CREATE INDEX IF NOT EXISTS idx_job_titles_category ON job_titles(category)`)\n    await query(\n      `CREATE INDEX IF NOT EXISTS idx_executives_executive_id ON executives(executive_id)`\n    )\n    await query(\n      `CREATE INDEX IF NOT EXISTS idx_executives_job_title_id ON executives(job_title_id)`\n    )\n\n    // Í∏∞Î≥∏ ÏßÅÏ±Ö Îç∞Ïù¥ÌÑ∞ ÏÇΩÏûÖ\n    await query(`\n\t\t\tINSERT INTO job_titles (name, level, category, description) VALUES\n\t\t\t('CEO', 1, 'executive', 'Chief Executive Officer - ÎåÄÌëúÏù¥ÏÇ¨'),\n\t\t\t('CTO', 1, 'executive', 'Chief Technology Officer - Ïó∞Íµ¨ÏÜåÏû•, Í∏∞Ïà†Ïù¥ÏÇ¨'),\n\t\t\t('CFO', 1, 'executive', 'Chief Financial Officer - ÏÉÅÎ¨¥Ïù¥ÏÇ¨'),\n\t\t\t('Director', 2, 'management', 'Director - Ïù¥ÏÇ¨'),\n\t\t\t('Managing Director', 2, 'management', 'Managing Director - ÏÉÅÎ¨¥'),\n\t\t\t('Team Lead', 3, 'specialist', 'Team Lead - ÌåÄÏû•'),\n\t\t\t('Senior Manager', 3, 'specialist', 'Senior Manager - Î∂ÄÏû•'),\n\t\t\t('Manager', 3, 'specialist', 'Manager - Í≥ºÏû•')\n\t\t\tON CONFLICT (name) DO NOTHING\n\t\t`)\n\n    // C-Level ÏûÑÏõêÏßÑ Îç∞Ïù¥ÌÑ∞ ÏÇΩÏûÖ\n    await query(`\n\t\t\tINSERT INTO executives (executive_id, first_name, last_name, email, phone, job_title_id, department, appointment_date, status, bio) VALUES\n\t\t\t('EXE001', 'Î∞ïÍ∏∞ÏÑ†', '', 'ceo@viahub.com', '010-0001-0001', \n\t\t\t (SELECT id FROM job_titles WHERE name = 'CEO'), 'Í≤ΩÏòÅÏßÑ', '2020-01-01', 'active', \n\t\t\t 'ÌöåÏÇ¨Ïùò ÎπÑÏ†ÑÍ≥º Ï†ÑÎûµÏùÑ ÏàòÎ¶ΩÌïòÍ≥† Ïù¥ÎÅåÏñ¥Í∞ÄÎäî ÎåÄÌëúÏù¥ÏÇ¨ÏûÖÎãàÎã§.'),\n\t\t\t('EXE002', 'ÏµúÌòÑÎØº', '', 'cto@viahub.com', '010-0002-0002', \n\t\t\t (SELECT id FROM job_titles WHERE name = 'CTO'), 'Ïó∞Íµ¨Í∞úÎ∞ú', '2020-01-01', 'active', \n\t\t\t 'Í∏∞Ïà† ÌòÅÏã†Í≥º Ïó∞Íµ¨Í∞úÎ∞úÏùÑ Ï¥ùÍ¥ÑÌïòÎäî Ïó∞Íµ¨ÏÜåÏû•Ïù¥Ïûê Í∏∞Ïà†Ïù¥ÏÇ¨ÏûÖÎãàÎã§.'),\n\t\t\t('EXE003', 'Ïò§ÌòÑÏ¢Ö', '', 'cfo@viahub.com', '010-0003-0003', \n\t\t\t (SELECT id FROM job_titles WHERE name = 'CFO'), 'Ïû¨Î¨¥', '2020-01-01', 'active', \n\t\t\t 'Ïû¨Î¨¥ Í¥ÄÎ¶¨ÏôÄ Í≤ΩÏòÅ ÏßÄÏõêÏùÑ Îã¥ÎãπÌïòÎäî ÏÉÅÎ¨¥Ïù¥ÏÇ¨ÏûÖÎãàÎã§.')\n\t\t\tON CONFLICT (executive_id) DO NOTHING\n\t\t`)\n\n    return json({\n      success: true,\n      message: 'Ïù¥ÏÇ¨ Î™ÖÎ∂Ä Î∞è ÏßÅÏ±Ö Ï≤¥Í≥Ñ ÌÖåÏù¥Î∏îÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error setting up executives tables:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÌÖåÏù¥Î∏î ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/projects/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/rd-projects/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/setup/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 54,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 54,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1786, 1789], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1786, 1789], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2050, 2053], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2050, 2053], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÌÖåÏù¥Î∏î ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n    const { tables } = data\n\n    const results = []\n\n    for (const table of tables) {\n      try {\n        if (table === 'departments') {\n          // Î∂ÄÏÑú ÌÖåÏù¥Î∏î ÏÉùÏÑ±\n          await query(`\n\t\t\t\t\t\tCREATE TABLE IF NOT EXISTS departments (\n\t\t\t\t\t\t\tid UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n\t\t\t\t\t\t\tname VARCHAR(100) NOT NULL UNIQUE,\n\t\t\t\t\t\t\tdescription TEXT,\n\t\t\t\t\t\t\tstatus VARCHAR(20) DEFAULT 'active' CHECK (status IN ('active', 'inactive')),\n\t\t\t\t\t\t\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n\t\t\t\t\t\t\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n\t\t\t\t\t\t)\n\t\t\t\t\t`)\n          results.push({\n            table: 'departments',\n            success: true,\n            message: 'Î∂ÄÏÑú ÌÖåÏù¥Î∏îÏù¥ ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n          })\n        } else if (table === 'positions') {\n          // ÏßÅÍ∏â ÌÖåÏù¥Î∏î ÏÉùÏÑ±\n          await query(`\n\t\t\t\t\t\tCREATE TABLE IF NOT EXISTS positions (\n\t\t\t\t\t\t\tid UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n\t\t\t\t\t\t\tname VARCHAR(100) NOT NULL,\n\t\t\t\t\t\t\tdescription TEXT,\n\t\t\t\t\t\t\tdepartment VARCHAR(100) NOT NULL,\n\t\t\t\t\t\t\tlevel INTEGER DEFAULT 1 CHECK (level >= 1 AND level <= 10),\n\t\t\t\t\t\t\tstatus VARCHAR(20) DEFAULT 'active' CHECK (status IN ('active', 'inactive')),\n\t\t\t\t\t\t\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n\t\t\t\t\t\t\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n\t\t\t\t\t\t\tUNIQUE(name, department)\n\t\t\t\t\t\t)\n\t\t\t\t\t`)\n          results.push({\n            table: 'positions',\n            success: true,\n            message: 'ÏßÅÍ∏â ÌÖåÏù¥Î∏îÏù¥ ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n          })\n        }\n      } catch (error: any) {\n        results.push({\n          table,\n          success: false,\n          message: `ÌÖåÏù¥Î∏î ÏÉùÏÑ± Ïã§Ìå®: ${error.message}`\n        })\n      }\n    }\n\n    return json({\n      success: true,\n      results,\n      message: 'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Ï†ïÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error setting up database:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Ï†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/database/users/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/departments/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [833, 836], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [833, 836], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 97,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 97,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2263, 2266], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2263, 2266], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Î∂ÄÏÑú Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const searchParams = url.searchParams\n    const status = searchParams.get('status') || 'active'\n\n    let whereClause = ''\n    if (status === 'active') {\n      whereClause = 'WHERE status = $1'\n    } else if (status === 'all') {\n      whereClause = ''\n    }\n\n    const result = await query(\n      `\n\t\t\tSELECT id, name, description, status, max_employees, created_at, updated_at\n\t\t\tFROM departments\n\t\t\t${whereClause}\n\t\t\tORDER BY name ASC\n\t\t`,\n      status === 'all' ? [] : [status]\n    )\n\n    return json({\n      success: true,\n      data: result.rows\n    })\n  } catch (error: any) {\n    logger.error('Error fetching departments:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Î∂ÄÏÑú Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏÉà Î∂ÄÏÑú ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name || data.name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Î∂ÄÏÑúÎ™ÖÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ Î∂ÄÏÑúÎ™Ö Í≤ÄÏ¶ù\n    const existingDept = await query('SELECT id FROM departments WHERE LOWER(name) = LOWER($1)', [\n      data.name.trim()\n    ])\n\n    if (existingDept.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî Î∂ÄÏÑúÎ™ÖÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tINSERT INTO departments (name, description, status, max_employees, created_at, updated_at)\n\t\t\tVALUES ($1, $2, $3, $4, $5, $6)\n\t\t\tRETURNING id, name, description, status, max_employees, created_at, updated_at\n\t\t`,\n      [\n        data.name.trim(),\n        data.description?.trim() || '',\n        data.status || 'active',\n        data.to || 0,\n        new Date(),\n        new Date()\n      ]\n    )\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'Î∂ÄÏÑúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error creating department:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Î∂ÄÏÑú ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/departments/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [709, 712], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [709, 712], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 112,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 112,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2376, 2379], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2376, 2379], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 194,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 194,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4228, 4231], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4228, 4231], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÌäπÏ†ï Î∂ÄÏÑú Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tSELECT id, name, description, status, max_employees, created_at, updated_at\n\t\t\tFROM departments\n\t\t\tWHERE id = $1\n\t\t`,\n      [params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Î∂ÄÏÑúÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0]\n    })\n  } catch (error: any) {\n    logger.error('Error fetching department:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Î∂ÄÏÑú Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Î∂ÄÏÑú Ï†ïÎ≥¥ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name || data.name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Î∂ÄÏÑúÎ™ÖÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ Î∂ÄÏÑúÎ™Ö Í≤ÄÏ¶ù (ÏûêÍ∏∞ ÏûêÏã† Ï†úÏô∏)\n    const existingDept = await query(\n      'SELECT id FROM departments WHERE LOWER(name) = LOWER($1) AND id != $2',\n      [data.name.trim(), params.id]\n    )\n\n    if (existingDept.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî Î∂ÄÏÑúÎ™ÖÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tUPDATE departments SET\n\t\t\t\tname = $2,\n\t\t\t\tdescription = $3,\n\t\t\t\tstatus = $4,\n\t\t\t\tmax_employees = $5,\n\t\t\t\tupdated_at = $6\n\t\t\tWHERE id = $1\n\t\t\tRETURNING id, name, description, status, max_employees, created_at, updated_at\n\t\t`,\n      [\n        params.id,\n        data.name.trim(),\n        data.description?.trim() || '',\n        data.status || 'active',\n        data.to || 0,\n        new Date()\n      ]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Î∂ÄÏÑúÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'Î∂ÄÏÑú Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error updating department:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Î∂ÄÏÑú Ï†ïÎ≥¥ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Î∂ÄÏÑú ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params, url }) => {\n  try {\n    const searchParams = url.searchParams\n    const hardDelete = searchParams.get('hard') === 'true'\n\n    if (hardDelete) {\n      // ÌïòÎìú ÏÇ≠Ï†ú: Î∂ÄÏÑúÎ•º ÏÇ¨Ïö©ÌïòÎäî ÏßÅÏõêÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n      const employeesInDept = await query(\n        'SELECT COUNT(*) as count FROM employees WHERE department = (SELECT name FROM departments WHERE id = $1)',\n        [params.id]\n      )\n\n      if (parseInt(employeesInDept.rows[0].count) > 0) {\n        return json(\n          {\n            success: false,\n            error: 'Ìï¥Îãπ Î∂ÄÏÑúÏóê ÏÜåÏÜçÎêú ÏßÅÏõêÏù¥ ÏûàÏñ¥ ÏÇ≠Ï†úÌï† Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 400 }\n        )\n      }\n\n      // ÌïòÎìú ÏÇ≠Ï†ú Ïã§Ìñâ\n      const result = await query('DELETE FROM departments WHERE id = $1 RETURNING id, name', [\n        params.id\n      ])\n\n      if (result.rows.length === 0) {\n        return json(\n          {\n            success: false,\n            error: 'Î∂ÄÏÑúÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 404 }\n        )\n      }\n\n      return json({\n        success: true,\n        message: 'Î∂ÄÏÑúÍ∞Ä ÏôÑÏ†ÑÌûà ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n      })\n    } else {\n      // ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú: ÏÉÅÌÉúÎ•º 'inactive'Î°ú Î≥ÄÍ≤Ω\n      const result = await query(\n        `\n\t\t\t\tUPDATE departments SET\n\t\t\t\t\tstatus = 'inactive',\n\t\t\t\t\tupdated_at = $2\n\t\t\t\tWHERE id = $1\n\t\t\t\tRETURNING id, name, status\n\t\t\t`,\n        [params.id, new Date()]\n      )\n\n      if (result.rows.length === 0) {\n        return json(\n          {\n            success: false,\n            error: 'Î∂ÄÏÑúÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 404 }\n        )\n      }\n\n      return json({\n        success: true,\n        message: 'Î∂ÄÏÑúÍ∞Ä ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.'\n      })\n    }\n  } catch (error: any) {\n    logger.error('Error deleting department:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Î∂ÄÏÑú ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/employees/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/employees/[id]/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/employees/migrate-executives/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 113,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 113,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3048, 3051], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3048, 3051], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// Ïù¥ÏÇ¨Í∏â ÏßÅÏõêÎì§ÏùÑ Ïù¥ÏÇ¨ Î™ÖÎ∂ÄÎ°ú Ïù¥Í¥ÄÌïòÍ≥† ÏßÅÏõê Î™ÖÎ∂ÄÏóêÏÑú Ï†úÏô∏\nexport const POST: RequestHandler = async () => {\n  try {\n    // Ïù¥ÏÇ¨Í∏â ÏßÅÏõêÎì§ÏùÑ Ï∞æÍ∏∞ (ÎåÄÌëú, Ïù¥ÏÇ¨, ÏÉÅÎ¨¥ Îì±)\n    const executivePositions = [\n      'ÎåÄÌëú',\n      'Ïù¥ÏÇ¨',\n      'ÏÉÅÎ¨¥',\n      'ÎåÄÌëúÏù¥ÏÇ¨',\n      'Ïó∞Íµ¨ÏÜåÏû•',\n      'Í∏∞Ïà†Ïù¥ÏÇ¨',\n      'ÏÉÅÎ¨¥Ïù¥ÏÇ¨'\n    ]\n\n    const executiveEmployees = await query(\n      `\n\t\t\tSELECT * FROM employees \n\t\t\tWHERE position IN (${executivePositions.map((_, i) => `$${i + 1}`).join(', ')})\n\t\t\tAND status = 'active'\n\t\t`,\n      executivePositions\n    )\n\n    // ÏûÑÏõê ÏßÅÏõê ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò ÏãúÏûë\n\n    const migratedExecutives = []\n\n    for (const employee of executiveEmployees.rows) {\n      // ÏßÅÏ±Ö Îß§Ìïë\n      let jobTitleName = 'CEO' // Í∏∞Î≥∏Í∞í\n      if (employee.position.includes('ÎåÄÌëú')) {\n        jobTitleName = 'CEO'\n      } else if (employee.position.includes('Ïó∞Íµ¨ÏÜåÏû•') || employee.position.includes('Í∏∞Ïà†Ïù¥ÏÇ¨')) {\n        jobTitleName = 'CTO'\n      } else if (employee.position.includes('ÏÉÅÎ¨¥')) {\n        jobTitleName = 'CFO'\n      } else if (employee.position.includes('Ïù¥ÏÇ¨')) {\n        jobTitleName = 'Director'\n      }\n\n      // Ìï¥Îãπ ÏßÅÏ±Ö ID Ï∞æÍ∏∞\n      const jobTitleResult = await query('SELECT id FROM job_titles WHERE name = $1', [\n        jobTitleName\n      ])\n\n      if (jobTitleResult.rows.length === 0) {\n        // ÏßÅÏ±ÖÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏùå, Í±¥ÎÑàÎõ∞Í∏∞\n        continue\n      }\n\n      const jobTitleId = jobTitleResult.rows[0].id\n\n      // Executive ID ÏÉùÏÑ±\n      const execIdResult = await query('SELECT COUNT(*) as count FROM executives')\n      const execCount = parseInt(execIdResult.rows[0].count) + 1\n      const executiveId = `EXE${execCount.toString().padStart(3, '0')}`\n\n      // Ïù¥ÏÇ¨ Î™ÖÎ∂ÄÏóê Ï∂îÍ∞Ä\n      const executiveResult = await query(\n        `\n\t\t\t\tINSERT INTO executives (\n\t\t\t\t\texecutive_id, first_name, last_name, email, phone, job_title_id, \n\t\t\t\t\tdepartment, appointment_date, status, bio, created_at, updated_at\n\t\t\t\t)\n\t\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)\n\t\t\t\tRETURNING id, executive_id, first_name, last_name, email, job_title_id\n\t\t\t`,\n        [\n          executiveId,\n          employee.first_name,\n          employee.last_name,\n          employee.email,\n          employee.phone,\n          jobTitleId,\n          employee.department,\n          employee.hire_date,\n          'active',\n          `${employee.position}Î°ú ÏûÑÎ™ÖÎêú ÏûÑÏõêÏßÑÏûÖÎãàÎã§.`,\n          new Date(),\n          new Date()\n        ]\n      )\n\n      migratedExecutives.push(executiveResult.rows[0])\n\n      // ÏßÅÏõê Î™ÖÎ∂ÄÏóêÏÑú ÎπÑÌôúÏÑ±Ìôî (ÏôÑÏ†Ñ ÏÇ≠Ï†úÌïòÏßÄ ÏïäÍ≥† ÏÉÅÌÉúÎßå Î≥ÄÍ≤Ω)\n      await query(\n        `\n\t\t\t\tUPDATE employees SET\n\t\t\t\t\tstatus = 'inactive',\n\t\t\t\t\tupdated_at = $1\n\t\t\t\tWHERE id = $2\n\t\t\t`,\n        [new Date(), employee.id]\n      )\n\n      // ÏûÑÏõê ÌÖåÏù¥Î∏îÎ°ú ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò ÏôÑÎ£å\n    }\n\n    return json({\n      success: true,\n      message: `${migratedExecutives.length}Î™ÖÏùò Ïù¥ÏÇ¨Í∏â ÏßÅÏõêÏù¥ Ïù¥ÏÇ¨ Î™ÖÎ∂ÄÎ°ú Ïù¥Í¥ÄÎêòÏóàÏäµÎãàÎã§.`,\n      data: {\n        migratedCount: migratedExecutives.length,\n        migratedExecutives: migratedExecutives\n      }\n    })\n  } catch (error: any) {\n    logger.error('Error migrating executives:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ïù¥ÏÇ¨Í∏â ÏßÅÏõê Ïù¥Í¥ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/employees/upload/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'index' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 45,
        "column": 38,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 46,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 46,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1438, 1441], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1438, 1441], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'index' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 91,
        "column": 40,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 91,
        "endColumn": 45
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 93,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 93,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2726, 2729], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2726, 2729], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 108,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 108,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3091, 3094], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3091, 3094], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 118,
        "column": 25,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 118,
        "endColumn": 86
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 133,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 133,
        "endColumn": 77
      },
      {
        "ruleId": "no-useless-escape",
        "severity": 2,
        "message": "Unnecessary escape character: \\+.",
        "line": 139,
        "column": 35,
        "nodeType": "Literal",
        "messageId": "unnecessaryEscape",
        "endLine": 139,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "removeEscape",
            "fix": { "range": [4157, 4158], "text": "" },
            "desc": "Remove the `\\`. This maintains the current functionality."
          },
          {
            "messageId": "escapeBackslash",
            "fix": { "range": [4157, 4157], "text": "\\" },
            "desc": "Replace the `\\` with `\\\\` to include the actual backslash character."
          }
        ]
      },
      {
        "ruleId": "no-useless-escape",
        "severity": 2,
        "message": "Unnecessary escape character: \\(.",
        "line": 139,
        "column": 37,
        "nodeType": "Literal",
        "messageId": "unnecessaryEscape",
        "endLine": 139,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "removeEscape",
            "fix": { "range": [4159, 4160], "text": "" },
            "desc": "Remove the `\\`. This maintains the current functionality."
          },
          {
            "messageId": "escapeBackslash",
            "fix": { "range": [4159, 4159], "text": "\\" },
            "desc": "Replace the `\\` with `\\\\` to include the actual backslash character."
          }
        ]
      },
      {
        "ruleId": "no-useless-escape",
        "severity": 2,
        "message": "Unnecessary escape character: \\).",
        "line": 139,
        "column": 39,
        "nodeType": "Literal",
        "messageId": "unnecessaryEscape",
        "endLine": 139,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeEscape",
            "fix": { "range": [4161, 4162], "text": "" },
            "desc": "Remove the `\\`. This maintains the current functionality."
          },
          {
            "messageId": "escapeBackslash",
            "fix": { "range": [4161, 4161], "text": "\\" },
            "desc": "Replace the `\\` with `\\\\` to include the actual backslash character."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 141,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 141,
        "endColumn": 79
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 150,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 150,
        "endColumn": 75
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 160,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 160,
        "endColumn": 77
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'email' is not defined.",
        "line": 188,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 188,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 11,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection.js'\nimport { formatDateForDisplay, getCurrentUTC, isValidDate, toUTC } from '$lib/utils/date-handler'\nimport { json } from '@sveltejs/kit'\nimport * as ExcelJS from 'exceljs'\nimport { logger } from '$lib/utils/logger';\n\nexport async function POST({ request }) {\n  try {\n    const formData = await request.formData()\n    const file = formData.get('file') as File\n\n    if (!file) {\n      return json({ error: 'ÌååÏùºÏù¥ ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.' }, { status: 400 })\n    }\n\n    // ÌååÏùº ÌôïÏû•Ïûê ÌôïÏù∏\n    const fileName = file.name.toLowerCase()\n    const isExcel = fileName.endsWith('.xlsx') || fileName.endsWith('.xls')\n    const isCSV = fileName.endsWith('.csv')\n\n    let data: unknown[] = []\n    let headers: string[] = []\n\n    if (isExcel) {\n      // Excel ÌååÏùº ÌååÏã±\n      const buffer = await file.arrayBuffer()\n      const workbook = new ExcelJS.Workbook()\n      await workbook.xlsx.load(buffer)\n\n      const worksheet = workbook.worksheets[0]\n      if (!worksheet) {\n        return json({ error: 'Excel ÌååÏùºÏóê ÏõåÌÅ¨ÏãúÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.' }, { status: 400 })\n      }\n\n      const rows = worksheet.getRows()\n      if (!rows || rows.length < 2) {\n        return json({ error: 'ÌååÏùºÏóê Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.' }, { status: 400 })\n      }\n\n      // Ìó§Îçî Ï∂îÏ∂ú (Ï≤´ Î≤àÏß∏ Ìñâ)\n      headers = rows[0].values.slice(1) as string[] // ExcelJSÎäî 1-based indexing\n      // Excel Ìó§Îçî ÌååÏã± ÏôÑÎ£å\n\n      // Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\n      data = rows.slice(1).map((row, index) => {\n        const rowData: any = {}\n        const rowValues = row.values.slice(1) as unknown[] // ExcelJSÎäî 1-based indexing\n        headers.forEach((header, headerIndex) => {\n          rowData[header] = rowValues[headerIndex] || ''\n        })\n        // Excel Ìñâ ÌååÏã± ÏôÑÎ£å\n        return rowData\n      })\n    } else if (isCSV) {\n      // CSV ÌååÏùº ÌååÏã±\n      const text = await file.text()\n      const lines = text.split('\\n').filter(line => line.trim())\n\n      if (lines.length < 2) {\n        return json({ error: 'ÌååÏùºÏóê Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.' }, { status: 400 })\n      }\n\n      // CSV ÌååÏã± Ìï®Ïàò\n      function parseCSVLine(line: string): string[] {\n        const result: string[] = []\n        let current = ''\n        let inQuotes = false\n\n        for (let i = 0; i < line.length; i++) {\n          const char = line[i]\n\n          if (char === '\"') {\n            inQuotes = !inQuotes\n          } else if (char === ',' && !inQuotes) {\n            result.push(current.trim())\n            current = ''\n          } else {\n            current += char\n          }\n        }\n\n        result.push(current.trim())\n        return result\n      }\n\n      // Ìó§Îçî ÌååÏã±\n      headers = parseCSVLine(lines[0])\n      // CSV Ìó§Îçî ÌååÏã± ÏôÑÎ£å\n\n      // Îç∞Ïù¥ÌÑ∞ ÌååÏã±\n      data = lines.slice(1).map((line, index) => {\n        const values = parseCSVLine(line)\n        const row: any = {}\n        headers.forEach((header, headerIndex) => {\n          row[header] = values[headerIndex] || ''\n        })\n        // CSV Ìñâ ÌååÏã± ÏôÑÎ£å\n        return row\n      })\n    } else {\n      return json(\n        { error: 'ÏßÄÏõêÌïòÏßÄ ÏïäÎäî ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§. CSV ÎòêÎäî Excel ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌï¥Ï£ºÏÑ∏Ïöî.' },\n        { status: 400 }\n      )\n    }\n\n    // Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Î∞è Î≥ÄÌôò\n    const employees = data.map((row: any, index: number) => {\n      const rowNumber = index + 2 // Ìó§Îçî ÌñâÏùÑ Í≥†Î†§ÌïòÏó¨ +2\n\n      // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù (ÏÉàÎ°úÏö¥ ÌÖúÌîåÎ¶ø ÌòïÏãù)\n      const requiredFields = ['ÏÑ±', 'Ïù¥Î¶Ñ', 'Ïù¥Î©îÏùº', 'Î∂ÄÏÑú', 'ÏßÅÍ∏â', 'Í∏âÏó¨']\n      const missingFields = requiredFields.filter(\n        field => !row[field] || String(row[field]).trim() === ''\n      )\n\n      if (missingFields.length > 0) {\n        throw new Error(`Ìñâ ${rowNumber}: ÌïÑÏàò ÌïÑÎìúÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§: ${missingFields.join(', ')}`)\n      }\n\n      // ÏÑ±Í≥º Ïù¥Î¶Ñ Î∂ÑÎ¶¨ Í≤ÄÏ¶ù\n      const lastName = String(row['ÏÑ±']).trim()\n      const firstName = String(row['Ïù¥Î¶Ñ']).trim()\n\n      if (!lastName || !firstName) {\n        throw new Error(`Ìñâ ${rowNumber}: ÏÑ±Í≥º Ïù¥Î¶ÑÏùÄ Î∞òÎìúÏãú Î∂ÑÎ¶¨ÎêòÏñ¥ ÏûÖÎ†•ÎêòÏñ¥Ïïº Ìï©ÎãàÎã§.`)\n      }\n\n      // Ïù¥Î©îÏùº ÌòïÏãù Í≤ÄÏ¶ù (ÏûàÎäî Í≤ΩÏö∞)\n      if (row['Ïù¥Î©îÏùº'] && row['Ïù¥Î©îÏùº'].trim() !== '') {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n        if (!emailRegex.test(row['Ïù¥Î©îÏùº'].trim())) {\n          throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Ïù¥Î©îÏùº ÌòïÏãùÏûÖÎãàÎã§: ${row['Ïù¥Î©îÏùº']}`)\n        }\n      }\n\n      // Ï†ÑÌôîÎ≤àÌò∏ ÌòïÏãù Í≤ÄÏ¶ù (ÏûàÎäî Í≤ΩÏö∞)\n      if (row['Ï†ÑÌôîÎ≤àÌò∏'] && row['Ï†ÑÌôîÎ≤àÌò∏'].trim() !== '') {\n        const phoneRegex = /^[\\d\\-\\+\\(\\)\\s]+$/\n        if (!phoneRegex.test(row['Ï†ÑÌôîÎ≤àÌò∏'].trim())) {\n          throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Ï†ÑÌôîÎ≤àÌò∏ ÌòïÏãùÏûÖÎãàÎã§: ${row['Ï†ÑÌôîÎ≤àÌò∏']}`)\n        }\n      }\n\n      // Í∏âÏó¨ Í≤ÄÏ¶ù\n      let salary = 0\n      if (row['Í∏âÏó¨'] && String(row['Í∏âÏó¨']).trim() !== '') {\n        salary = parseFloat(String(row['Í∏âÏó¨']))\n        if (isNaN(salary) || salary < 0) {\n          throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Í∏âÏó¨ ÌòïÏãùÏûÖÎãàÎã§: ${row['Í∏âÏó¨']}`)\n        }\n      }\n\n      // ÏûÖÏÇ¨Ïùº Í≤ÄÏ¶ù\n      let hireDate = new Date()\n      if (row['ÏûÖÏÇ¨Ïùº'] && String(row['ÏûÖÏÇ¨Ïùº']).trim() !== '') {\n        const hireDateValue = row['ÏûÖÏÇ¨Ïùº']\n\n        if (!isValidDate(hireDateValue)) {\n          throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ ÏûÖÏÇ¨Ïùº ÌòïÏãùÏûÖÎãàÎã§: ${row['ÏûÖÏÇ¨Ïùº']}`)\n        }\n\n        hireDate = new Date(toUTC(hireDateValue))\n      }\n\n      // ÏÉÅÌÉú Í≤ÄÏ¶ù\n      const validStatuses = ['active', 'inactive', 'on_leave']\n      const status = row['ÏÉÅÌÉú'] || 'active'\n      if (!validStatuses.includes(status)) {\n        throw new Error(\n          `Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ ÏÉÅÌÉúÏûÖÎãàÎã§: ${status}. ÌóàÏö©Îêú Í∞í: ${validStatuses.join(', ')}`\n        )\n      }\n\n      // ÎØ∏Îì§ÎÑ§ÏûÑ Ï≤òÎ¶¨ (ÏÑ†ÌÉùÏÇ¨Ìï≠)\n      const middleName = row['ÎØ∏Îì§ÎÑ§ÏûÑ'] ? String(row['ÎØ∏Îì§ÎÑ§ÏûÑ']).trim() : ''\n\n      // employee_id ÏÉùÏÑ± (V00001 ÌòïÏãù)\n      // ÏóÖÎ°úÎìú ÏãúÏóêÎäî ÏûÑÏãúÎ°ú Ïù∏Îç±Ïä§ Í∏∞Î∞ò ÏÉùÏÑ±, Ïã§Ï†ú Ï†ÄÏû• ÏãúÏóêÎäî ÏàúÏ∞®Ï†ÅÏúºÎ°ú Ìï†Îãπ\n      const tempId = rowNumber // Ìñâ Î≤àÌò∏Î•º ÏûÑÏãú IDÎ°ú ÏÇ¨Ïö©\n      const employeeId = `V${tempId.toString().padStart(5, '0')}`\n\n      return {\n        employee_id: employeeId,\n        first_name: firstName,\n        last_name: lastName,\n        middle_name: middleName,\n        email: email,\n        phone: row['Ï†ÑÌôîÎ≤àÌò∏'] ? String(row['Ï†ÑÌôîÎ≤àÌò∏']).trim() : '',\n        department: String(row['Î∂ÄÏÑú']).trim(),\n        position: String(row['ÏßÅÍ∏â']).trim(),\n        salary: salary,\n        hire_date: formatDateForDisplay(toUTC(hireDate), 'ISO'),\n        status: status,\n        employment_type: row['Í≥†Ïö©ÌòïÌÉú'] || 'full-time',\n        created_at: getCurrentUTC(),\n        updated_at: getCurrentUTC()\n      }\n    })\n\n    // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ÄÏû•\n    let successCount = 0\n\n    for (const employee of employees) {\n      try {\n        // ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• ÏãúÎèÑ\n\n        // ÏÉàÎ°úÏö¥ ÏÇ¨Î≤à ÏÉùÏÑ± (Í∏∞Ï°¥ 4ÏûêÎ¶¨ Ïà´Ïûê Í∑úÏπô Ïú†ÏßÄ)\n        const countResult = await query(`\n\t\t\t\t\tSELECT MAX(CAST(employee_id AS INTEGER)) as max_id \n\t\t\t\t\tFROM employees \n\t\t\t\t\tWHERE employee_id ~ '^[0-9]+$' AND LENGTH(employee_id) <= 4\n\t\t\t\t`)\n        const maxId = countResult.rows[0]?.max_id || 1000\n        const nextId = maxId + 1\n        const newEmployeeId = nextId.toString()\n\n        // UPSERT: Ïù¥Î©îÏùºÏù¥ Ï°¥Ïû¨ÌïòÎ©¥ UPDATE, ÏóÜÏúºÎ©¥ INSERT\n        await query(\n          `\n\t\t\t\t\tINSERT INTO employees (\n\t\t\t\t\t\temployee_id, first_name, last_name, middle_name, email, phone, \n\t\t\t\t\t\tdepartment, position, salary, hire_date, status, \n\t\t\t\t\t\temployment_type, created_at, updated_at\n\t\t\t\t\t) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14)\n\t\t\t\t\tON CONFLICT (email) \n\t\t\t\t\tDO UPDATE SET\n\t\t\t\t\t\tfirst_name = EXCLUDED.first_name,\n\t\t\t\t\t\tlast_name = EXCLUDED.last_name,\n\t\t\t\t\t\tmiddle_name = EXCLUDED.middle_name,\n\t\t\t\t\t\tphone = EXCLUDED.phone,\n\t\t\t\t\t\tdepartment = EXCLUDED.department,\n\t\t\t\t\t\tposition = EXCLUDED.position,\n\t\t\t\t\t\tsalary = EXCLUDED.salary,\n\t\t\t\t\t\thire_date = EXCLUDED.hire_date,\n\t\t\t\t\t\tstatus = EXCLUDED.status,\n\t\t\t\t\t\temployment_type = EXCLUDED.employment_type,\n\t\t\t\t\t\tupdated_at = EXCLUDED.updated_at\n\t\t\t\t`,\n          [\n            newEmployeeId,\n            employee.first_name,\n            employee.last_name,\n            employee.middle_name,\n            employee.email,\n            employee.phone,\n            employee.department,\n            employee.position,\n            employee.salary,\n            employee.hire_date,\n            employee.status,\n            employee.employment_type,\n            employee.created_at,\n            employee.updated_at\n          ]\n        )\n        // ÏßÅÏõê Ï†ÄÏû•/ÏóÖÎç∞Ïù¥Ìä∏ ÏÑ±Í≥µ\n        successCount++\n      } catch (error) {\n        logger.error('ÏßÅÏõê Ï†ÄÏû• Ïã§Ìå®:', error)\n        logger.error('ÏßÅÏõê Îç∞Ïù¥ÌÑ∞:', employee)\n      }\n    }\n\n    return json({\n      success: true,\n      count: successCount,\n      total: employees.length,\n      message: `${successCount}Î™ÖÏùò ÏßÅÏõêÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.`\n    })\n  } catch (error) {\n    logger.error('ÏóÖÎ°úÎìú ÏóêÎü¨:', error)\n    return json(\n      {\n        error: error instanceof Error ? error.message : 'ÏóÖÎ°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/executives/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 51,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 51,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1452, 1455], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1452, 1455], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 153,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 153,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4032, 4035], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4032, 4035], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Ïù¥ÏÇ¨ Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const searchParams = url.searchParams\n    const status = searchParams.get('status') || 'active'\n    const department = searchParams.get('department')\n\n    let whereClause = ''\n    const params: unknown[] = []\n\n    if (status === 'active') {\n      whereClause = 'WHERE e.status = $1'\n      params.push(status)\n    } else if (status === 'all') {\n      whereClause = ''\n    }\n\n    if (department) {\n      if (whereClause) {\n        whereClause += ' AND e.department = $' + (params.length + 1)\n      } else {\n        whereClause = 'WHERE e.department = $1'\n      }\n      params.push(department)\n    }\n\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\te.id, e.executive_id, e.first_name, e.last_name, e.email, e.phone,\n\t\t\t\te.department, e.appointment_date, e.term_end_date, e.status, e.bio, e.profile_image_url,\n\t\t\t\te.created_at, e.updated_at,\n\t\t\t\tjt.name as job_title_name, jt.level as job_title_level, jt.category as job_title_category\n\t\t\tFROM executives e\n\t\t\tLEFT JOIN job_titles jt ON e.job_title_id = jt.id\n\t\t\t${whereClause}\n\t\t\tORDER BY jt.level ASC, e.appointment_date DESC\n\t\t`,\n      params\n    )\n\n    return json({\n      success: true,\n      data: result.rows\n    })\n  } catch (error: any) {\n    logger.error('Error fetching executives:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ïù¥ÏÇ¨ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏÉà Ïù¥ÏÇ¨ ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.first_name || data.first_name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥Î¶ÑÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.email || data.email.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥Î©îÏùºÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.job_title_id) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÏùÄ ÌïÑÏàò ÏÑ†ÌÉù Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ïù¥Î©îÏùº Ï§ëÎ≥µ Í≤ÄÏ¶ù\n    const existingExec = await query('SELECT id FROM executives WHERE LOWER(email) = LOWER($1)', [\n      data.email.trim()\n    ])\n\n    if (existingExec.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî Ïù¥Î©îÏùºÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Executive ID ÏÉùÏÑ±\n    const execIdResult = await query('SELECT COUNT(*) as count FROM executives')\n    const execCount = parseInt(execIdResult.rows[0].count) + 1\n    const executiveId = `EXE${execCount.toString().padStart(3, '0')}`\n\n    const result = await query(\n      `\n\t\t\tINSERT INTO executives (\n\t\t\t\texecutive_id, first_name, last_name, email, phone, job_title_id, \n\t\t\t\tdepartment, appointment_date, term_end_date, status, bio, profile_image_url,\n\t\t\t\tcreated_at, updated_at\n\t\t\t)\n\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14)\n\t\t\tRETURNING id, executive_id, first_name, last_name, email, phone, department, \n\t\t\t          appointment_date, term_end_date, status, bio, profile_image_url, created_at, updated_at\n\t\t`,\n      [\n        executiveId,\n        data.first_name.trim(),\n        data.last_name?.trim() || '',\n        data.email.trim(),\n        data.phone?.trim() || '',\n        data.job_title_id,\n        data.department?.trim() || '',\n        data.appointment_date || null,\n        data.term_end_date || null,\n        data.status || 'active',\n        data.bio?.trim() || '',\n        data.profile_image_url?.trim() || '',\n        new Date(),\n        new Date()\n      ]\n    )\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'Ïù¥ÏÇ¨Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error creating executive:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ïù¥ÏÇ¨ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/executives/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 37,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 37,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [987, 990], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [987, 990], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 152,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 152,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3540, 3543], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3540, 3543], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 192,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 192,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4324, 4327], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4324, 4327], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÌäπÏ†ï Ïù¥ÏÇ¨ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\te.id, e.executive_id, e.first_name, e.last_name, e.email, e.phone,\n\t\t\t\te.department, e.appointment_date, e.term_end_date, e.status, e.bio, e.profile_image_url,\n\t\t\t\te.created_at, e.updated_at,\n\t\t\t\tjt.name as job_title_name, jt.level as job_title_level, jt.category as job_title_category\n\t\t\tFROM executives e\n\t\t\tLEFT JOIN job_titles jt ON e.job_title_id = jt.id\n\t\t\tWHERE e.id = $1\n\t\t`,\n      [params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÏÇ¨Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0]\n    })\n  } catch (error: any) {\n    logger.error('Error fetching executive:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ïù¥ÏÇ¨ Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Ïù¥ÏÇ¨ Ï†ïÎ≥¥ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.first_name || data.first_name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥Î¶ÑÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.email || data.email.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥Î©îÏùºÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.job_title_id) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÏùÄ ÌïÑÏàò ÏÑ†ÌÉù Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ïù¥Î©îÏùº Ï§ëÎ≥µ Í≤ÄÏ¶ù (ÏûêÏã† Ï†úÏô∏)\n    const existingExec = await query(\n      'SELECT id FROM executives WHERE LOWER(email) = LOWER($1) AND id != $2',\n      [data.email.trim(), params.id]\n    )\n\n    if (existingExec.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî Ïù¥Î©îÏùºÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tUPDATE executives SET\n\t\t\t\tfirst_name = $1,\n\t\t\t\tlast_name = $2,\n\t\t\t\temail = $3,\n\t\t\t\tphone = $4,\n\t\t\t\tjob_title_id = $5,\n\t\t\t\tdepartment = $6,\n\t\t\t\tappointment_date = $7,\n\t\t\t\tterm_end_date = $8,\n\t\t\t\tstatus = $9,\n\t\t\t\tbio = $10,\n\t\t\t\tprofile_image_url = $11,\n\t\t\t\tupdated_at = $12\n\t\t\tWHERE id = $13\n\t\t\tRETURNING id, executive_id, first_name, last_name, email, phone, department, \n\t\t\t          appointment_date, term_end_date, status, bio, profile_image_url, created_at, updated_at\n\t\t`,\n      [\n        data.first_name.trim(),\n        data.last_name?.trim() || '',\n        data.email.trim(),\n        data.phone?.trim() || '',\n        data.job_title_id,\n        data.department?.trim() || '',\n        data.appointment_date || null,\n        data.term_end_date || null,\n        data.status || 'active',\n        data.bio?.trim() || '',\n        data.profile_image_url?.trim() || '',\n        new Date(),\n        params.id\n      ]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÏÇ¨Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'Ïù¥ÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error updating executive:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ïù¥ÏÇ¨ Ï†ïÎ≥¥ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Ïù¥ÏÇ¨ ÏÇ≠Ï†ú (ÎπÑÌôúÏÑ±Ìôî)\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tUPDATE executives SET\n\t\t\t\tstatus = 'inactive',\n\t\t\t\tupdated_at = $1\n\t\t\tWHERE id = $2\n\t\t\tRETURNING id, executive_id, first_name, last_name\n\t\t`,\n      [new Date(), params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÏÇ¨Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      message: 'Ïù¥ÏÇ¨Í∞Ä ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error deleting executive:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ïù¥ÏÇ¨ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/expenses/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/hr/employees/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/job-titles/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 56,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 56,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1399, 1402], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1399, 1402], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 141,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 141,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3278, 3281], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3278, 3281], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÏßÅÏ±Ö Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const searchParams = url.searchParams\n    const status = searchParams.get('status') || 'active'\n    const category = searchParams.get('category')\n    const level = searchParams.get('level')\n\n    let whereClause = ''\n    const params: unknown[] = []\n\n    if (status === 'active') {\n      whereClause = 'WHERE is_active = $1'\n      params.push(true)\n    } else if (status === 'all') {\n      whereClause = ''\n    }\n\n    if (category) {\n      if (whereClause) {\n        whereClause += ' AND category = $' + (params.length + 1)\n      } else {\n        whereClause = 'WHERE category = $1'\n      }\n      params.push(category)\n    }\n\n    if (level) {\n      if (whereClause) {\n        whereClause += ' AND level = $' + (params.length + 1)\n      } else {\n        whereClause = 'WHERE level = $1'\n      }\n      params.push(parseInt(level))\n    }\n\n    const result = await query(\n      `\n\t\t\tSELECT id, name, level, category, description, is_active, created_at, updated_at\n\t\t\tFROM job_titles\n\t\t\t${whereClause}\n\t\t\tORDER BY level ASC, name ASC\n\t\t`,\n      params\n    )\n\n    return json({\n      success: true,\n      data: result.rows\n    })\n  } catch (error: any) {\n    logger.error('Error fetching job titles:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÏ±Ö Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏÉà ÏßÅÏ±Ö ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name || data.name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÎ™ÖÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.level || data.level < 1 || data.level > 10) {\n      return json(\n        {\n          success: false,\n          error: 'Î†àÎ≤®ÏùÄ 1-10 ÏÇ¨Ïù¥Ïùò Í∞íÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.category || data.category.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Ïπ¥ÌÖåÍ≥†Î¶¨Îäî ÌïÑÏàò ÏÑ†ÌÉù Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ ÏßÅÏ±ÖÎ™Ö Í≤ÄÏ¶ù\n    const existingTitle = await query('SELECT id FROM job_titles WHERE LOWER(name) = LOWER($1)', [\n      data.name.trim()\n    ])\n\n    if (existingTitle.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî ÏßÅÏ±ÖÎ™ÖÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tINSERT INTO job_titles (name, level, category, description, is_active, created_at, updated_at)\n\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7)\n\t\t\tRETURNING id, name, level, category, description, is_active, created_at, updated_at\n\t\t`,\n      [\n        data.name.trim(),\n        data.level,\n        data.category.trim(),\n        data.description?.trim() || '',\n        data.is_active !== false,\n        new Date(),\n        new Date()\n      ]\n    )\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'ÏßÅÏ±ÖÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error creating job title:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÏ±Ö ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/job-titles/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [713, 716], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [713, 716], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 134,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 134,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2831, 2834], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2831, 2834], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 190,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 190,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4001, 4004], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4001, 4004], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÌäπÏ†ï ÏßÅÏ±Ö Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tSELECT id, name, level, category, description, is_active, created_at, updated_at\n\t\t\tFROM job_titles\n\t\t\tWHERE id = $1\n\t\t`,\n      [params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0]\n    })\n  } catch (error: any) {\n    logger.error('Error fetching job title:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÏ±Ö Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏßÅÏ±Ö Ï†ïÎ≥¥ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name || data.name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÎ™ÖÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.level || data.level < 1 || data.level > 10) {\n      return json(\n        {\n          success: false,\n          error: 'Î†àÎ≤®ÏùÄ 1-10 ÏÇ¨Ïù¥Ïùò Í∞íÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.category || data.category.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Ïπ¥ÌÖåÍ≥†Î¶¨Îäî ÌïÑÏàò ÏÑ†ÌÉù Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ ÏßÅÏ±ÖÎ™Ö Í≤ÄÏ¶ù (ÏûêÏã† Ï†úÏô∏)\n    const existingTitle = await query(\n      'SELECT id FROM job_titles WHERE LOWER(name) = LOWER($1) AND id != $2',\n      [data.name.trim(), params.id]\n    )\n\n    if (existingTitle.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî ÏßÅÏ±ÖÎ™ÖÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tUPDATE job_titles SET\n\t\t\t\tname = $1,\n\t\t\t\tlevel = $2,\n\t\t\t\tcategory = $3,\n\t\t\t\tdescription = $4,\n\t\t\t\tis_active = $5,\n\t\t\t\tupdated_at = $6\n\t\t\tWHERE id = $7\n\t\t\tRETURNING id, name, level, category, description, is_active, created_at, updated_at\n\t\t`,\n      [\n        data.name.trim(),\n        data.level,\n        data.category.trim(),\n        data.description?.trim() || '',\n        data.is_active !== false,\n        new Date(),\n        params.id\n      ]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'ÏßÅÏ±Ö Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error updating job title:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÏ±Ö Ï†ïÎ≥¥ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏßÅÏ±Ö ÏÇ≠Ï†ú (ÎπÑÌôúÏÑ±Ìôî)\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    // Ìï¥Îãπ ÏßÅÏ±ÖÏùÑ ÏÇ¨Ïö©ÌïòÎäî Ïù¥ÏÇ¨Í∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n    const executivesUsingTitle = await query(\n      'SELECT COUNT(*) as count FROM executives WHERE job_title_id = $1 AND status = $2',\n      [params.id, 'active']\n    )\n\n    if (parseInt(executivesUsingTitle.rows[0].count) > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ìï¥Îãπ ÏßÅÏ±ÖÏùÑ ÏÇ¨Ïö©ÌïòÎäî ÌôúÏÑ± Ïù¥ÏÇ¨Í∞Ä ÏûàÏñ¥ ÏÇ≠Ï†úÌï† Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tUPDATE job_titles SET\n\t\t\t\tis_active = false,\n\t\t\t\tupdated_at = $1\n\t\t\tWHERE id = $2\n\t\t\tRETURNING id, name\n\t\t`,\n      [new Date(), params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏ±ÖÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      message: 'ÏßÅÏ±ÖÏù¥ ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error deleting job title:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÏ±Ö ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/migrate/add-department-to/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [757, 760], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [757, 760], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Î∂ÄÏÑú ÌÖåÏù¥Î∏îÏóê T/O Ïª¨Îüº Ï∂îÍ∞Ä\nexport const POST: RequestHandler = async () => {\n  try {\n    // T/O Ïª¨Îüº Ï∂îÍ∞Ä\n    await query(`\n\t\t\tALTER TABLE departments \n\t\t\tADD COLUMN IF NOT EXISTS max_employees INTEGER DEFAULT 0\n\t\t`)\n\n    // Í∏∞Ï°¥ Î∂ÄÏÑúÎì§Ïùò T/O ÏÑ§Ï†ï\n    await query(`\n\t\t\tUPDATE departments \n\t\t\tSET max_employees = CASE \n\t\t\t\tWHEN name = 'Í∞úÎ∞úÌåÄ' THEN 4\n\t\t\t\tWHEN name = 'Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ' THEN 1\n\t\t\t\tWHEN name = 'Í≤ΩÏòÅÏßÄÏõêÌåÄ' THEN 2\n\t\t\t\tELSE 0\n\t\t\tEND\n\t\t\tWHERE max_employees = 0 OR max_employees IS NULL\n\t\t`)\n\n    return json({\n      success: true,\n      message: 'Î∂ÄÏÑú ÌÖåÏù¥Î∏îÏóê T/O Ïª¨ÎüºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error adding TO column to departments:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'T/O Ïª¨Îüº Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/organization/chart/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 34,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 34,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [935, 938], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [935, 938], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 40,
        "column": 15,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 40,
        "endColumn": 50
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 57,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 57,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1600, 1603], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1600, 1603], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 122,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 122,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3495, 3498], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3495, 3498], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Ï°∞ÏßÅÎèÑ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (ÎèôÏ†Å)\nexport const GET: RequestHandler = async () => {\n  try {\n    // Î™®Îì† ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ Ï°∞Ìöå (ÏßÅÏ±Ö Ï†ïÎ≥¥ Ìè¨Ìï®)\n    const employeesResult = await query(`\n\t\t\tSELECT \n\t\t\t\te.id,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.email,\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\te.salary,\n\t\t\t\te.status,\n\t\t\t\te.job_title_id,\n\t\t\t\tjt.name as job_title_name,\n\t\t\t\tjt.level as job_title_level,\n\t\t\t\tjt.category as job_title_category\n\t\t\tFROM employees e\n\t\t\tLEFT JOIN job_titles jt ON e.job_title_id = jt.id\n\t\t\tWHERE e.status = 'active'\n\t\t\tORDER BY e.department, e.position\n\t\t`)\n\n    const employees = Array.isArray(employeesResult) ? employeesResult : employeesResult.rows || []\n\n    // Î∂ÄÏÑúÎ≥ÑÎ°ú ÏßÅÏõê Í∑∏Î£πÌôî\n    const departmentGroups: { [key: string]: unknown[] } = {}\n    employees.forEach((emp: any) => {\n      const dept = emp.department || 'Í∏∞ÌÉÄ'\n      if (!departmentGroups[dept]) {\n        departmentGroups[dept] = []\n      }\n      departmentGroups[dept].push({\n        name: `${emp.last_name}${emp.first_name}`,\n        position: emp.position,\n        email: emp.email,\n        salary: emp.salary,\n        job_title: emp.job_title_name,\n        isTeamLead: emp.job_title_name === 'Team Lead'\n      })\n    })\n\n    // Î∂ÄÏÑúÎ•º ÏûÑÏõêÎ≥ÑÎ°ú Í∑∏Î£πÌôîÌïòÎäî Îß§Ìïë\n    const executiveDepartmentMapping: { [key: string]: string[] } = {\n      ÎåÄÌëúÏù¥ÏÇ¨: ['Í≤ΩÏòÅÍ∏∞ÌöçÌåÄ'],\n      Ïû¨Î¨¥Ïù¥ÏÇ¨: ['Í≤ΩÏòÅÏßÄÏõêÌåÄ'],\n      Ïó∞Íµ¨ÏÜåÏû•: ['PSRÌåÄ', 'GRITÌåÄ', 'Í∞úÎ∞úÌåÄ']\n    }\n\n    // ÎèôÏ†ÅÏúºÎ°ú Ï°∞ÏßÅÎèÑ Íµ¨Ï°∞ ÏÉùÏÑ±\n    const orgStructure: { [key: string]: any } = {}\n\n    // Í∞Å ÏûÑÏõêÎ≥ÑÎ°ú Íµ¨Ï°∞ ÏÉùÏÑ±\n    Object.entries(executiveDepartmentMapping).forEach(([executiveName, departments]) => {\n      const children: unknown[] = []\n\n      departments.forEach(deptName => {\n        // Ìï¥Îãπ Î∂ÄÏÑúÏóê ÏßÅÏõêÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n        if (departmentGroups[deptName] && departmentGroups[deptName].length > 0) {\n          children.push({\n            name: deptName,\n            position: 'ÌåÄ',\n            type: 'department',\n            children: departmentGroups[deptName]\n          })\n        }\n      })\n\n      // ÏßÅÏõêÏù¥ ÏûàÎäî Î∂ÄÏÑúÍ∞Ä ÏûàÎäî Í≤ΩÏö∞ÏóêÎßå ÏûÑÏõê Ï∂îÍ∞Ä\n      if (children.length > 0) {\n        orgStructure[executiveName] = {\n          name: executiveName,\n          position: executiveName,\n          email: `${executiveName.toLowerCase().replace('Ïù¥ÏÇ¨', '')}@company.com`,\n          children: children\n        }\n      }\n    })\n\n    // Îß§ÌïëÎêòÏßÄ ÏïäÏùÄ Î∂ÄÏÑúÎì§ÏùÑ 'Í∏∞ÌÉÄ' ÏûÑÏõêÏúºÎ°ú Í∑∏Î£πÌôî\n    const mappedDepartments = Object.values(executiveDepartmentMapping).flat()\n    const unmappedDepartments = Object.keys(departmentGroups).filter(\n      dept => !mappedDepartments.includes(dept)\n    )\n\n    if (unmappedDepartments.length > 0) {\n      const otherChildren: unknown[] = []\n      unmappedDepartments.forEach(deptName => {\n        otherChildren.push({\n          name: deptName,\n          position: 'ÌåÄ',\n          type: 'department',\n          children: departmentGroups[deptName]\n        })\n      })\n\n      orgStructure['Í∏∞ÌÉÄ'] = {\n        name: 'Í∏∞ÌÉÄ',\n        position: 'Í∏∞ÌÉÄ',\n        email: 'other@company.com',\n        children: otherChildren\n      }\n    }\n\n    return json({\n      success: true,\n      data: orgStructure,\n      metadata: {\n        totalEmployees: employees.length,\n        totalDepartments: Object.keys(departmentGroups).length,\n        totalExecutives: Object.keys(orgStructure).length,\n        departments: Object.keys(departmentGroups)\n      },\n      message: 'Ï°∞ÏßÅÎèÑ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error generating organization chart:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ï°∞ÏßÅÎèÑ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/organization/chart/download/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [735, 738], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [735, 738], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1191, 1194], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1191, 1194], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// Ï°∞ÏßÅÎèÑ Îã§Ïö¥Î°úÎìú (CSV ÌòïÏãù)\nexport const GET: RequestHandler = async () => {\n  try {\n    // Î™®Îì† ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ Ï°∞Ìöå\n    const employeesResult = await query(`\n\t\t\tSELECT \n\t\t\t\tfirst_name,\n\t\t\t\tlast_name,\n\t\t\t\temail,\n\t\t\t\tdepartment,\n\t\t\t\tposition,\n\t\t\t\tsalary,\n\t\t\t\tstatus\n\t\t\tFROM employees \n\t\t\tWHERE status = 'active'\n\t\t\tORDER BY department, position\n\t\t`)\n\n    const employees = Array.isArray(employeesResult) ? employeesResult : employeesResult.rows || []\n\n    // CSV Ìó§Îçî\n    const csvHeader = 'Ïù¥Î¶Ñ,Î∂ÄÏÑú,ÏßÅÍ∏â,Ïù¥Î©îÏùº,Ïó∞Î¥â,ÏÉÅÌÉú\\n'\n\n    // CSV Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±\n    const csvData = employees\n      .map((emp: any) => {\n        return `\"${emp.last_name}${emp.first_name}\",\"${emp.department}\",\"${emp.position}\",\"${emp.email}\",\"${emp.salary}\",\"${emp.status}\"`\n      })\n      .join('\\n')\n\n    const csvContent = csvHeader + csvData\n\n    // CSV ÌååÏùºÎ°ú ÏùëÎãµ\n    return new Response(csvContent, {\n      headers: {\n        'Content-Type': 'text/csv; charset=utf-8',\n        'Content-Disposition': 'attachment; filename=\"organization_chart.csv\"'\n      }\n    })\n  } catch (error: any) {\n    logger.error('Error downloading organization chart:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'Ï°∞ÏßÅÎèÑ Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/positions/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 46,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 46,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1154, 1157], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1154, 1157], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 122,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 122,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2894, 2897], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2894, 2897], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 144,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 144,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3329, 3332], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3329, 3332], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÏßÅÍ∏â Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const searchParams = url.searchParams\n    const status = searchParams.get('status') || 'active'\n    const department = searchParams.get('department')\n\n    let whereClause = ''\n    const params: unknown[] = []\n\n    if (status === 'active') {\n      whereClause = 'WHERE status = $1'\n      params.push(status)\n    } else if (status === 'all') {\n      whereClause = ''\n    }\n\n    if (department) {\n      if (whereClause) {\n        whereClause += ' AND department = $' + (params.length + 1)\n      } else {\n        whereClause = 'WHERE department = $1'\n      }\n      params.push(department)\n    }\n\n    const result = await query(\n      `\n\t\t\tSELECT id, name, description, department, level, status, created_at, updated_at\n\t\t\tFROM positions\n\t\t\t${whereClause}\n\t\t\tORDER BY level ASC, name ASC\n\t\t`,\n      params\n    )\n\n    return json({\n      success: true,\n      data: result.rows\n    })\n  } catch (error: any) {\n    logger.error('Error fetching positions:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÍ∏â Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏÉà ÏßÅÍ∏â ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name || data.name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÍ∏âÎ™ÖÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.department || data.department.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Î∂ÄÏÑúÎäî ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ ÏßÅÍ∏âÎ™Ö Í≤ÄÏ¶ù (Í∞ôÏùÄ Î∂ÄÏÑú ÎÇ¥ÏóêÏÑú)\n    const existingPos = await query(\n      'SELECT id FROM positions WHERE LOWER(name) = LOWER($1) AND department = $2',\n      [data.name.trim(), data.department.trim()]\n    )\n\n    if (existingPos.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ìï¥Îãπ Î∂ÄÏÑúÏóê Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî ÏßÅÍ∏âÎ™ÖÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tINSERT INTO positions (name, description, department, level, status, created_at, updated_at)\n\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7)\n\t\t\tRETURNING id, name, description, department, level, status, created_at, updated_at\n\t\t`,\n      [\n        data.name.trim(),\n        data.description?.trim() || '',\n        data.department.trim(),\n        data.level || 1,\n        data.status || 'active',\n        new Date(),\n        new Date()\n      ]\n    )\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'ÏßÅÍ∏âÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error creating position:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÍ∏â ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Î™®Îì† ÏßÅÍ∏â ÏÇ≠Ï†ú (Î¶¨ÏÖãÏö©)\nexport const DELETE: RequestHandler = async () => {\n  try {\n    // Î™®Îì† ÏßÅÍ∏âÏùÑ ÏÇ≠Ï†ú\n    await query('DELETE FROM positions')\n\n    return json({\n      success: true,\n      message: 'Î™®Îì† ÏßÅÍ∏âÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error deleting all positions:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÍ∏â ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/positions/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [711, 714], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [711, 714], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 124,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 124,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2686, 2689], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2686, 2689], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 206,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 206,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4525, 4528], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4525, 4528], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { query } from '$lib/database/connection'\nimport { logger } from '$lib/utils/logger';\n\n// ÌäπÏ†ï ÏßÅÍ∏â Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tSELECT id, name, description, department, level, status, created_at, updated_at\n\t\t\tFROM positions\n\t\t\tWHERE id = $1\n\t\t`,\n      [params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÍ∏âÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0]\n    })\n  } catch (error: any) {\n    logger.error('Error fetching position:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÍ∏â Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏßÅÍ∏â Ï†ïÎ≥¥ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const data = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!data.name || data.name.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÍ∏âÎ™ÖÏùÄ ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!data.department || data.department.trim() === '') {\n      return json(\n        {\n          success: false,\n          error: 'Î∂ÄÏÑúÎäî ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ ÏßÅÍ∏âÎ™Ö Í≤ÄÏ¶ù (ÏûêÍ∏∞ ÏûêÏã† Ï†úÏô∏, Í∞ôÏùÄ Î∂ÄÏÑú ÎÇ¥ÏóêÏÑú)\n    const existingPos = await query(\n      'SELECT id FROM positions WHERE LOWER(name) = LOWER($1) AND department = $2 AND id != $3',\n      [data.name.trim(), data.department.trim(), params.id]\n    )\n\n    if (existingPos.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          error: 'Ìï¥Îãπ Î∂ÄÏÑúÏóê Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî ÏßÅÍ∏âÎ™ÖÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const result = await query(\n      `\n\t\t\tUPDATE positions SET\n\t\t\t\tname = $2,\n\t\t\t\tdescription = $3,\n\t\t\t\tdepartment = $4,\n\t\t\t\tlevel = $5,\n\t\t\t\tstatus = $6,\n\t\t\t\tupdated_at = $7\n\t\t\tWHERE id = $1\n\t\t\tRETURNING id, name, description, department, level, status, created_at, updated_at\n\t\t`,\n      [\n        params.id,\n        data.name.trim(),\n        data.description?.trim() || '',\n        data.department.trim(),\n        data.level || 1,\n        data.status || 'active',\n        new Date()\n      ]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÍ∏âÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0],\n      message: 'ÏßÅÍ∏â Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error: any) {\n    logger.error('Error updating position:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÍ∏â Ï†ïÎ≥¥ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÏßÅÍ∏â ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params, url }) => {\n  try {\n    const searchParams = url.searchParams\n    const hardDelete = searchParams.get('hard') === 'true'\n\n    if (hardDelete) {\n      // ÌïòÎìú ÏÇ≠Ï†ú: ÏßÅÍ∏âÏùÑ ÏÇ¨Ïö©ÌïòÎäî ÏßÅÏõêÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏\n      const employeesInPos = await query(\n        'SELECT COUNT(*) as count FROM employees WHERE position = (SELECT name FROM positions WHERE id = $1)',\n        [params.id]\n      )\n\n      if (parseInt(employeesInPos.rows[0].count) > 0) {\n        return json(\n          {\n            success: false,\n            error: 'Ìï¥Îãπ ÏßÅÍ∏âÏùÑ Í∞ÄÏßÑ ÏßÅÏõêÏù¥ ÏûàÏñ¥ ÏÇ≠Ï†úÌï† Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 400 }\n        )\n      }\n\n      // ÌïòÎìú ÏÇ≠Ï†ú Ïã§Ìñâ\n      const result = await query('DELETE FROM positions WHERE id = $1 RETURNING id, name', [\n        params.id\n      ])\n\n      if (result.rows.length === 0) {\n        return json(\n          {\n            success: false,\n            error: 'ÏßÅÍ∏âÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 404 }\n        )\n      }\n\n      return json({\n        success: true,\n        message: 'ÏßÅÍ∏âÏù¥ ÏôÑÏ†ÑÌûà ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n      })\n    } else {\n      // ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú: ÏÉÅÌÉúÎ•º 'inactive'Î°ú Î≥ÄÍ≤Ω\n      const result = await query(\n        `\n\t\t\t\tUPDATE positions SET\n\t\t\t\t\tstatus = 'inactive',\n\t\t\t\t\tupdated_at = $2\n\t\t\t\tWHERE id = $1\n\t\t\t\tRETURNING id, name, status\n\t\t\t`,\n        [params.id, new Date()]\n      )\n\n      if (result.rows.length === 0) {\n        return json(\n          {\n            success: false,\n            error: 'ÏßÅÍ∏âÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 404 }\n        )\n      }\n\n      return json({\n        success: true,\n        message: 'ÏßÅÍ∏âÏù¥ ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.'\n      })\n    }\n  } catch (error: any) {\n    logger.error('Error deleting position:', error)\n    return json(\n      {\n        success: false,\n        error: error.message || 'ÏßÅÍ∏â ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/alerts/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budget-categories/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budget-evidence/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budget-evidence/[id]/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budget-evidence/[id]/approve/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budget-evidence/[id]/reject/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budget-validation/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 81,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 81,
        "endColumn": 72
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 117,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 117,
        "endColumn": 134
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 149,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 149,
        "endColumn": 117
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { BudgetConsistencyValidator, ValidationUtils } from '$lib/utils/validation'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const projectId = url.searchParams.get('projectId')\n\n    if (!projectId) {\n      return json({ error: 'ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n    }\n\n    logger.log(`üîç [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ ${projectId} Í≤ÄÏ¶ù ÏãúÏûë`)\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Î∞è ÏòàÏÇ∞ Ï°∞Ìöå\n    const [project, budgets] = await Promise.all([\n      ValidationUtils.getProjectInfo(projectId),\n      ValidationUtils.getProjectBudgets(projectId)\n    ])\n\n    logger.log(`üìã ÌîÑÎ°úÏ†ùÌä∏: ${project.title}`)\n\n    // ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\n    const validation = BudgetConsistencyValidator.validateBudgetConsistency(project, budgets)\n\n    const validationResults = [\n      {\n        validationType: 'budget_consistency',\n        validation,\n        details: {\n          projectTotalBudget: parseFloat(project.budget_total) || 0,\n          totalBudgetFromBudgets: budgets.reduce(\n            (sum, budget) => sum + (parseFloat(budget.total_budget) || 0),\n            0\n          ),\n          budgetBreakdown: budgets.map(budget => ({\n            periodNumber: budget.period_number,\n            fiscalYear: budget.fiscal_year,\n            totalBudget: parseFloat(budget.total_budget) || 0,\n            personnelCost: parseFloat(budget.personnel_cost) || 0,\n            researchMaterialCost: parseFloat(budget.research_material_cost) || 0,\n            researchActivityCost: parseFloat(budget.research_activity_cost) || 0,\n            indirectCost: parseFloat(budget.indirect_cost) || 0\n          }))\n        }\n      }\n    ]\n\n    // Ï†ÑÏ≤¥ Í≤ÄÏ¶ù Í≤∞Í≥º ÏÉùÏÑ±\n    const overallValidation = ValidationUtils.createOverallValidation(validationResults)\n\n    logger.log(`‚úÖ [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù] ÏôÑÎ£å - ${validation.isValid ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'}`)\n\n    return json(\n      ValidationUtils.createValidationResponse(\n        projectId,\n        project.title,\n        validationResults,\n        overallValidation\n      )\n    )\n  } catch (error) {\n    logger.error('Budget validation error:', error)\n    return json(\n      ValidationUtils.createErrorResponse(error, 'ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'),\n      { status: 500 }\n    )\n  }\n}\n\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { projectId, autoFix = false } = await request.json()\n\n    if (!projectId) {\n      return json({ error: 'ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n    }\n\n    logger.log(\n      `üîß [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ ${projectId} ${autoFix ? 'ÏûêÎèô ÏàòÏ†ï' : 'Í≤ÄÏ¶ù'} ÏãúÏûë`\n    )\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Î∞è ÏòàÏÇ∞ Ï°∞Ìöå\n    const [project, budgets] = await Promise.all([\n      ValidationUtils.getProjectInfo(projectId),\n      ValidationUtils.getProjectBudgets(projectId)\n    ])\n\n    logger.log(`üìã ÌîÑÎ°úÏ†ùÌä∏: ${project.title}`)\n\n    // ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\n    const validation = BudgetConsistencyValidator.validateBudgetConsistency(project, budgets)\n\n    const fixes = []\n\n    // ÏûêÎèô ÏàòÏ†ïÏù¥ ÌôúÏÑ±ÌôîÎêòÍ≥† Î∂àÏùºÏπòÍ∞Ä ÏûàÎäî Í≤ΩÏö∞\n    if (autoFix && !validation.isValid) {\n      const totalBudgetFromBudgets = budgets.reduce(\n        (sum, budget) => sum + (parseFloat(budget.total_budget) || 0),\n        0\n      )\n\n      // ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞ÏùÑ Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥ÑÎ°ú ÏóÖÎç∞Ïù¥Ìä∏\n      await ValidationUtils.pool.query('UPDATE projects SET budget_total = $1 WHERE id = $2', [\n        totalBudgetFromBudgets,\n        projectId\n      ])\n\n      fixes.push({\n        action: 'project_budget_total_updated',\n        oldValue: parseFloat(project.budget_total) || 0,\n        newValue: totalBudgetFromBudgets\n      })\n\n      logger.log(\n        `üîß ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞ ÏàòÏ†ï: ${(parseFloat(project.budget_total) || 0).toLocaleString()}Ïõê ‚Üí ${totalBudgetFromBudgets.toLocaleString()}Ïõê`\n      )\n    }\n\n    const validationResults = [\n      {\n        validationType: 'budget_consistency',\n        validation,\n        details: {\n          projectTotalBudget: parseFloat(project.budget_total) || 0,\n          totalBudgetFromBudgets: budgets.reduce(\n            (sum, budget) => sum + (parseFloat(budget.total_budget) || 0),\n            0\n          ),\n          budgetBreakdown: budgets.map(budget => ({\n            periodNumber: budget.period_number,\n            fiscalYear: budget.fiscal_year,\n            totalBudget: parseFloat(budget.total_budget) || 0,\n            personnelCost: parseFloat(budget.personnel_cost) || 0,\n            researchMaterialCost: parseFloat(budget.research_material_cost) || 0,\n            researchActivityCost: parseFloat(budget.research_activity_cost) || 0,\n            indirectCost: parseFloat(budget.indirect_cost) || 0\n          }))\n        },\n        fixed: autoFix && !validation.isValid\n      }\n    ]\n\n    // Ï†ÑÏ≤¥ Í≤ÄÏ¶ù Í≤∞Í≥º ÏÉùÏÑ±\n    const overallValidation = ValidationUtils.createOverallValidation(validationResults)\n\n    logger.log(\n      `‚úÖ [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù] ÏôÑÎ£å - ${validation.isValid ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'}${fixes.length > 0 ? `, ${fixes.length}Í∞ú ÏàòÏ†ï` : ''}`\n    )\n\n    return json({\n      ...ValidationUtils.createValidationResponse(\n        projectId,\n        project.title,\n        validationResults,\n        overallValidation\n      ),\n      fixes: fixes.length > 0 ? fixes : undefined\n    })\n  } catch (error) {\n    logger.error('Budget validation error:', error)\n    return json(\n      ValidationUtils.createErrorResponse(error, 'ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'),\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/budgets/summary-by-year/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/comprehensive-validation/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 21,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 21,
        "endColumn": 87
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [797, 800], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [797, 800], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 26,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 26,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [824, 827], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [824, 827], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [852, 855], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [852, 855], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 180,
        "column": 21,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 180,
        "endColumn": 62
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 229,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 229,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7306, 7309], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7306, 7309], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 229,
        "column": 81,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 229,
        "endColumn": 84,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7338, 7341], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7338, 7341], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 230,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 230,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7403, 7406], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7403, 7406], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 230,
        "column": 79,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 230,
        "endColumn": 82,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7435, 7438], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7435, 7438], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 238,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 238,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7630, 7633], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7630, 7633], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 239,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 239,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7680, 7683], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7680, 7683], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 246,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 246,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7869, 7872], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7869, 7872], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 247,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 247,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7919, 7922], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7919, 7922], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 260,
        "column": 20,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 260,
        "endColumn": 44
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 281,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 281,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8786, 8789], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8786, 8789], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 324,
        "column": 20,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 324,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 12,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { AICodingValidator } from '$lib/utils/ai-coding-guidelines'\nimport { SchemaValidator } from '$lib/utils/schema-validation'\nimport {\n  BudgetConsistencyValidator,\n  EmploymentPeriodValidator,\n  ParticipationRateValidator,\n  PersonnelCostValidator,\n  UsageRateValidator,\n  ValidationUtils\n} from '$lib/utils/validation'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const projectId = url.searchParams.get('projectId')\n    const validationScope = url.searchParams.get('scope') || 'all'\n\n    logger.log(\n      `üîç [Ï¢ÖÌï© Í≤ÄÏ¶ù] ${validationScope} Í≤ÄÏ¶ù ÏãúÏûë${projectId ? ` - ÌîÑÎ°úÏ†ùÌä∏: ${projectId}` : ''}`\n    )\n\n    const results = {\n      schema: null as any,\n      coding: null as any,\n      project: null as any,\n      summary: {\n        total: 0,\n        valid: 0,\n        invalid: 0,\n        issues: [] as string[]\n      }\n    }\n\n    // 1. Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù\n    if (validationScope === 'all' || validationScope === 'schema') {\n      logger.log('üìã [Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù] ÏãúÏûë')\n      try {\n        const [schemaResults, namingResults] = await Promise.all([\n          SchemaValidator.validateDatabaseSchema(),\n          SchemaValidator.validateColumnNamingConsistency()\n        ])\n\n        results.schema = {\n          database: schemaResults,\n          naming: namingResults,\n          summary: {\n            total: schemaResults.length + namingResults.length,\n            valid:\n              schemaResults.filter(r => r.isValid).length +\n              namingResults.filter(r => r.isValid).length,\n            invalid:\n              schemaResults.filter(r => !r.isValid).length +\n              namingResults.filter(r => !r.isValid).length\n          }\n        }\n      } catch (error) {\n        logger.error('Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù Ïã§Ìå®:', error)\n        results.schema = { error: 'Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù Ïã§Ìå®' }\n      }\n    }\n\n    // 2. ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù\n    if (validationScope === 'all' || validationScope === 'coding') {\n      logger.log('üìù [ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù] ÏãúÏûë')\n      try {\n        const guidelines = AICodingValidator.getGuidelines()\n        const validationRules = AICodingValidator.getValidationRules()\n\n        // ÏÉòÌîå Í≤ÄÏ¶ù Ïã§Ìñâ\n        const sampleValidations = [\n          {\n            type: 'column',\n            name: 'user_id',\n            result: AICodingValidator.validateColumnName('user_id')\n          },\n          {\n            type: 'column',\n            name: 'userId',\n            result: AICodingValidator.validateColumnName('userId')\n          },\n          {\n            type: 'variable',\n            name: 'projectId',\n            result: AICodingValidator.validateVariableName('projectId')\n          },\n          {\n            type: 'variable',\n            name: 'project_id',\n            result: AICodingValidator.validateVariableName('project_id')\n          },\n          {\n            type: 'function',\n            name: 'validateProject',\n            result: AICodingValidator.validateFunctionName('validateProject')\n          },\n          {\n            type: 'function',\n            name: 'project_validate',\n            result: AICodingValidator.validateFunctionName('project_validate')\n          },\n          {\n            type: 'class',\n            name: 'ValidationUtils',\n            result: AICodingValidator.validateClassName('ValidationUtils')\n          },\n          {\n            type: 'class',\n            name: 'validation_utils',\n            result: AICodingValidator.validateClassName('validation_utils')\n          }\n        ]\n\n        results.coding = {\n          guidelines,\n          validationRules,\n          sampleValidations,\n          summary: {\n            total: sampleValidations.length,\n            valid: sampleValidations.filter(v => v.result.isValid).length,\n            invalid: sampleValidations.filter(v => !v.result.isValid).length\n          }\n        }\n      } catch (error) {\n        logger.error('ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù Ïã§Ìå®:', error)\n        results.coding = { error: 'ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù Ïã§Ìå®' }\n      }\n    }\n\n    // 3. ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù (ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÏûàÎäî Í≤ΩÏö∞)\n    if (projectId && (validationScope === 'all' || validationScope === 'project')) {\n      logger.log(`üìä [ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù] ÏãúÏûë - ÌîÑÎ°úÏ†ùÌä∏: ${projectId}`)\n      try {\n        const project = await ValidationUtils.getProjectInfo(projectId)\n        const [budgets, members, evidenceItems] = await Promise.all([\n          ValidationUtils.getProjectBudgets(projectId),\n          ValidationUtils.getProjectMembers(projectId),\n          ValidationUtils.getEvidenceItems(projectId)\n        ])\n\n        // Í∞Å Í≤ÄÏ¶ù Ïã§Ìñâ\n        const validations = []\n\n        // Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù\n        for (const budget of budgets) {\n          const actualPersonnelCost = PersonnelCostValidator.calculateActualPersonnelCost(\n            members,\n            budget\n          )\n          const validation = PersonnelCostValidator.validatePersonnelCost(\n            budget,\n            actualPersonnelCost\n          )\n          validations.push({\n            type: 'personnel_cost',\n            period: budget.period_number,\n            validation\n          })\n        }\n\n        // ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\n        const budgetValidation = BudgetConsistencyValidator.validateBudgetConsistency(\n          project,\n          budgets\n        )\n        validations.push({\n          type: 'budget_consistency',\n          validation: budgetValidation\n        })\n\n        // Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù\n        for (const member of members) {\n          const validation = EmploymentPeriodValidator.validateMemberEmploymentPeriod(\n            member,\n            project\n          )\n          validations.push({\n            type: 'employment_period',\n            member: `${member.last_name}${member.first_name}`,\n            validation\n          })\n        }\n\n        // Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n        const participationValidation =\n          ParticipationRateValidator.validateParticipationRate(members)\n        validations.push({\n          type: 'participation_rate',\n          validation: participationValidation\n        })\n\n        // ÏÇ¨Ïö©Î•† Í≤ÄÏ¶ù\n        for (const budget of budgets) {\n          const validation = UsageRateValidator.validateUsageRate(budget, evidenceItems)\n          validations.push({\n            type: 'usage_rate',\n            period: budget.period_number,\n            validation\n          })\n        }\n\n        results.project = {\n          projectId,\n          projectTitle: project.title,\n          validations,\n          summary: {\n            total: validations.length,\n            valid: validations.filter(v => v.validation.isValid).length,\n            invalid: validations.filter(v => !v.validation.isValid).length\n          }\n        }\n      } catch (error) {\n        logger.error('ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Ïã§Ìå®:', error)\n        results.project = { error: 'ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Ïã§Ìå®' }\n      }\n    }\n\n    // Ï†ÑÏ≤¥ ÏöîÏïΩ Í≥ÑÏÇ∞\n    const allResults = [results.schema, results.coding, results.project].filter(r => r && !r.error)\n    results.summary.total = allResults.reduce((sum, r) => sum + (r.summary?.total || 0), 0)\n    results.summary.valid = allResults.reduce((sum, r) => sum + (r.summary?.valid || 0), 0)\n    results.summary.invalid = allResults.reduce((sum, r) => sum + (r.summary?.invalid || 0), 0)\n\n    // Ïù¥Ïäà ÏàòÏßë\n    if (results.schema && !results.schema.error) {\n      results.summary.issues.push(\n        ...[\n          ...results.schema.database.filter((r: any) => !r.isValid).flatMap((r: any) => r.issues),\n          ...results.schema.naming.filter((r: any) => !r.isValid).flatMap((r: any) => r.issues)\n        ]\n      )\n    }\n\n    if (results.coding && !results.coding.error) {\n      results.summary.issues.push(\n        ...results.coding.sampleValidations\n          .filter((v: any) => !v.result.isValid)\n          .flatMap((v: any) => v.result.issues)\n      )\n    }\n\n    if (results.project && !results.project.error) {\n      results.summary.issues.push(\n        ...results.project.validations\n          .filter((v: any) => !v.validation.isValid)\n          .map((v: any) => v.validation.message)\n      )\n    }\n\n    logger.log(\n      `‚úÖ [Ï¢ÖÌï© Í≤ÄÏ¶ù] ÏôÑÎ£å - ${results.summary.valid}/${results.summary.total}Í∞ú ÌÜµÍ≥º, ${results.summary.invalid}Í∞ú Î¨∏Ï†ú`\n    )\n\n    return json({\n      success: true,\n      validationScope,\n      projectId: projectId || null,\n      results,\n      generatedAt: new Date().toISOString()\n    })\n  } catch (error) {\n    logger.error('Comprehensive validation error:', error)\n    return json(\n      {\n        success: false,\n        error: 'Ï¢ÖÌï© Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { validationType, name, code, language, tableName, query } = await request.json()\n\n    logger.log(`üîç [Ï¢ÖÌï© Í≤ÄÏ¶ù] ${validationType} Í≤ÄÏ¶ù ÏãúÏûë`)\n\n    let validationResult: any = null\n\n    // Í≤ÄÏ¶ù ÌÉÄÏûÖÎ≥Ñ Ï≤òÎ¶¨\n    switch (validationType) {\n      case 'column':\n        validationResult = AICodingValidator.validateColumnName(name)\n        break\n      case 'variable':\n        validationResult = AICodingValidator.validateVariableName(name)\n        break\n      case 'function':\n        validationResult = AICodingValidator.validateFunctionName(name)\n        break\n      case 'class':\n        validationResult = AICodingValidator.validateClassName(name)\n        break\n      case 'sql':\n        validationResult = AICodingValidator.validateSQLQuery(query)\n        break\n      case 'code':\n        validationResult = AICodingValidator.validateCode(code, language)\n        break\n      case 'query-columns':\n        if (!query || !tableName) {\n          return json({ error: 'ÏøºÎ¶¨ÏôÄ ÌÖåÏù¥Î∏îÎ™ÖÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n        }\n        validationResult = SchemaValidator.validateQueryColumns(query, tableName)\n        break\n      default:\n        return json({ error: 'ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Í≤ÄÏ¶ù ÌÉÄÏûÖÏûÖÎãàÎã§.' }, { status: 400 })\n    }\n\n    logger.log(`‚úÖ [Ï¢ÖÌï© Í≤ÄÏ¶ù] ÏôÑÎ£å - ${validationResult.isValid ? 'ÌÜµÍ≥º' : 'Ïã§Ìå®'}`)\n\n    return json({\n      success: true,\n      validationType,\n      name: name || null,\n      code: code || null,\n      language: language || null,\n      tableName: tableName || null,\n      query: query || null,\n      validationResult,\n      generatedAt: new Date().toISOString()\n    })\n  } catch (error) {\n    logger.error('Comprehensive validation error:', error)\n    return json(\n      {\n        success: false,\n        error: 'Ï¢ÖÌï© Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/create-project/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 167,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 167,
        "endColumn": 120
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 201,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 201,
        "endColumn": 91
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 210,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 210,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6235, 6238], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6235, 6238], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 237,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 237,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6924, 6927], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6924, 6927], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'materialCost' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 250,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 250,
        "endColumn": 23
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'activityCost' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 254,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 254,
        "endColumn": 23
      },
      {
        "ruleId": "no-redeclare",
        "severity": 2,
        "message": "'personnelCost' is already defined.",
        "line": 279,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "redeclared",
        "endLine": 279,
        "endColumn": 24
      },
      {
        "ruleId": "no-redeclare",
        "severity": 2,
        "message": "'indirectCost' is already defined.",
        "line": 285,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "redeclared",
        "endLine": 285,
        "endColumn": 23
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 313,
        "column": 16,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 313,
        "endColumn": 87
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 320,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 320,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10155, 10158], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10155, 10158], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 360,
        "column": 16,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 360,
        "endColumn": 85
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 367,
        "column": 44,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 367,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11478, 11481], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11478, 11481], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 446,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 446,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14068, 14071], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14068, 14071], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 483,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 483,
        "endColumn": 125
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'runAutoValidationAndFix' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 493,
        "column": 16,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 493,
        "endColumn": 39
      }
    ],
    "suppressedMessages": [],
    "errorCount": 10,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { formatDateForAPI } from '$lib/utils/date-calculator'\nimport { calculateBudgetAllocation } from '$lib/utils/salary-calculator'\nimport { json } from '@sveltejs/kit'\nimport { Pool } from 'pg'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nconst pool = new Pool({\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: { rejectUnauthorized: false }\n})\n\ninterface ProjectCreationRequest {\n  name: string\n  description: string\n  startDate: string\n  endDate: string\n  totalBudget: number\n  annualPeriods: {\n    periodNumber: number\n    startDate: string\n    endDate: string\n    budget: number\n  }[]\n  budgetCategories: {\n    name: string\n    percentage: number\n  }[]\n  members: {\n    employeeId: string\n    role: string\n    participationRate: number\n    monthlyAmount: number\n    startDate: string\n    endDate: string\n  }[]\n  evidenceSettings: {\n    autoGenerate: boolean\n    namingConvention: string\n  }\n}\n\nexport const POST: RequestHandler = async ({ request }) => {\n  const client = await pool.connect()\n\n  try {\n    logger.log('üöÄ [1Îã®Í≥Ñ] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏöîÏ≤≠ ÏãúÏûë')\n\n    const data: ProjectCreationRequest = await request.json()\n    logger.log('üìã [1Îã®Í≥Ñ] ÏöîÏ≤≠ Îç∞Ïù¥ÌÑ∞:', JSON.stringify(data, null, 2))\n\n    // ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù\n    logger.log('üîç [2Îã®Í≥Ñ] ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÏãúÏûë')\n    const validationResult = await validateProjectData(data)\n    if (!validationResult.isValid) {\n      logger.log('‚ùå [2Îã®Í≥Ñ] Í≤ÄÏ¶ù Ïã§Ìå®:', validationResult.errors)\n      return json({ success: false, errors: validationResult.errors }, { status: 400 })\n    }\n    logger.log('‚úÖ [2Îã®Í≥Ñ] ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÏôÑÎ£å')\n\n    await client.query('BEGIN')\n    logger.log('üîÑ [3Îã®Í≥Ñ] Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ìä∏ÎûúÏû≠ÏÖò ÏãúÏûë')\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±\n    logger.log('üìù [4Îã®Í≥Ñ] ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏÉùÏÑ±')\n    const projectId = await createProject(client, data)\n    logger.log(`‚úÖ [4Îã®Í≥Ñ] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏôÑÎ£å - ID: ${projectId}`)\n\n    // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ±\n    logger.log('üí∞ [5Îã®Í≥Ñ] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ±')\n    const budgetIds = await createProjectBudgets(client, projectId, data)\n    logger.log(`‚úÖ [5Îã®Í≥Ñ] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ± ÏôÑÎ£å - ${budgetIds.length}Í∞ú Ïó∞Ï∞®`)\n\n    // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ±\n    logger.log('üë• [6Îã®Í≥Ñ] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ±')\n    const memberIds = await createProjectMembers(client, projectId, data)\n    logger.log(`‚úÖ [6Îã®Í≥Ñ] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ± ÏôÑÎ£å - ${memberIds.length}Î™Ö`)\n\n    // Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± (ÏÑ§Ï†ïÎêú Í≤ΩÏö∞)\n    if (data.evidenceSettings.autoGenerate) {\n      logger.log('üìÑ [7Îã®Í≥Ñ] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ±')\n      const evidenceIds = await createEvidenceItems(client, projectId, data)\n      logger.log(`‚úÖ [7Îã®Í≥Ñ] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± ÏôÑÎ£å - ${evidenceIds.length}Í∞ú Ìï≠Î™©`)\n    } else {\n      logger.log('‚è≠Ô∏è [7Îã®Í≥Ñ] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± Í±¥ÎÑàÎúÄ (ÏÑ§Ï†ï ÎπÑÌôúÏÑ±Ìôî)')\n    }\n\n    // Í≤ÄÏ¶ù Î°úÏßÅ Ïã§Ìñâ\n    logger.log('üîç [8Îã®Í≥Ñ] ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù')\n    const finalValidation = await validateCreatedProject(client, projectId)\n    if (!finalValidation.isValid) {\n      logger.log('‚ùå [8Îã®Í≥Ñ] ÏµúÏ¢Ö Í≤ÄÏ¶ù Ïã§Ìå®:', finalValidation.errors)\n      await client.query('ROLLBACK')\n      return json({ success: false, errors: finalValidation.errors }, { status: 400 })\n    }\n    logger.log('‚úÖ [8Îã®Í≥Ñ] ÏµúÏ¢Ö Í≤ÄÏ¶ù ÏôÑÎ£å')\n\n    // ÏûêÎèô Í≤ÄÏ¶ù Î∞è ÏàòÏ†ï Ïã§Ìñâ (ÏùºÏãúÏ†ÅÏúºÎ°ú ÎπÑÌôúÏÑ±Ìôî)\n    logger.log('‚è≠Ô∏è [9Îã®Í≥Ñ] ÏûêÎèô Í≤ÄÏ¶ù Îã®Í≥Ñ Í±¥ÎÑàÎúÄ (Í∞úÎ∞ú Ï§ë)')\n    const autoValidationResult = {\n      success: true,\n      results: [],\n      errors: [],\n      fixedIssues: 0\n    }\n\n    await client.query('COMMIT')\n    logger.log('‚úÖ [10Îã®Í≥Ñ] Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ìä∏ÎûúÏû≠ÏÖò Ïª§Î∞ã ÏôÑÎ£å')\n\n    const result = {\n      success: true,\n      projectId,\n      budgetIds,\n      memberIds,\n      evidenceIds: data.evidenceSettings.autoGenerate\n        ? await createEvidenceItems(client, projectId, data)\n        : [],\n      validation: finalValidation,\n      autoValidation: autoValidationResult\n    }\n\n    logger.log('üéâ [ÏôÑÎ£å] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏÑ±Í≥µ:', result)\n    return json(result)\n  } catch (error) {\n    logger.error('üí• [Ïò§Î•ò] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ï§ë Ïò§Î•ò Î∞úÏÉù:', error)\n    await client.query('ROLLBACK')\n    return json({ success: false, error: error.message }, { status: 500 })\n  } finally {\n    client.release()\n  }\n}\n\n// ÏûÖÎ†• Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Ìï®Ïàò\nasync function validateProjectData(data: ProjectCreationRequest) {\n  const errors: string[] = []\n\n  logger.log('üîç [Í≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Í≤ÄÏ¶ù')\n  if (!data.name || data.name.trim().length === 0) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏Î™ÖÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  if (!data.startDate || !data.endDate) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûëÏùºÍ≥º Ï¢ÖÎ£åÏùºÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  // UTC Í∏∞Ï§ÄÏúºÎ°ú ÎÇ†Ïßú ÎπÑÍµê\n  const startUtc = new Date(data.startDate + 'T00:00:00.000Z')\n  const endUtc = new Date(data.endDate + 'T23:59:59.999Z')\n  if (startUtc >= endUtc) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏ Ï¢ÖÎ£åÏùºÏùÄ ÏãúÏûëÏùºÎ≥¥Îã§ Îä¶Ïñ¥Ïïº Ìï©ÎãàÎã§.')\n  }\n\n  logger.log('üîç [Í≤ÄÏ¶ù] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Í≤ÄÏ¶ù')\n  if (!data.annualPeriods || data.annualPeriods.length === 0) {\n    errors.push('Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ï†ïÎ≥¥Îäî ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ Í≤ÄÏ¶ù\n  const totalBudgetFromPeriods = data.annualPeriods.reduce((sum, period) => sum + period.budget, 0)\n  if (Math.abs(totalBudgetFromPeriods - data.totalBudget) > 1000) {\n    // 1000Ïõê ÌóàÏö© Ïò§Ï∞®\n    errors.push(\n      `Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ(${totalBudgetFromPeriods.toLocaleString()}Ïõê)ÏôÄ Ï¥ù ÏòàÏÇ∞(${data.totalBudget.toLocaleString()}Ïõê)Ïù¥ ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`\n    )\n  }\n\n  logger.log('üîç [Í≤ÄÏ¶ù] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù')\n  if (!data.members || data.members.length === 0) {\n    errors.push('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï†ïÎ≥¥Îäî ÌïÑÏàòÏûÖÎãàÎã§.')\n  }\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n  for (const member of data.members) {\n    if (member.participationRate <= 0 || member.participationRate > 100) {\n      errors.push(`${member.employeeId}Ïùò Ï∞∏Ïó¨Ïú®ÏùÄ 0% Ï¥àÍ≥º 100% Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§.`)\n    }\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï∞∏Ïó¨Ïú® Ìï©Í≥Ñ Í≤ÄÏ¶ù\n  for (const period of data.annualPeriods) {\n    // UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö©Îêú ÎÇ†Ïßú ÎπÑÍµê\n    const periodStartUtc = new Date(period.startDate + 'T00:00:00.000Z')\n    const periodEndUtc = new Date(period.endDate + 'T23:59:59.999Z')\n\n    const periodMembers = data.members.filter(member => {\n      const memberStartUtc = new Date(member.startDate + 'T00:00:00.000Z')\n      const memberEndUtc = new Date(member.endDate + 'T23:59:59.999Z')\n      return memberStartUtc <= periodEndUtc && memberEndUtc >= periodStartUtc\n    })\n\n    const totalParticipationRate = periodMembers.reduce(\n      (sum, member) => sum + member.participationRate,\n      0\n    )\n    if (totalParticipationRate > 100) {\n      errors.push(\n        `${period.periodNumber}Ï∞®ÎÖÑÎèÑ Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Ï∞∏Ïó¨Ïú® Ìï©Í≥Ñ(${totalParticipationRate}%)Í∞Ä 100%Î•º Ï¥àÍ≥ºÌï©ÎãàÎã§.`\n      )\n    }\n  }\n\n  return { isValid: errors.length === 0, errors }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ìï®Ïàò\nasync function createProject(client: any, data: ProjectCreationRequest) {\n  logger.log('üìù [ÏÉùÏÑ±] ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏÇΩÏûÖ')\n\n  const projectQuery = `\n    INSERT INTO projects (\n      code, title, description, start_date, end_date, budget_total, \n      status, created_at, updated_at\n    ) VALUES ($1, $2, $3, $4, $5, $6, 'active', NOW(), NOW())\n    RETURNING id\n  `\n\n  const result = await client.query(projectQuery, [\n    `PRJ-${Date.now()}`, // ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú ÏûêÎèô ÏÉùÏÑ±\n    data.name,\n    data.description,\n    data.startDate,\n    data.endDate,\n    data.totalBudget\n  ])\n\n  const projectId = result.rows[0].id\n  logger.log(`üìù [ÏÉùÏÑ±] ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏôÑÎ£å - ID: ${projectId}`)\n\n  return projectId\n}\n\n// Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÉùÏÑ± Ìï®Ïàò\nasync function createProjectBudgets(client: any, projectId: string, data: ProjectCreationRequest) {\n  logger.log('üí∞ [ÏÉùÏÑ±] Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÏÇΩÏûÖ ÏãúÏûë')\n\n  const budgetIds: string[] = []\n\n  for (const period of data.annualPeriods) {\n    logger.log(`üí∞ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ÏòàÏÇ∞ ÏÉùÏÑ±`)\n\n    // ÏòàÏÇ∞ Ìï≠Î™©Î≥Ñ Î∞∞Î∂Ñ Í≥ÑÏÇ∞ - Ï§ëÏïôÌôîÎêú Ìï®Ïàò ÏÇ¨Ïö©\n    const personnelCost = calculateBudgetAllocation(\n      period.budget,\n      data.budgetCategories.find(c => c.name === 'Ïù∏Í±¥ÎπÑ')?.percentage || 0\n    )\n    const materialCost = calculateBudgetAllocation(\n      period.budget,\n      data.budgetCategories.find(c => c.name === 'Ïû¨Î£åÎπÑ')?.percentage || 0\n    )\n    const activityCost = calculateBudgetAllocation(\n      period.budget,\n      data.budgetCategories.find(c => c.name === 'Ïó∞Íµ¨ÌôúÎèôÎπÑ')?.percentage || 0\n    )\n    const indirectCost = calculateBudgetAllocation(\n      period.budget,\n      data.budgetCategories.find(c => c.name === 'Í∞ÑÏ†ëÎπÑ')?.percentage || 0\n    )\n\n    const budgetQuery = `\n      INSERT INTO project_budgets (\n        project_id, period_number, start_date, end_date,\n        personnel_cost, research_material_cost, research_activity_cost, research_stipend, indirect_cost,\n        personnel_cost_cash, personnel_cost_in_kind,\n        research_material_cost_cash, research_material_cost_in_kind,\n        research_activity_cost_cash, research_activity_cost_in_kind,\n        research_stipend_cash, research_stipend_in_kind,\n        indirect_cost_cash, indirect_cost_in_kind,\n        government_funding_amount, company_cash_amount, company_in_kind_amount,\n        created_at, updated_at\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, NOW(), NOW())\n      RETURNING id\n    `\n\n    // Í∞Å ÎπÑÎ™©Ïùò Ï¥ùÌï© Í≥ÑÏÇ∞ (ÌòÑÍ∏à + ÌòÑÎ¨º)\n    const personnelCost = (period.personnelCostCash || 0) + (period.personnelCostInKind || 0)\n    const researchMaterialCost =\n      (period.researchMaterialCostCash || 0) + (period.researchMaterialCostInKind || 0)\n    const researchActivityCost =\n      (period.researchActivityCostCash || 0) + (period.researchActivityCostInKind || 0)\n    const researchStipend = (period.researchStipendCash || 0) + (period.researchStipendInKind || 0)\n    const indirectCost = (period.indirectCostCash || 0) + (period.indirectCostInKind || 0)\n\n    const result = await client.query(budgetQuery, [\n      projectId,\n      period.periodNumber,\n      period.startDate,\n      period.endDate,\n      personnelCost,\n      researchMaterialCost,\n      researchActivityCost,\n      researchStipend,\n      indirectCost,\n      period.personnelCostCash || 0,\n      period.personnelCostInKind || 0,\n      period.researchMaterialCostCash || 0,\n      period.researchMaterialCostInKind || 0,\n      period.researchActivityCostCash || 0,\n      period.researchActivityCostInKind || 0,\n      period.researchStipendCash || 0,\n      period.researchStipendInKind || 0,\n      period.indirectCostCash || 0,\n      period.indirectCostInKind || 0,\n      period.governmentFundingAmount || 0,\n      period.companyCashAmount || 0,\n      period.companyInKindAmount || 0\n    ])\n\n    budgetIds.push(result.rows[0].id)\n    logger.log(`üí∞ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ÏòàÏÇ∞ ÏÉùÏÑ± ÏôÑÎ£å - ID: ${result.rows[0].id}`)\n  }\n\n  return budgetIds\n}\n\n// Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÉùÏÑ± Ìï®Ïàò\nasync function createProjectMembers(client: any, projectId: string, data: ProjectCreationRequest) {\n  logger.log('üë• [ÏÉùÏÑ±] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏÇΩÏûÖ ÏãúÏûë')\n\n  const memberIds: string[] = []\n\n  for (const member of data.members) {\n    logger.log(`üë• [ÏÉùÏÑ±] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ${member.employeeId} Îì±Î°ù`)\n\n    // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÎÇ†ÏßúÎ•º UTC Í∏∞Ï§ÄÏúºÎ°ú Î≥ÄÌôòÌïòÏó¨ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ÄÏû•\n    const formatMemberDateToUtc = (dateStr: string) => {\n      if (!dateStr) return null\n\n      try {\n        // Ï§ëÏïôÌôîÎêú ÎÇ†Ïßú Î≥ÄÌôò Ìï®Ïàò ÏÇ¨Ïö© (UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö©)\n        return formatDateForAPI(dateStr)\n      } catch (error) {\n        logger.error('Date conversion error:', error)\n        return null\n      }\n    }\n\n    const memberQuery = `\n      INSERT INTO project_members (\n        project_id, employee_id, role, participation_rate, monthly_amount,\n        start_date, end_date, created_at, updated_at\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, NOW(), NOW())\n      RETURNING id\n    `\n\n    const result = await client.query(memberQuery, [\n      projectId,\n      member.employeeId,\n      member.role,\n      member.participationRate,\n      member.monthlyAmount,\n      formatMemberDateToUtc(member.startDate),\n      formatMemberDateToUtc(member.endDate)\n    ])\n\n    memberIds.push(result.rows[0].id)\n    logger.log(`üë• [ÏÉùÏÑ±] Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ${member.employeeId} Îì±Î°ù ÏôÑÎ£å - ID: ${result.rows[0].id}`)\n  }\n\n  return memberIds\n}\n\n// Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± Ìï®Ïàò\nasync function createEvidenceItems(client: any, projectId: string, data: ProjectCreationRequest) {\n  logger.log('üìÑ [ÏÉùÏÑ±] Ï¶ùÎπô Ìï≠Î™© ÏûêÎèô ÏÉùÏÑ± ÏãúÏûë')\n\n  const evidenceIds: string[] = []\n\n  // Í∞Å Ïó∞Ï∞®Î≥ÑÎ°ú Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±\n  for (const period of data.annualPeriods) {\n    logger.log(`üìÑ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±`)\n\n    // Ìï¥Îãπ Ïó∞Ï∞®Ïùò ÏòàÏÇ∞ ID Ï°∞Ìöå\n    const budgetResult = await client.query(\n      'SELECT id FROM project_budgets WHERE project_id = $1 AND period_number = $2',\n      [projectId, period.periodNumber]\n    )\n\n    if (budgetResult.rows.length === 0) {\n      logger.log(`‚ùå [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ÏòàÏÇ∞ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`)\n      continue\n    }\n\n    const projectBudgetId = budgetResult.rows[0].id\n\n    // ÏòàÏÇ∞ Ìï≠Î™©Î≥ÑÎ°ú Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ±\n    for (const category of data.budgetCategories) {\n      if (category.percentage > 0) {\n        // Ïπ¥ÌÖåÍ≥†Î¶¨ ID Ï°∞Ìöå (Í∏∞Î≥∏ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÇ¨Ïö©)\n        const categoryResult = await client.query(\n          'SELECT id FROM evidence_categories WHERE name = $1 LIMIT 1',\n          [category.name]\n        )\n\n        let categoryId = null\n        if (categoryResult.rows.length > 0) {\n          categoryId = categoryResult.rows[0].id\n        } else {\n          // Ïπ¥ÌÖåÍ≥†Î¶¨Í∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÉùÏÑ±\n          const createCategoryResult = await client.query(\n            'INSERT INTO evidence_categories (name, description) VALUES ($1, $2) RETURNING id',\n            [category.name, `${category.name} Ï¶ùÎπô Ìï≠Î™©`]\n          )\n          categoryId = createCategoryResult.rows[0].id\n        }\n\n        const evidenceQuery = `\n          INSERT INTO evidence_items (\n            project_budget_id, category_id, name, budget_amount, spent_amount,\n            status, due_date, created_at, updated_at\n          ) VALUES ($1, $2, $3, $4, 0, 'planned', $5, NOW(), NOW())\n          RETURNING id\n        `\n\n        // UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö©Îêú Ïó∞Ï∞® Ï¢ÖÎ£å ÌõÑ 1Í∞úÏõî Í≥ÑÏÇ∞\n        const periodEndUtc = new Date(period.endDate + 'T23:59:59.999Z')\n        const dueDate = new Date(periodEndUtc)\n        dueDate.setUTCMonth(dueDate.getUTCMonth() + 1) // Ïó∞Ï∞® Ï¢ÖÎ£å ÌõÑ 1Í∞úÏõî\n\n        // Ï§ëÏïôÌôîÎêú ÎÇ†Ïßú Î≥ÄÌôò Ìï®Ïàò ÏÇ¨Ïö© (UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö©)\n        const formattedDueDate = formatDateForAPI(dueDate)\n\n        const result = await client.query(evidenceQuery, [\n          projectBudgetId,\n          categoryId,\n          `${category.name} Ï¶ùÎπô`,\n          calculateBudgetAllocation(period.budget, category.percentage),\n          formattedDueDate\n        ])\n\n        evidenceIds.push(result.rows[0].id)\n        logger.log(\n          `üìÑ [ÏÉùÏÑ±] ${period.periodNumber}Ï∞®ÎÖÑÎèÑ ${category.name} Ï¶ùÎπô Ìï≠Î™© ÏÉùÏÑ± ÏôÑÎ£å - ID: ${result.rows[0].id}`\n        )\n      }\n    }\n  }\n\n  return evidenceIds\n}\n\n// ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Ìï®Ïàò\nasync function validateCreatedProject(client: any, projectId: string) {\n  logger.log('üîç [Í≤ÄÏ¶ù] ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÏãúÏûë')\n\n  const errors: string[] = []\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ ÌôïÏù∏\n  const projectResult = await client.query('SELECT * FROM projects WHERE id = $1', [projectId])\n  if (projectResult.rows.length === 0) {\n    errors.push('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n  }\n\n  // Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ ÌôïÏù∏\n  const budgetResult = await client.query(\n    'SELECT * FROM project_budgets WHERE project_id = $1 ORDER BY period_number',\n    [projectId]\n  )\n  if (budgetResult.rows.length === 0) {\n    errors.push('Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞Ïù¥ ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n  }\n\n  // Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÌôïÏù∏\n  const memberResult = await client.query('SELECT * FROM project_members WHERE project_id = $1', [\n    projectId\n  ])\n  if (memberResult.rows.length === 0) {\n    errors.push('Ï∞∏Ïó¨Ïó∞Íµ¨ÏõêÏù¥ Îì±Î°ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n  }\n\n  // ÏòàÏÇ∞ Ìï©Í≥Ñ Í≤ÄÏ¶ù\n  const totalBudgetFromDB = budgetResult.rows.reduce(\n    (sum, budget) => sum + parseFloat(budget.total_budget),\n    0\n  )\n  const projectBudget = parseFloat(projectResult.rows[0].budget_total)\n\n  if (Math.abs(totalBudgetFromDB - projectBudget) > 1000) {\n    errors.push(\n      `Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïùò Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ(${totalBudgetFromDB.toLocaleString()}Ïõê)ÏôÄ ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞(${projectBudget.toLocaleString()}Ïõê)Ïù¥ ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`\n    )\n  }\n\n  logger.log('üîç [Í≤ÄÏ¶ù] ÏÉùÏÑ±Îêú ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù ÏôÑÎ£å')\n\n  return { isValid: errors.length === 0, errors }\n}\n\n// ÏûêÎèô Í≤ÄÏ¶ù Î∞è ÏàòÏ†ï Ïã§Ìñâ Ìï®Ïàò\nasync function runAutoValidationAndFix(projectId: string) {\n  try {\n    logger.log('üõ°Ô∏è [ÏûêÎèôÍ≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Î£∞ Ïã§Ìñâ ÏãúÏûë')\n\n    // Í∞ÑÎã®Ìïú Í≤ÄÏ¶ù API Ìò∏Ï∂ú\n    const response = await fetch(`http://localhost:5173/api/project-management/simple-validation`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        projectId: projectId\n      })\n    })\n\n    if (!response.ok) {\n      throw new Error(`Í≤ÄÏ¶ù API Ìò∏Ï∂ú Ïã§Ìå®: ${response.status}`)\n    }\n\n    const result = await response.json()\n    logger.log('üõ°Ô∏è [ÏûêÎèôÍ≤ÄÏ¶ù] Í≤ÄÏ¶ù Î£∞ Ïã§Ìñâ ÏôÑÎ£å:', result)\n\n    return result\n  } catch (error) {\n    logger.error('üí• [ÏûêÎèôÍ≤ÄÏ¶ù] Ïò§Î•ò:', error)\n    return {\n      success: false,\n      errors: [error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'],\n      fixedIssues: 0\n    }\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/employees/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/employees/[id]/contract/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence-categories/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence-documents/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence-items/[id]/update-name/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence-items/validate-employment/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 90,
        "column": 47,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 90,
        "endColumn": 76
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 98,
        "column": 45,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 98,
        "endColumn": 67
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 112,
        "column": 17,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 112,
        "endColumn": 172
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 112,
        "column": 49,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 112,
        "endColumn": 78
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 112,
        "column": 116,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 112,
        "endColumn": 143
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 118,
        "column": 17,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 118,
        "endColumn": 172
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 118,
        "column": 49,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 118,
        "endColumn": 78
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 118,
        "column": 116,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 118,
        "endColumn": 143
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 126,
        "column": 42,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 126,
        "endColumn": 71
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 151,
        "column": 15,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 151,
        "endColumn": 60
      }
    ],
    "suppressedMessages": [],
    "errorCount": 10,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { formatDateForDisplay } from '$lib/utils/date-handler'\nimport { json } from '@sveltejs/kit'\nimport { Pool } from 'pg'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nconst pool = new Pool({\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: { rejectUnauthorized: false }\n})\n\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { assigneeId, dueDate, projectBudgetId } = await request.json()\n\n    if (!assigneeId || !dueDate || !projectBudgetId) {\n      return json({ error: 'Îã¥ÎãπÏûê ID, Í∏∞Ìïú, ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n    }\n\n    // Îã¥ÎãπÏûêÏùò Ïû¨ÏßÅ Ï†ïÎ≥¥ Ï°∞Ìöå\n    const employeeResult = await pool.query(\n      `\n\t\t\tSELECT \n\t\t\t\tid,\n\t\t\t\tfirst_name,\n\t\t\t\tlast_name,\n\t\t\t\thire_date,\n\t\t\t\ttermination_date,\n\t\t\t\tstatus\n\t\t\tFROM employees \n\t\t\tWHERE id = $1\n\t\t`,\n      [assigneeId]\n    )\n\n    if (employeeResult.rows.length === 0) {\n      return json({\n        success: false,\n        error: 'EMPLOYEE_NOT_FOUND',\n        message: 'Îã¥Îãπ ÏßÅÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n      })\n    }\n\n    const employee = employeeResult.rows[0]\n    const dueDateObj = new Date(dueDate)\n    const hireDate = employee.hire_date ? new Date(employee.hire_date) : null\n    const terminationDate = employee.termination_date ? new Date(employee.termination_date) : null\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ Í∏∞Í∞Ñ Ï°∞Ìöå\n    const budgetResult = await pool.query(\n      `\n\t\t\tSELECT \n\t\t\t\tstart_date,\n\t\t\t\tend_date,\n\t\t\t\tperiod_number,\n\t\t\t\tfiscal_year\n\t\t\tFROM project_budgets \n\t\t\tWHERE id = $1\n\t\t`,\n      [projectBudgetId]\n    )\n\n    if (budgetResult.rows.length === 0) {\n      return json({\n        success: false,\n        error: 'BUDGET_NOT_FOUND',\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n      })\n    }\n\n    const budget = budgetResult.rows[0]\n    const periodStartDate = new Date(budget.start_date)\n    const periodEndDate = new Date(budget.end_date)\n\n    // Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù\n    let isValid = true\n    let reason = 'VALID'\n    let message = 'Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Ïú†Ìö®Ìï©ÎãàÎã§.'\n    const warnings = []\n\n    // 1. Ìá¥ÏÇ¨Ìïú ÏßÅÏõêÏù∏ÏßÄ ÌôïÏù∏\n    if (employee.status === 'terminated' || terminationDate) {\n      if (terminationDate && dueDateObj > terminationDate) {\n        isValid = false\n        reason = 'TERMINATED_BEFORE_DUE_DATE'\n        message = `Ìá¥ÏÇ¨Ïùº(${formatDateForDisplay(terminationDate.toISOString(), 'KOREAN')}) Ïù¥ÌõÑÏóê Ïù∏Í±¥ÎπÑÎ•º ÏßëÌñâÌï† Ïàò ÏóÜÏäµÎãàÎã§.`\n      }\n    }\n\n    // 2. ÏûÖÏÇ¨ Ï†ÑÏóê Ïù∏Í±¥ÎπÑÍ∞Ä ÏßëÌñâÎêòÏóàÎäîÏßÄ ÌôïÏù∏\n    if (hireDate && dueDateObj < hireDate) {\n      isValid = false\n      reason = 'HIRED_AFTER_DUE_DATE'\n      message = `ÏûÖÏÇ¨Ïùº(${formatDateForDisplay(hireDate.toISOString(), 'KOREAN')}) Ïù¥Ï†ÑÏóê Ïù∏Í±¥ÎπÑÎ•º ÏßëÌñâÌï† Ïàò ÏóÜÏäµÎãàÎã§.`\n    }\n\n    // 3. ÌòÑÏû¨ ÎπÑÌôúÏÑ± ÏÉÅÌÉúÏù∏ ÏßÅÏõêÏù∏ÏßÄ ÌôïÏù∏\n    if (employee.status === 'inactive') {\n      isValid = false\n      reason = 'INACTIVE_EMPLOYEE'\n      message = 'ÎπÑÌôúÏÑ± ÏÉÅÌÉúÏù∏ ÏßÅÏõêÏóêÍ≤å Ïù∏Í±¥ÎπÑÎ•º ÏßëÌñâÌï† Ïàò ÏóÜÏäµÎãàÎã§.'\n    }\n\n    // 4. ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞ÑÍ≥º Ïû¨ÏßÅ Í∏∞Í∞ÑÏù¥ Í≤πÏπòÎäîÏßÄ ÌôïÏù∏\n    if (hireDate && periodEndDate < hireDate) {\n      isValid = false\n      reason = 'HIRED_AFTER_PROJECT_PERIOD'\n      message = `ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ(${formatDateForDisplay(periodStartDate.toISOString(), 'KOREAN')} ~ ${formatDateForDisplay(periodEndDate.toISOString(), 'KOREAN')}) Ïù¥ÌõÑÏóê ÏûÖÏÇ¨Ìïú ÏßÅÏõêÏûÖÎãàÎã§.`\n    }\n\n    if (terminationDate && periodStartDate > terminationDate) {\n      isValid = false\n      reason = 'TERMINATED_BEFORE_PROJECT_PERIOD'\n      message = `ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ(${formatDateForDisplay(periodStartDate.toISOString(), 'KOREAN')} ~ ${formatDateForDisplay(periodEndDate.toISOString(), 'KOREAN')}) Ïù¥Ï†ÑÏóê Ìá¥ÏÇ¨Ìïú ÏßÅÏõêÏûÖÎãàÎã§.`\n    }\n\n    // 5. Í≤ΩÍ≥†ÏÇ¨Ìï≠ Ï≤¥ÌÅ¨ (Ïú†Ìö®ÌïòÏßÄÎßå Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌïú Í≤ΩÏö∞)\n    if (isValid) {\n      // Ìá¥ÏÇ¨ ÏòàÏ†ïÏù∏ ÏßÅÏõê\n      if (terminationDate && dueDateObj > terminationDate) {\n        warnings.push(\n          `Ìá¥ÏÇ¨ ÏòàÏ†ïÏùº(${formatDateForDisplay(terminationDate.toISOString(), 'KOREAN')}) Ïù¥ÌõÑÏùò Ïù∏Í±¥ÎπÑÏûÖÎãàÎã§.`\n        )\n      }\n\n      // ÏûÖÏÇ¨Ìïú ÏßÄ ÏñºÎßà Ïïà Îêú ÏßÅÏõê\n      if (hireDate) {\n        const daysSinceHire = Math.floor(\n          (dueDateObj.getTime() - hireDate.getTime()) / (1000 * 60 * 60 * 24)\n        )\n        if (daysSinceHire < 30) {\n          warnings.push(`ÏûÖÏÇ¨Ìïú ÏßÄ ${daysSinceHire}ÏùºÎ∞ñÏóê Ïïà Îêú ÏßÅÏõêÏûÖÎãàÎã§.`)\n        }\n      }\n    }\n\n    return json({\n      success: true,\n      validation: {\n        isValid,\n        reason,\n        message,\n        warnings\n      },\n      employee: {\n        id: employee.id,\n        name: `${employee.last_name}${employee.first_name}`,\n        hireDate: employee.hire_date,\n        terminationDate: employee.termination_date,\n        status: employee.status\n      },\n      projectPeriod: {\n        startDate: budget.start_date,\n        endDate: budget.end_date,\n        periodNumber: budget.period_number,\n        fiscalYear: budget.fiscal_year\n      },\n      dueDate: dueDate\n    })\n  } catch (error) {\n    logger.error('Employment validation error:', error)\n    return json(\n      {\n        success: false,\n        error: 'VALIDATION_ERROR',\n        message: 'Ïû¨ÏßÅ Í∏∞Í∞Ñ Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence-schedules/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence-types/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/evidence/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 170,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 170,
        "endColumn": 54
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 189,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 194,
        "endColumn": 4
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'updatedItem' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 198,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 198,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Í∞úÎ≥Ñ Ï¶ùÎπô Ìï≠Î™© API\n// Individual Evidence Item API\n\nimport { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// Ï¶ùÎπô Ìï≠Î™© ÏÉÅÏÑ∏ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const { id } = params\n\n    // Ï¶ùÎπô Ìï≠Î™© ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Ï°∞Ìöå\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tei.*,\n\t\t\t\tec.name as category_name,\n\t\t\t\tCONCAT(e.last_name, e.first_name) as assignee_full_name,\n\t\t\t\tpb.period_number,\n\t\t\t\tpb.fiscal_year,\n\t\t\t\tpb.personnel_cost_cash,\n\t\t\t\tpb.personnel_cost_in_kind,\n\t\t\t\tpb.research_material_cost_cash,\n\t\t\t\tpb.research_material_cost_in_kind,\n\t\t\t\tpb.research_activity_cost_cash,\n\t\t\t\tpb.research_activity_cost_in_kind,\n\t\t\t\tpb.indirect_cost_cash,\n\t\t\t\tpb.indirect_cost_in_kind\n\t\t\tFROM evidence_items ei\n\t\t\tJOIN evidence_categories ec ON ei.category_id = ec.id\n\t\t\tLEFT JOIN employees e ON ei.assignee_id = e.id\n\t\t\tLEFT JOIN project_budgets pb ON ei.project_budget_id = pb.id\n\t\t\tWHERE ei.id = $1\n\t\t`,\n      [id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'Ï¶ùÎπô Ìï≠Î™©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const evidenceItem = result.rows[0]\n\n    // Ï¶ùÎπô ÏÑúÎ•ò Î™©Î°ù Ï°∞Ìöå\n    const documentsResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\ted.*,\n\t\t\t\tuploader.first_name || ' ' || uploader.last_name as uploader_name,\n\t\t\t\treviewer.first_name || ' ' || reviewer.last_name as reviewer_name\n\t\t\tFROM evidence_documents ed\n\t\t\tLEFT JOIN employees uploader ON ed.uploader_id = uploader.id\n\t\t\tLEFT JOIN employees reviewer ON ed.reviewer_id = reviewer.id\n\t\t\tWHERE ed.evidence_item_id = $1\n\t\t\tORDER BY ed.upload_date DESC\n\t\t`,\n      [id]\n    )\n\n    // Ï¶ùÎπô ÏùºÏ†ï Î™©Î°ù Ï°∞Ìöå\n    const schedulesResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tes.*,\n\t\t\t\tCONCAT(assignee.last_name, assignee.first_name) as assignee_name\n\t\t\tFROM evidence_schedules es\n\t\t\tLEFT JOIN employees assignee ON es.assignee_id = assignee.id\n\t\t\tWHERE es.evidence_item_id = $1\n\t\t\tORDER BY es.due_date ASC\n\t\t`,\n      [id]\n    )\n\n    // Ï¶ùÎπô Í≤ÄÌÜ† Ïù¥Î†• Ï°∞Ìöå\n    const reviewHistoryResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\terh.*,\n\t\t\t\treviewer.first_name || ' ' || reviewer.last_name as reviewer_name\n\t\t\tFROM evidence_review_history erh\n\t\t\tLEFT JOIN employees reviewer ON erh.reviewer_id = reviewer.id\n\t\t\tWHERE erh.evidence_item_id = $1\n\t\t\tORDER BY erh.reviewed_at DESC\n\t\t`,\n      [id]\n    )\n\n    return json({\n      success: true,\n      data: {\n        ...evidenceItem,\n        documents: documentsResult.rows,\n        schedules: schedulesResult.rows,\n        reviewHistory: reviewHistoryResult.rows\n      }\n    })\n  } catch (error) {\n    logger.error('Ï¶ùÎπô Ìï≠Î™© Ï°∞Ìöå Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'Ï¶ùÎπô Ìï≠Î™© Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Ï¶ùÎπô Ìï≠Î™© ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const { id } = params\n    const data = await request.json()\n    const {\n      name,\n      description,\n      budgetAmount,\n      spentAmount,\n      assigneeId,\n      assigneeName,\n      progress,\n      status,\n      dueDate,\n      startDate,\n      endDate\n    } = data\n\n    // Ï¶ùÎπô Ìï≠Î™© Ï°¥Ïû¨ ÌôïÏù∏\n    const existingItem = await query('SELECT id FROM evidence_items WHERE id = $1', [id])\n    if (existingItem.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'Ï¶ùÎπô Ìï≠Î™©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // ÏóÖÎç∞Ïù¥Ìä∏Ìï† ÌïÑÎìúÎì§ ÎèôÏ†Å ÏÉùÏÑ±\n    const updateFields = []\n    const updateValues = []\n    let paramIndex = 1\n\n    const fieldsToUpdate = {\n      name,\n      description,\n      budget_amount: budgetAmount,\n      spent_amount: spentAmount,\n      assignee_id: assigneeId,\n      assignee_name: assigneeName,\n      progress,\n      status,\n      due_date: dueDate,\n      start_date: startDate,\n      end_date: endDate\n    }\n\n    Object.entries(fieldsToUpdate).forEach(([key, value]) => {\n      if (value !== undefined) {\n        updateFields.push(`${key} = $${paramIndex++}`)\n        updateValues.push(value)\n      }\n    })\n\n    if (updateFields.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÏàòÏ†ïÌï† Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    updateFields.push(`updated_at = CURRENT_TIMESTAMP`)\n    updateValues.push(id) // Add id as the last parameter for WHERE clause\n\n    const result = await query(\n      `\n\t\t\tUPDATE evidence_items \n\t\t\tSET ${updateFields.join(', ')}\n\t\t\tWHERE id = $${paramIndex}\n\t\t\tRETURNING *\n\t\t`,\n      updateValues\n    )\n\n    const updatedItem = result.rows[0]\n\n    // ÏóÖÎç∞Ïù¥Ìä∏Îêú Ï¶ùÎπô Ìï≠Î™©Ïùò ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Ï°∞Ìöå\n    const detailResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tei.*,\n\t\t\t\tec.name as category_name,\n\t\t\t\tCONCAT(e.last_name, e.first_name) as assignee_full_name,\n\t\t\t\tpb.period_number,\n\t\t\t\tpb.fiscal_year\n\t\t\tFROM evidence_items ei\n\t\t\tJOIN evidence_categories ec ON ei.category_id = ec.id\n\t\t\tLEFT JOIN employees e ON ei.assignee_id = e.id\n\t\t\tLEFT JOIN project_budgets pb ON ei.project_budget_id = pb.id\n\t\t\tWHERE ei.id = $1\n\t\t`,\n      [id]\n    )\n\n    return json({\n      success: true,\n      data: detailResult.rows[0],\n      message: 'Ï¶ùÎπô Ìï≠Î™©Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('Ï¶ùÎπô Ìï≠Î™© ÏàòÏ†ï Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'Ï¶ùÎπô Ìï≠Î™© ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Ï¶ùÎπô Ìï≠Î™© ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    const { id } = params\n\n    // Ï¶ùÎπô Ìï≠Î™© Ï°¥Ïû¨ ÌôïÏù∏\n    const existingItem = await query('SELECT id FROM evidence_items WHERE id = $1', [id])\n    if (existingItem.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'Ï¶ùÎπô Ìï≠Î™©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // Ï¶ùÎπô Ìï≠Î™© ÏÇ≠Ï†ú (CASCADEÎ°ú Í¥ÄÎ†® Îç∞Ïù¥ÌÑ∞ÎèÑ Ìï®Íªò ÏÇ≠Ï†úÎê®)\n    await query('DELETE FROM evidence_items WHERE id = $1', [id])\n\n    return json({\n      success: true,\n      message: 'Ï¶ùÎπô Ìï≠Î™©Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('Ï¶ùÎπô Ìï≠Î™© ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'Ï¶ùÎπô Ìï≠Î™© ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/global-factors/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/migrate-add-research-stipend/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/migrate-budget-cash-kind/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/migrate-budget-simplified/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/migrate-participation-rate-decimal/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/migrate-remove-salary-multiplier/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/migrate/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/participation-rates/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/participation-rates/summary/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/project-budgets/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'budgetCategoryId' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 11,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 11,
        "endColumn": 27
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { transformArrayData, transformProjectBudgetData } from '$lib/utils/api-data-transformer'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// GET /api/project-management/project-budgets - ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const projectId = url.searchParams.get('projectId')\n    const budgetCategoryId = url.searchParams.get('budgetCategoryId')\n\n    let sqlQuery = `\n\t\t\tSELECT \n\t\t\t\tpb.*,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_budgets pb\n\t\t\tJOIN projects p ON pb.project_id = p.id\n\t\t\tWHERE 1=1\n\t\t`\n\n    const params: unknown[] = []\n    let paramIndex = 1\n\n    if (projectId) {\n      sqlQuery += ` AND pb.project_id = $${paramIndex}`\n      params.push(projectId)\n      paramIndex++\n    }\n\n    sqlQuery += ` ORDER BY pb.period_number ASC, pb.created_at ASC`\n\n    const result = await query(sqlQuery, params)\n\n    // Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò: snake_caseÎ•º camelCaseÎ°ú Î≥ÄÌôò\n    const transformedData = transformArrayData(result.rows, transformProjectBudgetData)\n\n    return json({\n      success: true,\n      data: transformedData\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Ï°∞Ìöå Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÎ•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// POST /api/project-management/project-budgets - ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n    const {\n      projectId,\n      periodNumber = 1,\n      startDate,\n      endDate,\n      // ÌòÑÍ∏à ÎπÑÎ™©Îì§\n      personnelCostCash = 0,\n      researchMaterialCostCash = 0,\n      researchActivityCostCash = 0,\n      researchStipendCash = 0,\n      indirectCostCash = 0,\n      // ÌòÑÎ¨º ÎπÑÎ™©Îì§\n      personnelCostInKind = 0,\n      researchMaterialCostInKind = 0,\n      researchActivityCostInKind = 0,\n      researchStipendInKind = 0,\n      indirectCostInKind = 0\n    } = data\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!projectId) {\n      return json(\n        {\n          success: false,\n          message: 'ÌïÑÏàò ÌïÑÎìúÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ Í≤ÄÏÇ¨\n    const existingBudget = await query(\n      'SELECT id FROM project_budgets WHERE project_id = $1 AND period_number = $2',\n      [projectId, periodNumber]\n    )\n\n    if (existingBudget.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          message: 'Ìï¥Îãπ Ïó∞Ï∞®Ïóê ÎåÄÌïú ÏòàÏÇ∞Ïù¥ Ïù¥ÎØ∏ Ï°¥Ïû¨Ìï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Í∞Å ÎπÑÎ™©Ïùò Ï¥ùÌï© Í≥ÑÏÇ∞ (ÌòÑÍ∏à + ÌòÑÎ¨º) - Î°úÏßÅÏúºÎ°ú Í≥ÑÏÇ∞ÌïòÎØÄÎ°ú DBÏóê Ï†ÄÏû•ÌïòÏßÄ ÏïäÏùå\n    const personnelCost = personnelCostCash + personnelCostInKind\n    const researchMaterialCost = researchMaterialCostCash + researchMaterialCostInKind\n    const researchActivityCost = researchActivityCostCash + researchActivityCostInKind\n    const researchStipend = researchStipendCash + researchStipendInKind\n    const indirectCost = indirectCostCash + indirectCostInKind\n\n    // ÏÇ¨ÏóÖÎπÑ ÏÉùÏÑ±\n    const result = await query(\n      `\n\t\t\tINSERT INTO project_budgets (\n\t\t\t\tproject_id, period_number, start_date, end_date,\n\t\t\t\tpersonnel_cost, research_material_cost, research_activity_cost, research_stipend, indirect_cost,\n\t\t\t\tpersonnel_cost_cash, personnel_cost_in_kind,\n\t\t\t\tresearch_material_cost_cash, research_material_cost_in_kind,\n\t\t\t\tresearch_activity_cost_cash, research_activity_cost_in_kind,\n\t\t\t\tresearch_stipend_cash, research_stipend_in_kind,\n\t\t\t\tindirect_cost_cash, indirect_cost_in_kind\n\t\t\t)\n\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)\n\t\t\tRETURNING *\n\t\t`,\n      [\n        projectId,\n        periodNumber,\n        startDate,\n        endDate,\n        personnelCost,\n        researchMaterialCost,\n        researchActivityCost,\n        researchStipend,\n        indirectCost,\n        personnelCostCash,\n        personnelCostInKind,\n        researchMaterialCostCash,\n        researchMaterialCostInKind,\n        researchActivityCostCash,\n        researchActivityCostInKind,\n        researchStipendCash,\n        researchStipendInKind,\n        indirectCostCash,\n        indirectCostInKind\n      ]\n    )\n\n    // ÏÉùÏÑ±Îêú ÏÇ¨ÏóÖÎπÑ Ï†ïÎ≥¥ÏôÄ Í¥ÄÎ†® Ï†ïÎ≥¥ Ï°∞Ìöå\n    const budgetWithDetails = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpb.*,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_budgets pb\n\t\t\tJOIN projects p ON pb.project_id = p.id\n\t\t\tWHERE pb.id = $1\n\t\t`,\n      [result.rows[0].id]\n    )\n\n    return json({\n      success: true,\n      data: budgetWithDetails.rows[0],\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏÉùÏÑ± Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/project-budgets/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 92,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 92,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// GET /api/project-management/project-budgets/[id] - ÌäπÏ†ï ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpb.*,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_budgets pb\n\t\t\tJOIN projects p ON pb.project_id = p.id\n\t\t\tWHERE pb.id = $1\n\t\t`,\n      [params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: result.rows[0]\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Ï°∞Ìöå Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÎ•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// PUT /api/project-management/project-budgets/[id] - ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const data = await request.json()\n    const {\n      periodNumber = 1,\n      startDate,\n      endDate,\n      // ÌòÑÍ∏à ÎπÑÎ™©Îì§\n      personnelCostCash = 0,\n      researchMaterialCostCash = 0,\n      researchActivityCostCash = 0,\n      researchStipendCash = 0,\n      indirectCostCash = 0,\n      // ÌòÑÎ¨º ÎπÑÎ™©Îì§\n      personnelCostInKind = 0,\n      researchMaterialCostInKind = 0,\n      researchActivityCostInKind = 0,\n      researchStipendInKind = 0,\n      indirectCostInKind = 0\n    } = data\n\n    // ÏÇ¨ÏóÖÎπÑ Ï°¥Ïû¨ ÌôïÏù∏\n    const existingBudget = await query('SELECT * FROM project_budgets WHERE id = $1', [params.id])\n\n    if (existingBudget.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // Í∞Å ÎπÑÎ™©Ïùò Ï¥ùÌï© Í≥ÑÏÇ∞ (ÌòÑÍ∏à + ÌòÑÎ¨º) - Î°úÏßÅÏúºÎ°ú Í≥ÑÏÇ∞ÌïòÎØÄÎ°ú DBÏóê Ï†ÄÏû•ÌïòÏßÄ ÏïäÏùå\n    const personnelCost = personnelCostCash + personnelCostInKind\n    const researchMaterialCost = researchMaterialCostCash + researchMaterialCostInKind\n    const researchActivityCost = researchActivityCostCash + researchActivityCostInKind\n    const researchStipend = researchStipendCash + researchStipendInKind\n    const indirectCost = indirectCostCash + indirectCostInKind\n\n    // ÏÇ¨ÏóÖÎπÑ ÏàòÏ†ï\n    const result = await query(\n      `\n\t\t\tUPDATE project_budgets \n\t\t\tSET \n\t\t\t\tperiod_number = $1,\n\t\t\t\tstart_date = $2,\n\t\t\t\tend_date = $3,\n\t\t\t\tpersonnel_cost = $4,\n\t\t\t\tresearch_material_cost = $5,\n\t\t\t\tresearch_activity_cost = $6,\n\t\t\t\tresearch_stipend = $7,\n\t\t\t\tindirect_cost = $8,\n\t\t\t\tpersonnel_cost_cash = $9,\n\t\t\t\tpersonnel_cost_in_kind = $10,\n\t\t\t\tresearch_material_cost_cash = $11,\n\t\t\t\tresearch_material_cost_in_kind = $12,\n\t\t\t\tresearch_activity_cost_cash = $13,\n\t\t\t\tresearch_activity_cost_in_kind = $14,\n\t\t\t\tresearch_stipend_cash = $15,\n\t\t\t\tresearch_stipend_in_kind = $16,\n\t\t\t\tindirect_cost_cash = $17,\n\t\t\t\tindirect_cost_in_kind = $18,\n\t\t\t\tupdated_at = CURRENT_TIMESTAMP\n\t\t\tWHERE id = $19\n\t\t\tRETURNING *\n\t\t`,\n      [\n        periodNumber,\n        startDate,\n        endDate,\n        personnelCost,\n        researchMaterialCost,\n        researchActivityCost,\n        researchStipend,\n        indirectCost,\n        personnelCostCash,\n        personnelCostInKind,\n        researchMaterialCostCash,\n        researchMaterialCostInKind,\n        researchActivityCostCash,\n        researchActivityCostInKind,\n        researchStipendCash,\n        researchStipendInKind,\n        indirectCostCash,\n        indirectCostInKind,\n        params.id\n      ]\n    )\n\n    // ÏàòÏ†ïÎêú ÏÇ¨ÏóÖÎπÑ Ï†ïÎ≥¥ÏôÄ Í¥ÄÎ†® Ï†ïÎ≥¥ Ï°∞Ìöå\n    const budgetWithDetails = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpb.*,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_budgets pb\n\t\t\tJOIN projects p ON pb.project_id = p.id\n\t\t\tWHERE pb.id = $1\n\t\t`,\n      [params.id]\n    )\n\n    return json({\n      success: true,\n      data: budgetWithDetails.rows[0],\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏàòÏ†ï Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// DELETE /api/project-management/project-budgets/[id] - ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    // ÏÇ¨ÏóÖÎπÑ Ï°¥Ïû¨ ÌôïÏù∏\n    const existingBudget = await query('SELECT * FROM project_budgets WHERE id = $1', [params.id])\n\n    if (existingBudget.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // ÏÇ¨ÏóÖÎπÑ ÏÇ≠Ï†ú\n    await query('DELETE FROM project_budgets WHERE id = $1', [params.id])\n\n    return json({\n      success: true,\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/project-members/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'finalContractAmount' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 168,
        "column": 7,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 168,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'projectEndDate' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 195,
        "column": 15,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 195,
        "endColumn": 29
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 201,
        "column": 23,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 201,
        "endColumn": 110
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { transformArrayData, transformProjectMemberData } from '$lib/utils/api-data-transformer'\nimport { formatDateForAPI, formatDateForKorean } from '$lib/utils/date-calculator'\nimport { calculateMonthlySalary } from '$lib/utils/salary-calculator'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// GET /api/project-management/project-members - ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const projectId = url.searchParams.get('projectId')\n    const employeeId = url.searchParams.get('employeeId')\n    const status = url.searchParams.get('status')\n    const role = url.searchParams.get('role')\n\n    let sqlQuery = `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN e.first_name ~ '^[Í∞Ä-Ìû£]+$' AND e.last_name ~ '^[Í∞Ä-Ìû£]+$' \n\t\t\t\t\tTHEN CONCAT(e.last_name, e.first_name)\n\t\t\t\t\tELSE CONCAT(e.first_name, ' ', e.last_name)\n\t\t\t\tEND as employee_name,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.email as employee_email,\n\t\t\t\te.department as employee_department,\n\t\t\t\te.position as employee_position,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_members pm\n\t\t\tJOIN employees e ON pm.employee_id = e.id\n\t\t\tJOIN projects p ON pm.project_id = p.id\n\t\t\tWHERE 1=1\n\t\t`\n\n    const params: unknown[] = []\n    let paramIndex = 1\n\n    if (projectId) {\n      sqlQuery += ` AND pm.project_id = $${paramIndex}`\n      params.push(projectId)\n      paramIndex++\n    }\n\n    if (employeeId) {\n      sqlQuery += ` AND pm.employee_id = $${paramIndex}`\n      params.push(employeeId)\n      paramIndex++\n    }\n\n    if (status) {\n      sqlQuery += ` AND pm.status = $${paramIndex}`\n      params.push(status)\n      paramIndex++\n    }\n\n    if (role) {\n      sqlQuery += ` AND pm.role = $${paramIndex}`\n      params.push(role)\n      paramIndex++\n    }\n\n    sqlQuery += ` ORDER BY pm.created_at DESC`\n\n    const result = await query(sqlQuery, params)\n\n    // Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò: snake_caseÎ•º camelCaseÎ°ú Î≥ÄÌôò\n    const transformedData = transformArrayData(result.rows, transformProjectMemberData)\n\n    return json({\n      success: true,\n      data: transformedData\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï°∞Ìöå Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÎ•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// POST /api/project-management/project-members - ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï∂îÍ∞Ä\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const data = await request.json()\n    const {\n      projectId,\n      employeeId,\n      role = 'researcher',\n      startDate,\n      endDate,\n      participationRate = 100,\n      contributionType = 'cash',\n      contractAmount = 0,\n      status = 'active'\n    } = data\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!projectId || !employeeId) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ IDÏôÄ ÏßÅÏõê IDÎäî ÌïÑÏàòÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù (0-100 ÏÇ¨Ïù¥)\n    if (participationRate < 0 || participationRate > 100) {\n      return json(\n        {\n          success: false,\n          message: 'Ï∞∏Ïó¨Ïú®ÏùÄ 0-100 ÏÇ¨Ïù¥Ïùò Í∞íÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï§ëÎ≥µ Í≤ÄÏÇ¨\n    const existingMember = await query(\n      'SELECT id FROM project_members WHERE project_id = $1 AND employee_id = $2',\n      [projectId, employeeId]\n    )\n\n    if (existingMember.rows.length > 0) {\n      return json(\n        {\n          success: false,\n          message: 'Ìï¥Îãπ ÏßÅÏõêÏùÄ Ïù¥ÎØ∏ Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Ïùò Î©§Î≤ÑÏûÖÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ìï¥Îãπ ÏßÅÏõêÏùò ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÏóê Ïú†Ìö®Ìïú Í∏âÏó¨ Í≥ÑÏïΩÏÑú Ï°∞Ìöå\n    // ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÍ≥º Í≥ÑÏïΩÏÑú Í∏∞Í∞ÑÏù¥ Í≤πÏπòÎäî Í≤ΩÏö∞Î•º Ï∞æÏùå\n    const contractResult = await query(\n      `\n\t\t\tSELECT sc.annual_salary, sc.monthly_salary\n\t\t\tFROM salary_contracts sc\n\t\t\tWHERE sc.employee_id = $1\n\t\t\t\tAND sc.status = 'active'\n\t\t\t\tAND (\n\t\t\t\t\t-- Í≥ÑÏïΩÏÑú ÏãúÏûëÏùºÏù¥ ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞Ñ ÎÇ¥Ïóê ÏûàÍ±∞ÎÇò\n\t\t\t\t\t(sc.start_date <= COALESCE($3, CURRENT_DATE) AND (sc.end_date IS NULL OR sc.end_date >= COALESCE($2, CURRENT_DATE)))\n\t\t\t\t\tOR\n\t\t\t\t\t-- ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÏù¥ Í≥ÑÏïΩÏÑú Í∏∞Í∞Ñ ÎÇ¥Ïóê ÏûàÍ±∞ÎÇò\n\t\t\t\t\t(COALESCE($2, CURRENT_DATE) <= sc.start_date AND COALESCE($3, CURRENT_DATE) >= sc.start_date)\n\t\t\t\t)\n\t\t\tORDER BY sc.start_date DESC\n\t\t\tLIMIT 1\n\t\t`,\n      [employeeId, startDate, endDate]\n    )\n\n    // Í≥ÑÏïΩÏÑúÏóêÏÑú Ïó∞Î¥âÏùÑ Í∞ÄÏ†∏Ïò§Í±∞ÎÇò, Ï†úÍ≥µÎêú Í≥ÑÏïΩÍ∏àÏï° ÏÇ¨Ïö©\n    let finalContractAmount = contractAmount\n    if (contractResult.rows.length > 0) {\n      // Ïó∞Î¥âÏùÑ ÏõîÍ∏âÏúºÎ°ú Î≥ÄÌôò (Ïó∞Î¥â / 12)\n      finalContractAmount = contractResult.rows[0].annual_salary / 12\n    } else {\n      // Í≥ÑÏïΩÏÑúÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞, Ìï¥Îãπ ÏßÅÏõêÏùò Î™®Îì† Í≥ÑÏïΩÏÑú Ï†ïÎ≥¥Î•º Ï°∞ÌöåÌïòÏó¨ ÏïàÎÇ¥ Î©îÏãúÏßÄ ÏÉùÏÑ±\n      const allContractsResult = await query(\n        `\n\t\t\t\tSELECT sc.start_date, sc.end_date, sc.annual_salary, sc.status\n\t\t\t\tFROM salary_contracts sc\n\t\t\t\tWHERE sc.employee_id = $1\n\t\t\t\tORDER BY sc.start_date DESC\n\t\t\t`,\n        [employeeId]\n      )\n\n      if (allContractsResult.rows.length === 0) {\n        return json(\n          {\n            success: false,\n            message:\n              'Ìï¥Îãπ ÏßÅÏõêÏùò Í∏âÏó¨ Í≥ÑÏïΩÏÑúÍ∞Ä Îì±Î°ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. Í∏âÏó¨ Í≥ÑÏïΩÏÑúÎ•º Î®ºÏ†Ä Îì±Î°ùÌï¥Ï£ºÏÑ∏Ïöî.',\n            errorCode: 'NO_CONTRACT'\n          },\n          { status: 400 }\n        )\n      } else {\n        // Í≥ÑÏïΩÏÑúÎäî ÏûàÏßÄÎßå Í∏∞Í∞ÑÏù¥ ÎßûÏßÄ ÏïäÎäî Í≤ΩÏö∞\n        const contracts = allContractsResult.rows\n        const projectStartDate = startDate ? new Date(startDate) : new Date()\n        const projectEndDate = endDate ? new Date(endDate) : new Date()\n\n        // Í∞ÄÏû• Í∞ÄÍπåÏö¥ Í≥ÑÏïΩÏÑú Ï∞æÍ∏∞\n        const futureContracts = contracts.filter(c => new Date(c.start_date) > projectStartDate)\n        const pastContracts = contracts.filter(c => new Date(c.start_date) <= projectStartDate)\n\n        let message = `ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞Ñ(${startDate || 'ÏãúÏûëÏùº ÎØ∏Ï†ï'} ~ ${endDate || 'Ï¢ÖÎ£åÏùº ÎØ∏Ï†ï'})Ïóê Ìï¥Îãπ ÏßÅÏõêÏù¥ Ïû¨ÏßÅ Ï§ëÏù¥ ÏïÑÎãôÎãàÎã§.\\n\\n`\n\n        if (futureContracts.length > 0) {\n          const nextContract = futureContracts[futureContracts.length - 1] // Í∞ÄÏû• Í∞ÄÍπåÏö¥ ÎØ∏Îûò Í≥ÑÏïΩ\n          const contractStartDate = formatDateForKorean(nextContract.start_date)\n          message += `Îã§Ïùå Í≥ÑÏïΩ ÏãúÏûëÏùº: ${contractStartDate}\\n`\n          message += `Ìï¥Îãπ ÎÇ†ÏßúÎ∂ÄÌÑ∞ ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨Í∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§.`\n        } else if (pastContracts.length > 0) {\n          const lastContract = pastContracts[0]\n          if (lastContract.end_date) {\n            const contractEndDate = formatDateForKorean(lastContract.end_date)\n            message += `ÎßàÏßÄÎßâ Í≥ÑÏïΩ Ï¢ÖÎ£åÏùº: ${contractEndDate}\\n`\n            message += `Ìï¥Îãπ ÏßÅÏõêÏùÄ Ïù¥ÎØ∏ Ìá¥ÏÇ¨Ìïú ÏÉÅÌÉúÏûÖÎãàÎã§.`\n          } else {\n            message += `Í≥ÑÏïΩÏÑú ÏÉÅÌÉúÎ•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.`\n          }\n        }\n\n        return json(\n          {\n            success: false,\n            message: message,\n            errorCode: 'CONTRACT_PERIOD_MISMATCH',\n            contracts: contracts.map(c => ({\n              startDate: c.start_date,\n              endDate: c.end_date,\n              status: c.status\n            }))\n          },\n          { status: 400 }\n        )\n      }\n    }\n\n    // Ïã§Ï†ú Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÏóêÏÑú ÏõîÍ∏â Í∞ÄÏ†∏Ïò§Í∏∞\n    let contractMonthlySalary = 0\n    if (contractResult.rows.length > 0) {\n      const contract = contractResult.rows[0]\n      contractMonthlySalary = contract.monthly_salary || contract.annual_salary / 12\n    }\n\n    // ÏõîÍ∞Ñ Í∏àÏï° Í≥ÑÏÇ∞: Ï§ëÏïôÌôîÎêú Í∏âÏó¨ Í≥ÑÏÇ∞ Ìï®Ïàò ÏÇ¨Ïö©\n    const monthlyAmount = calculateMonthlySalary(\n      contractMonthlySalary * 12, // Ïó∞Î¥âÏúºÎ°ú Î≥ÄÌôò\n      participationRate\n    )\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï∂îÍ∞Ä (contract_amount Ï†úÍ±∞)\n    const result = await query(\n      `\n\t\t\tINSERT INTO project_members (project_id, employee_id, role, start_date, end_date, participation_rate, contribution_type, monthly_amount, status)\n\t\t\tVALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)\n\t\t\tRETURNING *\n\t\t`,\n      [\n        projectId,\n        employeeId,\n        role,\n        startDate,\n        endDate,\n        participationRate,\n        contributionType,\n        monthlyAmount,\n        status\n      ]\n    )\n\n    // Ï∂îÍ∞ÄÎêú Î©§Î≤Ñ Ï†ïÎ≥¥ÏôÄ Í¥ÄÎ†® Ï†ïÎ≥¥ Ï°∞Ìöå\n    const memberWithDetails = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN e.first_name ~ '^[Í∞Ä-Ìû£]+$' AND e.last_name ~ '^[Í∞Ä-Ìû£]+$' \n\t\t\t\t\tTHEN CONCAT(e.last_name, e.first_name)\n\t\t\t\t\tELSE CONCAT(e.first_name, ' ', e.last_name)\n\t\t\t\tEND as employee_name,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.email as employee_email,\n\t\t\t\te.department as employee_department,\n\t\t\t\te.position as employee_position,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_members pm\n\t\t\tJOIN employees e ON pm.employee_id = e.id\n\t\t\tJOIN projects p ON pm.project_id = p.id\n\t\t\tWHERE pm.id = $1\n\t\t`,\n      [result.rows[0].id]\n    )\n\n    // TIMESTAMP Îç∞Ïù¥ÌÑ∞Î•º YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò (Ï§ëÏïôÌôîÎêú Ìï®Ïàò ÏÇ¨Ïö©)\n    const memberData = memberWithDetails.rows[0]\n    const formattedMemberData = {\n      ...memberData,\n      start_date: formatDateForAPI(memberData.start_date),\n      end_date: formatDateForAPI(memberData.end_date)\n    }\n\n    return json({\n      success: true,\n      data: formattedMemberData,\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/project-members/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'result' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 287,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 287,
        "endColumn": 17
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 288,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 293,
        "endColumn": 4
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport {\n  calculateParticipationPeriod,\n  formatDateForAPI,\n  isValidDate,\n  isValidDateRange\n} from '$lib/utils/date-calculator'\nimport { calculateMonthlySalary } from '$lib/utils/salary-calculator'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// GET /api/project-management/project-members/[id] - ÌäπÏ†ï ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN e.first_name ~ '^[Í∞Ä-Ìû£]+$' AND e.last_name ~ '^[Í∞Ä-Ìû£]+$' \n\t\t\t\t\tTHEN CONCAT(e.last_name, ' ', e.first_name)\n\t\t\t\t\tELSE CONCAT(e.first_name, ' ', e.last_name)\n\t\t\t\tEND as employee_name,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.email as employee_email,\n\t\t\t\te.department as employee_department,\n\t\t\t\te.position as employee_position,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_members pm\n\t\t\tJOIN employees e ON pm.employee_id = e.id\n\t\t\tJOIN projects p ON pm.project_id = p.id\n\t\t\tWHERE pm.id = $1\n\t\t`,\n      [params.id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // TIMESTAMP Îç∞Ïù¥ÌÑ∞Î•º YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò (Ï§ëÏïôÌôîÎêú Ìï®Ïàò ÏÇ¨Ïö©)\n    const memberData = result.rows[0]\n    const formattedMemberData = {\n      ...memberData,\n      start_date: formatDateForAPI(memberData.start_date),\n      end_date: formatDateForAPI(memberData.end_date)\n    }\n\n    return json({\n      success: true,\n      data: formattedMemberData\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Ï°∞Ìöå Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÎ•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// PUT /api/project-management/project-members/[id] - ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const data = await request.json()\n    const {\n      role,\n      startDate,\n      endDate,\n      participationRate,\n      contributionType,\n      contractAmount,\n      status\n    } = data\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (\n      role === undefined &&\n      startDate === undefined &&\n      endDate === undefined &&\n      participationRate === undefined &&\n      contributionType === undefined &&\n      contractAmount === undefined &&\n      status === undefined\n    ) {\n      return json(\n        {\n          success: false,\n          message: 'ÏàòÏ†ïÌï† ÌïÑÎìúÍ∞Ä ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù (0-100 ÏÇ¨Ïù¥)\n    if (participationRate !== undefined && (participationRate < 0 || participationRate > 100)) {\n      return json(\n        {\n          success: false,\n          message: 'Ï∞∏Ïó¨Ïú®ÏùÄ 0-100 ÏÇ¨Ïù¥Ïùò Í∞íÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Î©§Î≤Ñ Ï°¥Ïû¨ ÌôïÏù∏\n    const existingMember = await query('SELECT * FROM project_members WHERE id = $1', [params.id])\n\n    if (existingMember.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // Î©§Î≤Ñ ÏàòÏ†ï\n    const updateFields = []\n    const updateValues = []\n    let paramIndex = 1\n\n    if (role !== undefined) {\n      updateFields.push(`role = $${paramIndex}`)\n      updateValues.push(role)\n      paramIndex++\n    }\n\n    // Ï∞∏Ïó¨Í∏∞Í∞Ñ ÏàòÏ†ï Ïãú UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö© Î∞è Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù\n    if (startDate !== undefined) {\n      // ÎÇ†Ïßú Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù\n      if (!isValidDate(startDate)) {\n        return json(\n          {\n            success: false,\n            message: 'Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏãúÏûëÏùº ÌòïÏãùÏûÖÎãàÎã§.'\n          },\n          { status: 400 }\n        )\n      }\n\n      // UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö© (TIMESTAMP ÌÉÄÏûÖÏúºÎ°ú Ï†ÄÏû•)\n      const formattedStartDate = new Date(startDate + 'T00:00:00.000+09:00')\n      updateFields.push(`start_date = $${paramIndex}`)\n      updateValues.push(formattedStartDate)\n      paramIndex++\n    }\n\n    if (endDate !== undefined) {\n      // ÎÇ†Ïßú Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù\n      if (!isValidDate(endDate)) {\n        return json(\n          {\n            success: false,\n            message: 'Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ï¢ÖÎ£åÏùº ÌòïÏãùÏûÖÎãàÎã§.'\n          },\n          { status: 400 }\n        )\n      }\n\n      // UTC+9 ÌÉÄÏûÑÏ°¥ Ï†ÅÏö© (TIMESTAMP ÌÉÄÏûÖÏúºÎ°ú Ï†ÄÏû•)\n      const formattedEndDate = new Date(endDate + 'T23:59:59.999+09:00')\n      updateFields.push(`end_date = $${paramIndex}`)\n      updateValues.push(formattedEndDate)\n      paramIndex++\n    }\n\n    // ÏãúÏûëÏùºÍ≥º Ï¢ÖÎ£åÏùºÏù¥ Î™®Îëê Î≥ÄÍ≤ΩÎêòÎäî Í≤ΩÏö∞ ÎÇ†Ïßú Î≤îÏúÑ Í≤ÄÏ¶ù\n    if (startDate !== undefined && endDate !== undefined) {\n      if (!isValidDateRange(startDate, endDate)) {\n        return json(\n          {\n            success: false,\n            message: 'ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îä¶ÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n          },\n          { status: 400 }\n        )\n      }\n\n      // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞ÑÍ≥ºÏùò Í≤πÏπ® Í≤ÄÏ¶ù\n      const currentMember = existingMember.rows[0]\n      const projectResult = await query('SELECT start_date, end_date FROM projects WHERE id = $1', [\n        currentMember.project_id\n      ])\n\n      if (projectResult.rows.length > 0) {\n        const project = projectResult.rows[0]\n        const participationValidation = calculateParticipationPeriod(\n          startDate,\n          endDate,\n          project.start_date,\n          project.end_date\n        )\n\n        if (!participationValidation.isValid) {\n          return json(\n            {\n              success: false,\n              message:\n                participationValidation.errorMessage || 'Ï∞∏Ïó¨Í∏∞Í∞ÑÏù¥ ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞ÑÍ≥º ÎßûÏßÄ ÏïäÏäµÎãàÎã§.'\n            },\n            { status: 400 }\n          )\n        }\n      }\n    }\n\n    if (participationRate !== undefined) {\n      updateFields.push(`participation_rate = $${paramIndex}`)\n      updateValues.push(participationRate)\n      paramIndex++\n    }\n\n    if (contributionType !== undefined) {\n      updateFields.push(`contribution_type = $${paramIndex}`)\n      updateValues.push(contributionType)\n      paramIndex++\n    }\n\n    // contract_amount ÌïÑÎìú Ï†úÍ±∞ - Ïã§Ï†ú Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÏóêÏÑú Ï°∞Ìöå\n\n    if (status !== undefined) {\n      updateFields.push(`status = $${paramIndex}`)\n      updateValues.push(status)\n      paramIndex++\n    }\n\n    // Ï∞∏Ïó¨Ïú®Ïù¥ Î≥ÄÍ≤ΩÎêú Í≤ΩÏö∞ ÏõîÍ∞ÑÍ∏àÏï° Ïû¨Í≥ÑÏÇ∞\n    if (participationRate !== undefined) {\n      const currentMember = existingMember.rows[0]\n      const finalParticipationRate = participationRate\n\n      // Ïã§Ï†ú Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÏóêÏÑú ÏµúÏã† Í∏àÏï° Ï°∞Ìöå\n      const contractResult = await query(\n        `\n\t\t\t\tSELECT sc.annual_salary, sc.monthly_salary\n\t\t\t\tFROM salary_contracts sc\n\t\t\t\tWHERE sc.employee_id = $1\n\t\t\t\t\tAND sc.status = 'active'\n\t\t\t\t\tAND (\n\t\t\t\t\t\t-- Í≥ÑÏïΩÏÑú ÏãúÏûëÏùºÏù¥ ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞Ñ ÎÇ¥Ïóê ÏûàÍ±∞ÎÇò\n\t\t\t\t\t\t(sc.start_date <= COALESCE($3, CURRENT_DATE) AND (sc.end_date IS NULL OR sc.end_date >= COALESCE($2, CURRENT_DATE)))\n\t\t\t\t\t\tOR\n\t\t\t\t\t\t-- ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÏù¥ Í≥ÑÏïΩÏÑú Í∏∞Í∞Ñ ÎÇ¥Ïóê ÏûàÍ±∞ÎÇò\n\t\t\t\t\t\t(COALESCE($2, CURRENT_DATE) <= sc.start_date AND COALESCE($3, CURRENT_DATE) >= sc.start_date)\n\t\t\t\t\t)\n\t\t\t\tORDER BY sc.start_date DESC\n\t\t\t\tLIMIT 1\n\t\t\t`,\n        [currentMember.employee_id, currentMember.start_date, currentMember.end_date]\n      )\n\n      let contractMonthlySalary = 0\n      if (contractResult.rows.length > 0) {\n        const contract = contractResult.rows[0]\n        contractMonthlySalary = contract.monthly_salary || contract.annual_salary / 12\n      }\n\n      // ÏõîÍ∞Ñ Í∏àÏï° Í≥ÑÏÇ∞: Ï§ëÏïôÌôîÎêú Í∏âÏó¨ Í≥ÑÏÇ∞ Ìï®Ïàò ÏÇ¨Ïö©\n      const monthlyAmount = calculateMonthlySalary(\n        contractMonthlySalary * 12, // Ïó∞Î¥âÏúºÎ°ú Î≥ÄÌôò\n        finalParticipationRate\n      )\n\n      updateFields.push(`monthly_amount = $${paramIndex}`)\n      updateValues.push(monthlyAmount)\n      paramIndex++\n    }\n\n    updateFields.push(`updated_at = CURRENT_TIMESTAMP`)\n    updateValues.push(params.id)\n\n    const result = await query(\n      `\n\t\t\tUPDATE project_members \n\t\t\tSET ${updateFields.join(', ')}\n\t\t\tWHERE id = $${paramIndex}\n\t\t\tRETURNING *\n\t\t`,\n      updateValues\n    )\n\n    // ÏàòÏ†ïÎêú Î©§Î≤Ñ Ï†ïÎ≥¥ÏôÄ Í¥ÄÎ†® Ï†ïÎ≥¥ Ï°∞Ìöå\n    const memberWithDetails = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN e.first_name ~ '^[Í∞Ä-Ìû£]+$' AND e.last_name ~ '^[Í∞Ä-Ìû£]+$' \n\t\t\t\t\tTHEN CONCAT(e.last_name, ' ', e.first_name)\n\t\t\t\t\tELSE CONCAT(e.first_name, ' ', e.last_name)\n\t\t\t\tEND as employee_name,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.email as employee_email,\n\t\t\t\te.department as employee_department,\n\t\t\t\te.position as employee_position,\n\t\t\t\tp.title as project_title,\n\t\t\t\tp.code as project_code\n\t\t\tFROM project_members pm\n\t\t\tJOIN employees e ON pm.employee_id = e.id\n\t\t\tJOIN projects p ON pm.project_id = p.id\n\t\t\tWHERE pm.id = $1\n\t\t`,\n      [params.id]\n    )\n\n    // TIMESTAMP Îç∞Ïù¥ÌÑ∞Î•º YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò (Ï§ëÏïôÌôîÎêú Ìï®Ïàò ÏÇ¨Ïö©)\n    const memberData = memberWithDetails.rows[0]\n    const formattedMemberData = {\n      ...memberData,\n      start_date: formatDateForAPI(memberData.start_date),\n      end_date: formatDateForAPI(memberData.end_date)\n    }\n\n    return json({\n      success: true,\n      data: formattedMemberData,\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏàòÏ†ï Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// DELETE /api/project-management/project-members/[id] - ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    // Î©§Î≤Ñ Ï°¥Ïû¨ ÌôïÏù∏\n    const existingMember = await query('SELECT * FROM project_members WHERE id = $1', [params.id])\n\n    if (existingMember.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // Î©§Î≤Ñ ÏÇ≠Ï†ú\n    await query('DELETE FROM project_members WHERE id = $1', [params.id])\n\n    return json({\n      success: true,\n      message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤ÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: (error as Error).message\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/projects/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/projects/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 207,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 207,
        "endColumn": 54
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 226,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 231,
        "endColumn": 4
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'updatedProject' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 235,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 235,
        "endColumn": 25
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'project' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 293,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 293,
        "endColumn": 18
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Project Management API - Individual Project\n// Í∞úÎ≥Ñ ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ†® API\n\nimport { query } from '$lib/database/connection'\nimport {\n  transformArrayData,\n  transformMilestoneData,\n  transformProjectBudgetData,\n  transformProjectData,\n  transformProjectMemberData,\n  transformRiskData\n} from '$lib/utils/api-data-transformer'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\n// Í∞úÎ≥Ñ ÌîÑÎ°úÏ†ùÌä∏ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const { id } = params\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Ï°∞Ìöå\n    const projectResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tp.*,\n\t\t\t\te.first_name || ' ' || e.last_name as manager_name,\n\t\t\t\tCOUNT(pm.id) as member_count,\n\t\t\t\tCOALESCE(SUM(pm.participation_rate), 0) as total_participation_rate\n\t\t\tFROM projects p\n\t\t\tLEFT JOIN employees e ON p.manager_id = e.id\n\t\t\tLEFT JOIN project_members pm ON p.id = pm.project_id AND pm.status = 'active'\n\t\t\tWHERE p.id = $1\n\t\t\tGROUP BY p.id, e.first_name, e.last_name\n\t\t`,\n      [id]\n    )\n\n    if (projectResult.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const project = projectResult.rows[0]\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ Î™©Î°ù Ï°∞Ìöå\n    const membersResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\te.first_name || ' ' || e.last_name as employee_name,\n\t\t\t\te.department\n\t\t\tFROM project_members pm\n\t\t\tLEFT JOIN employees e ON pm.employee_id = e.id\n\t\t\tWHERE pm.project_id = $1\n\t\t\tORDER BY pm.created_at DESC\n\t\t`,\n      [id]\n    )\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ¨ÏóÖÎπÑ Ï°∞Ìöå\n    const budgetsResult = await query(\n      `\n\t\t\tSELECT * FROM project_budgets\n\t\t\tWHERE project_id = $1\n\t\t\tORDER BY period_number DESC\n\t\t`,\n      [id]\n    )\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÎßàÏùºÏä§ÌÜ§ Ï°∞Ìöå\n    const milestonesResult = await query(\n      `\n\t\t\tSELECT * FROM project_milestones\n\t\t\tWHERE project_id = $1\n\t\t\tORDER BY milestone_date ASC\n\t\t`,\n      [id]\n    )\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏúÑÌóò ÏöîÏÜå Ï°∞Ìöå\n    const risksResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpr.*,\n\t\t\t\te.first_name || ' ' || e.last_name as owner_name\n\t\t\tFROM project_risks pr\n\t\t\tLEFT JOIN employees e ON pr.owner_id = e.id\n\t\t\tWHERE pr.project_id = $1\n\t\t\tORDER BY pr.created_at DESC\n\t\t`,\n      [id]\n    )\n\n    // Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò: snake_caseÎ•º camelCaseÎ°ú Î≥ÄÌôò\n    const transformedProject = transformProjectData(project)\n    const transformedMembers = transformArrayData(membersResult.rows, transformProjectMemberData)\n    const transformedBudgets = transformArrayData(budgetsResult.rows, transformProjectBudgetData)\n    const transformedMilestones = transformArrayData(milestonesResult.rows, transformMilestoneData)\n    const transformedRisks = transformArrayData(risksResult.rows, transformRiskData)\n\n    return json({\n      success: true,\n      data: {\n        ...transformedProject,\n        members: transformedMembers,\n        budgets: transformedBudgets,\n        milestones: transformedMilestones,\n        risks: transformedRisks\n      }\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ Ï°∞Ìöå Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const { id } = params\n    const data = await request.json()\n    const {\n      code,\n      title,\n      description,\n      sponsor,\n      sponsorName,\n      sponsorType,\n      startDate,\n      endDate,\n      managerId,\n      budgetTotal,\n      researchType,\n      technologyArea,\n      priority,\n      status\n    } = data\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Ï°¥Ïû¨ ÌôïÏù∏\n    const existingProject = await query('SELECT id FROM projects WHERE id = $1', [id])\n\n    if (existingProject.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú Ï§ëÎ≥µ ÌôïÏù∏ (ÏûêÏã† Ï†úÏô∏)\n    if (code) {\n      const duplicateCheck = await query('SELECT id FROM projects WHERE code = $1 AND id != $2', [\n        code,\n        id\n      ])\n\n      if (duplicateCheck.rows.length > 0) {\n        return json(\n          {\n            success: false,\n            message: 'Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÏûÖÎãàÎã§.'\n          },\n          { status: 400 }\n        )\n      }\n    }\n\n    // ÏóÖÎç∞Ïù¥Ìä∏Ìï† ÌïÑÎìúÎì§ ÎèôÏ†Å ÏÉùÏÑ±\n    const updateFields = []\n    const updateValues = []\n    let paramIndex = 1\n\n    const fieldsToUpdate = {\n      code,\n      title,\n      description,\n      sponsor,\n      sponsor_name: sponsorName,\n      sponsor_type: sponsorType,\n      start_date: startDate,\n      end_date: endDate,\n      manager_id: managerId,\n      budget_total: budgetTotal,\n      research_type: researchType,\n      technology_area: technologyArea,\n      priority,\n      status\n    }\n\n    Object.entries(fieldsToUpdate).forEach(([key, value]) => {\n      if (value !== undefined) {\n        updateFields.push(`${key} = $${paramIndex++}`)\n        updateValues.push(value)\n      }\n    })\n\n    if (updateFields.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÏàòÏ†ïÌï† Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    updateFields.push(`updated_at = CURRENT_TIMESTAMP`)\n    updateValues.push(id)\n\n    const result = await query(\n      `\n\t\t\tUPDATE projects \n\t\t\tSET ${updateFields.join(', ')}\n\t\t\tWHERE id = $${paramIndex}\n\t\t\tRETURNING *\n\t\t`,\n      updateValues\n    )\n\n    const updatedProject = result.rows[0]\n\n    // ÏóÖÎç∞Ïù¥Ìä∏Îêú ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ÏôÄ Ìï®Íªò Î∞òÌôò\n    const projectWithDetails = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tp.*,\n\t\t\t\te.first_name || ' ' || e.last_name as manager_name,\n\t\t\t\tCOUNT(pm.id) as member_count,\n\t\t\t\tCOALESCE(SUM(pm.participation_rate), 0) as total_participation_rate\n\t\t\tFROM projects p\n\t\t\tLEFT JOIN employees e ON p.manager_id = e.id\n\t\t\tLEFT JOIN project_members pm ON p.id = pm.project_id AND pm.status = 'active'\n\t\t\tWHERE p.id = $1\n\t\t\tGROUP BY p.id, e.first_name, e.last_name\n\t\t`,\n      [id]\n    )\n\n    // Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò: snake_caseÎ•º camelCaseÎ°ú Î≥ÄÌôò\n    const transformedProject = transformProjectData(projectWithDetails.rows[0])\n\n    return json({\n      success: true,\n      data: transformedProject,\n      message: 'ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'\n    })\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    const { id } = params\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Ï°¥Ïû¨ ÌôïÏù∏\n    const existingProject = await query('SELECT id, status FROM projects WHERE id = $1', [id])\n\n    if (existingProject.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          message: 'ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const project = existingProject.rows[0]\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú Í∞ÄÎä• Ïó¨Î∂Ä ÌôïÏù∏ (Î™®Îì† ÏÉÅÌÉúÏóêÏÑú ÏÇ≠Ï†ú Í∞ÄÎä•)\n    // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú ÏöîÏ≤≠ Ï≤òÎ¶¨\n\n    // Ìä∏ÎûúÏû≠ÏÖòÏúºÎ°ú Í¥ÄÎ†® Îç∞Ïù¥ÌÑ∞ Î™®Îëê ÏÇ≠Ï†ú\n    await query('BEGIN')\n\n    try {\n      // 1. evidence_items Î®ºÏ†Ä ÏÇ≠Ï†ú (project_budgetsÎ•º Ï∞∏Ï°∞)\n      await query(\n        `\n\t\t\t\tDELETE FROM evidence_items \n\t\t\t\tWHERE project_budget_id IN (\n\t\t\t\t\tSELECT id FROM project_budgets WHERE project_id = $1\n\t\t\t\t)\n\t\t\t`,\n        [id]\n      )\n\n      // 2. project_budgets ÏÇ≠Ï†ú\n      await query('DELETE FROM project_budgets WHERE project_id = $1', [id])\n\n      // 3. Í∏∞ÌÉÄ Í¥ÄÎ†® Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú\n      await query('DELETE FROM participation_rate_history WHERE project_id = $1', [id])\n      await query('DELETE FROM participation_rates WHERE project_id = $1', [id])\n      await query('DELETE FROM project_members WHERE project_id = $1', [id])\n      await query('DELETE FROM project_milestones WHERE project_id = $1', [id])\n      await query('DELETE FROM project_risks WHERE project_id = $1', [id])\n\n      // 4. rd_projects ÌÖåÏù¥Î∏îÏóêÏÑú ÏÇ≠Ï†ú (Ïô∏ÎûòÌÇ§ Ï†úÏïΩÏ°∞Í±¥ Ìï¥Í≤∞)\n      await query('DELETE FROM rd_projects WHERE project_id = $1', [id])\n\n      // 5. ÎßàÏßÄÎßâÏúºÎ°ú ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú\n      await query('DELETE FROM projects WHERE id = $1', [id])\n\n      await query('COMMIT')\n\n      return json({\n        success: true,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.'\n      })\n    } catch (error) {\n      await query('ROLLBACK')\n      throw error\n    }\n  } catch (error) {\n    logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú Ïã§Ìå®:', error)\n    return json(\n      {\n        success: false,\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/projects/[projectId]/annual-budgets/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/researcher-validation/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [827, 830], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [827, 830], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 103,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 103,
        "endColumn": 112
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 161,
        "column": 23,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 161,
        "endColumn": 68
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 189,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 189,
        "endColumn": 102
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 217,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 217,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5300, 5303], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5300, 5303], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 282,
        "column": 18,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 282,
        "endColumn": 122
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'salaryMultiplier' is not defined.",
        "line": 291,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 291,
        "endColumn": 27
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 323,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 323,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8418, 8421], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8418, 8421], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'project' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 324,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 324,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 324,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 324,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8434, 8437], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8434, 8437], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 367,
        "column": 32,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 367,
        "endColumn": 75
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 380,
        "column": 32,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 380,
        "endColumn": 75
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 395,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 395,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10445, 10448], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10445, 10448], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 438,
        "column": 21,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 438,
        "endColumn": 54
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { getCurrentDateForAPI } from '$lib/utils/date-calculator'\nimport { calculateMonthlySalary } from '$lib/utils/salary-calculator'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\ninterface ValidationResult {\n  isValid: boolean\n  issues: ValidationIssue[]\n  summary: {\n    totalMembers: number\n    validMembers: number\n    invalidMembers: number\n    lastValidated: string\n  }\n}\n\ninterface ValidationIssue {\n  type:\n    | 'contract_missing'\n    | 'contract_period_mismatch'\n    | 'participation_rate_excess'\n    | 'amount_excess'\n    | 'duplicate_participation'\n  severity: 'error' | 'warning' | 'info'\n  message: string\n  memberId: string\n  memberName: string\n  suggestedFix?: string\n  data?: any\n}\n\n// GET: Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù Ïã§Ìñâ\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const projectId = url.searchParams.get('projectId')\n\n    if (!projectId) {\n      return json(\n        {\n          success: false,\n          error: 'ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    logger.log(`üîç [Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ ${projectId} Í≤ÄÏ¶ù ÏãúÏûë`)\n\n    // 1. ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Ï°∞Ìöå\n    const projectResult = await query(\n      `\n\t\t\tSELECT id, title, code, start_date, end_date, budget_total\n\t\t\tFROM projects \n\t\t\tWHERE id = $1\n\t\t`,\n      [projectId]\n    )\n\n    if (projectResult.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const project = projectResult.rows[0]\n\n    // 2. Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Î™©Î°ù Ï°∞Ìöå\n    const membersResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tpm.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN e.first_name ~ '^[Í∞Ä-Ìû£]+$' AND e.last_name ~ '^[Í∞Ä-Ìû£]+$' \n\t\t\t\t\tTHEN CONCAT(e.last_name, e.first_name)\n\t\t\t\t\tELSE CONCAT(e.first_name, ' ', e.last_name)\n\t\t\t\tEND as employee_name,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.email as employee_email,\n\t\t\t\te.department as employee_department,\n\t\t\t\te.position as employee_position\n\t\t\tFROM project_members pm\n\t\t\tJOIN employees e ON pm.employee_id = e.id\n\t\t\tWHERE pm.project_id = $1 AND pm.status = 'active'\n\t\t\tORDER BY pm.created_at DESC\n\t\t`,\n      [projectId]\n    )\n\n    const members = membersResult.rows\n    logger.log(`üìã Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ${members.length}Î™Ö Í≤ÄÏ¶ù ÏãúÏûë`)\n\n    // 3. Í≤ÄÏ¶ù Ïã§Ìñâ\n    const validationResult = await performValidation(project, members)\n\n    logger.log(\n      `‚úÖ [Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù] ÏôÑÎ£å - ${validationResult.isValid ? '‚úÖ ÌÜµÍ≥º' : '‚ùå Ïã§Ìå®'} (${validationResult.issues.length}Í∞ú Ïù¥Ïäà)`\n    )\n\n    return json({\n      success: true,\n      data: {\n        project: {\n          id: project.id,\n          title: project.title,\n          code: project.code\n        },\n        validation: validationResult\n      }\n    })\n  } catch (error) {\n    logger.error('Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù Ïò§Î•ò:', error)\n    return json(\n      {\n        success: false,\n        error: 'Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// POST: ÏûêÎèô ÏàòÏ†ï Ïã§Ìñâ\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { projectId, fixes } = await request.json()\n\n    if (!projectId) {\n      return json(\n        {\n          success: false,\n          error: 'ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    logger.log(`üîß [Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏûêÎèô ÏàòÏ†ï] ÌîÑÎ°úÏ†ùÌä∏ ${projectId} ÏàòÏ†ï ÏãúÏûë`)\n\n    const appliedFixes = []\n\n    // Í∞Å ÏàòÏ†ïÏÇ¨Ìï≠ Ï†ÅÏö©\n    for (const fix of fixes || []) {\n      try {\n        switch (fix.type) {\n          case 'participation_rate_adjustment':\n            await query('UPDATE project_members SET participation_rate = $1 WHERE id = $2', [\n              fix.newValue,\n              fix.memberId\n            ])\n            appliedFixes.push({\n              memberId: fix.memberId,\n              type: fix.type,\n              action: `Ï∞∏Ïó¨Ïú® ${fix.oldValue}% ‚Üí ${fix.newValue}%Î°ú Ï°∞Ï†ï`,\n              success: true\n            })\n            break\n\n          // contract_amount_adjustment ÏºÄÏù¥Ïä§ Ï†úÍ±∞ - Ïã§Ï†ú Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÏóêÏÑú Ï°∞ÌöåÌïòÎØÄÎ°ú Î∂àÌïÑÏöî\n\n          default:\n            appliedFixes.push({\n              memberId: fix.memberId,\n              type: fix.type,\n              action: 'ÏßÄÏõêÌïòÏßÄ ÏïäÎäî ÏàòÏ†ï Ïú†Ìòï',\n              success: false\n            })\n        }\n      } catch (fixError) {\n        logger.error(`ÏàòÏ†ï Ïã§Ìå® (${fix.type}):`, fixError)\n        appliedFixes.push({\n          memberId: fix.memberId,\n          type: fix.type,\n          action: 'ÏàòÏ†ï Ïã§Ìå®',\n          success: false,\n          error: fixError instanceof Error ? fixError.message : 'Unknown error'\n        })\n      }\n    }\n\n    logger.log(\n      `‚úÖ [Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê ÏûêÎèô ÏàòÏ†ï] ÏôÑÎ£å - ${appliedFixes.filter(f => f.success).length}/${appliedFixes.length}Í∞ú ÏÑ±Í≥µ`\n    )\n\n    return json({\n      success: true,\n      data: {\n        appliedFixes,\n        summary: {\n          total: appliedFixes.length,\n          successful: appliedFixes.filter(f => f.success).length,\n          failed: appliedFixes.filter(f => !f.success).length\n        }\n      }\n    })\n  } catch (error) {\n    logger.error('ÏûêÎèô ÏàòÏ†ï Ïò§Î•ò:', error)\n    return json(\n      {\n        success: false,\n        error: 'ÏûêÎèô ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// Í≤ÄÏ¶ù Î°úÏßÅ Ïã§Ìñâ\nasync function performValidation(project: any, members: unknown[]): Promise<ValidationResult> {\n  const issues: ValidationIssue[] = []\n  let validMembers = 0\n\n  for (const member of members) {\n    let memberHasIssues = false\n\n    // 1. Í∑ºÎ°úÍ≥ÑÏïΩÏÑú Í≤ÄÏ¶ù\n    const contractValidation = await validateContract(member, project)\n    if (!contractValidation.isValid) {\n      issues.push(...contractValidation.issues)\n      memberHasIssues = true\n    }\n\n    // 2. Ï∞∏Ïó¨Ïú® Í≤ÄÏ¶ù\n    const participationRate = parseFloat(member.participation_rate) || 0\n    if (participationRate > 100) {\n      issues.push({\n        type: 'participation_rate_excess',\n        severity: 'error',\n        message: `Ï∞∏Ïó¨Ïú®Ïù¥ 100%Î•º Ï¥àÍ≥ºÌï©ÎãàÎã§ (${participationRate}%)`,\n        memberId: member.id,\n        memberName: member.employee_name,\n        suggestedFix: 'Ï∞∏Ïó¨Ïú®ÏùÑ 100% Ïù¥ÌïòÎ°ú Ï°∞Ï†ïÌïòÏÑ∏Ïöî',\n        data: { participationRate }\n      })\n      memberHasIssues = true\n    }\n\n    // 3. ÏõîÍ∞Ñ Í∏àÏï° Í≤ÄÏ¶ù (Í≥ÑÏïΩÏÑú ÎåÄÎπÑ)\n    const monthlyAmount = parseFloat(member.monthly_amount) || 0\n\n    // Ïã§Ï†ú Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÏóêÏÑú Ïó∞Î¥â Í∞ÄÏ†∏Ïò§Í∏∞\n    const contractResult = await query(\n      `\n\t\t\tSELECT sc.annual_salary, sc.monthly_salary, sc.start_date, sc.end_date, sc.status\n\t\t\tFROM salary_contracts sc\n\t\t\tWHERE sc.employee_id = $1\n\t\t\t\tAND sc.status = 'active'\n\t\t\t\tAND (\n\t\t\t\t\t(sc.start_date <= COALESCE($3, CURRENT_DATE) AND (sc.end_date IS NULL OR sc.end_date >= COALESCE($2, CURRENT_DATE)))\n\t\t\t\t\tOR\n\t\t\t\t\t(COALESCE($2, CURRENT_DATE) <= sc.start_date AND COALESCE($3, CURRENT_DATE) >= sc.start_date)\n\t\t\t\t)\n\t\t\tORDER BY sc.start_date DESC\n\t\t\tLIMIT 1\n\t\t`,\n      [member.employee_id, member.start_date, member.end_date]\n    )\n\n    let contractAmount = 0\n    if (contractResult.rows.length > 0) {\n      // ÏõîÍ∏âÏù¥ ÏûàÏúºÎ©¥ ÏõîÍ∏â Í∏∞Ï§Ä, ÏóÜÏúºÎ©¥ Ïó∞Î¥â/12 Í∏∞Ï§Ä\n      const contract = contractResult.rows[0]\n      contractAmount = contract.monthly_salary || contract.annual_salary / 12\n    }\n\n    // ÏòàÏÉÅ ÏõîÍ∞Ñ Í∏àÏï° Í≥ÑÏÇ∞\n    const expectedMonthlyAmount = calculateMonthlySalary(contractAmount, participationRate)\n\n    if (monthlyAmount > expectedMonthlyAmount * 1.1) {\n      // 10% ÌóàÏö© Ïò§Ï∞®\n      issues.push({\n        type: 'amount_excess',\n        severity: 'warning',\n        message: `ÏõîÍ∞Ñ Í∏àÏï°Ïù¥ ÏòàÏÉÅ Í∏àÏï°ÏùÑ Ï¥àÍ≥ºÌï©ÎãàÎã§ (${monthlyAmount.toLocaleString()}Ïõê vs ${expectedMonthlyAmount.toLocaleString()}Ïõê)`,\n        memberId: member.id,\n        memberName: member.employee_name,\n        suggestedFix: 'Í≥ÑÏïΩ Í∏àÏï° ÎòêÎäî Ï∞∏Ïó¨Ïú®ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî',\n        data: {\n          monthlyAmount,\n          expectedMonthlyAmount,\n          contractAmount,\n          participationRate,\n          salaryMultiplier\n        }\n      })\n      memberHasIssues = true\n    }\n\n    // 4. Ï§ëÎ≥µ Ï∞∏Ïó¨ Í≤ÄÏ¶ù (ÎèôÏùº Í∏∞Í∞ÑÏóê Ïó¨Îü¨ ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨)\n    const duplicateValidation = await validateDuplicateParticipation(member)\n    if (!duplicateValidation.isValid) {\n      issues.push(...duplicateValidation.issues)\n      memberHasIssues = true\n    }\n\n    if (!memberHasIssues) {\n      validMembers++\n    }\n  }\n\n  return {\n    isValid: issues.length === 0,\n    issues,\n    summary: {\n      totalMembers: members.length,\n      validMembers,\n      invalidMembers: members.length - validMembers,\n      lastValidated: getCurrentDateForAPI()\n    }\n  }\n}\n\n// Í∑ºÎ°úÍ≥ÑÏïΩÏÑú Í≤ÄÏ¶ù\nasync function validateContract(\n  member: any,\n  project: any\n): Promise<{ isValid: boolean; issues: ValidationIssue[] }> {\n  const issues: ValidationIssue[] = []\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÍ≥º Í≤πÏπòÎäî Í≥ÑÏïΩÏÑú Ï°∞Ìöå\n  const contractResult = await query(\n    `\n\t\tSELECT sc.annual_salary, sc.monthly_salary, sc.start_date, sc.end_date, sc.status\n\t\tFROM salary_contracts sc\n\t\tWHERE sc.employee_id = $1\n\t\t\tAND sc.status = 'active'\n\t\t\tAND (\n\t\t\t\t(sc.start_date <= COALESCE($3, CURRENT_DATE) AND (sc.end_date IS NULL OR sc.end_date >= COALESCE($2, CURRENT_DATE)))\n\t\t\t\tOR\n\t\t\t\t(COALESCE($2, CURRENT_DATE) <= sc.start_date AND COALESCE($3, CURRENT_DATE) >= sc.start_date)\n\t\t\t)\n\t\tORDER BY sc.start_date DESC\n\t\tLIMIT 1\n\t`,\n    [member.employee_id, member.start_date, member.end_date]\n  )\n\n  if (contractResult.rows.length === 0) {\n    // Í≥ÑÏïΩÏÑúÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞\n    const allContractsResult = await query(\n      `\n\t\t\tSELECT sc.start_date, sc.end_date, sc.annual_salary, sc.status\n\t\t\tFROM salary_contracts sc\n\t\t\tWHERE sc.employee_id = $1\n\t\t\tORDER BY sc.start_date DESC\n\t\t`,\n      [member.employee_id]\n    )\n\n    if (allContractsResult.rows.length === 0) {\n      issues.push({\n        type: 'contract_missing',\n        severity: 'error',\n        message: 'Ìï¥Îãπ Í∏∞Í∞ÑÏùò Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÍ∞Ä ÏóÜÏäµÎãàÎã§',\n        memberId: member.id,\n        memberName: member.employee_name,\n        suggestedFix: 'Í∏âÏó¨ Í≥ÑÏïΩÏÑúÎ•º Îì±Î°ùÌïòÍ±∞ÎÇò ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÏùÑ Ï°∞Ï†ïÌïòÏÑ∏Ïöî',\n        data: {\n          participationPeriod: `${member.start_date} ~ ${member.end_date}`,\n          contracts: []\n        }\n      })\n    } else {\n      issues.push({\n        type: 'contract_period_mismatch',\n        severity: 'error',\n        message: 'ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÏóê Ìï¥ÎãπÌïòÎäî Í∑ºÎ°úÍ≥ÑÏïΩÏÑúÍ∞Ä ÏóÜÏäµÎãàÎã§',\n        memberId: member.id,\n        memberName: member.employee_name,\n        suggestedFix: 'Í∑ºÎ°úÍ≥ÑÏïΩÏÑú Í∏∞Í∞ÑÏùÑ ÌôïÏù∏ÌïòÍ±∞ÎÇò ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Í∏∞Í∞ÑÏùÑ Ï°∞Ï†ïÌïòÏÑ∏Ïöî',\n        data: {\n          participationPeriod: `${member.start_date} ~ ${member.end_date}`,\n          contracts: allContractsResult.rows\n        }\n      })\n    }\n  }\n\n  return {\n    isValid: issues.length === 0,\n    issues\n  }\n}\n\n// Ï§ëÎ≥µ Ï∞∏Ïó¨ Í≤ÄÏ¶ù\nasync function validateDuplicateParticipation(\n  member: any\n): Promise<{ isValid: boolean; issues: ValidationIssue[] }> {\n  const issues: ValidationIssue[] = []\n\n  // ÎèôÏùº ÏßÅÏõêÏùò Îã§Î•∏ ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨ Ï°∞Ìöå\n  const duplicateResult = await query(\n    `\n\t\tSELECT pm.id, pm.project_id, pm.start_date, pm.end_date, pm.participation_rate,\n\t\t\t   p.title as project_title\n\t\tFROM project_members pm\n\t\tJOIN projects p ON pm.project_id = p.id\n\t\tWHERE pm.employee_id = $1 \n\t\t\tAND pm.id != $2\n\t\t\tAND pm.status = 'active'\n\t\t\tAND (\n\t\t\t\t(pm.start_date <= COALESCE($4, CURRENT_DATE) AND (pm.end_date IS NULL OR pm.end_date >= COALESCE($3, CURRENT_DATE)))\n\t\t\t\tOR\n\t\t\t\t(COALESCE($3, CURRENT_DATE) <= pm.start_date AND COALESCE($4, CURRENT_DATE) >= pm.start_date)\n\t\t\t)\n\t`,\n    [member.employee_id, member.id, member.start_date, member.end_date]\n  )\n\n  if (duplicateResult.rows.length > 0) {\n    // Ï∞∏Ïó¨Ïú® Ìï©Í≥Ñ Í≥ÑÏÇ∞\n    const totalParticipationRate =\n      duplicateResult.rows.reduce((sum, p) => sum + (parseFloat(p.participation_rate) || 0), 0) +\n      (parseFloat(member.participation_rate) || 0)\n\n    if (totalParticipationRate > 100) {\n      issues.push({\n        type: 'duplicate_participation',\n        severity: 'error',\n        message: `ÎèôÏùº Í∏∞Í∞ÑÏóê Ïó¨Îü¨ ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨Ïú® Ìï©Í≥ÑÍ∞Ä 100%Î•º Ï¥àÍ≥ºÌï©ÎãàÎã§ (${totalParticipationRate.toFixed(1)}%)`,\n        memberId: member.id,\n        memberName: member.employee_name,\n        suggestedFix: 'Ï∞∏Ïó¨Ïú®ÏùÑ Ï°∞Ï†ïÌïòÍ±∞ÎÇò Ï∞∏Ïó¨ Í∏∞Í∞ÑÏùÑ Î≥ÄÍ≤ΩÌïòÏÑ∏Ïöî',\n        data: {\n          totalParticipationRate,\n          conflictingProjects: duplicateResult.rows.map(p => ({\n            projectId: p.project_id,\n            projectTitle: p.project_title,\n            participationRate: parseFloat(p.participation_rate) || 0,\n            period: `${p.start_date} ~ ${p.end_date}`\n          }))\n        }\n      })\n    }\n  }\n\n  return {\n    isValid: issues.length === 0,\n    issues\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/schema-validation/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 52,
        "column": 22,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 52,
        "endColumn": 46
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 71,
        "column": 20,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 71,
        "endColumn": 44
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 117,
        "column": 20,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 117,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { SchemaValidator } from '$lib/utils/schema-validation'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const validationType = url.searchParams.get('type') || 'all'\n\n    logger.log(`üîç [Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù] ${validationType} Í≤ÄÏ¶ù ÏãúÏûë`)\n\n    const results: unknown[] = []\n    const summary = {\n      total: 0,\n      valid: 0,\n      invalid: 0,\n      issues: [] as string[]\n    }\n\n    // 1. Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù\n    if (validationType === 'all' || validationType === 'schema') {\n      logger.log('üìã [Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù] ÏãúÏûë')\n      const schemaResults = await SchemaValidator.validateDatabaseSchema()\n      results.push(\n        ...schemaResults.map(result => ({\n          ...result,\n          validationType: 'schema'\n        }))\n      )\n    }\n\n    // 2. ÏπºÎüºÎ™Ö ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\n    if (validationType === 'all' || validationType === 'naming') {\n      logger.log('üìù [ÏπºÎüºÎ™Ö ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù] ÏãúÏûë')\n      const namingResults = await SchemaValidator.validateColumnNamingConsistency()\n      results.push(\n        ...namingResults.map(result => ({\n          ...result,\n          validationType: 'naming'\n        }))\n      )\n    }\n\n    // 3. Ïä§ÌÇ§Îßà Í∑úÏπô Ï°∞Ìöå\n    if (validationType === 'rules') {\n      logger.log('üìö [Ïä§ÌÇ§Îßà Í∑úÏπô Ï°∞Ìöå] ÏãúÏûë')\n      const rules = SchemaValidator.getSchemaRules()\n      return json({\n        success: true,\n        validationType: 'rules',\n        rules,\n        generatedAt: new Date().toISOString()\n      })\n    }\n\n    // Í≤∞Í≥º ÏöîÏïΩ\n    summary.total = results.length\n    summary.valid = results.filter(r => r.isValid).length\n    summary.invalid = results.filter(r => !r.isValid).length\n    summary.issues = results.filter(r => !r.isValid).flatMap(r => r.issues)\n\n    logger.log(\n      `‚úÖ [Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù] ÏôÑÎ£å - ${summary.valid}/${summary.total}Í∞ú ÌÜµÍ≥º, ${summary.invalid}Í∞ú Î¨∏Ï†ú`\n    )\n\n    return json({\n      success: true,\n      validationType,\n      results,\n      summary,\n      generatedAt: new Date().toISOString()\n    })\n  } catch (error) {\n    logger.error('Schema validation error:', error)\n    return json(\n      {\n        success: false,\n        error: 'Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { query, tableName, validationType = 'query' } = await request.json()\n\n    if (!query || !tableName) {\n      return json({ error: 'ÏøºÎ¶¨ÏôÄ ÌÖåÏù¥Î∏îÎ™ÖÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n    }\n\n    logger.log(`üîç [ÏøºÎ¶¨ Í≤ÄÏ¶ù] ÌÖåÏù¥Î∏î ${tableName} ÏøºÎ¶¨ Í≤ÄÏ¶ù ÏãúÏûë`)\n\n    // ÏøºÎ¶¨ ÏπºÎüº Í≤ÄÏ¶ù\n    const results = SchemaValidator.validateQueryColumns(query, tableName)\n\n    const summary = {\n      total: results.length,\n      valid: results.filter(r => r.isValid).length,\n      invalid: results.filter(r => !r.isValid).length,\n      issues: results.filter(r => !r.isValid).flatMap(r => r.issues)\n    }\n\n    logger.log(\n      `‚úÖ [ÏøºÎ¶¨ Í≤ÄÏ¶ù] ÏôÑÎ£å - ${summary.valid}/${summary.total}Í∞ú ÌÜµÍ≥º, ${summary.invalid}Í∞ú Î¨∏Ï†ú`\n    )\n\n    return json({\n      success: true,\n      validationType,\n      query,\n      tableName,\n      results,\n      summary,\n      generatedAt: new Date().toISOString()\n    })\n  } catch (error) {\n    logger.error('Query validation error:', error)\n    return json(\n      {\n        success: false,\n        error: 'ÏøºÎ¶¨ Í≤ÄÏ¶ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/setup-evidence/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/setup-global-factors/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/setup/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/simple-validation/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 91,
        "column": 46,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 91,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2528, 2531], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2528, 2531], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 170,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 170,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4930, 4933], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4930, 4933], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 202,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 202,
        "endColumn": 106
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 208,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 208,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5981, 5984], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5981, 5984], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 239,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 239,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6629, 6632], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6629, 6632], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { json } from '@sveltejs/kit'\nimport { Pool } from 'pg'\nimport type { RequestHandler } from './$types'\nimport { logger } from '$lib/utils/logger';\n\nconst pool = new Pool({\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: { rejectUnauthorized: false }\n})\n\n// Í∞ÑÎã®Ìïú ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Ìï®Ïàò\nasync function validateProject(projectId: string): Promise<{\n  success: boolean\n  results: unknown[]\n  errors: string[]\n  fixedIssues: number\n}> {\n  const client = await pool.connect()\n  const results: unknown[] = []\n  const errors: string[] = []\n  let fixedIssues = 0\n\n  try {\n    logger.log(`üîç [Í∞ÑÎã® Í≤ÄÏ¶ù] ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù ÏãúÏûë: ${projectId}`)\n\n    await client.query('BEGIN')\n\n    // 1. Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù Î∞è ÏàòÏ†ï\n    logger.log('üîç [Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù] ÏãúÏûë')\n    const personnelResult = await validatePersonnelCost(client, projectId)\n    results.push(personnelResult)\n\n    if (personnelResult.hasIssues) {\n      logger.log('üîß [Ïù∏Í±¥ÎπÑ ÏàòÏ†ï] ÏûêÎèô ÏàòÏ†ï ÏãúÏûë')\n      const fixResult = await fixPersonnelCost(client, projectId, personnelResult.issues)\n      if (fixResult.success) {\n        fixedIssues += fixResult.fixedCount\n        logger.log(`‚úÖ [Ïù∏Í±¥ÎπÑ ÏàòÏ†ï] ÏôÑÎ£å: ${fixResult.fixedCount}Í∞ú Ïó∞Ï∞® ÏàòÏ†ï`)\n      } else {\n        errors.push(`Ïù∏Í±¥ÎπÑ ÏàòÏ†ï Ïã§Ìå®: ${fixResult.error}`)\n      }\n    }\n\n    // 2. ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù Î∞è ÏàòÏ†ï\n    logger.log('üîç [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù] ÏãúÏûë')\n    const budgetResult = await validateBudgetConsistency(client, projectId)\n    results.push(budgetResult)\n\n    if (budgetResult.hasIssues) {\n      logger.log('üîß [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± ÏàòÏ†ï] ÏûêÎèô ÏàòÏ†ï ÏãúÏûë')\n      const fixResult = await fixBudgetConsistency(client, projectId, budgetResult.issues)\n      if (fixResult.success) {\n        fixedIssues += fixResult.fixedCount\n        logger.log(`‚úÖ [ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± ÏàòÏ†ï] ÏôÑÎ£å: ${fixResult.fixedCount}Í∞ú Ïù¥Ïäà ÏàòÏ†ï`)\n      } else {\n        errors.push(`ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± ÏàòÏ†ï Ïã§Ìå®: ${fixResult.error}`)\n      }\n    }\n\n    await client.query('COMMIT')\n    logger.log(`‚úÖ [Í∞ÑÎã® Í≤ÄÏ¶ù] ÏôÑÎ£å - ${fixedIssues}Í∞ú Ïù¥Ïäà ÏàòÏ†ïÎê®`)\n\n    return {\n      success: errors.length === 0,\n      results: results,\n      errors: errors,\n      fixedIssues: fixedIssues\n    }\n  } catch (error) {\n    await client.query('ROLLBACK')\n    const errorMsg = `ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏ¶ù Ïã§Ìå®: ${error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'}`\n    logger.error(`üí• ${errorMsg}`)\n    errors.push(errorMsg)\n\n    return {\n      success: false,\n      results: results,\n      errors: errors,\n      fixedIssues: fixedIssues\n    }\n  } finally {\n    client.release()\n  }\n}\n\n// Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù\nasync function validatePersonnelCost(client: any, projectId: string) {\n  const budgetResult = await client.query(\n    `\n\t\tSELECT * FROM project_budgets \n\t\tWHERE project_id = $1 \n\t\tORDER BY period_number\n\t`,\n    [projectId]\n  )\n\n  const memberResult = await client.query(\n    `\n\t\tSELECT pm.*, e.first_name, e.last_name\n\t\tFROM project_members pm\n\t\tLEFT JOIN employees e ON pm.employee_id = e.id\n\t\tWHERE pm.project_id = $1\n\t\tORDER BY pm.start_date\n\t`,\n    [projectId]\n  )\n\n  const issues = []\n\n  for (const budget of budgetResult.rows) {\n    const budgetStartDate = new Date(budget.start_date)\n    const budgetEndDate = new Date(budget.end_date)\n\n    // Ìï¥Îãπ Ïó∞Ï∞®Ïóê Ï∞∏Ïó¨ÌïòÎäî Ïó∞Íµ¨ÏõêÎì§ ÌïÑÌÑ∞ÎßÅ\n    const periodMembers = memberResult.rows.filter(member => {\n      const memberStartDate = new Date(member.start_date)\n      const memberEndDate = new Date(member.end_date)\n      return memberStartDate <= budgetEndDate && memberEndDate >= budgetStartDate\n    })\n\n    // Ïã§Ï†ú Ïù∏Í±¥ÎπÑ Í≥ÑÏÇ∞\n    let actualPersonnelCost = 0\n    for (const member of periodMembers) {\n      const memberStartDate = new Date(member.start_date)\n      const memberEndDate = new Date(member.end_date)\n\n      const actualStartDate = memberStartDate > budgetStartDate ? memberStartDate : budgetStartDate\n      const actualEndDate = memberEndDate < budgetEndDate ? memberEndDate : budgetEndDate\n\n      const monthsDiff =\n        (actualEndDate.getFullYear() - actualStartDate.getFullYear()) * 12 +\n        (actualEndDate.getMonth() - actualStartDate.getMonth()) +\n        1\n\n      const monthlyAmount = parseFloat(member.monthly_amount) || 0\n      const participationRate = parseFloat(member.participation_rate) || 0\n\n      actualPersonnelCost += monthlyAmount * monthsDiff * (participationRate / 100)\n    }\n\n    const budgetPersonnelCost = parseFloat(budget.personnel_cost) || 0\n    const difference = Math.abs(actualPersonnelCost - budgetPersonnelCost)\n\n    if (difference > 1000) {\n      // 1000Ïõê ÌóàÏö© Ïò§Ï∞®\n      issues.push({\n        periodNumber: budget.period_number,\n        budgetPersonnelCost: budgetPersonnelCost,\n        actualPersonnelCost: actualPersonnelCost,\n        difference: difference,\n        periodId: budget.id\n      })\n    }\n  }\n\n  return {\n    validationType: 'personnel_cost',\n    hasIssues: issues.length > 0,\n    issues: issues,\n    message:\n      issues.length > 0 ? `${issues.length}Í∞ú Ïó∞Ï∞®ÏóêÏÑú Ïù∏Í±¥ÎπÑ Î∂àÏùºÏπò Î∞úÍ≤¨` : 'Ïù∏Í±¥ÎπÑ Í≤ÄÏ¶ù ÌÜµÍ≥º'\n  }\n}\n\n// ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\nasync function validateBudgetConsistency(client: any, projectId: string) {\n  const projectResult = await client.query('SELECT budget_total FROM projects WHERE id = $1', [\n    projectId\n  ])\n  const budgetResult = await client.query(\n    `\n\t\tSELECT SUM(total_budget) as total_budget_sum\n\t\tFROM project_budgets \n\t\tWHERE project_id = $1\n\t`,\n    [projectId]\n  )\n\n  const projectTotal = parseFloat(projectResult.rows[0]?.budget_total) || 0\n  const budgetSum = parseFloat(budgetResult.rows[0]?.total_budget_sum) || 0\n  const difference = Math.abs(projectTotal - budgetSum)\n\n  const hasIssues = difference > 1000 // 1000Ïõê ÌóàÏö© Ïò§Ï∞®\n\n  return {\n    validationType: 'budget_consistency',\n    hasIssues: hasIssues,\n    issues: hasIssues\n      ? [\n          {\n            projectTotal: projectTotal,\n            budgetSum: budgetSum,\n            difference: difference\n          }\n        ]\n      : [],\n    message: hasIssues\n      ? `ÏòàÏÇ∞ Î∂àÏùºÏπò: ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞ ${projectTotal.toLocaleString()}Ïõê vs Ïó∞Ï∞®Î≥Ñ ÏòàÏÇ∞ Ìï©Í≥Ñ ${budgetSum.toLocaleString()}Ïõê`\n      : 'ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù ÌÜµÍ≥º'\n  }\n}\n\n// Ïù∏Í±¥ÎπÑ ÏûêÎèô ÏàòÏ†ï\nasync function fixPersonnelCost(client: any, projectId: string, issues: unknown[]) {\n  try {\n    let fixedCount = 0\n\n    for (const issue of issues) {\n      await client.query(\n        `\n\t\t\t\tUPDATE project_budgets \n\t\t\t\tSET personnel_cost = $1, updated_at = CURRENT_TIMESTAMP\n\t\t\t\tWHERE id = $2\n\t\t\t`,\n        [issue.actualPersonnelCost, issue.periodId]\n      )\n      fixedCount++\n    }\n\n    return {\n      success: true,\n      fixedCount: fixedCount,\n      error: null\n    }\n  } catch (error) {\n    return {\n      success: false,\n      fixedCount: 0,\n      error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n    }\n  }\n}\n\n// ÏòàÏÇ∞ ÏùºÍ¥ÄÏÑ± ÏûêÎèô ÏàòÏ†ï\nasync function fixBudgetConsistency(client: any, projectId: string, issues: unknown[]) {\n  try {\n    let fixedCount = 0\n\n    for (const issue of issues) {\n      await client.query(\n        `\n\t\t\t\tUPDATE projects \n\t\t\t\tSET budget_total = $1, updated_at = CURRENT_TIMESTAMP\n\t\t\t\tWHERE id = $2\n\t\t\t`,\n        [issue.budgetSum, projectId]\n      )\n      fixedCount++\n    }\n\n    return {\n      success: true,\n      fixedCount: fixedCount,\n      error: null\n    }\n  } catch (error) {\n    return {\n      success: false,\n      fixedCount: 0,\n      error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n    }\n  }\n}\n\n// API ÏóîÎìúÌè¨Ïù∏Ìä∏Îì§\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    const projectId = url.searchParams.get('projectId')\n\n    if (!projectId) {\n      return json({ success: false, error: 'ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n    }\n\n    const result = await validateProject(projectId)\n    return json(result)\n  } catch (error) {\n    logger.error('üí• [Í∞ÑÎã® Í≤ÄÏ¶ù] GET Ïò§Î•ò:', error)\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const { projectId } = await request.json()\n\n    if (!projectId) {\n      return json({ success: false, error: 'ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.' }, { status: 400 })\n    }\n\n    const result = await validateProject(projectId)\n    return json(result)\n  } catch (error) {\n    logger.error('üí• [Í∞ÑÎã® Í≤ÄÏ¶ù] POST Ïò§Î•ò:', error)\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/project-management/summary/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/projects/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/projects/[id]/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/projects/upload/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 52,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 52,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1490, 1493], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1490, 1493], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 99,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 99,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2841, 2844], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2841, 2844], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 114,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 114,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3240, 3243], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3240, 3243], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 124,
        "column": 25,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 124,
        "endColumn": 86
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 128,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 128,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3717, 3720], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3717, 3720], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 137,
        "column": 25,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 137,
        "endColumn": 75
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 141,
        "column": 25,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 141,
        "endColumn": 75
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 153,
        "column": 27,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 153,
        "endColumn": 75
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection.js'\nimport {\n  formatDateForDisplay,\n  getCurrentUTC,\n  isValidDate,\n  isValidDateRange,\n  toUTC\n} from '$lib/utils/date-handler'\nimport { json } from '@sveltejs/kit'\nimport * as ExcelJS from 'exceljs'\nimport { logger } from '$lib/utils/logger';\n\nexport async function POST({ request }) {\n  try {\n    const formData = await request.formData()\n    const file = formData.get('file') as File\n\n    if (!file) {\n      return json({ error: 'ÌååÏùºÏù¥ ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.' }, { status: 400 })\n    }\n\n    // ÌååÏùº ÌôïÏû•Ïûê ÌôïÏù∏\n    const fileName = file.name.toLowerCase()\n    const isExcel = fileName.endsWith('.xlsx') || fileName.endsWith('.xls')\n    const isCSV = fileName.endsWith('.csv')\n\n    let data: unknown[] = []\n    let headers: string[] = []\n\n    if (isExcel) {\n      // Excel ÌååÏùº ÌååÏã±\n      const buffer = await file.arrayBuffer()\n      const workbook = new ExcelJS.Workbook()\n      await workbook.xlsx.load(buffer)\n\n      const worksheet = workbook.worksheets[0]\n      if (!worksheet) {\n        return json({ error: 'Excel ÌååÏùºÏóê ÏõåÌÅ¨ÏãúÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.' }, { status: 400 })\n      }\n\n      const rows = worksheet.getRows()\n      if (!rows || rows.length < 2) {\n        return json({ error: 'ÌååÏùºÏóê Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.' }, { status: 400 })\n      }\n\n      // Ìó§Îçî Ï∂îÏ∂ú (Ï≤´ Î≤àÏß∏ Ìñâ)\n      headers = rows[0].values.slice(1) as string[] // ExcelJSÎäî 1-based indexing\n      logger.log('ÌîÑÎ°úÏ†ùÌä∏ Excel ÌååÏã±Îêú Ìó§Îçî:', headers)\n\n      // Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\n      data = rows.slice(1).map((row, index) => {\n        const rowData: any = {}\n        const rowValues = row.values.slice(1) as unknown[] // ExcelJSÎäî 1-based indexing\n        headers.forEach((header, headerIndex) => {\n          rowData[header] = rowValues[headerIndex] || ''\n        })\n        logger.log(`ÌîÑÎ°úÏ†ùÌä∏ Excel Ìñâ ${index + 2} ÌååÏã± Í≤∞Í≥º:`, rowData)\n        return rowData\n      })\n    } else if (isCSV) {\n      // CSV ÌååÏùº ÌååÏã±\n      const text = await file.text()\n      const lines = text.split('\\n').filter(line => line.trim())\n\n      if (lines.length < 2) {\n        return json({ error: 'ÌååÏùºÏóê Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.' }, { status: 400 })\n      }\n\n      // CSV ÌååÏã± Ìï®Ïàò\n      function parseCSVLine(line: string): string[] {\n        const result: string[] = []\n        let current = ''\n        let inQuotes = false\n\n        for (let i = 0; i < line.length; i++) {\n          const char = line[i]\n\n          if (char === '\"') {\n            inQuotes = !inQuotes\n          } else if (char === ',' && !inQuotes) {\n            result.push(current.trim())\n            current = ''\n          } else {\n            current += char\n          }\n        }\n\n        result.push(current.trim())\n        return result\n      }\n\n      // Ìó§Îçî ÌååÏã±\n      headers = parseCSVLine(lines[0])\n      logger.log('ÌîÑÎ°úÏ†ùÌä∏ CSV ÌååÏã±Îêú Ìó§Îçî:', headers)\n\n      // Îç∞Ïù¥ÌÑ∞ ÌååÏã±\n      data = lines.slice(1).map((line, index) => {\n        const values = parseCSVLine(line)\n        const row: any = {}\n        headers.forEach((header, headerIndex) => {\n          row[header] = values[headerIndex] || ''\n        })\n        logger.log(`ÌîÑÎ°úÏ†ùÌä∏ CSV Ìñâ ${index + 2} ÌååÏã± Í≤∞Í≥º:`, row)\n        return row\n      })\n    } else {\n      return json(\n        { error: 'ÏßÄÏõêÌïòÏßÄ ÏïäÎäî ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§. CSV ÎòêÎäî Excel ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌï¥Ï£ºÏÑ∏Ïöî.' },\n        { status: 400 }\n      )\n    }\n\n    // Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Î∞è Î≥ÄÌôò\n    const projects = data.map((row: any, index: number) => {\n      const rowNumber = index + 2 // Ìó§Îçî ÌñâÏùÑ Í≥†Î†§ÌïòÏó¨ +2\n\n      // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n      const requiredFields = ['ÌîÑÎ°úÏ†ùÌä∏Î™Ö', 'ÏãúÏûëÏùº', 'Ï¢ÖÎ£åÏùº']\n      const missingFields = requiredFields.filter(\n        field => !row[field] || String(row[field]).trim() === ''\n      )\n\n      if (missingFields.length > 0) {\n        throw new Error(`Ìñâ ${rowNumber}: ÌïÑÏàò ÌïÑÎìúÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§: ${missingFields.join(', ')}`)\n      }\n\n      // ÎÇ†Ïßú Í≤ÄÏ¶ù (Excel ÎÇ†Ïßú ÏßÄÏõê)\n      const parseExcelDate = (dateValue: any): Date => {\n        const utcDate = toUTC(dateValue)\n        return new Date(utcDate)\n      }\n\n      const startDate = parseExcelDate(row['ÏãúÏûëÏùº'])\n      const endDate = parseExcelDate(row['Ï¢ÖÎ£åÏùº'])\n\n      if (!isValidDate(startDate)) {\n        throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ ÏãúÏûëÏùº ÌòïÏãùÏûÖÎãàÎã§: ${row['ÏãúÏûëÏùº']}`)\n      }\n\n      if (!isValidDate(endDate)) {\n        throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Ï¢ÖÎ£åÏùº ÌòïÏãùÏûÖÎãàÎã§: ${row['Ï¢ÖÎ£åÏùº']}`)\n      }\n\n      if (!isValidDateRange(startDate, endDate)) {\n        throw new Error(`Ìñâ ${rowNumber}: ÏãúÏûëÏùºÏùÄ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Ïù¥Ï†ÑÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.`)\n      }\n\n      // ÏòàÏÇ∞ Í≤ÄÏ¶ù\n      let budget = 0\n      if (row['ÏòàÏÇ∞'] && String(row['ÏòàÏÇ∞']).trim() !== '') {\n        budget = parseFloat(String(row['ÏòàÏÇ∞']))\n        if (isNaN(budget) || budget < 0) {\n          throw new Error(`Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ ÏòàÏÇ∞ ÌòïÏãùÏûÖÎãàÎã§: ${row['ÏòàÏÇ∞']}`)\n        }\n      }\n\n      // ÏÉÅÌÉú Í≤ÄÏ¶ù\n      const validStatuses = ['planning', 'active', 'completed', 'cancelled', 'on_hold']\n      const status = row['ÏÉÅÌÉú'] || 'planning'\n      if (!validStatuses.includes(status)) {\n        throw new Error(\n          `Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ ÏÉÅÌÉúÏûÖÎãàÎã§: ${status}. ÌóàÏö©Îêú Í∞í: ${validStatuses.join(', ')}`\n        )\n      }\n\n      // Ïπ¥ÌÖåÍ≥†Î¶¨ Í≤ÄÏ¶ù\n      const validCategories = ['development', 'research', 'infrastructure', 'maintenance', 'other']\n      const category = row['Ïπ¥ÌÖåÍ≥†Î¶¨'] || 'development'\n      if (!validCategories.includes(category)) {\n        throw new Error(\n          `Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Ïπ¥ÌÖåÍ≥†Î¶¨ÏûÖÎãàÎã§: ${category}. ÌóàÏö©Îêú Í∞í: ${validCategories.join(', ')}`\n        )\n      }\n\n      // Ïö∞ÏÑ†ÏàúÏúÑ Í≤ÄÏ¶ù\n      const validPriorities = ['low', 'medium', 'high', 'urgent']\n      const priority = row['Ïö∞ÏÑ†ÏàúÏúÑ'] || 'medium'\n      if (!validPriorities.includes(priority)) {\n        throw new Error(\n          `Ìñâ ${rowNumber}: Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Ïö∞ÏÑ†ÏàúÏúÑÏûÖÎãàÎã§: ${priority}. ÌóàÏö©Îêú Í∞í: ${validPriorities.join(', ')}`\n        )\n      }\n\n      // ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú ÏÉùÏÑ± (ÌîÑÎ°úÏ†ùÌä∏Î™Ö Í∏∞Î∞ò + ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ)\n      const projectName = String(row['ÌîÑÎ°úÏ†ùÌä∏Î™Ö']).trim()\n      const timestamp = Date.now().toString().slice(-6)\n      const random = Math.random().toString(36).substr(2, 4)\n      const projectCode =\n        projectName.replace(/[^a-zA-Z0-9Í∞Ä-Ìû£]/g, '').substring(0, 15) +\n        '_' +\n        timestamp +\n        '_' +\n        random\n\n      return {\n        code: projectCode,\n        title: projectName,\n        description: row['ÏÑ§Î™Ö'] ? String(row['ÏÑ§Î™Ö']).trim() : '',\n        start_date: formatDateForDisplay(toUTC(startDate), 'ISO'),\n        end_date: formatDateForDisplay(toUTC(endDate), 'ISO'),\n        budget_total: budget,\n        status: status,\n        sponsor: row['Îã¥ÎãπÏûê'] ? String(row['Îã¥ÎãπÏûê']).trim() : '',\n        sponsor_type: 'internal',\n        created_at: getCurrentUTC(),\n        updated_at: getCurrentUTC()\n      }\n    })\n\n    // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ÄÏû•\n    let successCount = 0\n\n    for (const project of projects) {\n      try {\n        // UPSERT: ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìúÍ∞Ä Ï°¥Ïû¨ÌïòÎ©¥ UPDATE, ÏóÜÏúºÎ©¥ INSERT\n        await query(\n          `\n\t\t\t\t\tINSERT INTO projects (\n\t\t\t\t\t\tcode, title, description, start_date, end_date, \n\t\t\t\t\t\tbudget_total, status, sponsor, sponsor_type, \n\t\t\t\t\t\tcreated_at, updated_at\n\t\t\t\t\t) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n\t\t\t\t\tON CONFLICT (code) \n\t\t\t\t\tDO UPDATE SET\n\t\t\t\t\t\ttitle = EXCLUDED.title,\n\t\t\t\t\t\tdescription = EXCLUDED.description,\n\t\t\t\t\t\tstart_date = EXCLUDED.start_date,\n\t\t\t\t\t\tend_date = EXCLUDED.end_date,\n\t\t\t\t\t\tbudget_total = EXCLUDED.budget_total,\n\t\t\t\t\t\tstatus = EXCLUDED.status,\n\t\t\t\t\t\tsponsor = EXCLUDED.sponsor,\n\t\t\t\t\t\tsponsor_type = EXCLUDED.sponsor_type,\n\t\t\t\t\t\tupdated_at = EXCLUDED.updated_at\n\t\t\t\t`,\n          [\n            project.code,\n            project.title,\n            project.description,\n            project.start_date,\n            project.end_date,\n            project.budget_total,\n            project.status,\n            project.sponsor,\n            project.sponsor_type,\n            project.created_at,\n            project.updated_at\n          ]\n        )\n        successCount++\n      } catch (error) {\n        logger.error('ÌîÑÎ°úÏ†ùÌä∏ Ï†ÄÏû• Ïã§Ìå®:', error)\n      }\n    }\n\n    return json({\n      success: true,\n      count: successCount,\n      total: projects.length,\n      message: `${successCount}Í∞úÏùò ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.`\n    })\n  } catch (error) {\n    logger.error('ÏóÖÎ°úÎìú ÏóêÎü¨:', error)\n    return json(\n      {\n        error: error instanceof Error ? error.message : 'ÏóÖÎ°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/contracts/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 167,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 167,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 242,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 242,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Í∏âÏó¨ Í≥ÑÏïΩ Í¥ÄÎ¶¨ API ÏóîÎìúÌè¨Ïù∏Ìä∏\n\nimport { query } from '$lib/database/connection.js'\nimport type {\n  CreateSalaryContractRequest,\n  PaginatedResponse,\n  SalaryContract\n} from '$lib/types/salary-contracts'\nimport { formatDateForDisplay, toUTC } from '$lib/utils/date-handler.js'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\n\n// GET: Í∏âÏó¨ Í≥ÑÏïΩ Î™©Î°ù Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ url }) => {\n  try {\n    // ÏøºÎ¶¨ ÌååÎùºÎØ∏ÌÑ∞ ÌååÏã±\n    const page = parseInt(url.searchParams.get('page') || '1')\n    const limit = parseInt(url.searchParams.get('limit') || '50')\n    const employeeId = url.searchParams.get('employeeId') || ''\n    const department = url.searchParams.get('department') || ''\n    const position = url.searchParams.get('position') || ''\n    const contractType = url.searchParams.get('contractType') || ''\n    const status = url.searchParams.get('status') || ''\n    const startDateFrom = url.searchParams.get('startDateFrom') || ''\n    const startDateTo = url.searchParams.get('startDateTo') || ''\n    const search = url.searchParams.get('search') || ''\n\n    // WHERE Ï°∞Í±¥ Íµ¨ÏÑ±\n    const conditions: string[] = []\n    const params: unknown[] = []\n    let paramIndex = 1\n\n    if (employeeId) {\n      conditions.push(`sc.employee_id = $${paramIndex}`)\n      params.push(employeeId)\n      paramIndex++\n    }\n\n    if (department) {\n      conditions.push(`e.department = $${paramIndex}`)\n      params.push(department)\n      paramIndex++\n    }\n\n    if (position) {\n      conditions.push(`e.position = $${paramIndex}`)\n      params.push(position)\n      paramIndex++\n    }\n\n    if (contractType) {\n      conditions.push(`sc.contract_type = $${paramIndex}`)\n      params.push(contractType)\n      paramIndex++\n    }\n\n    if (status) {\n      conditions.push(`sc.status = $${paramIndex}`)\n      params.push(status)\n      paramIndex++\n    }\n\n    if (startDateFrom) {\n      conditions.push(`sc.start_date >= $${paramIndex}`)\n      params.push(startDateFrom)\n      paramIndex++\n    }\n\n    if (startDateTo) {\n      conditions.push(`sc.start_date <= $${paramIndex}`)\n      params.push(startDateTo)\n      paramIndex++\n    }\n\n    if (search) {\n      conditions.push(`(\n\t\t\t\tCONCAT(e.last_name, e.first_name) ILIKE $${paramIndex} OR \n\t\t\t\te.employee_id ILIKE $${paramIndex} OR \n\t\t\t\te.department ILIKE $${paramIndex} OR\n\t\t\t\te.position ILIKE $${paramIndex}\n\t\t\t)`)\n      params.push(`%${search}%`)\n      paramIndex++\n    }\n\n    const whereClause = conditions.length > 0 ? `WHERE ${conditions.join(' AND ')}` : ''\n\n    // Ï†ÑÏ≤¥ Í∞úÏàò Ï°∞Ìöå\n    const countResult = await query(\n      `\n\t\t\tSELECT COUNT(*) as total\n\t\t\tFROM salary_contracts sc\n\t\t\tJOIN employees e ON sc.employee_id = e.id\n\t\t\t${whereClause}\n\t\t`,\n      params\n    )\n\n    const total = parseInt(countResult.rows[0]?.total || '0')\n    const totalPages = Math.ceil(total / limit)\n    const offset = (page - 1) * limit\n\n    // Í∏âÏó¨ Í≥ÑÏïΩ Î™©Î°ù Ï°∞Ìöå (ÏµúÏ†ÅÌôîÎêú ÏøºÎ¶¨)\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tsc.id,\n\t\t\t\tsc.employee_id,\n\t\t\t\tsc.start_date,\n\t\t\t\tsc.end_date,\n\t\t\t\tsc.annual_salary,\n\t\t\t\tsc.monthly_salary,\n\t\t\t\tsc.contract_type,\n\t\t\t\tsc.status,\n\t\t\t\tsc.notes,\n\t\t\t\tsc.created_at,\n\t\t\t\tsc.updated_at,\n\t\t\t\tsc.created_by,\n\t\t\t\te.last_name || e.first_name as employee_name,\n\t\t\t\te.employee_id as employee_id_number,\n\t\t\t\te.department,\n\t\t\t\te.position\n\t\t\tFROM salary_contracts sc\n\t\t\tINNER JOIN employees e ON sc.employee_id = e.id\n\t\t\t${whereClause}\n\t\t\tORDER BY sc.start_date DESC, sc.created_at DESC\n\t\t\tLIMIT $${paramIndex} OFFSET $${paramIndex + 1}\n\t\t`,\n      [...params, limit, offset]\n    )\n\n    const contracts: SalaryContract[] = result.rows.map(row => {\n      return {\n        id: row.id,\n        employeeId: row.employee_id,\n        startDate: row.start_date ? formatDateForDisplay(row.start_date, 'ISO') : '',\n        endDate: row.end_date ? formatDateForDisplay(row.end_date, 'ISO') : '',\n        annualSalary: parseFloat(row.annual_salary),\n        monthlySalary: parseFloat(row.monthly_salary),\n        contractType: row.contract_type,\n        status: row.status,\n        notes: row.notes,\n        createdAt: row.created_at,\n        updatedAt: row.updated_at,\n        createdBy: row.created_by,\n        employeeName: row.employee_name,\n        employeeIdNumber: row.employee_id_number,\n        department: row.department,\n        position: row.position,\n        contractEndDisplay: row.contract_end_display,\n        statusDisplay: row.status_display\n      }\n    })\n\n    const response: PaginatedResponse<SalaryContract> = {\n      data: contracts,\n      total,\n      page,\n      limit,\n      totalPages\n    }\n\n    return json({\n      success: true,\n      data: response\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨ Í≥ÑÏïΩ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// POST: Í∏âÏó¨ Í≥ÑÏïΩ ÏÉùÏÑ±\nexport const POST: RequestHandler = async ({ request }) => {\n  try {\n    const contractData: CreateSalaryContractRequest = await request.json()\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (\n      !contractData.employeeId ||\n      !contractData.startDate ||\n      !contractData.annualSalary ||\n      !contractData.monthlySalary\n    ) {\n      return json(\n        {\n          success: false,\n          error: 'ÌïÑÏàò ÌïÑÎìúÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Í∏âÏó¨ Í≥ÑÏïΩ ÏÉùÏÑ±\n    const result = await query(\n      `\n\t\t\tINSERT INTO salary_contracts (\n\t\t\t\temployee_id, start_date, end_date, annual_salary, monthly_salary,\n\t\t\t\tcontract_type, status, notes, created_by\n\t\t\t) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)\n\t\t\tRETURNING *\n\t\t`,\n      [\n        contractData.employeeId,\n        contractData.startDate ? toUTC(contractData.startDate).split('T')[0] : null,\n        contractData.endDate ? toUTC(contractData.endDate).split('T')[0] : null,\n        contractData.annualSalary,\n        contractData.monthlySalary,\n        contractData.contractType || 'full_time',\n        contractData.status || 'active',\n        contractData.notes || null,\n        'system'\n      ]\n    )\n\n    const newContract = result.rows[0]\n\n    return json({\n      success: true,\n      data: {\n        id: newContract.id,\n        employeeId: newContract.employee_id,\n        startDate: newContract.start_date\n          ? formatDateForDisplay(newContract.start_date, 'ISO')\n          : null,\n        endDate: newContract.end_date ? formatDateForDisplay(newContract.end_date, 'ISO') : null,\n        annualSalary: parseFloat(newContract.annual_salary),\n        monthlySalary: parseFloat(newContract.monthly_salary),\n        contractType: newContract.contract_type,\n        status: newContract.status,\n        notes: newContract.notes,\n        createdAt: newContract.created_at,\n        updatedAt: newContract.updated_at,\n        createdBy: newContract.created_by\n      }\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨ Í≥ÑÏïΩ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/contracts/[id]/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 56,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 56,
        "endColumn": 35
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 84,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 84,
        "endColumn": 17
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 163,
        "column": 7,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 168,
        "endColumn": 4
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 190,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 190,
        "endColumn": 35
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 210,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 210,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 249,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 249,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Í∞úÎ≥Ñ Í∏âÏó¨ Í≥ÑÏïΩ Í¥ÄÎ¶¨ API ÏóîÎìúÌè¨Ïù∏Ìä∏\n\nimport { query } from '$lib/database/connection.js'\nimport type { SalaryContract, UpdateSalaryContractRequest } from '$lib/types/salary-contracts'\nimport { json } from '@sveltejs/kit'\nimport type { RequestHandler } from './$types'\n\n// GET: ÌäπÏ†ï Í∏âÏó¨ Í≥ÑÏïΩ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const { id } = params\n\n    const result = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tsc.*,\n\t\t\t\tCONCAT(e.last_name, e.first_name) as employee_name,\n\t\t\t\te.employee_id as employee_id_number,\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN sc.end_date IS NULL THEN 'Î¨¥Í∏∞Ìïú'\n\t\t\t\t\tELSE TO_CHAR(sc.end_date, 'YYYY-MM-DD')\n\t\t\t\tEND as contract_end_display,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN sc.status = 'active' AND sc.end_date IS NULL THEN 'ÏßÑÌñâÏ§ë (Î¨¥Í∏∞Ìïú)'\n\t\t\t\t\tWHEN sc.status = 'active' AND sc.end_date >= CURRENT_DATE THEN 'ÏßÑÌñâÏ§ë'\n\t\t\t\t\tWHEN sc.status = 'expired' OR sc.end_date < CURRENT_DATE THEN 'ÎßåÎ£åÎê®'\n\t\t\t\t\tELSE sc.status\n\t\t\t\tEND as status_display\n\t\t\tFROM salary_contracts sc\n\t\t\tJOIN employees e ON sc.employee_id = e.id\n\t\t\tWHERE sc.id = $1\n\t\t`,\n      [id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Í∏âÏó¨ Í≥ÑÏïΩÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const contract = result.rows[0]\n\n    // ÎÇ†ÏßúÎ•º KSTÎ°ú Î≥ÄÌôò\n    const convertToKST = (dateString: string) => {\n      if (!dateString) return null\n      const date = new Date(dateString)\n      // UTC+9 (KST)Î°ú Î≥ÄÌôò\n      const kstDate = new Date(date.getTime() + 9 * 60 * 60 * 1000)\n      return kstDate.toISOString().split('T')[0] // YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î∞òÌôò\n    }\n\n    const salaryContract: SalaryContract = {\n      id: contract.id,\n      employeeId: contract.employee_id,\n      startDate: convertToKST(contract.start_date),\n      endDate: convertToKST(contract.end_date),\n      annualSalary: parseFloat(contract.annual_salary),\n      monthlySalary: parseFloat(contract.monthly_salary),\n      contractType: contract.contract_type,\n      status: contract.status,\n      notes: contract.notes,\n      createdAt: contract.created_at,\n      updatedAt: contract.updated_at,\n      createdBy: contract.created_by,\n      employeeName: contract.employee_name,\n      employeeIdNumber: contract.employee_id_number,\n      department: contract.department,\n      position: contract.position,\n      contractEndDisplay: contract.contract_end_display,\n      statusDisplay: contract.status_display\n    }\n\n    return json({\n      success: true,\n      data: salaryContract\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨ Í≥ÑÏïΩ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// PUT: Í∏âÏó¨ Í≥ÑÏïΩ ÏàòÏ†ï\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  try {\n    const { id } = params\n    const updateData: UpdateSalaryContractRequest = await request.json()\n\n    // ÏóÖÎç∞Ïù¥Ìä∏Ìï† ÌïÑÎìú Íµ¨ÏÑ±\n    const updateFields: string[] = []\n    const queryParams: unknown[] = []\n    let paramIndex = 1\n\n    if (updateData.startDate !== undefined) {\n      updateFields.push(`start_date = $${paramIndex}`)\n      queryParams.push(updateData.startDate)\n      paramIndex++\n    }\n\n    if (updateData.endDate !== undefined) {\n      updateFields.push(`end_date = $${paramIndex}`)\n      queryParams.push(updateData.endDate || null)\n      paramIndex++\n    }\n\n    if (updateData.annualSalary !== undefined) {\n      updateFields.push(`annual_salary = $${paramIndex}`)\n      queryParams.push(updateData.annualSalary)\n      paramIndex++\n    }\n\n    if (updateData.monthlySalary !== undefined) {\n      updateFields.push(`monthly_salary = $${paramIndex}`)\n      queryParams.push(updateData.monthlySalary)\n      paramIndex++\n    }\n\n    if (updateData.contractType !== undefined) {\n      updateFields.push(`contract_type = $${paramIndex}`)\n      queryParams.push(updateData.contractType)\n      paramIndex++\n    }\n\n    if (updateData.status !== undefined) {\n      updateFields.push(`status = $${paramIndex}`)\n      queryParams.push(updateData.status)\n      paramIndex++\n    }\n\n    if (updateData.notes !== undefined) {\n      updateFields.push(`notes = $${paramIndex}`)\n      queryParams.push(updateData.notes || null)\n      paramIndex++\n    }\n\n    if (updateFields.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏóÖÎç∞Ïù¥Ìä∏Ìï† ÌïÑÎìúÍ∞Ä ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // updated_at ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏\n    updateFields.push(`updated_at = CURRENT_TIMESTAMP`)\n    queryParams.push(id)\n\n    const result = await query(\n      `\n\t\t\tUPDATE salary_contracts \n\t\t\tSET ${updateFields.join(', ')}\n\t\t\tWHERE id = $${paramIndex}\n\t\t\tRETURNING *\n\t\t`,\n      queryParams\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Í∏âÏó¨ Í≥ÑÏïΩÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const updatedContract = result.rows[0]\n\n    // ÎÇ†ÏßúÎ•º KSTÎ°ú Î≥ÄÌôò\n    const convertToKST = (dateString: string) => {\n      if (!dateString) return null\n      const date = new Date(dateString)\n      // UTC+9 (KST)Î°ú Î≥ÄÌôò\n      const kstDate = new Date(date.getTime() + 9 * 60 * 60 * 1000)\n      return kstDate.toISOString().split('T')[0] // YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î∞òÌôò\n    }\n\n    return json({\n      success: true,\n      data: {\n        id: updatedContract.id,\n        employeeId: updatedContract.employee_id,\n        startDate: convertToKST(updatedContract.start_date),\n        endDate: convertToKST(updatedContract.end_date),\n        annualSalary: parseFloat(updatedContract.annual_salary),\n        monthlySalary: parseFloat(updatedContract.monthly_salary),\n        contractType: updatedContract.contract_type,\n        status: updatedContract.status,\n        notes: updatedContract.notes,\n        createdAt: updatedContract.created_at,\n        updatedAt: updatedContract.updated_at,\n        createdBy: updatedContract.created_by\n      }\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨ Í≥ÑÏïΩ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n\n// DELETE: Í∏âÏó¨ Í≥ÑÏïΩ ÏÇ≠Ï†ú\nexport const DELETE: RequestHandler = async ({ params }) => {\n  try {\n    const { id } = params\n\n    const result = await query(\n      `\n\t\t\tDELETE FROM salary_contracts \n\t\t\tWHERE id = $1\n\t\t\tRETURNING id\n\t\t`,\n      [id]\n    )\n\n    if (result.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'Í∏âÏó¨ Í≥ÑÏïΩÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    return json({\n      success: true,\n      data: { id }\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨ Í≥ÑÏïΩ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/contracts/employee/[employeeId]/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 143,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 143,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// ÏßÅÏõêÎ≥Ñ Í∏âÏó¨ Í≥ÑÏïΩ Ï†ïÎ≥¥ API ÏóîÎìúÌè¨Ïù∏Ìä∏\n\nimport { json } from '@sveltejs/kit'\nimport { query } from '$lib/database/connection.js'\nimport type { RequestHandler } from './$types'\nimport type { CurrentSalaryInfo, SalaryContract } from '$lib/types/salary-contracts'\n\n// GET: ÌäπÏ†ï ÏßÅÏõêÏùò Í∏âÏó¨ Í≥ÑÏïΩ Ï†ïÎ≥¥ Ï°∞Ìöå\nexport const GET: RequestHandler = async ({ params }) => {\n  try {\n    const { employeeId } = params\n\n    // ÏßÅÏõê Í∏∞Î≥∏ Ï†ïÎ≥¥ Ï°∞Ìöå\n    const employeeResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\te.id,\n\t\t\t\te.employee_id,\n\t\t\t\tCONCAT(e.last_name, e.first_name) as employee_name,\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\te.status\n\t\t\tFROM employees e\n\t\t\tWHERE e.id = $1\n\t\t`,\n      [employeeId]\n    )\n\n    if (employeeResult.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const employee = employeeResult.rows[0]\n\n    // ÌòÑÏû¨ Ïú†Ìö®Ìïú Í∏âÏó¨ Í≥ÑÏïΩ Ï°∞Ìöå\n    const currentContractResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tsc.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN sc.end_date IS NULL THEN 'Î¨¥Í∏∞Ìïú'\n\t\t\t\t\tELSE TO_CHAR(sc.end_date, 'YYYY-MM-DD')\n\t\t\t\tEND as contract_end_display,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN sc.status = 'active' AND sc.end_date IS NULL THEN 'ÏßÑÌñâÏ§ë (Î¨¥Í∏∞Ìïú)'\n\t\t\t\t\tWHEN sc.status = 'active' AND sc.end_date >= CURRENT_DATE THEN 'ÏßÑÌñâÏ§ë'\n\t\t\t\t\tWHEN sc.status = 'expired' OR sc.end_date < CURRENT_DATE THEN 'ÎßåÎ£åÎê®'\n\t\t\t\t\tELSE sc.status\n\t\t\t\tEND as status_display\n\t\t\tFROM salary_contracts sc\n\t\t\tWHERE sc.employee_id = $1 \n\t\t\t\tAND sc.status = 'active' \n\t\t\t\tAND sc.start_date <= CURRENT_DATE \n\t\t\t\tAND (sc.end_date IS NULL OR sc.end_date >= CURRENT_DATE)\n\t\t\tORDER BY sc.start_date DESC\n\t\t\tLIMIT 1\n\t\t`,\n      [employeeId]\n    )\n\n    // Í∏âÏó¨ Í≥ÑÏïΩ Ïù¥Î†• Ï°∞Ìöå\n    const historyResult = await query(\n      `\n\t\t\tSELECT \n\t\t\t\tsc.*,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN sc.end_date IS NULL THEN 'Î¨¥Í∏∞Ìïú'\n\t\t\t\t\tELSE TO_CHAR(sc.end_date, 'YYYY-MM-DD')\n\t\t\t\tEND as contract_end_display,\n\t\t\t\tCASE \n\t\t\t\t\tWHEN sc.status = 'active' AND sc.end_date IS NULL THEN 'ÏßÑÌñâÏ§ë (Î¨¥Í∏∞Ìïú)'\n\t\t\t\t\tWHEN sc.status = 'active' AND sc.end_date >= CURRENT_DATE THEN 'ÏßÑÌñâÏ§ë'\n\t\t\t\t\tWHEN sc.status = 'expired' OR sc.end_date < CURRENT_DATE THEN 'ÎßåÎ£åÎê®'\n\t\t\t\t\tELSE sc.status\n\t\t\t\tEND as status_display\n\t\t\tFROM salary_contracts sc\n\t\t\tWHERE sc.employee_id = $1\n\t\t\tORDER BY sc.start_date DESC\n\t\t`,\n      [employeeId]\n    )\n\n    // ÌòÑÏû¨ Í≥ÑÏïΩ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n    let currentContract: SalaryContract | null = null\n    if (currentContractResult.rows.length > 0) {\n      const contract = currentContractResult.rows[0]\n      currentContract = {\n        id: contract.id,\n        employeeId: contract.employee_id,\n        startDate: contract.start_date,\n        endDate: contract.end_date,\n        annualSalary: parseFloat(contract.annual_salary),\n        monthlySalary: parseFloat(contract.monthly_salary),\n        contractType: contract.contract_type,\n        status: contract.status,\n        notes: contract.notes,\n        createdAt: contract.created_at,\n        updatedAt: contract.updated_at,\n        createdBy: contract.created_by,\n        contractEndDisplay: contract.contract_end_display,\n        statusDisplay: contract.status_display\n      }\n    }\n\n    // Í≥ÑÏïΩ Ïù¥Î†• Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n    const contractHistory: SalaryContract[] = historyResult.rows.map(contract => ({\n      id: contract.id,\n      employeeId: contract.employee_id,\n      startDate: contract.start_date,\n      endDate: contract.end_date,\n      annualSalary: parseFloat(contract.annual_salary),\n      monthlySalary: parseFloat(contract.monthly_salary),\n      contractType: contract.contract_type,\n      status: contract.status,\n      notes: contract.notes,\n      createdAt: contract.created_at,\n      updatedAt: contract.updated_at,\n      createdBy: contract.created_by,\n      contractEndDisplay: contract.contract_end_display,\n      statusDisplay: contract.status_display\n    }))\n\n    const currentSalaryInfo: CurrentSalaryInfo = {\n      employeeId: employee.id,\n      employeeName: employee.employee_name,\n      employeeIdNumber: employee.employee_id,\n      department: employee.department,\n      position: employee.position,\n      currentContract: currentContract!,\n      contractHistory\n    }\n\n    return json({\n      success: true,\n      data: currentSalaryInfo\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'ÏßÅÏõê Í∏âÏó¨ Ï†ïÎ≥¥ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/contracts/stats/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused caught errors must match /^_/u.",
        "line": 78,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 78,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "// Í∏âÏó¨ Í≥ÑÏïΩ ÌÜµÍ≥Ñ API ÏóîÎìúÌè¨Ïù∏Ìä∏\n\nimport { json } from '@sveltejs/kit'\nimport { query } from '$lib/database/connection.js'\nimport type { RequestHandler } from './$types'\nimport type { SalaryContractStats } from '$lib/types/salary-contracts'\n\n// GET: Í∏âÏó¨ Í≥ÑÏïΩ ÌÜµÍ≥Ñ Ï°∞Ìöå\nexport const GET: RequestHandler = async () => {\n  try {\n    // Í∏∞Î≥∏ ÌÜµÍ≥Ñ Ï°∞Ìöå\n    const statsResult = await query(`\n\t\t\tSELECT \n\t\t\t\tCOUNT(*) as total_contracts,\n\t\t\t\tCOUNT(CASE WHEN sc.status = 'active' THEN 1 END) as active_contracts,\n\t\t\t\tCOUNT(CASE WHEN sc.status = 'expired' OR (sc.status = 'active' AND sc.end_date < CURRENT_DATE) THEN 1 END) as expired_contracts,\n\t\t\t\tAVG(sc.annual_salary) as average_annual_salary,\n\t\t\t\tAVG(sc.monthly_salary) as average_monthly_salary,\n\t\t\t\tSUM(sc.annual_salary) as total_annual_salary,\n\t\t\t\tSUM(sc.monthly_salary) as total_monthly_salary\n\t\t\tFROM salary_contracts sc\n\t\t\tJOIN employees e ON sc.employee_id = e.id\n\t\t\tWHERE e.status = 'active'\n\t\t`)\n\n    // Í≥ÑÏïΩ Ïú†ÌòïÎ≥Ñ ÌÜµÍ≥Ñ\n    const typeStatsResult = await query(`\n\t\t\tSELECT \n\t\t\t\tsc.contract_type,\n\t\t\t\tCOUNT(*) as count\n\t\t\tFROM salary_contracts sc\n\t\t\tJOIN employees e ON sc.employee_id = e.id\n\t\t\tWHERE e.status = 'active'\n\t\t\tGROUP BY sc.contract_type\n\t\t`)\n\n    // Î∂ÄÏÑúÎ≥Ñ ÌÜµÍ≥Ñ\n    const deptStatsResult = await query(`\n\t\t\tSELECT \n\t\t\t\tCOALESCE(e.department, 'Î∂ÄÏÑúÏóÜÏùå') as department,\n\t\t\t\tCOUNT(*) as count\n\t\t\tFROM salary_contracts sc\n\t\t\tJOIN employees e ON sc.employee_id = e.id\n\t\t\tWHERE e.status = 'active'\n\t\t\tGROUP BY e.department\n\t\t`)\n\n    const stats = statsResult.rows[0]\n    const contractsByType: Record<string, number> = {}\n    const contractsByDepartment: Record<string, number> = {}\n\n    // Í≥ÑÏïΩ Ïú†ÌòïÎ≥Ñ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n    typeStatsResult.rows.forEach(row => {\n      contractsByType[row.contract_type] = parseInt(row.count)\n    })\n\n    // Î∂ÄÏÑúÎ≥Ñ Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò\n    deptStatsResult.rows.forEach(row => {\n      contractsByDepartment[row.department] = parseInt(row.count)\n    })\n\n    const salaryContractStats: SalaryContractStats = {\n      totalContracts: parseInt(stats.total_contracts) || 0,\n      activeContracts: parseInt(stats.active_contracts) || 0,\n      expiredContracts: parseInt(stats.expired_contracts) || 0,\n      averageAnnualSalary: Math.ceil(parseFloat(stats.average_annual_salary) || 0),\n      averageMonthlySalary: Math.ceil(parseFloat(stats.average_monthly_salary) || 0),\n      totalAnnualSalary: parseFloat(stats.total_annual_salary) || 0,\n      totalMonthlySalary: parseFloat(stats.total_monthly_salary) || 0,\n      contractsByType,\n      contractsByDepartment\n    }\n\n    return json({\n      success: true,\n      data: salaryContractStats\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨ Í≥ÑÏïΩ ÌÜµÍ≥Ñ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/payslips/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 111,
        "column": 28,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 111,
        "endColumn": 66
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 112,
        "column": 26,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 112,
        "endColumn": 84
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\n\n// ÏÉàÎ°úÏö¥ Îã®ÏàúÌôîÎêú payslips API (Í∏∞Ï°¥ API ÍµêÏ≤¥)\nexport async function GET({ url }) {\n  try {\n    const employeeId = url.searchParams.get('employeeId')\n    const period = url.searchParams.get('period') // YYYY-MM ÌòïÏãù\n    const status = url.searchParams.get('status')\n\n    const conditions: string[] = []\n    const params: (string | number)[] = []\n    let paramIndex = 1\n\n    if (employeeId) {\n      conditions.push(`p.employee_id = $${paramIndex}`)\n      params.push(employeeId)\n      paramIndex++\n    }\n\n    if (period) {\n      conditions.push(`p.period = $${paramIndex}`)\n      params.push(period)\n      paramIndex++\n    }\n\n    if (status) {\n      conditions.push(`p.status = $${paramIndex}`)\n      params.push(status)\n      paramIndex++\n    }\n\n    const whereClause = conditions.length > 0 ? `WHERE ${conditions.join(' AND ')}` : ''\n\n    // Í∏∞Ï°¥ payslips ÌÖåÏù¥Î∏î ÏÇ¨Ïö© (ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Ï†Ñ)\n    const { rows } = await query(\n      `\n\t\t\tSELECT\n\t\t\t\tp.id,\n\t\t\t\tp.employee_id AS \"employeeId\",\n\t\t\t\tp.period,\n\t\t\t\tp.pay_date AS \"payDate\",\n\t\t\t\tp.base_salary AS \"baseSalary\",\n\t\t\t\tp.total_payments AS \"totalPayments\",\n\t\t\t\tp.total_deductions AS \"totalDeductions\",\n\t\t\t\tp.net_salary AS \"netSalary\",\n\t\t\t\tp.payments,\n\t\t\t\tp.deductions,\n\t\t\t\tp.status,\n\t\t\t\tp.is_generated AS \"isGenerated\",\n\t\t\t\tp.created_at AS \"createdAt\",\n\t\t\t\tp.updated_at AS \"updatedAt\",\n\t\t\t\t-- ÏßÅÏõê Ï†ïÎ≥¥ Ï°∞Ïù∏\n\t\t\t\te.first_name || e.last_name AS \"employeeName\",\n\t\t\t\te.employee_id AS \"employeeIdNumber\",\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\te.hire_date AS \"hireDate\"\n\t\t\tFROM payslips p\n\t\t\tJOIN employees e ON p.employee_id = e.id\n\t\t\t${whereClause}\n\t\t\tORDER BY p.period DESC, p.created_at DESC\n\t\t\t`,\n      params\n    )\n\n    return json({ success: true, data: rows })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n\nexport async function POST({ request }) {\n  try {\n    const payslipData = await request.json()\n\n    const {\n      employeeId,\n      period,\n      payDate,\n      baseSalary,\n      totalPayments,\n      totalDeductions,\n      netSalary,\n      payments,\n      deductions,\n      status = 'draft',\n      isGenerated = false\n    } = payslipData\n\n    // ÌïÑÏàò ÌïÑÎìú Í≤ÄÏ¶ù\n    if (!employeeId || !period || !payDate) {\n      return json(\n        {\n          success: false,\n          error: 'ÌïÑÏàò ÌïÑÎìúÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§. (employeeId, period, payDate)'\n        },\n        { status: 400 }\n      )\n    }\n\n    // periodÏóêÏÑú ÏãúÏûëÏùºÍ≥º Ï¢ÖÎ£åÏùº Í≥ÑÏÇ∞ (Ïòà: \"2025-09\" -> \"2025-09-01\", \"2025-09-30\")\n    const [year, month] = period.split('-')\n    const payPeriodStart = `${year}-${month.padStart(2, '0')}-01`\n    const payPeriodEnd = new Date(parseInt(year), parseInt(month), 0).toISOString().split('T')[0] // Ìï¥Îãπ ÏõîÏùò ÎßàÏßÄÎßâ ÎÇ†\n\n    // Í∏∞Ï°¥ Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÍ∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n    const existingPayslip = await query(\n      'SELECT id FROM payslips WHERE employee_id = $1 AND period = $2',\n      [employeeId, period]\n    )\n\n    let result\n    if (existingPayslip.rows.length > 0) {\n      // Í∏∞Ï°¥ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏\n      result = await query(\n        `\n\t\t\t\tUPDATE payslips SET\n\t\t\t\t\tpay_date = $3,\n\t\t\t\t\tpay_period_start = $4,\n\t\t\t\t\tpay_period_end = $5,\n\t\t\t\t\tbase_salary = $6,\n\t\t\t\t\ttotal_payments = $7,\n\t\t\t\t\ttotal_deductions = $8,\n\t\t\t\t\tnet_salary = $9,\n\t\t\t\t\ttotal_amount = $10,\n\t\t\t\t\tpayments = $11,\n\t\t\t\t\tdeductions = $12,\n\t\t\t\t\tstatus = $13,\n\t\t\t\t\tis_generated = $14,\n\t\t\t\t\tupdated_at = CURRENT_TIMESTAMP\n\t\t\t\tWHERE employee_id = $1 AND period = $2\n\t\t\t\tRETURNING *\n\t\t\t\t`,\n        [\n          employeeId,\n          period,\n          payDate,\n          payPeriodStart,\n          payPeriodEnd,\n          baseSalary,\n          totalPayments,\n          totalDeductions,\n          netSalary,\n          totalPayments,\n          JSON.stringify(payments),\n          JSON.stringify(deductions),\n          status,\n          isGenerated\n        ]\n      )\n    } else {\n      // ÏÉà Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏÉùÏÑ±\n      result = await query(\n        `\n\t\t\t\tINSERT INTO payslips (\n\t\t\t\t\temployee_id, period, pay_date, pay_period_start, pay_period_end,\n\t\t\t\t\tbase_salary, total_payments, total_deductions, net_salary, total_amount,\n\t\t\t\t\tpayments, deductions, status, is_generated\n\t\t\t\t) VALUES (\n\t\t\t\t\t$1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14\n\t\t\t\t) RETURNING *\n\t\t\t\t`,\n        [\n          employeeId,\n          period,\n          payDate,\n          payPeriodStart,\n          payPeriodEnd,\n          baseSalary,\n          totalPayments,\n          totalDeductions,\n          netSalary,\n          totalPayments,\n          JSON.stringify(payments),\n          JSON.stringify(deductions),\n          status,\n          isGenerated\n        ]\n      )\n    }\n\n    return json({ success: true, data: result.rows[0] })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/payslips/employee/[employeeId]/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 173,
        "column": 37,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 173,
        "endColumn": 61
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 179,
        "column": 16,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 179,
        "endColumn": 40
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 180,
        "column": 21,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 180,
        "endColumn": 56
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\n\nexport async function GET({ params, url }) {\n  try {\n    const { employeeId } = params\n    const period = url.searchParams.get('period') // YYYY-MM ÌòïÏãù\n    const year = url.searchParams.get('year') // YYYY ÌòïÏãù\n\n    if (!employeeId) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏõê IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // Ïó∞ÎèÑÎ≥Ñ Îç∞Ïù¥ÌÑ∞ ÏöîÏ≤≠Ïù∏ Í≤ΩÏö∞\n    if (year) {\n      const { rows } = await query(\n        `\n\t\t\t\tSELECT\n\t\t\t\t\tp.id,\n\t\t\t\t\tp.employee_id AS \"employeeId\",\n\t\t\t\t\tp.period,\n\t\t\t\t\tp.pay_date AS \"payDate\",\n\t\t\t\t\tp.base_salary AS \"baseSalary\",\n\t\t\t\t\tp.total_payments AS \"totalPayments\",\n\t\t\t\t\tp.total_deductions AS \"totalDeductions\",\n\t\t\t\t\tp.net_salary AS \"netSalary\",\n\t\t\t\t\tp.payments,\n\t\t\t\t\tp.deductions,\n\t\t\t\t\tp.status,\n\t\t\t\t\tp.is_generated AS \"isGenerated\",\n\t\t\t\t\tp.created_at AS \"createdAt\",\n\t\t\t\t\tp.updated_at AS \"updatedAt\",\n\t\t\t\t\t-- ÏßÅÏõê Ï†ïÎ≥¥\n\t\t\t\t\te.first_name || e.last_name AS \"employeeName\",\n\t\t\t\t\te.employee_id AS \"employeeIdNumber\",\n\t\t\t\t\te.department,\n\t\t\t\t\te.position,\n\t\t\t\t\te.hire_date AS \"hireDate\"\n\t\t\t\tFROM payslips p\n\t\t\t\tJOIN employees e ON p.employee_id = e.id\n\t\t\t\tWHERE p.employee_id = $1 AND p.period LIKE $2\n\t\t\t\tORDER BY p.period DESC\n\t\t\t\t`,\n        [employeeId, `${year}-%`]\n      )\n\n      return json({\n        success: true,\n        data: rows,\n        source: 'yearly'\n      })\n    }\n\n    // 1. Ïù¥Î≤àÎã¨ Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÍ∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n    if (period) {\n      const currentPayslip = await query(\n        `\n\t\t\t\tSELECT\n\t\t\t\t\tp.id,\n\t\t\t\t\tp.employee_id AS \"employeeId\",\n\t\t\t\t\tp.period,\n\t\t\t\t\tp.pay_date AS \"payDate\",\n\t\t\t\t\tp.base_salary AS \"baseSalary\",\n\t\t\t\t\tp.total_payments AS \"totalPayments\",\n\t\t\t\t\tp.total_deductions AS \"totalDeductions\",\n\t\t\t\t\tp.net_salary AS \"netSalary\",\n\t\t\t\t\tp.payments,\n\t\t\t\t\tp.deductions,\n\t\t\t\t\tp.status,\n\t\t\t\t\tp.is_generated AS \"isGenerated\",\n\t\t\t\t\tp.created_at AS \"createdAt\",\n\t\t\t\t\tp.updated_at AS \"updatedAt\",\n\t\t\t\t\t-- ÏßÅÏõê Ï†ïÎ≥¥\n\t\t\t\t\te.first_name || e.last_name AS \"employeeName\",\n\t\t\t\t\te.employee_id AS \"employeeIdNumber\",\n\t\t\t\t\te.department,\n\t\t\t\t\te.position,\n\t\t\t\t\te.hire_date AS \"hireDate\"\n\t\t\t\tFROM payslips p\n\t\t\t\tJOIN employees e ON p.employee_id = e.id\n\t\t\t\tWHERE p.employee_id = $1 AND p.period = $2\n\t\t\t\t`,\n        [employeeId, period]\n      )\n\n      if (currentPayslip.rows.length > 0) {\n        return json({\n          success: true,\n          data: currentPayslip.rows[0],\n          source: 'current'\n        })\n      }\n    }\n\n    // 2. ÏßÄÎÇúÎã¨ Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÍ∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n    const previousPayslip = await query(\n      `\n\t\t\tSELECT\n\t\t\t\tp.id,\n\t\t\t\tp.employee_id AS \"employeeId\",\n\t\t\t\tp.period,\n\t\t\t\tp.pay_date AS \"payDate\",\n\t\t\t\tp.base_salary AS \"baseSalary\",\n\t\t\t\tp.total_payments AS \"totalPayments\",\n\t\t\t\tp.total_deductions AS \"totalDeductions\",\n\t\t\t\tp.net_salary AS \"netSalary\",\n\t\t\t\tp.payments,\n\t\t\t\tp.deductions,\n\t\t\t\tp.status,\n\t\t\t\tp.is_generated AS \"isGenerated\",\n\t\t\t\tp.created_at AS \"createdAt\",\n\t\t\t\tp.updated_at AS \"updatedAt\",\n\t\t\t\t-- ÏßÅÏõê Ï†ïÎ≥¥\n\t\t\t\te.first_name || e.last_name AS \"employeeName\",\n\t\t\t\te.employee_id AS \"employeeIdNumber\",\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\te.hire_date AS \"hireDate\"\n\t\t\tFROM payslips p\n\t\t\tJOIN employees e ON p.employee_id = e.id\n\t\t\tWHERE p.employee_id = $1\n\t\t\tORDER BY p.period DESC\n\t\t\tLIMIT 1\n\t\t\t`,\n      [employeeId]\n    )\n\n    if (previousPayslip.rows.length > 0) {\n      return json({\n        success: true,\n        data: previousPayslip.rows[0],\n        source: 'previous'\n      })\n    }\n\n    // 3. Í∏∞Î≥∏ ÌÖúÌîåÎ¶ø ÏÉùÏÑ± (Ï≤òÏùåÏù∏ Í≤ΩÏö∞)\n    const employee = await query(\n      `\n\t\t\tSELECT\n\t\t\t\te.id,\n\t\t\t\te.employee_id,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\te.hire_date,\n\t\t\t\tsc.annual_salary\n\t\t\tFROM employees e\n\t\t\tLEFT JOIN salary_contracts sc ON e.id = sc.employee_id AND sc.status = 'active'\n\t\t\tWHERE e.id = $1\n\t\t\t`,\n      [employeeId]\n    )\n\n    if (employee.rows.length === 0) {\n      return json(\n        {\n          success: false,\n          error: 'ÏßÅÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 404 }\n      )\n    }\n\n    const emp = employee.rows[0]\n    const baseSalary = emp.annual_salary ? Math.round(emp.annual_salary / 12) : 3000000\n    const currentPeriod = period || new Date().toISOString().slice(0, 7)\n\n    // Í∏∞Î≥∏ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÌÖúÌîåÎ¶ø ÏÉùÏÑ±\n    const defaultPayslip = {\n      employeeId: emp.id,\n      period: currentPeriod,\n      payDate: new Date().toISOString().split('T')[0],\n      employeeName: `${emp.last_name}${emp.first_name}`,\n      employeeIdNumber: emp.employee_id,\n      department: emp.department || 'Î∂ÄÏÑúÏóÜÏùå',\n      position: emp.position || 'Ïó∞Íµ¨Ïõê',\n      hireDate: emp.hire_date,\n      baseSalary: baseSalary,\n      totalPayments: baseSalary + 500000, // Í∏∞Î≥∏Í∏â + Í∏∞Î≥∏ ÏàòÎãπ\n      totalDeductions: 0,\n      netSalary: baseSalary + 500000,\n      payments: [\n        { id: 'basic_salary', name: 'Í∏∞Î≥∏Í∏â', amount: baseSalary, type: 'basic', isTaxable: true },\n        {\n          id: 'position_allowance',\n          name: 'ÏßÅÏ±ÖÏàòÎãπ',\n          amount: Math.round(baseSalary * 0.1),\n          type: 'allowance',\n          isTaxable: true\n        },\n        { id: 'bonus', name: 'ÏÉÅÏó¨Í∏à', amount: 0, type: 'bonus', isTaxable: true },\n        { id: 'meal_allowance', name: 'ÏãùÎåÄ', amount: 300000, type: 'allowance', isTaxable: false },\n        {\n          id: 'vehicle_maintenance',\n          name: 'Ï∞®ÎüâÏú†ÏßÄ',\n          amount: 200000,\n          type: 'allowance',\n          isTaxable: false\n        },\n        {\n          id: 'annual_leave_allowance',\n          name: 'Ïó∞Ï∞®ÏàòÎãπ',\n          amount: 0,\n          type: 'allowance',\n          isTaxable: true\n        },\n        {\n          id: 'year_end_settlement',\n          name: 'Ïó∞ÎßêÏ†ïÏÇ∞',\n          amount: 0,\n          type: 'settlement',\n          isTaxable: true\n        }\n      ],\n      deductions: [\n        {\n          id: 'health_insurance',\n          name: 'Í±¥Í∞ïÎ≥¥Ìóò',\n          rate: 0.034,\n          type: 'insurance',\n          amount: 0,\n          isMandatory: true\n        },\n        {\n          id: 'long_term_care',\n          name: 'Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò',\n          rate: 0.0034,\n          type: 'insurance',\n          amount: 0,\n          isMandatory: true\n        },\n        {\n          id: 'national_pension',\n          name: 'Íµ≠ÎØºÏó∞Í∏à',\n          rate: 0.045,\n          type: 'pension',\n          amount: 0,\n          isMandatory: true\n        },\n        {\n          id: 'employment_insurance',\n          name: 'Í≥†Ïö©Î≥¥Ìóò',\n          rate: 0.008,\n          type: 'insurance',\n          amount: 0,\n          isMandatory: true\n        },\n        { id: 'income_tax', name: 'Í∞ëÍ∑ºÏÑ∏', rate: 0.13, type: 'tax', amount: 0, isMandatory: true },\n        { id: 'local_tax', name: 'Ï£ºÎØºÏÑ∏', rate: 0.013, type: 'tax', amount: 0, isMandatory: true },\n        { id: 'other', name: 'Í∏∞ÌÉÄ', rate: 0, type: 'other', amount: 0, isMandatory: false }\n      ],\n      status: 'draft',\n      isGenerated: false\n    }\n\n    return json({\n      success: true,\n      data: defaultPayslip,\n      source: 'default'\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'ÏßÅÏõê Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÎ•º Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/payslips/template/+server.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 1,
        "message": "Unexpected any. Specify a different type.",
        "line": 81,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 81,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1832, 1835], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1832, 1835], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "UTC Î≥ÄÌôò Ïãú toUTC Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 84,
        "column": 11,
        "nodeType": "CallExpression",
        "messageId": "restrictedSyntax",
        "endLine": 84,
        "endColumn": 53
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 89,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 89,
        "endColumn": 54
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 107,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 107,
        "endColumn": 62
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 108,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 108,
        "endColumn": 62
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 109,
        "column": 9,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 109,
        "endColumn": 57
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'rowNumber' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 122,
        "column": 29,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 122,
        "endColumn": 38
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 2,
        "message": "'colNumber' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 123,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 123,
        "endColumn": 36
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 173,
        "column": 22,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 173,
        "endColumn": 56
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\nimport ExcelJS from 'exceljs'\n\nexport async function GET({ url }) {\n  try {\n    const year = url.searchParams.get('year') || new Date().getFullYear().toString()\n    const month = url.searchParams.get('month') || (new Date().getMonth() + 1).toString()\n\n    // Î™®Îì† ÏßÅÏõê Ï†ïÎ≥¥ Ï°∞Ìöå\n    const { rows: employees } = await query(\n      `\n\t\t\tSELECT \n\t\t\t\te.id,\n\t\t\t\te.employee_id,\n\t\t\t\te.first_name,\n\t\t\t\te.last_name,\n\t\t\t\te.department,\n\t\t\t\te.position,\n\t\t\t\te.hire_date,\n\t\t\t\tsc.annual_salary\n\t\t\tFROM employees e\n\t\t\tLEFT JOIN salary_contracts sc ON e.id = sc.employee_id AND sc.status = 'active'\n\t\t\tWHERE e.status = 'active'\n\t\t\tORDER BY e.department, e.employee_id\n\t\t\t`\n    )\n\n    // ÏóëÏÖÄ ÏõåÌÅ¨Î∂Å ÏÉùÏÑ±\n    const workbook = new ExcelJS.Workbook()\n    const worksheet = workbook.addWorksheet('Í∏âÏó¨Î™ÖÏÑ∏ÏÑú')\n\n    // Ìó§Îçî ÏÑ§Ï†ï\n    const headers = [\n      'ÏÇ¨Î≤à',\n      'ÏÑ±Î™Ö',\n      'Î∂ÄÏÑú',\n      'ÏßÅÏúÑ',\n      'ÏûÖÏÇ¨Ïùº',\n      'Í∏∞Î≥∏Í∏â',\n      'ÏßÅÏ±ÖÏàòÎãπ',\n      'ÏÉÅÏó¨Í∏à',\n      'ÏãùÎåÄ',\n      'Ï∞®ÎüâÏú†ÏßÄ',\n      'Ïó∞Ï∞®ÏàòÎãπ',\n      'Ïó∞ÎßêÏ†ïÏÇ∞',\n      'Í±¥Í∞ïÎ≥¥Ìóò',\n      'Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò',\n      'Íµ≠ÎØºÏó∞Í∏à',\n      'Í≥†Ïö©Î≥¥Ìóò',\n      'Í∞ëÍ∑ºÏÑ∏',\n      'Ï£ºÎØºÏÑ∏',\n      'Í∏∞ÌÉÄ',\n      'ÏßÄÍ∏âÏ¥ùÏï°',\n      'Í≥µÏ†úÏ¥ùÏï°',\n      'Ïã§ÏßÄÍ∏âÏï°'\n    ]\n\n    // Ìó§Îçî Ìñâ Ï∂îÍ∞Ä\n    worksheet.addRow(headers)\n\n    // Ìó§Îçî Ïä§ÌÉÄÏùºÎßÅ\n    const headerRow = worksheet.getRow(1)\n    headerRow.font = { bold: true, color: { argb: 'FFFFFF' } }\n    headerRow.fill = {\n      type: 'pattern',\n      pattern: 'solid',\n      fgColor: { argb: '366092' }\n    }\n    headerRow.alignment = { horizontal: 'center', vertical: 'middle' }\n\n    // Ïó¥ ÎÑàÎπÑ ÏÑ§Ï†ï\n    const columnWidths = [\n      10, 12, 15, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12\n    ]\n    columnWidths.forEach((width, index) => {\n      worksheet.getColumn(index + 1).width = width\n    })\n\n    // Îç∞Ïù¥ÌÑ∞ Ìñâ Ï∂îÍ∞Ä\n    employees.forEach((employee: any) => {\n      const baseSalary = employee.annual_salary ? Math.round(employee.annual_salary / 12) : 3000000\n      const hireDate = employee.hire_date\n        ? new Date(employee.hire_date).toISOString().split('T')[0]\n        : ''\n\n      const row = [\n        employee.employee_id,\n        `${employee.last_name}${employee.first_name}`,\n        employee.department || 'Î∂ÄÏÑúÏóÜÏùå',\n        employee.position || 'Ïó∞Íµ¨Ïõê',\n        hireDate,\n        baseSalary, // Í∏∞Î≥∏Í∏â\n        0, // ÏßÅÏ±ÖÏàòÎãπ\n        0, // ÏÉÅÏó¨Í∏à\n        300000, // ÏãùÎåÄ\n        200000, // Ï∞®ÎüâÏú†ÏßÄ\n        0, // Ïó∞Ï∞®ÏàòÎãπ\n        0, // Ïó∞ÎßêÏ†ïÏÇ∞\n        0, // Í±¥Í∞ïÎ≥¥Ìóò\n        0, // Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò\n        0, // Íµ≠ÎØºÏó∞Í∏à\n        0, // Í≥†Ïö©Î≥¥Ìóò\n        0, // Í∞ëÍ∑ºÏÑ∏\n        0, // Ï£ºÎØºÏÑ∏\n        0, // Í∏∞ÌÉÄ\n        `=SUM(F${worksheet.rowCount}:L${worksheet.rowCount})`, // ÏßÄÍ∏âÏ¥ùÏï°\n        `=SUM(M${worksheet.rowCount}:S${worksheet.rowCount})`, // Í≥µÏ†úÏ¥ùÏï°\n        `=T${worksheet.rowCount}-U${worksheet.rowCount}` // Ïã§ÏßÄÍ∏âÏï°\n      ]\n\n      worksheet.addRow(row)\n    })\n\n    // Ïà´Ïûê ÌòïÏãù ÏÑ§Ï†ï\n    const numberColumns = [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22] // F~VÏó¥\n    numberColumns.forEach(colIndex => {\n      worksheet.getColumn(colIndex).numFmt = '#,##0'\n    })\n\n    // ÌÖåÎëêÎ¶¨ ÏÑ§Ï†ï\n    worksheet.eachRow((row, rowNumber) => {\n      row.eachCell((cell, colNumber) => {\n        cell.border = {\n          top: { style: 'thin' },\n          left: { style: 'thin' },\n          bottom: { style: 'thin' },\n          right: { style: 'thin' }\n        }\n      })\n    })\n\n    // ÏÑ§Î™Ö ÏãúÌä∏ Ï∂îÍ∞Ä\n    const instructionSheet = workbook.addWorksheet('ÏûëÏÑ± Í∞ÄÏù¥Îìú')\n    instructionSheet.addRow(['Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏóëÏÖÄ ÏóÖÎ°úÎìú Í∞ÄÏù¥Îìú'])\n    instructionSheet.addRow([''])\n    instructionSheet.addRow(['1. Í∏∞Î≥∏ Ï†ïÎ≥¥'])\n    instructionSheet.addRow(['- ÏÇ¨Î≤à, ÏÑ±Î™Ö, Î∂ÄÏÑú, ÏßÅÏúÑ, ÏûÖÏÇ¨ÏùºÏùÄ ÏàòÏ†ïÌïòÏßÄ ÎßàÏÑ∏Ïöî'])\n    instructionSheet.addRow(['- Í∏∞Î≥∏Í∏âÏùÄ Ïó∞Î¥â/12Î°ú ÏûêÎèô Í≥ÑÏÇ∞Îê©ÎãàÎã§'])\n    instructionSheet.addRow([''])\n    instructionSheet.addRow(['2. ÏßÄÍ∏âÏÇ¨Ìï≠ (F~LÏó¥)'])\n    instructionSheet.addRow(['- Í∏∞Î≥∏Í∏â: Í∏∞Î≥∏ Í∏âÏó¨ (ÏûêÎèô Í≥ÑÏÇ∞)'])\n    instructionSheet.addRow(['- ÏßÅÏ±ÖÏàòÎãπ: ÏßÅÏ±ÖÏóê Îî∞Î•∏ ÏàòÎãπ'])\n    instructionSheet.addRow(['- ÏÉÅÏó¨Í∏à: ÏÑ±Í≥ºÍ∏â, Î≥¥ÎÑàÏä§ Îì±'])\n    instructionSheet.addRow(['- ÏãùÎåÄ: ÏãùÎπÑ ÏßÄÏõê (ÎπÑÍ≥ºÏÑ∏)'])\n    instructionSheet.addRow(['- Ï∞®ÎüâÏú†ÏßÄ: Ï∞®Îüâ Í¥ÄÎ†® ÎπÑÏö© (ÎπÑÍ≥ºÏÑ∏)'])\n    instructionSheet.addRow(['- Ïó∞Ï∞®ÏàòÎãπ: Ïó∞Ï∞® ÏÇ¨Ïö© Ïãú ÏßÄÍ∏â'])\n    instructionSheet.addRow(['- Ïó∞ÎßêÏ†ïÏÇ∞: Ïó∞ÎßêÏ†ïÏÇ∞ Í¥ÄÎ†® ÏßÄÍ∏â'])\n    instructionSheet.addRow([''])\n    instructionSheet.addRow(['3. Í≥µÏ†úÏÇ¨Ìï≠ (M~SÏó¥)'])\n    instructionSheet.addRow(['- Í±¥Í∞ïÎ≥¥Ìóò: Í±¥Í∞ïÎ≥¥ÌóòÎ£å (3.4%)'])\n    instructionSheet.addRow(['- Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò: Ïû•Í∏∞ÏöîÏñëÎ≥¥ÌóòÎ£å (0.34%)'])\n    instructionSheet.addRow(['- Íµ≠ÎØºÏó∞Í∏à: Íµ≠ÎØºÏó∞Í∏à (4.5%)'])\n    instructionSheet.addRow(['- Í≥†Ïö©Î≥¥Ìóò: Í≥†Ïö©Î≥¥ÌóòÎ£å (0.8%)'])\n    instructionSheet.addRow(['- Í∞ëÍ∑ºÏÑ∏: ÏÜåÎìùÏÑ∏ (13%)'])\n    instructionSheet.addRow(['- Ï£ºÎØºÏÑ∏: ÏßÄÎ∞©ÏÜåÎìùÏÑ∏ (1.3%)'])\n    instructionSheet.addRow(['- Í∏∞ÌÉÄ: Í∏∞ÌÉÄ Í≥µÏ†úÏÇ¨Ìï≠'])\n    instructionSheet.addRow([''])\n    instructionSheet.addRow(['4. ÏûêÎèô Í≥ÑÏÇ∞'])\n    instructionSheet.addRow(['- ÏßÄÍ∏âÏ¥ùÏï°: ÏßÄÍ∏âÏÇ¨Ìï≠ Ìï©Í≥Ñ (ÏûêÎèô Í≥ÑÏÇ∞)'])\n    instructionSheet.addRow(['- Í≥µÏ†úÏ¥ùÏï°: Í≥µÏ†úÏÇ¨Ìï≠ Ìï©Í≥Ñ (ÏûêÎèô Í≥ÑÏÇ∞)'])\n    instructionSheet.addRow(['- Ïã§ÏßÄÍ∏âÏï°: ÏßÄÍ∏âÏ¥ùÏï° - Í≥µÏ†úÏ¥ùÏï° (ÏûêÎèô Í≥ÑÏÇ∞)'])\n    instructionSheet.addRow([''])\n    instructionSheet.addRow(['5. Ï£ºÏùòÏÇ¨Ìï≠'])\n    instructionSheet.addRow(['- Ïà´ÏûêÎßå ÏûÖÎ†•ÌïòÏÑ∏Ïöî (ÏΩ§Îßà, ÏõêÌôî ÌëúÏãú Ï†úÏô∏)'])\n    instructionSheet.addRow(['- Îπà ÏÖÄÏùÄ 0ÏúºÎ°ú Ï≤òÎ¶¨Îê©ÎãàÎã§'])\n    instructionSheet.addRow(['- ÌååÏùºÏùÑ Ï†ÄÏû•Ìïú ÌõÑ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî'])\n\n    // ÏóëÏÖÄ ÌååÏùº ÏÉùÏÑ±\n    const buffer = await workbook.xlsx.writeBuffer()\n\n    // ÌïúÍ∏Ä ÌååÏùºÎ™ÖÏùÑ URL Ïù∏ÏΩîÎî©\n    const fileName = `Í∏âÏó¨Î™ÖÏÑ∏ÏÑú_${year}ÎÖÑ${month}Ïõî_ÌÖúÌîåÎ¶ø.xlsx`\n    const encodedFileName = encodeURIComponent(fileName)\n\n    return new Response(buffer, {\n      headers: {\n        'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        'Content-Disposition': `attachment; filename*=UTF-8''${encodedFileName}`\n      }\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'ÏóëÏÖÄ ÌÖúÌîåÎ¶ø ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/salary/payslips/upload/+server.ts",
    "messages": [
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 88,
        "column": 13,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 88,
        "endColumn": 68
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 178,
        "column": 15,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 178,
        "endColumn": 53
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 205,
        "column": 15,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 205,
        "endColumn": 53
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 230,
        "column": 11,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 230,
        "endColumn": 84
      },
      {
        "ruleId": "no-restricted-syntax",
        "severity": 2,
        "message": "Ïù¥Î¶Ñ Ï°∞Ìï© Ïãú formatEmployeeName ÎòêÎäî formatKoreanNameStandard Ìï®ÏàòÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
        "line": 244,
        "column": 16,
        "nodeType": "TemplateLiteral",
        "messageId": "restrictedSyntax",
        "endLine": 244,
        "endColumn": 70
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { query } from '$lib/database/connection'\nimport { json } from '@sveltejs/kit'\nimport ExcelJS from 'exceljs'\n\nexport async function POST({ request }) {\n  try {\n    const formData = await request.formData()\n    const file = formData.get('file') as File\n    const period = formData.get('period') as string // YYYY-MM ÌòïÏãù\n\n    if (!file) {\n      return json(\n        {\n          success: false,\n          error: 'ÌååÏùºÏù¥ ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    if (!period) {\n      return json(\n        {\n          success: false,\n          error: 'Í∏âÏó¨ Í∏∞Í∞ÑÏù¥ ÏßÄÏ†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // ÌååÏùº ÌôïÏû•Ïûê Í≤ÄÏ¶ù\n    if (!file.name.endsWith('.xlsx') && !file.name.endsWith('.xls')) {\n      return json(\n        {\n          success: false,\n          error: 'ÏóëÏÖÄ ÌååÏùº(.xlsx, .xls)Îßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    // ÏóëÏÖÄ ÌååÏùº ÏùΩÍ∏∞\n    const buffer = await file.arrayBuffer()\n    const workbook = new ExcelJS.Workbook()\n    await workbook.xlsx.load(buffer)\n\n    const worksheet = workbook.getWorksheet('Í∏âÏó¨Î™ÖÏÑ∏ÏÑú')\n    if (!worksheet) {\n      return json(\n        {\n          success: false,\n          error: 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏãúÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n        },\n        { status: 400 }\n      )\n    }\n\n    const results = {\n      success: 0,\n      failed: 0,\n      errors: [] as string[],\n      details: [] as unknown[]\n    }\n\n    // Ìó§Îçî Ìñâ Í±¥ÎÑàÎõ∞Í≥† Îç∞Ïù¥ÌÑ∞ Ìñâ Ï≤òÎ¶¨\n    for (let rowNumber = 2; rowNumber <= worksheet.rowCount; rowNumber++) {\n      const row = worksheet.getRow(rowNumber)\n\n      try {\n        // ÌïÑÏàò Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\n        const employeeId = row.getCell(1).value?.toString()\n        const name = row.getCell(2).value?.toString()\n\n        if (!employeeId || !name) {\n          results.failed++\n          results.errors.push(`Ìñâ ${rowNumber}: ÏÇ¨Î≤à ÎòêÎäî ÏÑ±Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.`)\n          continue\n        }\n\n        // ÏßÅÏõê IDÎ°ú Ïã§Ï†ú ÏßÅÏõê Ï∞æÍ∏∞\n        const employeeResult = await query('SELECT id FROM employees WHERE employee_id = $1', [\n          employeeId\n        ])\n\n        if (employeeResult.rows.length === 0) {\n          results.failed++\n          results.errors.push(\n            `Ìñâ ${rowNumber}: ÏÇ¨Î≤à ${employeeId}Ïóê Ìï¥ÎãπÌïòÎäî ÏßÅÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`\n          )\n          continue\n        }\n\n        const employeeDbId = employeeResult.rows[0].id\n\n        // ÏßÄÍ∏âÏÇ¨Ìï≠ Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\n        const allowances = [\n          { id: 'basic_salary', name: 'Í∏∞Î≥∏Í∏â', amount: Number(row.getCell(6).value) || 0 },\n          { id: 'position_allowance', name: 'ÏßÅÏ±ÖÏàòÎãπ', amount: Number(row.getCell(7).value) || 0 },\n          { id: 'bonus', name: 'ÏÉÅÏó¨Í∏à', amount: Number(row.getCell(8).value) || 0 },\n          { id: 'meal_allowance', name: 'ÏãùÎåÄ', amount: Number(row.getCell(9).value) || 0 },\n          {\n            id: 'vehicle_maintenance',\n            name: 'Ï∞®ÎüâÏú†ÏßÄ',\n            amount: Number(row.getCell(10).value) || 0\n          },\n          {\n            id: 'annual_leave_allowance',\n            name: 'Ïó∞Ï∞®ÏàòÎãπ',\n            amount: Number(row.getCell(11).value) || 0\n          },\n          {\n            id: 'year_end_settlement',\n            name: 'Ïó∞ÎßêÏ†ïÏÇ∞',\n            amount: Number(row.getCell(12).value) || 0\n          }\n        ]\n\n        // Í≥µÏ†úÏÇ¨Ìï≠ Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\n        const deductions = [\n          { id: 'health_insurance', name: 'Í±¥Í∞ïÎ≥¥Ìóò', amount: Number(row.getCell(13).value) || 0 },\n          {\n            id: 'long_term_care',\n            name: 'Ïû•Í∏∞ÏöîÏñëÎ≥¥Ìóò',\n            amount: Number(row.getCell(14).value) || 0\n          },\n          { id: 'national_pension', name: 'Íµ≠ÎØºÏó∞Í∏à', amount: Number(row.getCell(15).value) || 0 },\n          {\n            id: 'employment_insurance',\n            name: 'Í≥†Ïö©Î≥¥Ìóò',\n            amount: Number(row.getCell(16).value) || 0\n          },\n          { id: 'income_tax', name: 'Í∞ëÍ∑ºÏÑ∏', amount: Number(row.getCell(17).value) || 0 },\n          { id: 'local_tax', name: 'Ï£ºÎØºÏÑ∏', amount: Number(row.getCell(18).value) || 0 },\n          { id: 'other', name: 'Í∏∞ÌÉÄ', amount: Number(row.getCell(19).value) || 0 }\n        ]\n\n        // Ï¥ùÏï° Í≥ÑÏÇ∞\n        const totalPayments = allowances.reduce((sum, item) => sum + item.amount, 0)\n        const totalDeductions = deductions.reduce((sum, item) => sum + item.amount, 0)\n        const netSalary = totalPayments - totalDeductions\n        const baseSalary = allowances.find(a => a.id === 'basic_salary')?.amount || 0\n\n        // ÏßÄÍ∏âÏùº ÏÑ§Ï†ï (Ìï¥Îãπ ÏõîÏùò ÎßàÏßÄÎßâ ÎÇ†)\n        const [year, month] = period.split('-')\n        const lastDay = new Date(parseInt(year), parseInt(month), 0).getDate()\n        const payDate = `${year}-${month.padStart(2, '0')}-${lastDay.toString().padStart(2, '0')}`\n\n        // Í∏∞Ï°¥ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÌôïÏù∏\n        const existingPayslip = await query(\n          'SELECT id FROM payslips WHERE employee_id = $1 AND period = $2',\n          [employeeDbId, period]\n        )\n\n        if (existingPayslip.rows.length > 0) {\n          // Í∏∞Ï°¥ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏\n          await query(\n            `\n\t\t\t\t\t\tUPDATE payslips SET\n\t\t\t\t\t\t\tpay_date = $3,\n\t\t\t\t\t\t\tpay_period_start = $4,\n\t\t\t\t\t\t\tpay_period_end = $5,\n\t\t\t\t\t\t\tbase_salary = $6,\n\t\t\t\t\t\t\ttotal_payments = $7,\n\t\t\t\t\t\t\ttotal_deductions = $8,\n\t\t\t\t\t\t\tnet_salary = $9,\n\t\t\t\t\t\t\ttotal_amount = $10,\n\t\t\t\t\t\t\tpayments = $11,\n\t\t\t\t\t\t\tdeductions = $12,\n\t\t\t\t\t\t\tstatus = 'draft',\n\t\t\t\t\t\t\tis_generated = false,\n\t\t\t\t\t\t\tupdated_at = CURRENT_TIMESTAMP\n\t\t\t\t\t\tWHERE employee_id = $1 AND period = $2\n\t\t\t\t\t\t`,\n            [\n              employeeDbId,\n              period,\n              payDate,\n              `${year}-${month.padStart(2, '0')}-01`,\n              `${year}-${month.padStart(2, '0')}-${lastDay.toString().padStart(2, '0')}`,\n              baseSalary,\n              totalPayments,\n              totalDeductions,\n              netSalary,\n              totalPayments,\n              JSON.stringify(allowances),\n              JSON.stringify(deductions)\n            ]\n          )\n        } else {\n          // ÏÉà Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏÉùÏÑ±\n          await query(\n            `\n\t\t\t\t\t\tINSERT INTO payslips (\n\t\t\t\t\t\t\temployee_id, period, pay_date, pay_period_start, pay_period_end,\n\t\t\t\t\t\t\tbase_salary, total_payments, total_deductions, net_salary, total_amount,\n\t\t\t\t\t\t\tpayments, deductions, status, is_generated\n\t\t\t\t\t\t) VALUES (\n\t\t\t\t\t\t\t$1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, 'draft', false\n\t\t\t\t\t\t)\n\t\t\t\t\t\t`,\n            [\n              employeeDbId,\n              period,\n              payDate,\n              `${year}-${month.padStart(2, '0')}-01`,\n              `${year}-${month.padStart(2, '0')}-${lastDay.toString().padStart(2, '0')}`,\n              baseSalary,\n              totalPayments,\n              totalDeductions,\n              netSalary,\n              totalPayments,\n              JSON.stringify(allowances),\n              JSON.stringify(deductions)\n            ]\n          )\n        }\n\n        results.success++\n        results.details.push({\n          row: rowNumber,\n          employeeId,\n          name,\n          status: 'success',\n          totalPayments,\n          netSalary\n        })\n      } catch (error) {\n        results.failed++\n        results.errors.push(\n          `Ìñâ ${rowNumber}: ${error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'}`\n        )\n        results.details.push({\n          row: rowNumber,\n          employeeId: row.getCell(1).value?.toString() || 'N/A',\n          name: row.getCell(2).value?.toString() || 'N/A',\n          status: 'failed',\n          error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\n        })\n      }\n    }\n\n    return json({\n      success: true,\n      message: `Ï≤òÎ¶¨ ÏôÑÎ£å: ÏÑ±Í≥µ ${results.success}Í±¥, Ïã§Ìå® ${results.failed}Í±¥`,\n      results\n    })\n  } catch (error) {\n    return json(\n      {\n        success: false,\n        error: 'ÌååÏùº ÏóÖÎ°úÎìú Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    )\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/templates/employees/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/api/templates/projects/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/crm/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 177,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 177,
        "endColumn": 28
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 284,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 284,
        "endColumn": 11
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 451,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 515,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 651,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 651,
        "endColumn": 28,
        "fix": { "range": [21244, 21245], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 744,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 744,
        "endColumn": 28,
        "fix": { "range": [23976, 23977], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 4,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeGrid from '$lib/components/ui/ThemeGrid.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import ThemeChartPlaceholder from '$lib/components/ui/ThemeChartPlaceholder.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import ThemeInput from '$lib/components/ui/ThemeInput.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    UsersIcon,\n    BuildingIcon,\n    X,\n    MailIcon,\n    CalendarIcon,\n    PlusIcon,\n    EyeIcon,\n    EditIcon,\n    TrashIcon,\n    BarChart3Icon,\n    FileTextIcon,\n    PieChartIcon,\n    MessageSquareIcon,\n    StarIcon,\n    TrendingUpIcon,\n    TargetIcon\n  } from '@lucide/svelte'\n\n  // Mock CRM data\n  let crmData = $state({\n    customers: [\n      {\n        id: 'customer-1',\n        name: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ',\n        contact: 'ÍπÄÏòÅÌù¨',\n        email: 'kim@abctech.com',\n        phone: '02-1234-5678',\n        industry: 'IT/ÏÜåÌîÑÌä∏Ïõ®Ïñ¥',\n        status: 'active',\n        value: 50000000,\n        lastContact: '2024-01-20',\n        createdAt: '2024-01-15',\n        notes: 'Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨ ÏÜîÎ£®ÏÖò Í≥†Í∞ù'\n      },\n      {\n        id: 'customer-2',\n        name: 'XYZ Ï†úÏ°∞',\n        contact: 'Î∞ïÎØºÏàò',\n        email: 'park@xyz.com',\n        phone: '02-9876-5432',\n        industry: 'Ï†úÏ°∞ÏóÖ',\n        status: 'active',\n        value: 30000000,\n        lastContact: '2024-01-18',\n        createdAt: '2024-01-10',\n        notes: 'ÏûêÎèôÌôî ÏãúÏä§ÌÖú Í≥†Í∞ù'\n      }\n    ],\n    interactions: [\n      {\n        id: 'interaction-1',\n        customerId: 'customer-1',\n        customerName: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ',\n        type: 'call',\n        subject: 'Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨ ÏÜîÎ£®ÏÖò Î¨∏Ïùò',\n        description: 'ÏÉàÎ°úÏö¥ Í∏∞Îä•Ïóê ÎåÄÌïú Î¨∏Ïùò Î∞è ÏÉÅÎã¥',\n        date: '2024-01-20',\n        user: 'ÍπÄÏòÅÌù¨',\n        status: 'completed'\n      },\n      {\n        id: 'interaction-2',\n        customerId: 'customer-2',\n        customerName: 'XYZ Ï†úÏ°∞',\n        type: 'email',\n        subject: 'ÏûêÎèôÌôî ÏãúÏä§ÌÖú ÏóÖÍ∑∏Î†àÏù¥Îìú',\n        description: 'Í∏∞Ï°¥ ÏãúÏä§ÌÖú ÏóÖÍ∑∏Î†àÏù¥Îìú Í¥ÄÎ†® Ïù¥Î©îÏùº',\n        date: '2024-01-18',\n        user: 'Î∞ïÎØºÏàò',\n        status: 'completed'\n      }\n    ],\n    opportunities: [\n      {\n        id: 'opp-1',\n        title: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨',\n        customerId: 'customer-1',\n        customerName: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ',\n        value: 50000000,\n        stage: 'proposal',\n        probability: 70,\n        expectedClose: '2024-02-15',\n        owner: 'ÍπÄÏòÅÌù¨',\n        createdAt: '2024-01-15'\n      },\n      {\n        id: 'opp-2',\n        title: 'XYZ Ï†úÏ°∞ Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨',\n        customerId: 'customer-2',\n        customerName: 'XYZ Ï†úÏ°∞',\n        value: 30000000,\n        stage: 'negotiation',\n        probability: 50,\n        expectedClose: '2024-02-28',\n        owner: 'Î∞ïÎØºÏàò',\n        createdAt: '2024-01-10'\n      }\n    ]\n  })\n\n  let selectedCustomer = $state<any>(null)\n  let showCustomerModal = $state(false)\n  let showCreateModal = $state(false)\n  let searchTerm = $state('')\n  let selectedStatus = $state('all')\n\n  // ÌÉ≠ Ï†ïÏùò\n  const tabs = [\n    { id: 'overview', label: 'Í∞úÏöî', icon: BarChart3Icon },\n    { id: 'customers', label: 'Í≥†Í∞ù', icon: UsersIcon },\n    { id: 'interactions', label: 'ÏÉÅÌò∏ÏûëÏö©', icon: MessageSquareIcon },\n    { id: 'opportunities', label: 'Í∏∞Ìöå', icon: TargetIcon },\n    { id: 'reports', label: 'Î≥¥Í≥†ÏÑú', icon: FileTextIcon }\n  ]\n\n  let activeTab = $state('overview')\n\n  // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  const stats = [\n    {\n      title: 'Ï¥ù Í≥†Í∞ù Ïàò',\n      value: crmData.customers.length,\n      change: '+8%',\n      changeType: 'positive' as const,\n      icon: UsersIcon\n    },\n    {\n      title: 'ÌôúÏÑ± Í≥†Í∞ù',\n      value: crmData.customers.filter(c => c.status === 'active').length,\n      change: '+2',\n      changeType: 'positive' as const,\n      icon: BuildingIcon\n    },\n    {\n      title: 'ÏòàÏÉÅ Îß§Ï∂ú',\n      value: formatCurrency(crmData.opportunities.reduce((sum, opp) => sum + opp.value, 0)),\n      change: '+15%',\n      changeType: 'positive' as const,\n      icon: TrendingUpIcon\n    },\n    {\n      title: 'Í≥†Í∞ù ÎßåÏ°±ÎèÑ',\n      value: '92%',\n      change: '+3%',\n      changeType: 'positive' as const,\n      icon: StarIcon\n    }\n  ]\n\n  // Ïï°ÏÖò Î≤ÑÌäºÎì§\n  const actions = [\n    {\n      label: 'Í≥†Í∞ù Ï∂îÍ∞Ä',\n      icon: PlusIcon,\n      onclick: () => (showCreateModal = true),\n      variant: 'primary' as const\n    },\n    {\n      label: 'ÏÉÅÌò∏ÏûëÏö© Í∏∞Î°ù',\n      icon: MessageSquareIcon,\n      onclick: () => logger.log('Record interaction'),\n      variant: 'success' as const\n    }\n  ]\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Í≥†Í∞ù Îç∞Ïù¥ÌÑ∞\n  let filteredCustomers = $derived(() => {\n    let customers = crmData.customers\n\n    if (searchTerm) {\n      customers = customers.filter(\n        customer =>\n          customer.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            customer.contact.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            customer.industry.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (selectedStatus !== 'all') {\n      customers = customers.filter(customer => customer.status === selectedStatus)\n    }\n\n    return customers\n  })\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ\n  const getStatusColor = (status: string) => {\n    const colors = {\n      active: 'success',\n      inactive: 'error',\n      prospect: 'warning',\n      churned: 'error'\n    }\n    return (colors as any)[status] || 'default'\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÎùºÎ≤®\n  const getStatusLabel = (status: string) => {\n    const labels = {\n      active: 'ÌôúÏÑ±',\n      inactive: 'ÎπÑÌôúÏÑ±',\n      prospect: 'Ïû†Ïû¨Í≥†Í∞ù',\n      churned: 'Ïù¥ÌÉà'\n    }\n    return (labels as any)[status] || status\n  }\n\n  // ÏÉÅÌò∏ÏûëÏö© ÌÉÄÏûÖÎ≥Ñ ÏÉâÏÉÅ\n  const getInteractionTypeColor = (type: string) => {\n    const colors = {\n      call: 'primary',\n      email: 'info',\n      meeting: 'success',\n      note: 'warning'\n    }\n    return (colors as any)[type] || 'default'\n  }\n\n  // ÏÉÅÌò∏ÏûëÏö© ÌÉÄÏûÖÎ≥Ñ ÎùºÎ≤®\n  const getInteractionTypeLabel = (type: string) => {\n    const labels = {\n      call: 'Ï†ÑÌôî',\n      email: 'Ïù¥Î©îÏùº',\n      meeting: 'ÎØ∏ÌåÖ',\n      note: 'Î©îÎ™®'\n    }\n    return (labels as any)[type] || type\n  }\n\n  // Îã®Í≥ÑÎ≥Ñ ÏÉâÏÉÅ\n  const getStageColor = (stage: string) => {\n    const colors = {\n      prospecting: 'info',\n      qualification: 'primary',\n      proposal: 'warning',\n      negotiation: 'success',\n      'closed-won': 'success',\n      'closed-lost': 'error'\n    }\n    return (colors as any)[stage] || 'default'\n  }\n\n  // Îã®Í≥ÑÎ≥Ñ ÎùºÎ≤®\n  const getStageLabel = (stage: string) => {\n    const labels = {\n      prospecting: 'ÌÉêÏÉâ',\n      qualification: 'Í≤ÄÏ¶ù',\n      proposal: 'Ï†úÏïà',\n      negotiation: 'ÌòëÏÉÅ',\n      'closed-won': 'ÏÑ±ÏÇ¨',\n      'closed-lost': 'Ïã§Ìå®'\n    }\n    return (labels as any)[stage] || stage\n  }\n\n  // Í≥†Í∞ù Î≥¥Í∏∞\n  function viewCustomer(customer: any) {\n    selectedCustomer = customer\n    showCustomerModal = true\n  }\n\n  // Í≥†Í∞ù ÏÇ≠Ï†ú\n  function deleteCustomer(customerId: string) {\n    crmData.customers = crmData.customers.filter(customer => customer.id !== customerId)\n  }\n\n  onMount(() => {\n    logger.log('CRM ÌéòÏù¥ÏßÄ Î°úÎìúÎê®')\n  })\n</script>\n\n<PageLayout\n  title=\"Í≥†Í∞ùÍ¥ÄÎ¶¨ (CRM)\"\n  subtitle=\"Í≥†Í∞ù Ï†ïÎ≥¥, ÏÉÅÌò∏ÏûëÏö©, Í∏∞Ìöå Í¥ÄÎ¶¨\"\n  {stats}\n  {actions}\n  searchPlaceholder=\"Í≥†Í∞ùÎ™Ö, Îã¥ÎãπÏûê, ÏóÖÏ¢ÖÏúºÎ°ú Í≤ÄÏÉâ...\"\n>\n  <!-- ÌÉ≠ ÏãúÏä§ÌÖú -->\n  <ThemeTabs\n    {tabs}\n    bind:activeTab\n    variant=\"underline\"\n    size=\"md\"\n    class=\"mb-6\">\n    {#snippet children(tab: any)}\n      {#if tab.id === 'overview'}\n        <!-- Í∞úÏöî ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <!-- Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <!-- Í≥†Í∞ù Î∂ÑÌè¨ -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"Í≥†Í∞ù Î∂ÑÌè¨\" />\n              <ThemeChartPlaceholder\n                title=\"Í≥†Í∞ù ÏÉÅÌÉúÎ≥Ñ Î∂ÑÌè¨\"\n                icon={PieChartIcon} />\n            </ThemeCard>\n\n            <!-- ÏÉÅÌò∏ÏûëÏö© ÌòÑÌô© -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏÉÅÌò∏ÏûëÏö© ÌòÑÌô©\" />\n              <ThemeChartPlaceholder\n                title=\"ÏõîÎ≥Ñ ÏÉÅÌò∏ÏûëÏö© Ï∂îÏù¥\"\n                icon={BarChart3Icon} />\n            </ThemeCard>\n          </ThemeGrid>\n\n          <!-- ÏµúÍ∑º ÏÉÅÌò∏ÏûëÏö© -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <!-- ÏµúÍ∑º ÏÉÅÌò∏ÏûëÏö© -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏµúÍ∑º ÏÉÅÌò∏ÏûëÏö©\" />\n              <ThemeSpacer size={4}>\n                {#each crmData.interactions as interaction, i (i)}\n                  <div\n                    class=\"flex items-center justify-between p-3 rounded-lg\"\n                    style:background=\"var(--color-surface-elevated)\"\n                  >\n                    <div class=\"flex-1\">\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">\n                        {interaction.subject}\n                      </h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {interaction.customerName}\n                      </p>\n                      <div class=\"flex items-center gap-2 mt-1\">\n                        <ThemeBadge variant={getInteractionTypeColor(interaction.type)}>\n                          {getInteractionTypeLabel(interaction.type)}\n                        </ThemeBadge>\n                        <span\n                          class=\"text-sm\"\n                          style:color=\"var(--color-text-secondary)\">\n                          {interaction.user}\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"text-right\">\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {formatDate(interaction.date)}\n                      </p>\n                    </div>\n                  </div>\n                {/each}\n              </ThemeSpacer>\n            </ThemeCard>\n\n            <!-- ÏßÑÌñâÏ§ëÏù∏ Í∏∞Ìöå -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏßÑÌñâÏ§ëÏù∏ Í∏∞Ìöå\" />\n              <ThemeSpacer size={4}>\n                {#each crmData.opportunities as opportunity, i (i)}\n                  <div\n                    class=\"flex items-center justify-between p-3 rounded-lg\"\n                    style:background=\"var(--color-surface-elevated)\"\n                  >\n                    <div class=\"flex-1\">\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">\n                        {opportunity.title}\n                      </h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {opportunity.customerName}\n                      </p>\n                      <div class=\"flex items-center gap-2 mt-1\">\n                        <ThemeBadge variant={getStageColor(opportunity.stage)}>\n                          {getStageLabel(opportunity.stage)}\n                        </ThemeBadge>\n                        <span\n                          class=\"text-sm font-medium\"\n                          style:color=\"var(--color-primary)\">\n                          {formatCurrency(opportunity.value)} ({opportunity.probability}%)\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"text-right\">\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        ÏòàÏÉÅ ÎßàÍ∞ê: {formatDate(opportunity.expectedClose)}\n                      </p>\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        Îã¥Îãπ: {opportunity.owner}\n                      </p>\n                    </div>\n                  </div>\n                {/each}\n              </ThemeSpacer>\n            </ThemeCard>\n          </ThemeGrid>\n        </ThemeSpacer>\n      {:else if tab.id === 'customers'}\n        <!-- Í≥†Í∞ù ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Í≥†Í∞ù Î™©Î°ù</h3>\n              <div class=\"flex items-center gap-2\">\n                <select\n                  bind:value={selectedStatus}\n                  class=\"px-3 py-2 border rounded-md\"\n                  style:background=\"var(--color-surface)\"\n                  style:border-color=\"var(--color-border)\"\n                  style:color=\"var(--color-text)\"\n                >\n                  <option value=\"all\">Ï†ÑÏ≤¥</option>\n                  <option value=\"active\">ÌôúÏÑ±</option>\n                  <option value=\"inactive\">ÎπÑÌôúÏÑ±</option>\n                  <option value=\"prospect\">Ïû†Ïû¨Í≥†Í∞ù</option>\n                  <option value=\"churned\">Ïù¥ÌÉà</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"space-y-4\">\n              {#each filteredCustomers() as customer}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <div class=\"flex items-center gap-3 mb-2\">\n                      <BuildingIcon\n                        size={20}\n                        style=\"color: var(--color-primary);\" />\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">{customer.name}</h4>\n                      <ThemeBadge variant={getStatusColor(customer.status)}>\n                        {getStatusLabel(customer.status)}\n                      </ThemeBadge>\n                    </div>\n                    <div\n                      class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\"\n                      style:color=\"var(--color-text-secondary)\"\n                    >\n                      <div class=\"flex items-center gap-2\">\n                        <UsersIcon size={16} />\n                        {customer.contact}\n                      </div>\n                      <div class=\"flex items-center gap-2\">\n                        <MailIcon size={16} />\n                        {customer.email}\n                      </div>\n                      <div class=\"flex items-center gap-2\">\n                        <CalendarIcon size={16} />\n                        {formatDate(customer.lastContact)}\n                      </div>\n                    </div>\n                    {#if customer.notes}\n                      <p\n                        class=\"text-sm mt-2\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {customer.notes}\n                      </p>\n                    {/if}\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => viewCustomer(customer)}>\n                      <EyeIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\">\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => deleteCustomer(customer.id)}\n                    >\n                      <TrashIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'interactions'}\n        <!-- ÏÉÅÌò∏ÏûëÏö© ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"Í≥†Í∞ù ÏÉÅÌò∏ÏûëÏö©\" />\n            <ThemeSpacer size={4}>\n              {#each crmData.interactions as interaction, i (i)}\n                <div\n                  class=\"flex items-center justify-between p-3 rounded-lg\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <h4\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">\n                      {interaction.subject}\n                    </h4>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {interaction.customerName} ‚Ä¢ {interaction.user}\n                    </p>\n                    <div class=\"flex items-center gap-2 mt-1\">\n                      <ThemeBadge variant={getInteractionTypeColor(interaction.type)}>\n                        {getInteractionTypeLabel(interaction.type)}\n                      </ThemeBadge>\n                      <span\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {interaction.description}\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p\n                      class=\"text-xs\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {formatDate(interaction.date)}\n                    </p>\n                  </div>\n                </div>\n              {/each}\n            </ThemeSpacer>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'opportunities'}\n        <!-- Í∏∞Ìöå ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"ÏòÅÏóÖ Í∏∞Ìöå\" />\n            <ThemeSpacer size={4}>\n              {#each crmData.opportunities as opportunity, i (i)}\n                <div\n                  class=\"flex items-center justify-between p-3 rounded-lg\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <h4\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">\n                      {opportunity.title}\n                    </h4>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {opportunity.customerName} ‚Ä¢ {opportunity.owner}\n                    </p>\n                    <div class=\"flex items-center gap-2 mt-1\">\n                      <ThemeBadge variant={getStageColor(opportunity.stage)}>\n                        {getStageLabel(opportunity.stage)}\n                      </ThemeBadge>\n                      <span\n                        class=\"text-sm font-medium\"\n                        style:color=\"var(--color-primary)\">\n                        {formatCurrency(opportunity.value)} ({opportunity.probability}%)\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p\n                      class=\"text-xs\"\n                      style:color=\"var(--color-text-secondary)\">\n                      ÏòàÏÉÅ ÎßàÍ∞ê: {formatDate(opportunity.expectedClose)}\n                    </p>\n                  </div>\n                </div>\n              {/each}\n            </ThemeSpacer>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'reports'}\n        <!-- Î≥¥Í≥†ÏÑú ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"CRM Î≥¥Í≥†ÏÑú\" />\n            <ThemeGrid\n              cols={1}\n              mdCols={2}\n              gap={4}>\n              <ThemeButton\n                variant=\"secondary\"\n                class=\"flex items-center gap-2 p-4 h-auto\">\n                <FileTextIcon size={20} />\n                <div class=\"text-left\">\n                  <div class=\"font-medium\">Í≥†Í∞ù Î∂ÑÏÑù Î≥¥Í≥†ÏÑú</div>\n                  <div class=\"text-sm opacity-70\">Í≥†Í∞ùÎ≥Ñ ÏÉÅÏÑ∏ Î∂ÑÏÑù</div>\n                </div>\n              </ThemeButton>\n              <ThemeButton\n                variant=\"secondary\"\n                class=\"flex items-center gap-2 p-4 h-auto\">\n                <BarChart3Icon size={20} />\n                <div class=\"text-left\">\n                  <div class=\"font-medium\">ÏÉÅÌò∏ÏûëÏö© Î∂ÑÏÑù</div>\n                  <div class=\"text-sm opacity-70\">Í≥†Í∞ù ÏÉÅÌò∏ÏûëÏö© Ìå®ÌÑ¥ Î∂ÑÏÑù</div>\n                </div>\n              </ThemeButton>\n            </ThemeGrid>\n          </ThemeCard>\n        </ThemeSpacer>\n      {/if}\n    {/snippet}\n  </ThemeTabs>\n</PageLayout>\n\n<!-- Í≥†Í∞ù ÏÉÅÏÑ∏ Î™®Îã¨ -->\n{#if showCustomerModal && selectedCustomer}\n  <ThemeModal>\n    <div class=\"flex justify-between items-center mb-4\">\n      <h3\n        class=\"text-lg font-semibold\"\n        style:color=\"var(--color-text)\">Í≥†Í∞ù ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>\n      <button type=\"button\"\n        onclick={() => {\n          showCustomerModal = false\n          selectedCustomer = null\n        }}\n        class=\"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700\"\n        style:color=\"var(--color-text-secondary)\"\n      >\n        <X class=\"w-5 h-5\" />\n      </button>\n    </div>\n    <div class=\"space-y-4\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">ÌöåÏÇ¨Î™Ö</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">{selectedCustomer.name}</p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">Îã¥ÎãπÏûê</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">\n            {selectedCustomer.contact}\n          </p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">Ïù¥Î©îÏùº</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">\n            {selectedCustomer.email}\n          </p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">Ï†ÑÌôîÎ≤àÌò∏</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">\n            {selectedCustomer.phone}\n          </p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">ÏóÖÏ¢Ö</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">\n            {selectedCustomer.industry}\n          </p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">\n            Í≥†Í∞ù Í∞ÄÏπò\n          </div>\n          <p\n            class=\"text-sm font-medium\"\n            style:color=\"var(--color-primary)\">\n            {formatCurrency(selectedCustomer.value)}\n          </p>\n        </div>\n      </div>\n      <div>\n        <div\n          class=\"block text-sm font-medium mb-1\"\n          style:color=\"var(--color-text)\">Î©îÎ™®</div>\n        <p\n          class=\"text-sm\"\n          style:color=\"var(--color-text-secondary)\">{selectedCustomer.notes}</p>\n      </div>\n    </div>\n  </ThemeModal>\n{/if}\n\n<!-- Í≥†Í∞ù ÏÉùÏÑ± Î™®Îã¨ -->\n{#if showCreateModal}\n  <ThemeModal>\n    <div class=\"flex justify-between items-center mb-4\">\n      <h3\n        class=\"text-lg font-semibold\"\n        style:color=\"var(--color-text)\">ÏÉà Í≥†Í∞ù Ï∂îÍ∞Ä</h3>\n      <button type=\"button\"\n        onclick={() => (showCreateModal = false)}\n        class=\"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700\"\n        style:color=\"var(--color-text-secondary)\"\n      >\n        <X class=\"w-5 h-5\" />\n      </button>\n    </div>\n    <div class=\"space-y-4\">\n      <ThemeInput\n        label=\"ÌöåÏÇ¨Î™Ö\"\n        placeholder=\"ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Îã¥ÎãπÏûêÎ™Ö\"\n        placeholder=\"Îã¥ÎãπÏûêÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Ïù¥Î©îÏùº\"\n        type=\"email\"\n        placeholder=\"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Ï†ÑÌôîÎ≤àÌò∏\"\n        placeholder=\"Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"ÏóÖÏ¢Ö\"\n        placeholder=\"ÏóÖÏ¢ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Í≥†Í∞ù Í∞ÄÏπò\"\n        type=\"number\"\n        placeholder=\"Í≥†Í∞ù Í∞ÄÏπòÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Î©îÎ™®\"\n        placeholder=\"Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n    </div>\n    <div class=\"flex justify-end gap-2 mt-6\">\n      <ThemeButton\n        variant=\"secondary\"\n        onclick={() => (showCreateModal = false)}>Ï∑®ÏÜå</ThemeButton>\n      <ThemeButton variant=\"primary\">Ï†ÄÏû•</ThemeButton>\n    </div>\n  </ThemeModal>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/dashboard/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/expenses/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 184,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 196,
        "endColumn": 20
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 184,
        "column": 51,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 184,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [5908, 5909], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 235,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 235,
        "endColumn": 32,
        "fix": { "range": [7805, 7806], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 239,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 239,
        "endColumn": 32,
        "fix": { "range": [7975, 7976], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { formatKRW } from '$lib/utils/format'\n  import {\n    expenseDocsStore,\n    updateExpenseStatus,\n    expenseHistories,\n    addExpenseHistory\n  } from '$lib/stores/rnd'\n  import { pushToast } from '$lib/stores/toasts'\n  import { page } from '$app/state'\n  import { goto } from '$app/navigation'\n  import type { ExpenseDocument } from '$lib/types'\n\n  let status = $state((page.url.searchParams.get('status') as '' | 'ÎåÄÍ∏∞' | 'ÏäπÏù∏' | 'Î∞òÎ†§') || '')\n  let query = $state(page.url.searchParams.get('q') || '')\n  let selectedId = $state<string | null>(null)\n\n  const all = $derived($expenseDocsStore)\n  const filtered = $derived(\n    all.filter(\n      d =>\n        (status ? d.status === status : true) &&\n          (query ? d.title.includes(query) || d.id.includes(query) : true)\n    )\n  )\n  const selected = $derived(all.find(d => d.id === selectedId))\n\n  let reason = $state('')\n  function approve() {\n    if (selected) {\n      updateExpenseStatus(selected.id, 'ÏäπÏù∏')\n      addExpenseHistory(selected.id, 'ÏäπÏù∏', reason || undefined)\n      reason = ''\n      pushToast('Î¨∏ÏÑúÍ∞Ä ÏäπÏù∏ÎêòÏóàÏäµÎãàÎã§.', 'success')\n    }\n  }\n  function reject() {\n    if (selected) {\n      updateExpenseStatus(selected.id, 'Î∞òÎ†§')\n      addExpenseHistory(selected.id, 'Î∞òÎ†§', reason || undefined)\n      reason = ''\n      pushToast('Î¨∏ÏÑúÍ∞Ä Î∞òÎ†§ÎêòÏóàÏäµÎãàÎã§.', 'error')\n    }\n  }\n\n  // URL ÎèôÍ∏∞Ìôî\n  $effect(() => {\n    const sp = new URLSearchParams(page.url.searchParams)\n    if (query) sp.set('q', query)\n    else sp.delete('q')\n    if (status) sp.set('status', status)\n    else sp.delete('status')\n    const newUrl = `/expenses?${sp.toString()}`\n    if (newUrl !== page.url.pathname + (page.url.search ? page.url.search : '')) {\n      goto(newUrl, { replaceState: true, noScroll: true, keepFocus: true })\n    }\n  })\n\n  // Í∞ÑÎã®Ìïú Ïª¥ÌîåÎùºÏù¥Ïñ∏Ïä§ Í≤ÄÏ¶ù: Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏµúÏÜå Ï≤®Î∂Ä Í∞úÏàò ÏöîÍµ¨\n  const requiredAttachments: Record<string, number> = {\n    Ïù∏Í±¥ÎπÑ: 2,\n    Ïû¨Î£åÎπÑ: 1,\n    Ïó∞Íµ¨ÌôúÎèôÎπÑ: 1,\n    Ïó¨ÎπÑ: 2\n  }\n  const requiredDocNames: Record<string, string[]> = {\n    Ïù∏Í±¥ÎπÑ: ['Í∏âÏó¨Î™ÖÏÑ∏ÏÑú', '4ÎåÄÎ≥¥Ìóò ÎÇ©Î∂ÄÌôïÏù∏'],\n    Ïû¨Î£åÎπÑ: ['ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú'],\n    Ïó∞Íµ¨ÌôúÎèôÎπÑ: ['Ï¶ùÎπôÏÑúÎ•ò'],\n    Ïó¨ÎπÑ: ['ÏòÅÏàòÏ¶ù', 'Ï∂úÏû•Î≥¥Í≥†ÏÑú']\n  }\n  function isCompliant(d: ExpenseDocument): boolean {\n    const min = requiredAttachments[d.category] ?? 0\n    return (d.attachments ?? 0) >= min\n  }\n  function missingDocs(d: ExpenseDocument): string[] {\n    const req = requiredDocNames[d.category] ?? []\n    const have = d.attachments ?? 0\n    return have >= req.length ? [] : req.slice(have)\n  }\n</script>\n\n<Card header=\"R&D ÎπÑÏö© Ï¶ùÎπô Î¨∏ÏÑú\">\n  <div class=\"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center\">\n    <input\n      class=\"w-full sm:w-64 rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\n      placeholder=\"Î¨∏ÏÑú Í≤ÄÏÉâ\"\n      bind:value={query}\n    />\n    <select\n      class=\"w-full sm:w-48 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={status}\n    >\n      <option value=\"\">ÏÉÅÌÉú: Ï†ÑÏ≤¥</option>\n      <option value=\"ÎåÄÍ∏∞\">ÎåÄÍ∏∞</option>\n      <option value=\"ÏäπÏù∏\">ÏäπÏù∏</option>\n      <option value=\"Î∞òÎ†§\">Î∞òÎ†§</option>\n    </select>\n  </div>\n  <div class=\"overflow-auto\">\n    <table class=\"min-w-full text-sm\">\n      <thead class=\"bg-gray-50 text-left text-gray-600\">\n        <tr>\n          <th class=\"px-3 py-2\">Î¨∏ÏÑúÎ≤àÌò∏</th>\n          <th class=\"px-3 py-2\">Ï†úÎ™©</th>\n          <th class=\"px-3 py-2\">Î∂ÑÎ•ò</th>\n          <th class=\"px-3 py-2\">Î∂ÑÍ∏∞</th>\n          <th class=\"px-3 py-2\">Í∏àÏï°</th>\n          <th class=\"px-3 py-2\">Ï≤®Î∂Ä</th>\n          <th class=\"px-3 py-2\">ÏÉÅÌÉú</th>\n        </tr>\n      </thead>\n      <tbody class=\"divide-y\">\n        {#each filtered as d, i (i)}\n          <tr\n            class=\"hover:bg-gray-50 cursor-pointer\"\n            onclick={() => (selectedId = d.id)}>\n            <td class=\"px-3 py-2\">{d.id}</td>\n            <td class=\"px-3 py-2\">{d.title}</td>\n            <td class=\"px-3 py-2\">{d.category}</td>\n            <td class=\"px-3 py-2\">{d.quarter}Q</td>\n            <td class=\"px-3 py-2\">{d.amountKRW ? formatKRW(d.amountKRW) : '-'}</td>\n            <td class=\"px-3 py-2\">{d.attachments}</td>\n            <td class=\"px-3 py-2\">\n              <Badge\n                color={!isCompliant(d)\n                  ? 'red'\n                  : d.status === 'ÎåÄÍ∏∞'\n                  ? 'yellow'\n                  : d.status === 'Î∞òÎ†§'\n                  ? 'red'\n                  : 'green'}\n              >\n                {!isCompliant(d) ? 'ÎØ∏ÎπÑ' : d.status}\n              </Badge>\n            </td>\n          </tr>\n        {/each}\n      </tbody>\n    </table>\n  </div>\n</Card>\n\n<Modal\n  open={!!selected}\n  title={selected?.title ?? ''}\n  onClose={() => (selectedId = null)}>\n  {#if selected}\n    <div class=\"space-y-3 text-sm\">\n      <div class=\"flex items-center justify-between\">\n        <Badge\n          color={selected.status === 'ÎåÄÍ∏∞'\n            ? 'yellow'\n            : selected.status === 'Î∞òÎ†§'\n            ? 'red'\n            : 'green'}>{selected.status}</Badge\n        >\n        <div>{selected.quarter}Q ¬∑ {selected.category}</div>\n      </div>\n      <div class=\"grid grid-cols-2 gap-3\">\n        <div>\n          <div class=\"text-caption\">Í∏àÏï°</div>\n          <div class=\"font-semibold\">\n            {selected.amountKRW ? formatKRW(selected.amountKRW) : '-'}\n          </div>\n        </div>\n        <div>\n          <div class=\"text-caption\">Ï≤®Î∂Ä</div>\n          <div class=\"font-semibold\">{selected.attachments}Í∞ú</div>\n        </div>\n        <div class=\"col-span-2\">\n          <div class=\"text-caption\">Í≤∞Ïû¨ÏÑ†</div>\n          <div>{selected.appRoute.join(' ‚Üí ')}</div>\n        </div>\n      </div>\n\n      <div>\n        <div class=\"text-caption mb-1\">Ï≤®Î∂Ä ÎØ∏Î¶¨Î≥¥Í∏∞</div>\n        {#if (selected.attachments ?? 0) > 0}\n          <div class=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n            {#each Array(selected.attachments) as _, idx}\n              <button\n                type=\"button\"\n                class=\"block rounded overflow-hidden border hover:ring-2 hover:ring-primary/40\"\n                aria-label={`Ï≤®Î∂Ä ${idx + 1} ÎØ∏Î¶¨Î≥¥Í∏∞`}\n              >\n                <img\n                  src={`https://placehold.co/240x160?text=${encodeURIComponent(selected.id)}-${idx + 1}`}\n                  alt={`Attachment ${idx + 1}`}\n                  class=\"w-full h-24 object-cover\"\n                />\n              </button>\n            {/each}\n          </div>\n        {:else}\n          <div class=\"text-xs text-gray-500\">Ï≤®Î∂Ä ÏóÜÏùå</div>\n        {/if}\n      </div>\n\n      {#if !isCompliant(selected)}\n        <div class=\"text-xs text-red-700 bg-red-50 border border-red-200 rounded p-2\">\n          ÌïÑÏàò ÏÑúÎ•ò ÎØ∏ÎπÑ: {missingDocs(selected).join(', ')}\n        </div>\n      {/if}\n      <div>\n        <div class=\"text-caption mb-1\">Í≤∞Ïû¨ Ïù¥Î†•</div>\n        {#if $expenseHistories[selected.id]?.length}\n          <ul class=\"space-y-1\">\n            {#each $expenseHistories[selected.id] as h (h.id)}\n              <li class=\"flex items-center justify-between\">\n                <span>{new Date(h.at).toLocaleString('ko-KR')}</span>\n                <Badge color={h.status === 'Î∞òÎ†§' ? 'red' : h.status === 'ÎåÄÍ∏∞' ? 'yellow' : 'green'}\n                >{h.status}</Badge\n                >\n              </li>\n              {#if h.reason}\n                <div class=\"text-xs text-gray-500\">ÏÇ¨Ïú†: {h.reason}</div>\n              {/if}\n            {/each}\n          </ul>\n        {:else}\n          <div class=\"text-xs text-gray-500\">Ïù¥Î†•Ïù¥ ÏóÜÏäµÎãàÎã§</div>\n        {/if}\n      </div>\n      {#if selected.status === 'ÎåÄÍ∏∞'}\n        <div class=\"pt-2 flex items-center gap-2\">\n          <input\n            class=\"flex-1 rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm\"\n            placeholder=\"ÏÇ¨Ïú†(ÏÑ†ÌÉù)\"\n            bind:value={reason}\n          />\n          <button type=\"button\"\n            class=\"px-3 py-1.5 rounded-md bg-success text-white hover:brightness-95\"\n            onclick={approve}>ÏäπÏù∏</button\n          >\n          <button type=\"button\"\n            class=\"px-3 py-1.5 rounded-md bg-danger text-white hover:brightness-95\"\n            onclick={reject}>Î∞òÎ†§</button\n          >\n        </div>\n      {/if}\n    </div>\n  {/if}\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/finance/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 183,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 183,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 188,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 188,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 202,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 202,
        "endColumn": 11
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeGrid from '$lib/components/ui/ThemeGrid.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import ThemeChartPlaceholder from '$lib/components/ui/ThemeChartPlaceholder.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    TrendingUpIcon,\n    TrendingDownIcon,\n    PlusIcon,\n    EditIcon,\n    FileTextIcon,\n    BrainIcon,\n    CreditCardIcon,\n    PiggyBankIcon,\n    ReceiptIcon,\n    BarChart3Icon,\n    PieChartIcon,\n    TargetIcon,\n    DollarSignIcon\n  } from '@lucide/svelte'\n\n  // ÏûêÍ∏àÏùºÎ≥¥ Îç∞Ïù¥ÌÑ∞\n  let fundsReport = $state({\n    date: new Date().toISOString().split('T')[0],\n    openingBalance: 50000000,\n    closingBalance: 52000000,\n    dailyInflow: 8000000,\n    dailyOutflow: 6000000,\n    netFlow: 2000000,\n    transactions: [\n      {\n        id: 'txn-1',\n        type: 'inflow',\n        category: 'Îß§Ï∂ú',\n        description: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ Í≥ÑÏïΩÍ∏à',\n        amount: 5000000,\n        time: '09:30',\n        account: 'Ï£ºÍ±∞ÎûòÍ≥ÑÏ¢å'\n      },\n      {\n        id: 'txn-2',\n        type: 'outflow',\n        category: 'Í∏âÏó¨',\n        description: '1Ïõî Í∏âÏó¨ ÏßÄÍ∏â',\n        amount: 3000000,\n        time: '10:00',\n        account: 'Í∏âÏó¨Í≥ÑÏ¢å'\n      },\n      {\n        id: 'txn-3',\n        type: 'inflow',\n        category: 'Ìà¨Ïûê',\n        description: 'Ìà¨Ïûê ÏàòÏùµ',\n        amount: 2000000,\n        time: '14:30',\n        account: 'Ìà¨ÏûêÍ≥ÑÏ¢å'\n      },\n      {\n        id: 'txn-4',\n        type: 'outflow',\n        category: 'Ïö¥ÏòÅÎπÑ',\n        description: 'ÏÇ¨Î¨¥Ïã§ ÏûÑÎåÄÎ£å',\n        amount: 1500000,\n        time: '16:00',\n        account: 'Ïö¥ÏòÅÍ≥ÑÏ¢å'\n      }\n    ],\n    accounts: [\n      {\n        id: 'acc-1',\n        name: 'Ï£ºÍ±∞ÎûòÍ≥ÑÏ¢å',\n        bank: 'KBÍµ≠ÎØºÏùÄÌñâ',\n        balance: 25000000,\n        type: 'checking'\n      },\n      {\n        id: 'acc-2',\n        name: 'Í∏âÏó¨Í≥ÑÏ¢å',\n        bank: 'Ïã†ÌïúÏùÄÌñâ',\n        balance: 15000000,\n        type: 'checking'\n      },\n      {\n        id: 'acc-3',\n        name: 'Ìà¨ÏûêÍ≥ÑÏ¢å',\n        bank: 'ÌïòÎÇòÏùÄÌñâ',\n        balance: 12000000,\n        type: 'savings'\n      }\n    ]\n  })\n\n  // ÌÉ≠ Ï†ïÏùò\n  const tabs = [\n    {\n      id: 'funds-report',\n      label: 'ÏûêÍ∏àÏùºÎ≥¥',\n      icon: FileTextIcon,\n      badge: 'NEW'\n    },\n    {\n      id: 'accounts',\n      label: 'Í≥ÑÏ¢åÍ¥ÄÎ¶¨',\n      icon: CreditCardIcon\n    },\n    {\n      id: 'transactions',\n      label: 'Í±∞ÎûòÎÇ¥Ïó≠',\n      icon: ReceiptIcon\n    },\n    {\n      id: 'budget',\n      label: 'ÏòàÏÇ∞Í¥ÄÎ¶¨',\n      icon: TargetIcon\n    },\n    {\n      id: 'reports',\n      label: 'Î≥¥Í≥†ÏÑú',\n      icon: BarChart3Icon\n    }\n  ]\n\n  let activeTab = $state('funds-report')\n\n  // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  const stats = [\n    {\n      title: 'ÌòÑÏû¨ ÏûîÍ≥†',\n      value: formatCurrency(fundsReport.closingBalance),\n      change: '+4%',\n      changeType: 'positive' as const,\n      icon: DollarSignIcon\n    },\n    {\n      title: 'ÏùºÏùº Ïú†ÏûÖ',\n      value: formatCurrency(fundsReport.dailyInflow),\n      change: '+12%',\n      changeType: 'positive' as const,\n      icon: TrendingUpIcon\n    },\n    {\n      title: 'ÏùºÏùº Ïú†Ï∂ú',\n      value: formatCurrency(fundsReport.dailyOutflow),\n      change: '-3%',\n      changeType: 'negative' as const,\n      icon: TrendingDownIcon\n    },\n    {\n      title: 'Ïàú Ïú†ÏûÖ',\n      value: formatCurrency(fundsReport.netFlow),\n      change: '+25%',\n      changeType: 'positive' as const,\n      icon: PiggyBankIcon\n    }\n  ]\n\n  // Ïï°ÏÖò Î≤ÑÌäºÎì§\n  const actions = [\n    {\n      label: 'ÏûêÍ∏àÏùºÎ≥¥ ÏÉùÏÑ±',\n      icon: FileTextIcon,\n      onclick: () => generateFundsReport(),\n      variant: 'primary' as const\n    },\n    {\n      label: 'AI Î∂ÑÏÑù',\n      icon: BrainIcon,\n      onclick: () => analyzeWithAI(),\n      variant: 'success' as const\n    }\n  ]\n\n  // ÏûêÍ∏àÏùºÎ≥¥ ÏÉùÏÑ±\n  function generateFundsReport() {\n    logger.log('ÏûêÍ∏àÏùºÎ≥¥ ÏÉùÏÑ±')\n  }\n\n  // AI Î∂ÑÏÑù\n  function analyzeWithAI() {\n    logger.log('AI Î∂ÑÏÑù Ïã§Ìñâ')\n  }\n\n  // Í±∞Îûò ÌÉÄÏûÖÎ≥Ñ ÏÉâÏÉÅ\n  const getTransactionTypeColor = (type: string) => {\n    return type === 'inflow' ? 'success' : 'error'\n  }\n\n  // Í±∞Îûò ÌÉÄÏûÖÎ≥Ñ ÏïÑÏù¥ÏΩò\n  const getTransactionTypeIcon = (type: string) => {\n    return type === 'inflow' ? TrendingUpIcon : TrendingDownIcon\n  }\n\n  onMount(() => {\n    logger.log('Finance ÌéòÏù¥ÏßÄ Î°úÎìúÎê®')\n  })\n</script>\n\n<PageLayout\n  title=\"Ïû¨Î¨¥Í¥ÄÎ¶¨\"\n  subtitle=\"ÏûêÍ∏àÏùºÎ≥¥, Í≥ÑÏ¢åÍ¥ÄÎ¶¨, ÏòàÏÇ∞Í¥ÄÎ¶¨\"\n  {stats}\n  {actions}\n  searchPlaceholder=\"Í±∞ÎûòÎÇ¥Ïó≠, Í≥ÑÏ¢åÎ™ÖÏúºÎ°ú Í≤ÄÏÉâ...\"\n>\n  <!-- ÌÉ≠ ÏãúÏä§ÌÖú -->\n  <ThemeTabs\n    {tabs}\n    bind:activeTab\n    variant=\"underline\"\n    size=\"md\"\n    class=\"mb-6\">\n    {#snippet children(tab: any)}\n      {#if tab.id === 'funds-report'}\n        <!-- ÏûêÍ∏àÏùºÎ≥¥ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <!-- ÏûêÍ∏àÏùºÎ≥¥ Ìó§Îçî -->\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <div>\n                <h3\n                  class=\"text-xl font-bold\"\n                  style:color=\"var(--color-text)\">ÏûêÍ∏àÏùºÎ≥¥</h3>\n                <p\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">\n                  {formatDate(fundsReport.date)} Í∏∞Ï§Ä\n                </p>\n              </div>\n              <div class=\"flex items-center gap-3\">\n                <input\n                  type=\"date\"\n                  bind:value={fundsReport.date}\n                  class=\"px-3 py-2 border rounded-md w-auto\"\n                  style:background=\"var(--color-surface)\"\n                  style:border-color=\"var(--color-border)\"\n                  style:color=\"var(--color-text)\"\n                />\n                <ThemeButton\n                  variant=\"primary\"\n                  size=\"sm\"\n                  onclick={generateFundsReport}>\n                  <FileTextIcon\n                    size={16}\n                    class=\"mr-2\" />\n                  ÏùºÎ≥¥ ÏÉùÏÑ±\n                </ThemeButton>\n              </div>\n            </div>\n\n            <!-- ÏûêÍ∏à ÌòÑÌô© ÏöîÏïΩ -->\n            <ThemeGrid\n              cols={1}\n              mdCols={4}\n              gap={4}>\n              <div\n                class=\"p-4 rounded-lg text-center\"\n                style:background=\"var(--color-surface-elevated)\"\n              >\n                <p\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">ÏãúÏûë ÏûîÍ≥†</p>\n                <p\n                  class=\"text-lg font-bold\"\n                  style:color=\"var(--color-text)\">\n                  {formatCurrency(fundsReport.openingBalance)}\n                </p>\n              </div>\n              <div\n                class=\"p-4 rounded-lg text-center\"\n                style:background=\"var(--color-surface-elevated)\"\n              >\n                <p\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">ÏùºÏùº Ïú†ÏûÖ</p>\n                <p\n                  class=\"text-lg font-bold\"\n                  style:color=\"var(--color-success)\">\n                  +{formatCurrency(fundsReport.dailyInflow)}\n                </p>\n              </div>\n              <div\n                class=\"p-4 rounded-lg text-center\"\n                style:background=\"var(--color-surface-elevated)\"\n              >\n                <p\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">ÏùºÏùº Ïú†Ï∂ú</p>\n                <p\n                  class=\"text-lg font-bold\"\n                  style:color=\"var(--color-error)\">\n                  -{formatCurrency(fundsReport.dailyOutflow)}\n                </p>\n              </div>\n              <div\n                class=\"p-4 rounded-lg text-center\"\n                style:background=\"var(--color-surface-elevated)\"\n              >\n                <p\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">Ï¢ÖÎ£å ÏûîÍ≥†</p>\n                <p\n                  class=\"text-lg font-bold\"\n                  style:color=\"var(--color-primary)\">\n                  {formatCurrency(fundsReport.closingBalance)}\n                </p>\n              </div>\n            </ThemeGrid>\n          </ThemeCard>\n\n          <!-- Í≥ÑÏ¢åÎ≥Ñ ÏûîÍ≥† -->\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"Í≥ÑÏ¢åÎ≥Ñ ÏûîÍ≥† ÌòÑÌô©\" />\n            <ThemeSpacer size={4}>\n              {#each fundsReport.accounts as account, i (i)}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex items-center gap-3\">\n                    <CreditCardIcon\n                      size={20}\n                      style=\"color: var(--color-primary);\" />\n                    <div>\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">{account.name}</h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {account.bank}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p\n                      class=\"text-lg font-bold\"\n                      style:color=\"var(--color-text)\">\n                      {formatCurrency(account.balance)}\n                    </p>\n                    <ThemeBadge variant={account.type === 'checking' ? 'primary' : 'success'}>\n                      {account.type === 'checking' ? 'ÎãπÏ¢å' : 'Ï†ÄÏ∂ï'}\n                    </ThemeBadge>\n                  </div>\n                </div>\n              {/each}\n            </ThemeSpacer>\n          </ThemeCard>\n\n          <!-- ÏùºÏùº Í±∞ÎûòÎÇ¥Ïó≠ -->\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"ÏùºÏùº Í±∞ÎûòÎÇ¥Ïó≠\" />\n            <div class=\"space-y-3\">\n              {#each fundsReport.transactions as transaction, i (i)}\n                {@const IconComponent = getTransactionTypeIcon(transaction.type)}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex items-center gap-3\">\n                    <div\n                      class=\"p-2 rounded-full\"\n                      style:background=\"var(--color-surface)\">\n                      <IconComponent\n                        size={16}\n                        style=\"color: var(--color-primary);\" />\n                    </div>\n                    <div>\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">\n                        {transaction.description}\n                      </h4>\n                      <div\n                        class=\"flex items-center gap-2 text-sm\"\n                        style:color=\"var(--color-text-secondary)\"\n                      >\n                        <span>{transaction.category}</span>\n                        <span>‚Ä¢</span>\n                        <span>{transaction.time}</span>\n                        <span>‚Ä¢</span>\n                        <span>{transaction.account}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p\n                      class=\"text-lg font-bold\"\n                      style:color=\"var(--color-{getTransactionTypeColor(transaction.type)})\"\n                    >\n                      {transaction.type === 'inflow' ? '+' : '-'}{formatCurrency(\n                        transaction.amount\n                      )}\n                    </p>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n\n          <!-- ÏûêÍ∏à ÌùêÎ¶Ñ Ï∞®Ìä∏ -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏûêÍ∏à ÌùêÎ¶Ñ Î∂ÑÏÑù\" />\n              <ThemeChartPlaceholder\n                title=\"ÏùºÏùº ÏûêÍ∏à ÌùêÎ¶Ñ\"\n                icon={BarChart3Icon} />\n            </ThemeCard>\n\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"Í≥ÑÏ¢åÎ≥Ñ Î∂ÑÌè¨\" />\n              <ThemeChartPlaceholder\n                title=\"Í≥ÑÏ¢åÎ≥Ñ ÏûîÍ≥† Î∂ÑÌè¨\"\n                icon={PieChartIcon} />\n            </ThemeCard>\n          </ThemeGrid>\n        </ThemeSpacer>\n      {:else if tab.id === 'accounts'}\n        <!-- Í≥ÑÏ¢åÍ¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Í≥ÑÏ¢å Í¥ÄÎ¶¨</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\">\n                <PlusIcon size={16} />\n                Í≥ÑÏ¢å Ï∂îÍ∞Ä\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-4\">\n              {#each fundsReport.accounts as account, i (i)}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex items-center gap-3\">\n                    <CreditCardIcon\n                      size={20}\n                      style=\"color: var(--color-primary);\" />\n                    <div>\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">{account.name}</h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {account.bank}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <span\n                      class=\"text-lg font-bold\"\n                      style:color=\"var(--color-text)\">\n                      {formatCurrency(account.balance)}\n                    </span>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\">\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'transactions'}\n        <!-- Í±∞ÎûòÎÇ¥Ïó≠ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Í±∞ÎûòÎÇ¥Ïó≠</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\">\n                <PlusIcon size={16} />\n                Í±∞Îûò Ï∂îÍ∞Ä\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-4\">\n              {#each fundsReport.transactions as transaction, i (i)}\n                {@const IconComponent = getTransactionTypeIcon(transaction.type)}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex items-center gap-3\">\n                    <div\n                      class=\"p-2 rounded-full\"\n                      style:background=\"var(--color-surface)\">\n                      <IconComponent\n                        size={16}\n                        style=\"color: var(--color-primary);\" />\n                    </div>\n                    <div>\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">\n                        {transaction.description}\n                      </h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {transaction.category} ‚Ä¢ {transaction.time} ‚Ä¢ {transaction.account}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <span\n                      class=\"text-lg font-bold\"\n                      style:color=\"var(--color-{getTransactionTypeColor(transaction.type)})\"\n                    >\n                      {transaction.type === 'inflow' ? '+' : '-'}{formatCurrency(\n                        transaction.amount\n                      )}\n                    </span>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\">\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'budget'}\n        <!-- ÏòàÏÇ∞Í¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"ÏòàÏÇ∞ Í¥ÄÎ¶¨\" />\n            <ThemeChartPlaceholder\n              title=\"ÏòàÏÇ∞ ÌòÑÌô©\"\n              icon={TargetIcon} />\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'reports'}\n        <!-- Î≥¥Í≥†ÏÑú ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"Ïû¨Î¨¥ Î≥¥Í≥†ÏÑú\" />\n            <ThemeGrid\n              cols={1}\n              mdCols={2}\n              gap={4}>\n              <ThemeButton\n                variant=\"secondary\"\n                class=\"flex items-center gap-2 p-4 h-auto\">\n                <FileTextIcon size={20} />\n                <div class=\"text-left\">\n                  <div class=\"font-medium\">ÏõîÍ∞Ñ Ïû¨Î¨¥Î≥¥Í≥†ÏÑú</div>\n                  <div class=\"text-sm opacity-70\">ÏõîÎ≥Ñ ÏàòÏûÖ/ÏßÄÏ∂ú Î∂ÑÏÑù</div>\n                </div>\n              </ThemeButton>\n              <ThemeButton\n                variant=\"secondary\"\n                class=\"flex items-center gap-2 p-4 h-auto\">\n                <BarChart3Icon size={20} />\n                <div class=\"text-left\">\n                  <div class=\"font-medium\">ÏûêÍ∏àÌùêÎ¶ÑÌëú</div>\n                  <div class=\"text-sm opacity-70\">ÌòÑÍ∏àÌùêÎ¶Ñ Î∂ÑÏÑù</div>\n                </div>\n              </ThemeButton>\n            </ThemeGrid>\n          </ThemeCard>\n        </ThemeSpacer>\n      {/if}\n    {/snippet}\n  </ThemeTabs>\n</PageLayout>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/health/+server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/hr/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 106,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 106,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 121,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 121,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 141,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 141,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 155,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 155,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 171,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 171,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getJobTitlesByLevel' is defined but never used.",
        "line": 188,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 188,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getJobTitlesByLevel" },
            "fix": { "range": [5658, 5911], "text": "" },
            "desc": "Remove unused variable 'getJobTitlesByLevel'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalAllEmployees' is assigned a value but never used.",
        "line": 215,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 215,
        "endColumn": 24
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalTO' is assigned a value but never used.",
        "line": 220,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 220,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalDepartments' is assigned a value but never used.",
        "line": 228,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 228,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showExecutiveModal' is assigned a value but never used.",
        "line": 309,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 309,
        "endColumn": 25
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showJobTitleModal' is assigned a value but never used.",
        "line": 310,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 310,
        "endColumn": 24
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedExecutive' is assigned a value but never used.",
        "line": 311,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 311,
        "endColumn": 24
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedJobTitle' is assigned a value but never used.",
        "line": 312,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'jobTitleLoading' is assigned a value but never used.",
        "line": 314,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 314,
        "endColumn": 22
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'groupedEmployees' is assigned a value but never used.",
        "line": 356,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 356,
        "endColumn": 23
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 775,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 775,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 779,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 779,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 783,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 783,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 787,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 787,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 791,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 791,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 795,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 795,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 803,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 803,
        "endColumn": 11
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'DragEvent' is not defined.",
        "line": 817,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 817,
        "endColumn": 43
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'DragEvent' is not defined.",
        "line": 822,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 822,
        "endColumn": 44
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'DragEvent' is not defined.",
        "line": 827,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 827,
        "endColumn": 39
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 919,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 919,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 968,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 968,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 997,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 997,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1053,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1053,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1087,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1087,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1109,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1109,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1151,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1151,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1173,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1173,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1214,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1214,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1250,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1250,
        "endColumn": 15
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1302,
        "column": 17,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 1369,
        "endColumn": 24
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1381,
        "column": 17,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 1388,
        "endColumn": 24
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1446,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 1505,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1585,
        "column": 23,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 1587,
        "endColumn": 30
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1608,
        "column": 17,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 1933,
        "endColumn": 24
      },
      {
        "ruleId": "svelte/require-optimized-style-attribute",
        "severity": 1,
        "message": "It cannot be optimized because too complex.",
        "line": 1646,
        "column": 33,
        "nodeType": "SvelteAttribute",
        "messageId": "complex",
        "endLine": 1653,
        "endColumn": 111
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1947,
        "column": 19,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 1955,
        "endColumn": 26
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 1992,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 2041,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 2235,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 2366,
        "endColumn": 20
      }
    ],
    "suppressedMessages": [],
    "errorCount": 36,
    "fatalErrorCount": 0,
    "warningCount": 11,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import DeleteConfirmModal from '$lib/components/ui/DeleteConfirmModal.svelte'\n  import DepartmentModal from '$lib/components/ui/DepartmentModal.svelte'\n  import EmployeeModal from '$lib/components/ui/EmployeeModal.svelte'\n  import OrganizationChart from '$lib/components/ui/OrganizationChart.svelte'\n  import PositionModal from '$lib/components/ui/PositionModal.svelte'\n  import ThemeActivityItem from '$lib/components/ui/ThemeActivityItem.svelte'\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeChartPlaceholder from '$lib/components/ui/ThemeChartPlaceholder.svelte'\n  import ThemeGrid from '$lib/components/ui/ThemeGrid.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import { formatDateForDisplay, getCurrentUTC, getDateDifference } from '$lib/utils/date-handler'\n  import { formatDate, formatEmployeeName } from '$lib/utils/format'\n  import {\n    AlertCircleIcon,\n    BarChart3Icon,\n    BriefcaseIcon,\n    BuildingIcon,\n    CalendarIcon,\n    CheckCircleIcon,\n    CrownIcon,\n    DollarSignIcon,\n    DownloadIcon,\n    EditIcon,\n    EyeIcon,\n    FileSpreadsheetIcon,\n    FileTextIcon,\n    FlaskConicalIcon,\n    MailIcon,\n    PhoneIcon,\n    PlusIcon,\n    TagIcon,\n    TrashIcon,\n    TrendingUpIcon,\n    UserCheckIcon,\n    UserMinusIcon,\n    UserPlusIcon,\n    UsersIcon\n  } from '@lucide/svelte'\n  // HR Ïä§ÌÜ†Ïñ¥Îì§\n\n  import { jobPostings } from '$lib/stores/recruitment'\n  // Í∏âÏó¨ Í≥ÑÏïΩ Ïä§ÌÜ†Ïñ¥\n  import { contracts, loadContracts } from '$lib/stores/salary/contract-store'\n\n  // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏßÅÏõê Îç∞Ïù¥ÌÑ∞\n  let employees = $state<any[]>([])\n  let loading = $state(true)\n  let error = $state<string | null>(null)\n\n  // ÏßÅÏõêÎ≥Ñ ÌòÑÏû¨ Í∏âÏó¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n  function getCurrentSalary(\n    employeeId: string\n  ): { annualSalary: number; monthlySalary: number; contractType: string } | null {\n    const activeContract = $contracts.find(\n      contract =>\n        contract.employeeId === employeeId &&\n          contract.status === 'active' &&\n          (!contract.endDate || new Date(contract.endDate) > new Date(getCurrentUTC()))\n    )\n\n    if (activeContract) {\n      return {\n        annualSalary: activeContract.annualSalary,\n        monthlySalary: activeContract.monthlySalary,\n        contractType: activeContract.contractType\n      }\n    }\n    return null\n  }\n\n  // ÏÇ¨Î≤à Ìè¨Îß∑ÌåÖ Ìï®Ïàò (ÏÉàÎ°úÏö¥ ÏÇ¨Î≤à ÌòïÏãù 1001, 1002 Îì± ÌëúÏãú)\n  function formatEmployeeIdDisplay(employeeId: string, index: number): string {\n    // ÏÉàÎ°úÏö¥ ÏÇ¨Î≤à ÌòïÏãù (1001, 1002 Îì±)ÏùÑ Í∑∏ÎåÄÎ°ú ÌëúÏãú\n    if (employeeId.match(/^\\d{4}$/)) {\n      return employeeId\n    }\n    // Í∏∞Ï°¥ V ÌòïÏãù ÏÇ¨Î≤àÎèÑ Í∑∏ÎåÄÎ°ú ÌëúÏãú\n    if (employeeId.startsWith('V')) {\n      return employeeId\n    }\n    // Í∏∞ÌÉÄ ÌòïÏãùÏùò Í≤ΩÏö∞ ÏàúÏÑúÎåÄÎ°ú ÌëúÏãú\n    return employeeId || `V${(index + 1).toString().padStart(5, '0')}`\n  }\n\n  // ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞ (Î™®Îì† ÏßÅÏõê - Ïû¨ÏßÅÏûê + Ìá¥ÏÇ¨Ïûê)\n  async function fetchEmployees() {\n    try {\n      loading = true\n      error = null\n      const response = await fetch('/api/employees?status=all')\n      if (response.ok) {\n        const result = await response.json()\n        employees = result.data || result.employees || []\n      } else {\n        error = 'ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      }\n    } catch (err) {\n      error = 'ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.'\n      logger.error('Error fetching employees:', err)\n    } finally {\n      loading = false\n    }\n  }\n\n  // Î∂ÄÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  async function fetchDepartments() {\n    try {\n      const response = await fetch('/api/departments')\n      if (response.ok) {\n        const result = await response.json()\n        departments = result.data || result.departments || []\n      }\n    } catch (err) {\n      logger.error('Error fetching departments:', err)\n    }\n  }\n\n  // ÏÉùÏÑ±Ïùº ÏàúÏúºÎ°ú Ï†ïÎ†¨Îêú Î∂ÄÏÑú Î™©Î°ù\n  let sortedDepartments = $derived(() => {\n    return [...departments].sort(\n      (a: any, b: any) => new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\n    )\n  })\n\n  // ÏßÅÍ∏â Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  async function fetchPositions() {\n    try {\n      const response = await fetch('/api/positions')\n      if (response.ok) {\n        const result = await response.json()\n        positions = result.data || result.positions || []\n      }\n    } catch (err) {\n      logger.error('Error fetching positions:', err)\n    }\n  }\n\n  // Ïù¥ÏÇ¨ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  async function fetchExecutives() {\n    try {\n      executiveLoading = true\n      const response = await fetch('/api/executives')\n      if (response.ok) {\n        const result = await response.json()\n        executives = result.data || result.executives || []\n      }\n    } catch (err) {\n      logger.error('Error fetching executives:', err)\n    } finally {\n      executiveLoading = false\n    }\n  }\n\n  // ÏßÅÏ±Ö Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n  async function fetchJobTitles() {\n    try {\n      jobTitleLoading = true\n      const response = await fetch('/api/job-titles')\n      if (response.ok) {\n        const result = await response.json()\n        jobTitles = result.data || result.jobTitles || []\n      }\n    } catch (err) {\n      logger.error('Error fetching job titles:', err)\n    } finally {\n      jobTitleLoading = false\n    }\n  }\n\n  // ÏßÅÍ∏âÏùÑ Ïπ¥ÌÖåÍ≥†Î¶¨Î≥ÑÎ°ú Î∂ÑÎ•ò\n  function getPositionsByCategory() {\n    const categories = {\n      Ïó∞Íµ¨Ïõê: positions.filter(p => p.department === 'Ïó∞Íµ¨Í∞úÎ∞ú'),\n      ÎîîÏûêÏù¥ÎÑà: positions.filter(p => p.department === 'ÎîîÏûêÏù∏'),\n      ÌñâÏ†ïÏõê: positions.filter(p => p.department === 'ÌñâÏ†ï')\n    }\n    return categories\n  }\n\n  // ÏßÅÏ±ÖÏùÑ Î†àÎ≤®Î≥ÑÎ°ú Î∂ÑÎ•ò\n  function getJobTitlesByLevel() {\n    const levels = {\n      'C-Level': jobTitles.filter(jt => jt.level === 1),\n      Management: jobTitles.filter(jt => jt.level === 2),\n      Specialist: jobTitles.filter(jt => jt.level === 3)\n    }\n    return levels\n  }\n\n  // T/O (Ï†ïÏõê) Ï†ïÎ≥¥ - Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏóêÏÑú Í∞ÄÏ†∏Ïò¥\n  let teamTO = $derived(() => {\n    const toMap: any = {}\n    if (departments) {\n      departments.forEach((dept: any) => {\n        toMap[dept.name] = dept.max_employees || 0\n      })\n    }\n    return toMap\n  })\n\n  // Î∞òÏùëÌòï Îç∞Ïù¥ÌÑ∞ (Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Í∏∞Î∞ò)\n  let totalEmployees = $derived(() => {\n    // Ïû¨ÏßÅÏ§ëÏù∏ ÏßÅÏõêÎßå Ïπ¥Ïö¥Ìä∏ (Ïù¥ÏÇ¨ Ï†úÏô∏)\n    const activeEmployeeCount = employees?.filter((emp: any) => emp.status === 'active').length || 0\n    return activeEmployeeCount\n  })\n\n  let totalAllEmployees = $derived(() => {\n    // Î™®Îì† ÏßÅÏõê Ïπ¥Ïö¥Ìä∏ (Ïû¨ÏßÅÏûê + Ìá¥ÏÇ¨Ïûê, Ïù¥ÏÇ¨ Ï†úÏô∏)\n    return employees?.length || 0\n  })\n\n  let totalTO = $derived(() => {\n    // Î∂ÄÏÑúÎ≥Ñ T/O Ïπ¥Ïö¥Ìä∏Î•º Îã®ÏàúÌûà Ìï©ÏÇ∞\n    return Object.values(teamTO() as Record<string, number>).reduce(\n      (sum: number, to: number) => sum + to,\n      0\n    )\n  })\n\n  let totalDepartments = $derived(\n    () => [...new Set(employees?.map((emp: any) => emp.department) || [])].length\n  )\n  let activeRecruitments = $derived(\n    () => $jobPostings.filter(job => job.status === 'published').length\n  )\n\n  // ÌÉ≠ Ï†ïÏùò\n  const tabs = [\n    {\n      id: 'overview',\n      label: 'Í∞úÏöî',\n      icon: BarChart3Icon\n    },\n    {\n      id: 'employees',\n      label: 'ÏßÅÏõêÍ¥ÄÎ¶¨',\n      icon: UsersIcon\n    },\n    {\n      id: 'recruitment',\n      label: 'Ï±ÑÏö©Í¥ÄÎ¶¨',\n      icon: UserPlusIcon\n    },\n    {\n      id: 'departments',\n      label: 'Î∂ÄÏÑúÍ¥ÄÎ¶¨',\n      icon: BuildingIcon\n    },\n    {\n      id: 'positions',\n      label: 'ÏßÅÍ∏âÍ¥ÄÎ¶¨',\n      icon: UserCheckIcon\n    },\n    {\n      id: 'executives',\n      label: 'Ïù¥ÏÇ¨Í¥ÄÎ¶¨',\n      icon: CrownIcon\n    },\n    {\n      id: 'job-titles',\n      label: 'ÏßÅÏ±ÖÍ¥ÄÎ¶¨',\n      icon: BriefcaseIcon\n    },\n    {\n      id: 'org-chart',\n      label: 'Ï°∞ÏßÅÎèÑ',\n      icon: BuildingIcon\n    }\n  ]\n\n  let activeTab = $state('overview')\n\n  // ÏóÖÎ°úÎìú Í¥ÄÎ†® ÏÉÅÌÉú\n  let showUploadModal = $state(false)\n  let uploadFile = $state<File | null>(null)\n  let uploadStatus = $state<'idle' | 'uploading' | 'success' | 'error'>('idle')\n  let uploadMessage = $state('')\n  let uploadProgress = $state(0)\n  let isDragOver = $state(false)\n\n  // ÏßÅÏõê Í¥ÄÎ¶¨ Í¥ÄÎ†® ÏÉÅÌÉú\n  let showEmployeeModal = $state(false)\n  let showDeleteModal = $state(false)\n  let selectedEmployee = $state<any>(null)\n  let employeeLoading = $state(false)\n  let deleteLoading = $state(false)\n\n  // Ï°∞ÏßÅ Í¥ÄÎ¶¨ Í¥ÄÎ†® ÏÉÅÌÉú\n  let departments = $state<any[]>([])\n  let positions = $state<any[]>([])\n  let showDepartmentModal = $state(false)\n  let showPositionModal = $state(false)\n  let selectedDepartment = $state<any>(null)\n  let selectedPosition = $state<any>(null)\n  let departmentLoading = $state(false)\n  let positionLoading = $state(false)\n\n  // Ïù¥ÏÇ¨ Í¥ÄÎ¶¨ Í¥ÄÎ†® ÏÉÅÌÉú\n  let executives = $state<any[]>([])\n  let jobTitles = $state<any[]>([])\n  let showExecutiveModal = $state(false)\n  let showJobTitleModal = $state(false)\n  let selectedExecutive = $state<any>(null)\n  let selectedJobTitle = $state<any>(null)\n  let executiveLoading = $state(false)\n  let jobTitleLoading = $state(false)\n\n  // ÏßÅÏõê Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ÎßÅ ÏÉÅÌÉú\n  let searchQuery = $state('')\n  let departmentFilter = $state('')\n  let statusFilter = $state('active') // Í∏∞Î≥∏Í∞í: Ïû¨ÏßÅÏ§ë\n  let currentPage = $state(1)\n  let itemsPerPage = 20\n\n  // ÌïÑÌÑ∞ÎßÅÎêú ÏßÅÏõê Î™©Î°ù\n  let filteredEmployees = $derived(\n    (() => {\n      let filtered = employees || []\n\n      // Í≤ÄÏÉâ ÌïÑÌÑ∞\n      if (searchQuery) {\n        const query = searchQuery.toLowerCase()\n        filtered = filtered.filter(\n          emp =>\n            formatEmployeeName(emp).toLowerCase().includes(query) ||\n              emp.email.toLowerCase().includes(query) ||\n              emp.employee_id.toLowerCase().includes(query) ||\n              emp.department.toLowerCase().includes(query) ||\n              emp.position.toLowerCase().includes(query)\n        )\n      }\n\n      // Î∂ÄÏÑú ÌïÑÌÑ∞\n      if (departmentFilter) {\n        filtered = filtered.filter(emp => emp.department === departmentFilter)\n      }\n\n      // ÏÉÅÌÉú ÌïÑÌÑ∞\n      if (statusFilter) {\n        filtered = filtered.filter(emp => emp.status === statusFilter)\n      }\n\n      return filtered\n    })()\n  )\n\n  // ÌåÄÎ≥ÑÎ°ú Í∑∏Î£πÌôîÎêú ÏßÅÏõê Î™©Î°ù\n  let groupedEmployees = $derived(\n    (() => {\n      const groups: { [key: string]: any[] } = {}\n\n      filteredEmployees.forEach((employee: any) => {\n        const team = employee.department || 'Í∏∞ÌÉÄ'\n        if (!groups[team]) {\n          groups[team] = []\n        }\n        groups[team].push(employee)\n      })\n\n      return groups\n    })()\n  )\n\n  // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Í≥ÑÏÇ∞ (ÏßÅÏõê Ïàò Í∏∞Ï§Ä)\n  let totalPages = $derived(Math.ceil(filteredEmployees.length / itemsPerPage))\n  let paginatedEmployees = $derived(\n    (() => {\n      const start = (currentPage - 1) * itemsPerPage\n      const end = start + itemsPerPage\n      return filteredEmployees.slice(start, end)\n    })()\n  )\n\n  // ÌåÄ Î¶¨Îçî Î∞è ÏûÑÏõêÏù∏ÏßÄ ÌôïÏù∏ÌïòÎäî Ìï®Ïàò\n  function isTeamLead(employee: any): boolean {\n    const leadershipPositions = [\n      'Team Lead',\n      'CEO',\n      'CFO',\n      'CTO',\n      'ÎåÄÌëúÏù¥ÏÇ¨',\n      'Ïû¨Î¨¥Ïù¥ÏÇ¨',\n      'Í∏∞Ïà†Ïù¥ÏÇ¨',\n      'Ïó∞Íµ¨ÏÜåÏû•',\n      'ÏÉÅÎ¨¥'\n    ]\n    return (\n      leadershipPositions.includes(employee.job_title_name) ||\n      leadershipPositions.includes(employee.position)\n    )\n  }\n\n  // ÏßÅÏõêÏùÑ Ï†ïÎ†¨ÌïòÎäî Ìï®Ïàò (ÏûÑÏõê/ÌåÄ Î¶¨Îçî Ïö∞ÏÑ†, Ìá¥ÏÇ¨ÏûêÎäî Ìá¥ÏÇ¨Ïùº Ïó≠Ïàú)\n  function sortEmployees(employees: any[]): any[] {\n    return employees.sort((a, b) => {\n      // Ìá¥ÏÇ¨ÏûêÏù∏ Í≤ΩÏö∞ Ìá¥ÏÇ¨Ïùº Ïó≠ÏàúÏúºÎ°ú Ï†ïÎ†¨\n      if (a.status === 'terminated' && b.status === 'terminated') {\n        const aTerminationDate = a.termination_date ? new Date(a.termination_date).getTime() : 0\n        const bTerminationDate = b.termination_date ? new Date(b.termination_date).getTime() : 0\n        return bTerminationDate - aTerminationDate // ÏµúÏã† Ìá¥ÏÇ¨ÏùºÏù¥ Î®ºÏ†Ä\n      }\n\n      // Ìá¥ÏÇ¨ÏûêÏôÄ Ïû¨ÏßÅÏûê Íµ¨Î∂Ñ (Ïû¨ÏßÅÏûêÍ∞Ä Î®ºÏ†Ä)\n      if (a.status === 'terminated' && b.status !== 'terminated') return 1\n      if (a.status !== 'terminated' && b.status === 'terminated') return -1\n\n      // Ïû¨ÏßÅÏûêÏù∏ Í≤ΩÏö∞ Í∏∞Ï°¥ Î°úÏßÅ Ï†ÅÏö©\n      const aIsLeader = isTeamLead(a)\n      const bIsLeader = isTeamLead(b)\n\n      // ÏûÑÏõê/ÌåÄ Î¶¨ÎçîÍ∞Ä ÏïÑÎãå ÏßÅÏõêÎ≥¥Îã§ ÏûÑÏõê/ÌåÄ Î¶¨ÎçîÎ•º ÏïûÏóê Î∞∞Ïπò\n      if (aIsLeader && !bIsLeader) return -1\n      if (!aIsLeader && bIsLeader) return 1\n\n      // Îëò Îã§ ÏûÑÏõê/ÌåÄ Î¶¨ÎçîÏù¥Í±∞ÎÇò Îëò Îã§ ÏùºÎ∞ò ÏßÅÏõêÏù∏ Í≤ΩÏö∞ Ïù¥Î¶ÑÏàú Ï†ïÎ†¨\n      const aName = formatEmployeeName(a)\n      const bName = formatEmployeeName(b)\n      return aName.localeCompare(bName)\n    })\n  }\n\n  // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖòÎêú ÏßÅÏõêÎì§ÏùÑ ÌåÄÎ≥ÑÎ°ú Í∑∏Î£πÌôî (ÏûÑÏõê/ÌåÄ Î¶¨Îçî Ïö∞ÏÑ† Ï†ïÎ†¨)\n  let paginatedGroupedEmployees = $derived(\n    (() => {\n      const groups: { [key: string]: any[] } = {}\n\n      paginatedEmployees.forEach((employee: any) => {\n        const team = employee.department || 'Í∏∞ÌÉÄ'\n        if (!groups[team]) {\n          groups[team] = []\n        }\n        groups[team].push(employee)\n      })\n\n      // Í∞Å ÌåÄ ÎÇ¥ÏóêÏÑú ÌåÄ Î¶¨ÎçîÎ•º Ïö∞ÏÑ† Ï†ïÎ†¨\n      Object.keys(groups).forEach(team => {\n        groups[team] = sortEmployees(groups[team])\n      })\n\n      // Î∂ÄÏÑúÎ≥Ñ Ï†ïÎ†¨ ÏàúÏÑú Ï†ÅÏö©\n      const departmentOrder: { [key: string]: number } = {\n        ÎåÄÌëú: 1,\n        Ï†ÑÎûµÍ∏∞ÌöçÏã§: 2,\n        Ïó∞Íµ¨ÏÜå: 3,\n        Î∂ÄÏÑúÏóÜÏùå: 999\n      }\n\n      // Ï†ïÎ†¨Îêú Í∑∏Î£π Í∞ùÏ≤¥ ÏÉùÏÑ±\n      const sortedGroups: { [key: string]: any[] } = {}\n      const sortedTeamNames = Object.keys(groups).sort((a, b) => {\n        const aOrder = departmentOrder[a] || 100\n        const bOrder = departmentOrder[b] || 100\n\n        if (aOrder !== bOrder) {\n          return aOrder - bOrder\n        }\n\n        // Í∞ôÏùÄ Ïö∞ÏÑ†ÏàúÏúÑ ÎÇ¥ÏóêÏÑúÎäî ÏïåÌååÎ≤≥ Ïàú\n        return a.localeCompare(b)\n      })\n\n      sortedTeamNames.forEach(teamName => {\n        sortedGroups[teamName] = groups[teamName]\n      })\n\n      return sortedGroups\n    })()\n  )\n\n  // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  let stats = $derived(\n    (() => {\n      const statsData = [\n        {\n          title: 'ÏßÅÏõê Ïàò',\n          value: `${totalEmployees()}`,\n          change: '+5%',\n          changeType: 'positive' as const,\n          icon: UsersIcon\n        },\n        {\n          title: 'ÏßÑÌñâÏ§ëÏù∏ Ï±ÑÏö©',\n          value: activeRecruitments(),\n          change: '+2',\n          changeType: 'positive' as const,\n          icon: UserPlusIcon\n        }\n      ]\n\n      return statsData\n    })()\n  )\n\n  // Ïï°ÏÖò Î≤ÑÌäºÎì§\n  const actions = [\n    {\n      label: 'ÏßÅÏõê Ï∂îÍ∞Ä',\n      icon: PlusIcon,\n      onclick: () => openAddEmployeeModal(),\n      variant: 'primary' as const\n    },\n    {\n      label: 'Ï±ÑÏö© Í≥µÍ≥†',\n      icon: FileTextIcon,\n      onclick: () => {\n        // Ï±ÑÏö© Í≥µÍ≥† ÌÉ≠ÏúºÎ°ú Ïù¥Îèô\n        activeTab = 'recruitment'\n      },\n      variant: 'success' as const\n    }\n  ]\n\n  // ÏµúÍ∑º ÌôúÎèô Îç∞Ïù¥ÌÑ∞\n  let recentActivities = $derived(() => {\n    const activities: Array<{\n      type: string\n      title: string\n      description: string\n      time: string\n      icon: any\n      color: string\n      metadata?: any\n    }> = []\n\n    // ÏµúÍ∑º ÏûÖÏÇ¨Ïûê (ÏµúÍ∑º 3Í∞úÏõî Ïù¥ÎÇ¥)\n    const threeMonthsAgo = new Date(getCurrentUTC())\n    threeMonthsAgo.setMonth(threeMonthsAgo.getMonth() - 3)\n\n    employees\n      .filter(\n        (emp: any) =>\n          emp.status === 'active' && emp.hire_date && new Date(emp.hire_date) >= threeMonthsAgo\n      )\n      .sort((a: any, b: any) => new Date(b.hire_date).getTime() - new Date(a.hire_date).getTime())\n      .slice(0, 3)\n      .forEach((emp: any) => {\n        const daysSinceHire = getDateDifference(emp.hire_date, getCurrentUTC())\n        const hireDate = formatDateForDisplay(emp.hire_date, 'KOREAN')\n        activities.push({\n          type: 'hire',\n          title: 'Ïã†Í∑ú ÏûÖÏÇ¨',\n          description: `${formatEmployeeName(emp)}ÎãòÏù¥ ${hireDate}Ïóê ${emp.department} ${emp.position}Î°ú ÏûÖÏÇ¨ÌñàÏäµÎãàÎã§. (${daysSinceHire}Ïùº Í≤ΩÍ≥º)`,\n          time: emp.hire_date,\n          icon: UserPlusIcon,\n          color: 'text-green-600',\n          metadata: {\n            daysSinceHire,\n            department: emp.department,\n            position: emp.position,\n            employeeName: formatEmployeeName(emp)\n          }\n        })\n      })\n\n    // Ìá¥ÏßÅ ÏòàÏ†ïÏûê (1Í∞úÏõî Ïù¥ÎÇ¥)\n    const oneMonthFromNow = new Date(getCurrentUTC())\n    oneMonthFromNow.setMonth(oneMonthFromNow.getMonth() + 1)\n\n    employees\n      .filter(\n        (emp: any) =>\n          emp.status === 'active' &&\n            emp.termination_date &&\n            new Date(emp.termination_date) > new Date() && // ÎØ∏Îûò ÎÇ†Ïßú\n            new Date(emp.termination_date) <= oneMonthFromNow // 1Í∞úÏõî Ïù¥ÎÇ¥\n      )\n      .sort(\n        (a: any, b: any) =>\n          new Date(a.termination_date).getTime() - new Date(b.termination_date).getTime()\n      )\n      .slice(0, 3)\n      .forEach((emp: any) => {\n        const daysLeft = Math.ceil(getDateDifference(getCurrentUTC(), emp.termination_date))\n        const isContract = emp.employment_type === 'contract'\n        const terminationDate = formatDateForDisplay(emp.termination_date, 'KOREAN')\n        activities.push({\n          type: 'termination_pending',\n          title: isContract ? 'Í≥ÑÏïΩ ÎßåÎ£å ÏòàÏ†ï' : 'Ìá¥ÏßÅ ÏòàÏ†ï',\n          description: `${formatEmployeeName(emp)}Îãò(${emp.department} ${emp.position})Ïù¥ ${terminationDate}Ïóê ${isContract ? 'Í≥ÑÏïΩ ÎßåÎ£å' : 'Ìá¥ÏßÅ'} ÏòàÏ†ïÏûÖÎãàÎã§. (${daysLeft}Ïùº ÎÇ®Ïùå)`,\n          time: emp.termination_date,\n          icon: CalendarIcon,\n          color: 'text-orange-600',\n          metadata: {\n            daysLeft,\n            employmentType: emp.employment_type,\n            department: emp.department,\n            employeeName: formatEmployeeName(emp),\n            position: emp.position\n          }\n        })\n      })\n\n    // ÏµúÍ∑º Ìá¥ÏÇ¨Ïûê (ÏµúÍ∑º 3Í∞úÏõî Ïù¥ÎÇ¥)\n    const threeMonthsAgoForTermination = new Date(getCurrentUTC())\n    threeMonthsAgoForTermination.setMonth(threeMonthsAgoForTermination.getMonth() - 3)\n\n    employees\n      .filter(\n        (emp: any) =>\n          emp.status === 'terminated' &&\n            emp.termination_date &&\n            new Date(emp.termination_date) >= threeMonthsAgoForTermination\n      )\n      .sort(\n        (a: any, b: any) =>\n          new Date(b.termination_date).getTime() - new Date(a.termination_date).getTime()\n      )\n      .slice(0, 3)\n      .forEach((emp: any) => {\n        const daysSinceTermination = getDateDifference(emp.termination_date, getCurrentUTC())\n        const terminationDate = formatDateForDisplay(emp.termination_date, 'KOREAN')\n        activities.push({\n          type: 'termination',\n          title: 'Ìá¥ÏÇ¨ ÏôÑÎ£å',\n          description: `${formatEmployeeName(emp)}Îãò(${emp.department} ${emp.position})Ïù¥ ${terminationDate}Ïóê Ìá¥ÏÇ¨ÌñàÏäµÎãàÎã§. (${daysSinceTermination}Ïùº Í≤ΩÍ≥º)`,\n          time: emp.termination_date,\n          icon: UserMinusIcon,\n          color: 'text-red-600',\n          metadata: {\n            daysSinceTermination,\n            department: emp.department,\n            employeeName: formatEmployeeName(emp),\n            position: emp.position\n          }\n        })\n      })\n\n    // Î∂ÄÏÑúÎ≥Ñ Ïù∏Ïõê Î≥ÄÌôî (ÏµúÍ∑º ÏûÖÏÇ¨/Ìá¥ÏÇ¨Î°ú Ïù∏Ìïú Î≥ÄÌôî)\n    const departmentChanges = employees.reduce((acc: any, emp: any) => {\n      if (!acc[emp.department]) {\n        acc[emp.department] = { hires: [], terminations: [] }\n      }\n\n      if (emp.status === 'active' && emp.hire_date && new Date(emp.hire_date) >= threeMonthsAgo) {\n        acc[emp.department].hires.push(formatEmployeeName(emp))\n      }\n      if (\n        emp.status === 'terminated' &&\n        emp.termination_date &&\n        new Date(emp.termination_date) >= threeMonthsAgoForTermination\n      ) {\n        acc[emp.department].terminations.push(formatEmployeeName(emp))\n      }\n\n      return acc\n    }, {})\n\n    // Î≥ÄÌôîÍ∞Ä ÏûàÎäî Î∂ÄÏÑú Ï†ïÎ≥¥ Ï∂îÍ∞Ä\n    Object.entries(departmentChanges).forEach(([dept, changes]: [string, any]) => {\n      if (changes.hires.length > 0 || changes.terminations.length > 0) {\n        const netChange = changes.hires.length - changes.terminations.length\n        if (netChange !== 0) {\n          let description = `${dept} Î∂ÄÏÑú: `\n          if (changes.hires.length > 0) {\n            description += `ÏûÖÏÇ¨ ${changes.hires.length}Î™Ö(${changes.hires.join(', ')})`\n          }\n          if (changes.terminations.length > 0) {\n            if (changes.hires.length > 0) description += ', '\n            description += `Ìá¥ÏÇ¨ ${changes.terminations.length}Î™Ö(${changes.terminations.join(', ')})`\n          }\n          description += ` (ÏàúÏ¶ùÍ∞ê: ${netChange > 0 ? '+' : ''}${netChange}Î™Ö)`\n\n          activities.push({\n            type: 'department_change',\n            title: 'Î∂ÄÏÑú Ïù∏Ïõê Î≥ÄÌôî',\n            description: description,\n            time: new Date().toISOString(),\n            icon: BuildingIcon,\n            color: netChange > 0 ? 'text-blue-600' : 'text-red-600',\n            metadata: {\n              department: dept,\n              netChange,\n              hires: changes.hires,\n              terminations: changes.terminations\n            }\n          })\n        }\n      }\n    })\n\n    // ÏãúÍ∞ÑÏàú Ï†ïÎ†¨ ÌõÑ ÏµúÎåÄ 8Í∞ú Î∞òÌôò\n    return activities\n      .sort((a, b) => new Date(b.time).getTime() - new Date(a.time).getTime())\n      .slice(0, 8)\n  })\n\n  // Î∂ÄÏÑúÎ≥Ñ ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ (T/O Ìè¨Ìï®)\n  let departmentData = $derived(() => {\n    if (!employees || employees.length === 0 || !departments || departments.length === 0) return []\n\n    // Î™®Îì† ÏßÅÏõê Ïπ¥Ïö¥Ìä∏ (Ïù¥ÏÇ¨ Ìè¨Ìï®)\n    const deptCounts = employees.reduce(\n      (acc: any, emp: any) => {\n        acc[emp.department] = (acc[emp.department] || 0) + 1\n        return acc\n      },\n      {} as Record<string, number>\n    )\n\n    // departments Îç∞Ïù¥ÌÑ∞Î•º Í∏∞Î∞òÏúºÎ°ú Î∂ÄÏÑúÎ≥Ñ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (Î∂ÄÏÑúÏóÜÏùå Ìè¨Ìï®)\n    const deptData = departments.map((dept: any) => {\n      const currentCount = deptCounts[dept.name] || 0\n      const departmentTO = teamTO()[dept.name] || 0\n      const percentage = Math.round((currentCount / totalEmployees()) * 100)\n\n      return {\n        department: dept.name,\n        count: currentCount,\n        to: departmentTO,\n        percentage,\n        // T/O ÎåÄÎπÑ ÌòÑÏû¨ Ïù∏Ïõê ÎπÑÏú®\n        toPercentage: departmentTO > 0 ? Math.round((currentCount / departmentTO) * 100) : 0,\n        // T/O ÏÉÅÌÉú (Ïó¨Ïú†/Ï∂©Ï°±/Ï¥àÍ≥º)\n        toStatus:\n          departmentTO === 0\n            ? 'unlimited'\n            : currentCount > departmentTO\n            ? 'over'\n            : currentCount === departmentTO\n            ? 'full'\n            : 'available'\n      }\n    })\n\n    // Î∂ÄÏÑú Ï†ïÎ†¨ ÏàúÏÑú: ÎåÄÌëú ‚Üí Ï†ÑÎûµÍ∏∞ÌöçÏã§ ‚Üí Ïó∞Íµ¨ÏÜå ‚Üí Í∞Å ÌåÄÎì§ ‚Üí Î∂ÄÏÑúÏóÜÏùå\n    return deptData.sort((a, b) => {\n      const order: { [key: string]: number } = {\n        ÎåÄÌëú: 1,\n        Ï†ÑÎûµÍ∏∞ÌöçÏã§: 2,\n        Ïó∞Íµ¨ÏÜå: 3,\n        Î∂ÄÏÑúÏóÜÏùå: 999\n      }\n\n      const aOrder = order[a.department] || 100\n      const bOrder = order[b.department] || 100\n\n      if (aOrder !== bOrder) {\n        return aOrder - bOrder\n      }\n\n      // Í∞ôÏùÄ Ïö∞ÏÑ†ÏàúÏúÑ ÎÇ¥ÏóêÏÑúÎäî ÏïåÌååÎ≤≥ Ïàú\n      return a.department.localeCompare(b.department)\n    })\n  })\n\n  // ÏµúÍ∑º Ï±ÑÏö© Í≥µÍ≥†\n  let recentJobPostings = $derived(() => {\n    return $jobPostings\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n      .slice(0, 5)\n  })\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    fetchEmployees()\n    fetchDepartments()\n    fetchPositions()\n    fetchExecutives()\n    fetchJobTitles()\n    loadContracts() // Í∏âÏó¨ Í≥ÑÏïΩ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  })\n\n  // ÌÉ≠ Î≥ÄÍ≤Ω Ïãú Ìï¥Îãπ ÌÉ≠Ïùò Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    // activeTab Î≥ÄÍ≤ΩÏùÑ Í∞êÏßÄÌïòÏó¨ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n    const currentTab = activeTab\n    logger.log('HR Tab changed to:', currentTab)\n\n    switch (currentTab) {\n      case 'employees':\n        logger.log('Loading employees data...')\n        fetchEmployees()\n        break\n      case 'departments':\n        logger.log('Loading departments data...')\n        fetchDepartments()\n        break\n      case 'positions':\n        logger.log('Loading positions data...')\n        fetchPositions()\n        break\n      case 'executives':\n        logger.log('Loading executives data...')\n        fetchExecutives()\n        break\n      case 'job-titles':\n        logger.log('Loading job titles data...')\n        fetchJobTitles()\n        break\n    }\n  })\n\n  // ÌÉ≠ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨\n  function handleTabChange(tabId: string) {\n    logger.log('HR Tab change requested:', tabId)\n    activeTab = tabId\n  }\n\n  // ÌååÏùº ÏóÖÎ°úÎìú Ï≤òÎ¶¨\n  function handleFileSelect(event: Event) {\n    const target = event.target as HTMLInputElement\n    const file = target.files?.[0]\n    if (file) {\n      validateAndSetFile(file)\n    }\n  }\n\n  // ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ìï∏Îì§Îü¨\n  function handleDragOver(event: DragEvent) {\n    event.preventDefault()\n    isDragOver = true\n  }\n\n  function handleDragLeave(event: DragEvent) {\n    event.preventDefault()\n    isDragOver = false\n  }\n\n  function handleDrop(event: DragEvent) {\n    event.preventDefault()\n    isDragOver = false\n\n    const files = event.dataTransfer?.files\n    if (files && files.length > 0) {\n      const file = files[0]\n      validateAndSetFile(file)\n    }\n  }\n\n  // ÌååÏùº Í≤ÄÏ¶ù Î∞è ÏÑ§Ï†ï\n  function validateAndSetFile(file: File) {\n    // ÌååÏùº ÌÅ¨Í∏∞ Í≤ÄÏ¶ù (10MB Ï†úÌïú)\n    const maxSize = 10 * 1024 * 1024 // 10MB\n    if (file.size > maxSize) {\n      uploadMessage = 'ÌååÏùº ÌÅ¨Í∏∞Îäî 10MBÎ•º Ï¥àÍ≥ºÌï† Ïàò ÏóÜÏäµÎãàÎã§.'\n      uploadStatus = 'error'\n      return\n    }\n\n    // ÌååÏùº ÌòïÏãù Í≤ÄÏ¶ù\n    const allowedTypes = [\n      'text/csv',\n      'application/vnd.ms-excel',\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n    ]\n    const allowedExtensions = ['.csv', '.xlsx', '.xls']\n\n    const isValidType = allowedTypes.includes(file.type)\n    const isValidExtension = allowedExtensions.some(ext => file.name.toLowerCase().endsWith(ext))\n\n    if (!isValidType && !isValidExtension) {\n      uploadMessage = 'CSV ÎòêÎäî Excel ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.'\n      uploadStatus = 'error'\n      return\n    }\n\n    uploadFile = file\n    uploadStatus = 'idle'\n    uploadMessage = ''\n  }\n\n  // ÏóëÏÖÄ ÏóÖÎ°úÎìú Ïã§Ìñâ\n  async function uploadExcel() {\n    if (!uploadFile) return\n\n    uploadStatus = 'uploading'\n    uploadProgress = 0\n    uploadMessage = 'ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌïòÎäî Ï§ë...'\n\n    try {\n      const formData = new FormData()\n      formData.append('file', uploadFile)\n\n      // ÏóÖÎ°úÎìú ÏßÑÌñâÎ•† ÏãúÎÆ¨Î†àÏù¥ÏÖò\n      const progressInterval = setInterval(() => {\n        uploadProgress += 10\n        if (uploadProgress >= 90) {\n          clearInterval(progressInterval)\n        }\n      }, 200)\n\n      const response = await fetch('/api/employees/upload', {\n        method: 'POST',\n        body: formData\n      })\n\n      clearInterval(progressInterval)\n      uploadProgress = 100\n\n      if (response.ok) {\n        const result = await response.json()\n        uploadStatus = 'success'\n        uploadMessage = `ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ${result.count}Î™ÖÏùò ÏßÅÏõêÏù¥ ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.`\n\n        // ÏßÅÏõê Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ®\n        await fetchEmployees()\n\n        setTimeout(() => {\n          showUploadModal = false\n          uploadStatus = 'idle'\n          uploadFile = null\n          uploadProgress = 0\n          uploadMessage = ''\n        }, 2000)\n      } else {\n        throw new Error('ÏóÖÎ°úÎìú Ïã§Ìå®')\n      }\n    } catch (error) {\n      uploadStatus = 'error'\n      uploadMessage = 'ÏóÖÎ°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÌååÏùº ÌòïÏãùÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.'\n      logger.error('Upload error:', error)\n    }\n  }\n\n  // ÏóÖÎ°úÎìú Î™®Îã¨ Ïó¥Í∏∞\n  function openUploadModal() {\n    showUploadModal = true\n    uploadStatus = 'idle'\n    uploadFile = null\n    uploadProgress = 0\n    uploadMessage = ''\n  }\n\n  // ÏóÖÎ°úÎìú Î™®Îã¨ Îã´Í∏∞\n  function closeUploadModal() {\n    showUploadModal = false\n    uploadStatus = 'idle'\n    uploadFile = null\n    uploadProgress = 0\n    uploadMessage = ''\n  }\n\n  // ÏßÅÏõê Ï∂îÍ∞Ä/ÏàòÏ†ï\n  async function handleEmployeeSave(event: any) {\n    try {\n      const employeeData = event.detail\n      employeeLoading = true\n\n      const url = '/api/employees'\n      const method = selectedEmployee?.id ? 'PUT' : 'POST'\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(employeeData)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await fetchEmployees() // Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®\n        showEmployeeModal = false\n        selectedEmployee = null\n      } else {\n        alert(result.error || 'ÏßÅÏõê Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Error saving employee:', error)\n      alert('ÏßÅÏõê Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      employeeLoading = false\n    }\n  }\n\n  // ÏßÅÏõê ÏÇ≠Ï†ú/ÏïÑÏπ¥Ïù¥Î∏å\n  async function handleEmployeeDelete(action: 'delete' | 'archive') {\n    if (!selectedEmployee) return\n\n    try {\n      deleteLoading = true\n\n      const url = `/api/employees/${selectedEmployee.id}${action === 'archive' ? '?archive=true' : ''}`\n      const response = await fetch(url, {\n        method: 'DELETE'\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await fetchEmployees() // Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®\n        showDeleteModal = false\n        selectedEmployee = null\n      } else {\n        alert(result.error || 'ÏßÅÏõê ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Error deleting employee:', error)\n      alert('ÏßÅÏõê ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      deleteLoading = false\n    }\n  }\n\n  // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Ìï®ÏàòÎì§\n  function setCurrentPage(page: number) {\n    currentPage = page\n  }\n\n  // Í≤ÄÏÉâ/ÌïÑÌÑ∞ Î≥ÄÍ≤Ω Ïãú Ï≤´ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\n  $effect(() => {\n    searchQuery\n    departmentFilter\n    statusFilter\n    currentPage = 1\n  })\n\n  // ÏßÅÏõê Ï∂îÍ∞Ä Î™®Îã¨ Ïó¥Í∏∞\n  function openAddEmployeeModal() {\n    selectedEmployee = null\n    showEmployeeModal = true\n  }\n\n  // ÏßÅÏõê ÏàòÏ†ï Î™®Îã¨ Ïó¥Í∏∞\n  function openEditEmployeeModal(employee: any) {\n    selectedEmployee = employee\n    showEmployeeModal = true\n  }\n\n  // ÏßÅÏõê ÏÇ≠Ï†ú Î™®Îã¨ Ïó¥Í∏∞\n  function openDeleteEmployeeModal(employee: any) {\n    selectedEmployee = employee\n    showDeleteModal = true\n  }\n\n  // ÏßÅÏõê ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú\n  async function downloadEmployeeTemplate() {\n    try {\n      const response = await fetch('/api/templates/employees')\n      if (response.ok) {\n        const blob = await response.blob()\n        const url = window.URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = 'employee_template.csv'\n        document.body.appendChild(a)\n        a.click()\n        window.URL.revokeObjectURL(url)\n        document.body.removeChild(a)\n      } else {\n        alert('ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú ÏóêÎü¨:', error)\n      alert('ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // Î∂ÄÏÑú Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\n  async function handleDepartmentSave(event: any) {\n    try {\n      const departmentData = event.detail\n      departmentLoading = true\n\n      const url = selectedDepartment?.id\n        ? `/api/departments/${selectedDepartment.id}`\n        : '/api/departments'\n      const method = selectedDepartment?.id ? 'PUT' : 'POST'\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(departmentData)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await fetchDepartments()\n        showDepartmentModal = false\n        selectedDepartment = null\n      } else {\n        alert(result.error || 'Î∂ÄÏÑú Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Error saving department:', error)\n      alert('Î∂ÄÏÑú Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      departmentLoading = false\n    }\n  }\n\n  async function handleDepartmentDelete(department: any, hardDelete = false) {\n    try {\n      const url = `/api/departments/${department.id}${hardDelete ? '?hard=true' : ''}`\n      const response = await fetch(url, {\n        method: 'DELETE'\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await fetchDepartments()\n      } else {\n        alert(result.error || 'Î∂ÄÏÑú ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Error deleting department:', error)\n      alert('Î∂ÄÏÑú ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  function openAddDepartmentModal() {\n    selectedDepartment = null\n    showDepartmentModal = true\n  }\n\n  function openEditDepartmentModal(department: any) {\n    selectedDepartment = department\n    showDepartmentModal = true\n  }\n\n  // ÏßÅÍ∏â Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\n  async function handlePositionSave(event: any) {\n    try {\n      const positionData = event.detail\n      positionLoading = true\n\n      const url = selectedPosition?.id ? `/api/positions/${selectedPosition.id}` : '/api/positions'\n      const method = selectedPosition?.id ? 'PUT' : 'POST'\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(positionData)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await fetchPositions()\n        showPositionModal = false\n        selectedPosition = null\n      } else {\n        alert(result.error || 'ÏßÅÍ∏â Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Error saving position:', error)\n      alert('ÏßÅÍ∏â Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    } finally {\n      positionLoading = false\n    }\n  }\n\n  async function handlePositionDelete(position: any, hardDelete = false) {\n    try {\n      const url = `/api/positions/${position.id}${hardDelete ? '?hard=true' : ''}`\n      const response = await fetch(url, {\n        method: 'DELETE'\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await fetchPositions()\n      } else {\n        alert(result.error || 'ÏßÅÍ∏â ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n      }\n    } catch (error) {\n      logger.error('Error deleting position:', error)\n      alert('ÏßÅÍ∏â ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  function openAddPositionModal(category?: string) {\n    selectedPosition = null\n    showPositionModal = true\n    // Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†ïÎ≥¥Î•º Î™®Îã¨Ïóê Ï†ÑÎã¨Ìï† Ïàò ÏûàÎèÑÎ°ù ÏÑ§Ï†ï\n    if (category) {\n    // Î™®Îã¨ÏóêÏÑú Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†ïÎ≥¥Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù ÏÉÅÌÉú ÏÑ§Ï†ï\n      // Ïù¥Îäî PositionModal Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑú ÌôúÏö©Ìï† Ïàò ÏûàÏäµÎãàÎã§\n    }\n  }\n\n  // Ïù¥ÏÇ¨ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\n  function openAddExecutiveModal() {\n    selectedExecutive = null\n    showExecutiveModal = true\n  }\n\n  function openEditExecutiveModal(executive: any) {\n    selectedExecutive = executive\n    showExecutiveModal = true\n  }\n\n  async function handleExecutiveDelete(executive: any) {\n    if (confirm(`Ï†ïÎßêÎ°ú ${formatEmployeeName(executive)} Ïù¥ÏÇ¨Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {\n      try {\n        const response = await fetch(`/api/executives/${executive.id}`, {\n          method: 'DELETE'\n        })\n\n        if (response.ok) {\n          await fetchExecutives()\n          alert('Ïù¥ÏÇ¨Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.')\n        } else {\n          const result = await response.json()\n          alert(result.error || 'Ïù¥ÏÇ¨ ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n        }\n      } catch (error) {\n        logger.error('Error deleting executive:', error)\n        alert('Ïù¥ÏÇ¨ ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n      }\n    }\n  }\n\n  // ÏßÅÏ±Ö Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\n  function openAddJobTitleModal(level?: string) {\n    selectedJobTitle = null\n    showJobTitleModal = true\n    // Î†àÎ≤® Ï†ïÎ≥¥Î•º Î™®Îã¨Ïóê Ï†ÑÎã¨Ìï† Ïàò ÏûàÎèÑÎ°ù ÏÑ§Ï†ï\n    if (level) {\n    // Î™®Îã¨ÏóêÏÑú Î†àÎ≤® Ï†ïÎ≥¥Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù ÏÉÅÌÉú ÏÑ§Ï†ï\n    }\n  }\n\n  function openEditJobTitleModal(jobTitle: any) {\n    selectedJobTitle = jobTitle\n    showJobTitleModal = true\n  }\n\n  async function handleJobTitleDelete(jobTitle: any) {\n    if (confirm(`Ï†ïÎßêÎ°ú ${jobTitle.name} ÏßÅÏ±ÖÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {\n      try {\n        const response = await fetch(`/api/job-titles/${jobTitle.id}`, {\n          method: 'DELETE'\n        })\n\n        if (response.ok) {\n          await fetchJobTitles()\n          alert('ÏßÅÏ±ÖÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.')\n        } else {\n          const result = await response.json()\n          alert(result.error || 'ÏßÅÏ±Ö ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n        }\n      } catch (error) {\n        logger.error('Error deleting job title:', error)\n        alert('ÏßÅÏ±Ö ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n      }\n    }\n  }\n\n  function openEditPositionModal(position: any) {\n    selectedPosition = position\n    showPositionModal = true\n  }\n</script>\n\n<PageLayout\n  title=\"Ïù∏ÏÇ¨Í¥ÄÎ¶¨\"\n  subtitle=\"ÏßÅÏõê Ï†ïÎ≥¥, Ï±ÑÏö©, ÏÑ±Í≥º Í¥ÄÎ¶¨\"\n  {stats}\n  {actions}\n  searchPlaceholder=\"ÏßÅÏõêÎ™Ö, Î∂ÄÏÑú, ÏßÅÍ∏âÏúºÎ°ú Í≤ÄÏÉâ...\"\n>\n  <!-- ÌÉ≠ ÏãúÏä§ÌÖú -->\n  <ThemeTabs\n    {tabs}\n    bind:activeTab\n    variant=\"underline\"\n    size=\"md\"\n    class=\"mb-6\"\n    onTabChange={handleTabChange}\n  >\n    {#snippet children(tab: any)}\n      {#if tab.id === 'overview'}\n        <!-- Í∞úÏöî ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <!-- Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <!-- Î∂ÄÏÑúÎ≥Ñ ÏßÅÏõê ÌòÑÌô© -->\n            <ThemeCard class=\"p-6\">\n              <div class=\"mb-6\">\n                <h3\n                  class=\"text-lg font-semibold\"\n                  style:color=\"var(--color-text)\">\n                  Î∂ÄÏÑúÎ≥Ñ ÏßÅÏõê ÌòÑÌô© (T/O)\n                </h3>\n                <p\n                  class=\"text-sm mt-1\"\n                  style:color=\"var(--color-text-secondary)\">\n                  ÌòÑÏû¨ Ïù∏Ïõê / Ï†ïÏõê (T/O) ‚Ä¢ ÏÉâÏÉÅ: üü¢Ïó¨Ïú† üü°Ï∂©Ï°± üî¥Ï¥àÍ≥º ‚ö™ÎØ∏ÏÑ§Ï†ï\n                </p>\n              </div>\n              <ThemeSpacer size={4}>\n                {#each departmentData() as dept}\n                  <div\n                    class=\"flex items-center justify-between p-3 rounded-lg\"\n                    style:background=\"var(--color-surface-elevated)\"\n                  >\n                    <div class=\"flex items-center gap-3\">\n                      <BuildingIcon\n                        size={20}\n                        style=\"color: var(--color-primary);\" />\n                      <div>\n                        <h4\n                          class=\"font-medium\"\n                          style:color=\"var(--color-text)\">\n                          {dept.department}\n                        </h4>\n                        <div class=\"flex items-center gap-2\">\n                          <p\n                            class=\"text-sm\"\n                            style:color=\"var(--color-text-secondary)\">\n                            {dept.count}Î™Ö\n                            {#if dept.to > 0}\n                              / {dept.to}Î™Ö\n                            {:else}\n                              / ‚àû\n                            {/if}\n                          </p>\n                          <!-- T/O ÏÉÅÌÉú ÌëúÏãú -->\n                          {#if dept.toStatus === 'over'}\n                            <div\n                              class=\"w-2 h-2 rounded-full bg-red-500\"\n                              title=\"Ï†ïÏõê Ï¥àÍ≥º\"></div>\n                          {:else if dept.toStatus === 'full'}\n                            <div\n                              class=\"w-2 h-2 rounded-full bg-yellow-500\"\n                              title=\"Ï†ïÏõê Ï∂©Ï°±\"></div>\n                          {:else if dept.toStatus === 'available'}\n                            <div\n                              class=\"w-2 h-2 rounded-full bg-green-500\"\n                              title=\"Ïó¨Ïú† ÏûàÏùå\"></div>\n                          {:else}\n                            <div\n                              class=\"w-2 h-2 rounded-full bg-gray-400\"\n                              title=\"T/O ÎØ∏ÏÑ§Ï†ï\"></div>\n                          {/if}\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"flex items-center gap-2\">\n                      <!-- T/O ÎåÄÎπÑ ÎπÑÏú® -->\n                      {#if dept.to > 0}\n                        <ThemeBadge\n                          variant={dept.toStatus === 'over'\n                            ? 'error'\n                            : dept.toStatus === 'full'\n                            ? 'warning'\n                            : 'success'}\n                          size=\"sm\"\n                        >\n                          {dept.toPercentage}%\n                        </ThemeBadge>\n                      {/if}\n                      <!-- Ï†ÑÏ≤¥ ÎåÄÎπÑ ÎπÑÏú® -->\n                      <ThemeBadge\n                        variant=\"info\"\n                        size=\"sm\">{dept.percentage}%</ThemeBadge>\n                    </div>\n                  </div>\n                {/each}\n              </ThemeSpacer>\n            </ThemeCard>\n\n            <!-- ÏµúÍ∑º ÌôúÎèô -->\n            <ThemeCard class=\"p-6\">\n              <div class=\"mb-6\">\n                <h3\n                  class=\"text-lg font-semibold\"\n                  style:color=\"var(--color-text)\">ÏµúÍ∑º ÌôúÎèô</h3>\n              </div>\n              <ThemeSpacer size={4}>\n                {#each recentActivities() as activity}\n                  <ThemeActivityItem\n                    title={activity.title}\n                    time={activity.time}\n                    description={activity.description}\n                    icon={activity.icon}\n                  />\n                {/each}\n              </ThemeSpacer>\n            </ThemeCard>\n          </ThemeGrid>\n\n          <!-- Ï∞®Ìä∏ ÏÑπÏÖò -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <!-- Î∂ÄÏÑúÎ≥Ñ Î∂ÑÌè¨ Ï∞®Ìä∏ -->\n            <ThemeCard class=\"p-6\">\n              <div class=\"mb-6\">\n                <h3\n                  class=\"text-lg font-semibold\"\n                  style:color=\"var(--color-text)\">\n                  Î∂ÄÏÑúÎ≥Ñ ÏßÅÏõê Î∂ÑÌè¨\n                </h3>\n              </div>\n              <ThemeChartPlaceholder\n                title=\"Î∂ÄÏÑúÎ≥Ñ ÏßÅÏõê Ïàò\"\n                icon={TrendingUpIcon} />\n            </ThemeCard>\n\n            <!-- Ï±ÑÏö© ÌòÑÌô© Ï∞®Ìä∏ -->\n            <ThemeCard class=\"p-6\">\n              <div class=\"mb-6\">\n                <h3\n                  class=\"text-lg font-semibold\"\n                  style:color=\"var(--color-text)\">Ï±ÑÏö© ÌòÑÌô©</h3>\n              </div>\n              <ThemeChartPlaceholder\n                title=\"ÏõîÎ≥Ñ Ï±ÑÏö© ÌòÑÌô©\"\n                icon={UserPlusIcon} />\n            </ThemeCard>\n          </ThemeGrid>\n\n          <!-- ÏµúÍ∑º Ï±ÑÏö© Í≥µÍ≥† -->\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">ÏµúÍ∑º Ï±ÑÏö© Í≥µÍ≥†</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\"\n                onclick={() => {\n                  // Ï±ÑÏö©Í¥ÄÎ¶¨ ÌÉ≠ÏúºÎ°ú Ïù¥Îèô\n                  activeTab = 'recruitment'\n                }}\n              >\n                <PlusIcon size={16} />\n                ÏÉà Í≥µÍ≥†\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-4\">\n              {#each recentJobPostings() as job}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <h4\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">{job.title}</h4>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {job.department} ‚Ä¢ {job.employmentType}\n                    </p>\n                    <div class=\"flex items-center gap-2 mt-2\">\n                      <ThemeBadge variant={job.status === 'published' ? 'success' : 'warning'}>\n                        {job.status === 'published' ? 'Î™®ÏßëÏ§ë' : 'ÎßàÍ∞ê'}\n                      </ThemeBadge>\n                      <span\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {formatDate(job.createdAt)}\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => {\n                        // TODO: Ï±ÑÏö© Í≥µÍ≥† ÏÉÅÏÑ∏ Î≥¥Í∏∞\n                        alert('Ï±ÑÏö© Í≥µÍ≥† ÏÉÅÏÑ∏ Î≥¥Í∏∞ Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.')\n                      }}\n                    >\n                      <EyeIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => {\n                        // TODO: Ï±ÑÏö© Í≥µÍ≥† ÏàòÏ†ï\n                        alert('Ï±ÑÏö© Í≥µÍ≥† ÏàòÏ†ï Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.')\n                      }}\n                    >\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => {\n                        // TODO: Ï±ÑÏö© Í≥µÍ≥† ÏÇ≠Ï†ú\n                        alert('Ï±ÑÏö© Í≥µÍ≥† ÏÇ≠Ï†ú Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.')\n                      }}\n                    >\n                      <TrashIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'employees'}\n        <!-- ÏßÅÏõêÍ¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">ÏßÅÏõê Î™©Î°ù</h3>\n              <div class=\"flex items-center gap-2\">\n                <ThemeButton\n                  variant=\"primary\"\n                  size=\"sm\"\n                  class=\"flex items-center gap-2\"\n                  onclick={openAddEmployeeModal}\n                >\n                  <PlusIcon size={16} />\n                  ÏßÅÏõê Ï∂îÍ∞Ä\n                </ThemeButton>\n                <button\n                  type=\"button\"\n                  onclick={openUploadModal}\n                  class=\"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md text-sm font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-2\"\n                >\n                  <FileSpreadsheetIcon size={16} />\n                  ÏóëÏÖÄ ÏóÖÎ°úÎìú\n                </button>\n              </div>\n            </div>\n\n            {#if loading}\n              <div class=\"flex items-center justify-center py-8\">\n                <div\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">\n                  ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...\n                </div>\n              </div>\n            {:else if error}\n              <div class=\"flex items-center justify-center py-8\">\n                <div class=\"text-sm text-red-500\">{error}</div>\n              </div>\n            {:else if !employees || employees.length === 0}\n              <div class=\"flex items-center justify-center py-8\">\n                <div\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text-secondary)\">\n                  Îì±Î°ùÎêú ÏßÅÏõêÏù¥ ÏóÜÏäµÎãàÎã§.\n                </div>\n              </div>\n            {:else}\n              <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ -->\n              <div class=\"mb-6 space-y-4\">\n                <div class=\"flex flex-col sm:flex-row gap-4\">\n                  <div class=\"flex-1\">\n                    <input\n                      type=\"text\"\n                      bind:value={searchQuery}\n                      placeholder=\"Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, Î∂ÄÏÑúÎ°ú Í≤ÄÏÉâ...\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      style:border-color=\"var(--color-border)\"\n                      style:background=\"var(--color-input-background)\"\n                      style:color=\"var(--color-text)\"\n                    />\n                  </div>\n                  <div class=\"flex gap-2\">\n                    <select\n                      bind:value={departmentFilter}\n                      class=\"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      style:border-color=\"var(--color-border)\"\n                      style:background=\"var(--color-input-background)\"\n                      style:color=\"var(--color-text)\"\n                    >\n                      <option value=\"\">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>\n                      <option value=\"ÎåÄÌëú\">ÎåÄÌëú</option>\n                      <option value=\"Ï†ÑÎûµÍ∏∞ÌöçÏã§\">Ï†ÑÎûµÍ∏∞ÌöçÏã§</option>\n                      <option value=\"Ïó∞Íµ¨ÏÜå\">Ïó∞Íµ¨ÏÜå</option>\n                      {#each departments.filter(d => !['ÎåÄÌëú', 'Ï†ÑÎûµÍ∏∞ÌöçÏã§', 'Ïó∞Íµ¨ÏÜå', 'Î∂ÄÏÑúÏóÜÏùå'].includes(d.name)) as dept}\n                        <option value={dept.name}>{dept.name}</option>\n                      {/each}\n                      <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n                    </select>\n                    <select\n                      bind:value={statusFilter}\n                      class=\"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      style:border-color=\"var(--color-border)\"\n                      style:background=\"var(--color-input-background)\"\n                      style:color=\"var(--color-text)\"\n                    >\n                      <option value=\"\">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>\n                      <option value=\"active\">Ïû¨ÏßÅÏ§ë</option>\n                      <option value=\"on-leave\">Ìú¥ÏßÅÏ§ë</option>\n                      <option value=\"terminated\">Ìá¥ÏÇ¨</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              <!-- ÌåÄÎ≥Ñ ÏßÅÏõê Ïπ¥Îìú Í∑∏Î¶¨Îìú -->\n              <div class=\"space-y-8\">\n                {#each Object.keys(paginatedGroupedEmployees) as teamName}\n                  <div class=\"space-y-4\">\n                    <!-- ÌåÄ Ìó§Îçî -->\n                    <div\n                      class=\"flex items-center gap-3 pb-2 border-b\"\n                      style:border-color=\"var(--color-border)\"\n                    >\n                      <BuildingIcon\n                        size={20}\n                        style=\"color: var(--color-primary);\" />\n                      <h3\n                        class=\"text-lg font-semibold\"\n                        style:color=\"var(--color-text)\">\n                        {teamName}\n                      </h3>\n                      <span\n                        class=\"text-sm px-2 py-1 rounded-full\"\n                        style:background=\"var(--color-primary-light)\"\n                        style:color=\"var(--color-primary)\"\n                      >\n                        {paginatedGroupedEmployees[teamName]?.length || 0}Î™Ö\n                      </span>\n                    </div>\n\n                    <!-- ÌåÄ ÎÇ¥ ÏßÅÏõê Ïπ¥Îìú Í∑∏Î¶¨Îìú -->\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {#each paginatedGroupedEmployees[teamName] || [] as employee, i (i)}\n                        <div\n                          class=\"p-4 rounded-lg border transition-all duration-300 hover:shadow-lg hover:scale-[1.02] overflow-hidden {isTeamLead(\n                            employee\n                          )\n                            ? 'ring-2 ring-yellow-400/50 shadow-lg'\n                            : employee.employment_type === 'contract'\n                            ? 'ring-2 ring-purple-400/50 shadow-md'\n                            : employee.termination_date &&\n                              new Date(employee.termination_date) > new Date()\n                            ? 'ring-2 ring-red-400/50 shadow-md'\n                            : ''}\"\n                          style={isTeamLead(employee)\n                            ? 'border-color: var(--color-warning); background: linear-gradient(135deg, var(--color-surface-elevated) 0%, rgba(251, 191, 36, 0.05) 100%);'\n                            : employee.employment_type === 'contract'\n                            ? 'border-color: var(--color-primary); background: linear-gradient(135deg, var(--color-surface-elevated) 0%, rgba(147, 51, 234, 0.05) 100%);'\n                            : employee.termination_date &&\n                              new Date(employee.termination_date) > new Date()\n                            ? 'border-color: #dc2626; background: linear-gradient(135deg, var(--color-surface-elevated) 0%, rgba(220, 38, 38, 0.08) 100%);'\n                            : 'border-color: var(--color-border); background: var(--color-surface-elevated);'}\n                        >\n                          <!-- ÏßÅÏõê Ìó§Îçî -->\n                          <div class=\"flex items-start justify-between mb-3 min-w-0\">\n                            <div class=\"flex items-center gap-3 min-w-0 flex-1\">\n                              <div\n                                class=\"w-12 h-12 rounded-full bg-gradient-to-br {employee.employment_type ===\n                                  'contract'\n                                  ? 'from-purple-500 to-pink-600'\n                                  : employee.termination_date &&\n                                    new Date(employee.termination_date) > new Date()\n                                  ? 'from-red-500 to-red-700'\n                                  : 'from-blue-500 to-purple-600'} flex items-center justify-center text-white font-semibold flex-shrink-0 shadow-md\"\n                              >\n                                {employee.last_name.charAt(0)}\n                              </div>\n                              <div class=\"min-w-0 flex-1\">\n                                <div class=\"flex items-center gap-2 min-w-0\">\n                                  <h4\n                                    class=\"font-semibold text-lg truncate\"\n                                    style:color=\"var(--color-text)\"\n                                  >\n                                    {formatEmployeeName(employee)}\n                                  </h4>\n                                  {#if isTeamLead(employee)}\n                                    <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-sm flex-shrink-0\"\n                                    >\n                                      üëë ÌåÄ Î¶¨Îçî\n                                    </span>\n                                  {/if}\n                                  {#if employee.employment_type === 'contract'}\n                                    <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md flex-shrink-0 animate-pulse\"\n                                    >\n                                      üìã Í≥ÑÏïΩÏßÅ\n                                    </span>\n                                  {/if}\n                                  {#if employee.termination_date && new Date(employee.termination_date) > new Date()}\n                                    <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md flex-shrink-0 animate-pulse\"\n                                    >\n                                      ‚ö†Ô∏è Ìá¥ÏÇ¨ ÏòàÏ†ï\n                                    </span>\n                                  {/if}\n                                </div>\n                                <p\n                                  class=\"text-sm truncate\"\n                                  style:color=\"var(--color-text-secondary)\"\n                                >\n                                  {formatEmployeeIdDisplay(\n                                    employee.employee_id,\n                                    employees.indexOf(employee)\n                                  )}\n                                </p>\n                              </div>\n                            </div>\n                            <div class=\"flex flex-col gap-1 items-end flex-shrink-0 ml-2\">\n                              <ThemeBadge\n                                variant={employee.status === 'active'\n                                  ? 'success'\n                                  : employee.status === 'terminated'\n                                  ? 'error'\n                                  : 'warning'}\n                                size=\"sm\"\n                                shape=\"pill\"\n                              >\n                                {employee.status === 'active'\n                                  ? 'Ïû¨ÏßÅÏ§ë'\n                                  : employee.status === 'terminated'\n                                  ? 'Ìá¥ÏÇ¨'\n                                  : employee.status === 'on-leave'\n                                  ? 'Ìú¥ÏßÅ'\n                                  : 'ÎπÑÌôúÏÑ±'}\n                              </ThemeBadge>\n                            </div>\n                          </div>\n\n                          <!-- ÏßÅÏõê Ï†ïÎ≥¥ -->\n                          <div class=\"space-y-2 mb-4\">\n                            <div class=\"flex items-center gap-2 min-w-0\">\n                              <BuildingIcon\n                                size={16}\n                                style=\"color: var(--color-text-secondary);\"\n                                class=\"flex-shrink-0\"\n                              />\n                              <span\n                                class=\"text-sm truncate\"\n                                style:color=\"var(--color-text)\"\n                              >{employee.department}</span\n                              >\n                            </div>\n                            <div class=\"flex items-center gap-2 min-w-0\">\n                              <UserCheckIcon\n                                size={16}\n                                style=\"color: var(--color-text-secondary);\"\n                                class=\"flex-shrink-0\"\n                              />\n                              <span\n                                class=\"text-sm truncate\"\n                                style:color=\"var(--color-text)\">\n                                {employee.job_title_name || employee.position}\n                              </span>\n                            </div>\n                            <div class=\"flex items-center gap-2 min-w-0\">\n                              <MailIcon\n                                size={16}\n                                style=\"color: var(--color-text-secondary);\"\n                                class=\"flex-shrink-0\"\n                              />\n                              <span\n                                class=\"text-sm truncate\"\n                                style:color=\"var(--color-text-secondary)\">{employee.email}</span\n                              >\n                            </div>\n                            {#if employee.phone}\n                              <div class=\"flex items-center gap-2 min-w-0\">\n                                <PhoneIcon\n                                  size={16}\n                                  style=\"color: var(--color-text-secondary);\"\n                                  class=\"flex-shrink-0\"\n                                />\n                                <span\n                                  class=\"text-sm truncate\"\n                                  style:color=\"var(--color-text-secondary)\">{employee.phone}</span\n                                >\n                              </div>\n                            {/if}\n                            {#if getCurrentSalary(employee.id)}\n                              {@const currentSalary = getCurrentSalary(employee.id)}\n                              <div class=\"flex items-center gap-2 min-w-0\">\n                                <DollarSignIcon\n                                  size={16}\n                                  style=\"color: var(--color-text-secondary);\"\n                                  class=\"flex-shrink-0\"\n                                />\n                                <span\n                                  class=\"text-sm font-medium truncate\"\n                                  style:color=\"var(--color-primary)\"\n                                >\n                                  {Math.round(currentSalary.annualSalary / 10000)}ÎßåÏõê\n                                </span>\n                                <span class=\"text-xs text-gray-500\">\n                                  ({currentSalary.contractType === 'full_time'\n                                    ? 'Ï†ïÍ∑úÏßÅ'\n                                    : currentSalary.contractType === 'contractor'\n                                    ? 'Í≥ÑÏïΩÏßÅ'\n                                    : currentSalary.contractType === 'part_time'\n                                    ? 'ÌååÌä∏ÌÉÄÏûÑ'\n                                    : currentSalary.contractType === 'intern'\n                                    ? 'Ïù∏ÌÑ¥'\n                                    : currentSalary.contractType})\n                                </span>\n                              </div>\n                            {:else}\n                              <div class=\"flex items-center gap-2 min-w-0\">\n                                <DollarSignIcon\n                                  size={16}\n                                  style=\"color: var(--color-text-secondary);\"\n                                  class=\"flex-shrink-0\"\n                                />\n                                <span class=\"text-sm text-gray-400 truncate\"> Í≥ÑÏïΩ Ï†ïÎ≥¥ ÏóÜÏùå </span>\n                              </div>\n                            {/if}\n                            {#if employee.hire_date}\n                              <div class=\"flex items-center gap-2 min-w-0\">\n                                <CalendarIcon\n                                  size={16}\n                                  style=\"color: var(--color-text-secondary);\"\n                                  class=\"flex-shrink-0\"\n                                />\n                                <span\n                                  class=\"text-sm truncate\"\n                                  style:color=\"var(--color-text-secondary)\"\n                                >\n                                  ÏûÖÏÇ¨Ïùº: {formatDate(employee.hire_date)}\n                                </span>\n                              </div>\n                            {/if}\n                            {#if employee.birth_date}\n                              <div class=\"flex items-center gap-2 min-w-0\">\n                                <CalendarIcon\n                                  size={16}\n                                  style=\"color: var(--color-text-secondary);\"\n                                  class=\"flex-shrink-0\"\n                                />\n                                <span\n                                  class=\"text-sm truncate\"\n                                  style:color=\"var(--color-text-secondary)\"\n                                >\n                                  ÏÉùÏùº: {formatDate(employee.birth_date)}\n                                </span>\n                              </div>\n                            {/if}\n                            {#if employee.termination_date}\n                              {@const terminationDate = new Date(employee.termination_date)}\n                              {@const today = new Date()}\n                              {@const isFuture = terminationDate > today}\n                              {@const daysLeft = isFuture\n                                ? Math.ceil(\n                                  (terminationDate.getTime() - today.getTime()) /\n                                  (1000 * 60 * 60 * 24)\n                                )\n                                : null}\n                              <div class=\"flex items-center gap-2 min-w-0\">\n                                <CalendarIcon\n                                  size={16}\n                                  style=\"color: {isFuture\n                                    ? 'var(--color-warning)'\n                                    : 'var(--color-error)'};\"\n                                  class=\"flex-shrink-0\"\n                                />\n                                <span\n                                  class=\"text-sm truncate\"\n                                  style:color={isFuture\n                                    ? 'var(--color-warning)'\n                                    : 'var(--color-error)'}\n                                >\n                                  {isFuture ? 'Ìá¥ÏÇ¨(ÏòàÏ†ï)Ïùº' : 'Ìá¥ÏÇ¨Ïùº'}: {formatDate(\n                                    employee.termination_date\n                                  )}\n                                  {#if isFuture && daysLeft !== null}\n                                    <span class=\"ml-1 font-medium\">({daysLeft}Ïùº ÎÇ®Ïùå)</span>\n                                  {/if}\n                                </span>\n                              </div>\n                            {/if}\n                            <!-- Ïû¨ÏßÅ ÏÉÅÌÉú Ï†ïÎ≥¥ -->\n                            <div\n                              class=\"flex items-center gap-2 pt-2 border-t min-w-0\"\n                              style:border-color=\"var(--color-border)\"\n                            >\n                              <div\n                                class=\"w-2 h-2 rounded-full flex-shrink-0\"\n                                style:background={employee.status === 'active'\n                                  ? 'var(--color-success)'\n                                  : employee.status === 'terminated'\n                                  ? 'var(--color-error)'\n                                  : 'var(--color-warning)'}\n                              ></div>\n                              <span\n                                class=\"text-xs font-medium truncate\"\n                                style:color=\"var(--color-text-secondary)\"\n                              >\n                                {employee.status === 'active'\n                                  ? 'Ïû¨ÏßÅÏ§ë'\n                                  : employee.status === 'terminated'\n                                  ? 'Ìá¥ÏÇ¨'\n                                  : employee.status === 'on-leave'\n                                  ? 'Ìú¥ÏßÅÏ§ë'\n                                  : 'ÎπÑÌôúÏÑ±'}\n                              </span>\n                            </div>\n                          </div>\n\n                          <!-- Ïï°ÏÖò Î≤ÑÌäº -->\n                          <div\n                            class=\"flex items-center gap-2 pt-3 border-t min-w-0\"\n                            style:border-color=\"var(--color-border)\"\n                          >\n                            <ThemeButton\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              class=\"flex-1 min-w-0\"\n                              onclick={() => openEditEmployeeModal(employee)}\n                            >\n                              <EditIcon size={16} />\n                              ÏàòÏ†ï\n                            </ThemeButton>\n                            <ThemeButton\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              class=\"flex-1 min-w-0\"\n                              onclick={() => openDeleteEmployeeModal(employee)}\n                            >\n                              <TrashIcon size={16} />\n                              ÏÇ≠Ï†ú\n                            </ThemeButton>\n                          </div>\n                        </div>\n                      {/each}\n                    </div>\n                  </div>\n                {/each}\n              </div>\n\n              <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->\n              {#if totalPages > 1}\n                <div class=\"flex items-center justify-center gap-2 mt-6\">\n                  <ThemeButton\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    disabled={currentPage === 1}\n                    onclick={() => setCurrentPage(currentPage - 1)}\n                  >\n                    Ïù¥Ï†Ñ\n                  </ThemeButton>\n                  {#each Array.from({ length: totalPages }, (_, i) => i + 1) as page}\n                    <ThemeButton\n                      variant={page === currentPage ? 'primary' : 'ghost'}\n                      size=\"sm\"\n                      onclick={() => setCurrentPage(page)}\n                    >\n                      {page}\n                    </ThemeButton>\n                  {/each}\n                  <ThemeButton\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    disabled={currentPage === totalPages}\n                    onclick={() => setCurrentPage(currentPage + 1)}\n                  >\n                    Îã§Ïùå\n                  </ThemeButton>\n                </div>\n              {/if}\n            {/if}\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'recruitment'}\n        <!-- Ï±ÑÏö©Í¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Ï±ÑÏö© Í≥µÍ≥†</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\"\n                onclick={() => {\n                  // TODO: Ï±ÑÏö© Í≥µÍ≥† Îì±Î°ù Î™®Îã¨ Ïó¥Í∏∞\n                  alert('Ï±ÑÏö© Í≥µÍ≥† Îì±Î°ù Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.')\n                }}\n              >\n                <PlusIcon size={16} />\n                Í≥µÍ≥† Îì±Î°ù\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-4\">\n              {#each recentJobPostings() as job}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <h4\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">{job.title}</h4>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {job.department} ‚Ä¢ {job.employmentType}\n                    </p>\n                    <div class=\"flex items-center gap-2 mt-2\">\n                      <ThemeBadge variant={job.status === 'published' ? 'success' : 'warning'}>\n                        {job.status === 'published' ? 'Î™®ÏßëÏ§ë' : 'ÎßàÍ∞ê'}\n                      </ThemeBadge>\n                      <span\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {formatDate(job.createdAt)}\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => {\n                        // TODO: Ï±ÑÏö© Í≥µÍ≥† ÏÉÅÏÑ∏ Î≥¥Í∏∞\n                        alert('Ï±ÑÏö© Í≥µÍ≥† ÏÉÅÏÑ∏ Î≥¥Í∏∞ Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.')\n                      }}\n                    >\n                      <EyeIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => {\n                        // TODO: Ï±ÑÏö© Í≥µÍ≥† ÏàòÏ†ï\n                        alert('Ï±ÑÏö© Í≥µÍ≥† ÏàòÏ†ï Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.')\n                      }}\n                    >\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'departments'}\n        <!-- Î∂ÄÏÑúÍ¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <!-- Î∂ÄÏÑú Í¥ÄÎ¶¨ -->\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Î∂ÄÏÑú Í¥ÄÎ¶¨</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\"\n                onclick={openAddDepartmentModal}\n              >\n                <PlusIcon size={16} />\n                Î∂ÄÏÑú Ï∂îÍ∞Ä\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-3\">\n              {#each sortedDepartments() as department (department.id)}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex items-center gap-4\">\n                    <BuildingIcon\n                      size={24}\n                      style=\"color: var(--color-primary);\" />\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-3 mb-1\">\n                        <h4\n                          class=\"font-semibold text-lg\"\n                          style:color=\"var(--color-text)\">\n                          {department.name}\n                        </h4>\n                        <ThemeBadge variant={department.status === 'active' ? 'success' : 'warning'}\n                        >\n                          {department.status === 'active' ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}\n                        </ThemeBadge>\n                      </div>\n                      {#if department.description}\n                        <p\n                          class=\"text-sm mb-2\"\n                          style:color=\"var(--color-text-secondary)\">\n                          {department.description}\n                        </p>\n                      {/if}\n                      <!-- Î∂ÄÏÑú Ï†ïÎ≥¥ -->\n                      <div class=\"flex items-center gap-4\">\n                        <div class=\"flex items-center gap-2\">\n                          <CalendarIcon\n                            size={14}\n                            style=\"color: var(--color-text-secondary);\" />\n                          <span\n                            class=\"text-xs\"\n                            style:color=\"var(--color-text-secondary)\">\n                            ÏÉùÏÑ±Ïùº: {formatDate(department.created_at)}\n                          </span>\n                        </div>\n                      </div>\n                      <!-- T/O Ï†ïÎ≥¥ -->\n                      <div class=\"flex items-center gap-4 mt-2\">\n                        <div class=\"flex items-center gap-2\">\n                          <UsersIcon\n                            size={16}\n                            style=\"color: var(--color-text-secondary);\" />\n                          <span\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text)\">\n                            {employees?.filter(\n                              (emp: any) =>\n                                emp.status === 'active' && emp.department === department.name\n                            ).length || 0}\n                            {#if department.max_employees !== undefined && department.max_employees > 0}\n                              / {department.max_employees}\n                            {:else}\n                              / ‚àû\n                            {/if}\n                          </span>\n                        </div>\n                        {#if department.max_employees !== undefined && department.max_employees > 0}\n                          {@const currentCount =\n                            employees?.filter(\n                              (emp: any) =>\n                                emp.status === 'active' && emp.department === department.name\n                            ).length || 0}\n                          {@const maxCount = department.max_employees}\n                          <div class=\"flex items-center gap-2\">\n                            <div\n                              class=\"w-2 h-2 rounded-full\"\n                              style:background-color={currentCount > maxCount\n                                ? 'var(--color-error)'\n                                : currentCount === maxCount\n                                ? 'var(--color-warning)'\n                                : 'var(--color-success)'}\n                            ></div>\n                            <span\n                              class=\"text-xs font-medium\"\n                              style:color=\"var(--color-text-secondary)\"\n                            >\n                              {currentCount > maxCount\n                                ? 'Ï†ïÏõêÏ¥àÍ≥º'\n                                : currentCount === maxCount\n                                ? 'Ï†ïÏõêÏ∂©Ï°±'\n                                : 'Ïó¨Ïú†'}\n                            </span>\n                          </div>\n                        {/if}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => openEditDepartmentModal(department)}\n                    >\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => handleDepartmentDelete(department)}\n                    >\n                      <TrashIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n\n              {#if departments.length === 0}\n                <div class=\"text-center py-12\">\n                  <BuildingIcon\n                    size={64}\n                    class=\"mx-auto mb-4\"\n                    style=\"color: var(--color-text-secondary);\"\n                  />\n                  <h3\n                    class=\"text-lg font-medium mb-2\"\n                    style:color=\"var(--color-text)\">\n                    Îì±Î°ùÎêú Î∂ÄÏÑúÍ∞Ä ÏóÜÏäµÎãàÎã§\n                  </h3>\n                  <p\n                    class=\"text-sm mb-4\"\n                    style:color=\"var(--color-text-secondary)\">\n                    ÏÉà Î∂ÄÏÑúÎ•º Ï∂îÍ∞ÄÌïòÏó¨ Ï°∞ÏßÅÏùÑ Íµ¨ÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.\n                  </p>\n                  <ThemeButton\n                    variant=\"primary\"\n                    onclick={openAddDepartmentModal}\n                    class=\"flex items-center gap-2\"\n                  >\n                    <PlusIcon size={16} />\n                    Ï≤´ Î∂ÄÏÑú Ï∂îÍ∞ÄÌïòÍ∏∞\n                  </ThemeButton>\n                </div>\n              {/if}\n            </div>\n          </ThemeCard>\n\n          <!-- Î∂ÄÏÑú Í¥ÄÎ¶¨ ÏïàÎÇ¥ -->\n          <ThemeCard class=\"p-6\">\n            <div class=\"mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Î∂ÄÏÑú Í¥ÄÎ¶¨ ÏïàÎÇ¥</h3>\n            </div>\n            <div class=\"space-y-3\">\n              <h4\n                class=\"font-medium\"\n                style:color=\"var(--color-text)\">Î∂ÄÏÑú Í¥ÄÎ¶¨ Í∑úÏπô</h4>\n              <ul\n                class=\"text-sm space-y-2\"\n                style:color=\"var(--color-text-secondary)\">\n                <li>‚Ä¢ Î∂ÄÏÑúÎ™ÖÏùÄ Ï§ëÎ≥µÎê† Ïàò ÏóÜÏäµÎãàÎã§</li>\n                <li>‚Ä¢ Î∂ÄÏÑúÎ•º ÏÇ≠Ï†úÌïòÎ©¥ Ìï¥Îãπ Î∂ÄÏÑúÏùò ÏßÅÏõêÎì§ÏóêÍ≤å ÏòÅÌñ•ÏùÑ Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§</li>\n                <li>‚Ä¢ ÎπÑÌôúÏÑ±ÌôîÎêú Î∂ÄÏÑúÎäî ÏÉà ÏßÅÏõê Î∞∞Ïπò Ïãú ÏÑ†ÌÉùÌï† Ïàò ÏóÜÏäµÎãàÎã§</li>\n                <li>‚Ä¢ Î∂ÄÏÑú ÏÑ§Î™ÖÏùÄ ÏÑ†ÌÉùÏÇ¨Ìï≠Ïù¥Î©∞, Î∂ÄÏÑúÏùò Ïó≠Ìï†Í≥º Ï±ÖÏûÑÏùÑ Î™ÖÏãúÌï† Ïàò ÏûàÏäµÎãàÎã§</li>\n              </ul>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'positions'}\n        <!-- ÏßÅÍ∏âÍ¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <div class=\"space-y-6\">\n            <!-- ÏßÅÍ∏â Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Í¥ÄÎ¶¨ -->\n            {#each Object.entries(getPositionsByCategory()) as [category, categoryPositions]}\n              <ThemeCard class=\"p-6\">\n                <div class=\"flex items-center justify-between mb-6\">\n                  <div class=\"flex items-center gap-3\">\n                    {#if category === 'Ïó∞Íµ¨Ïõê'}\n                      <FlaskConicalIcon\n                        size={24}\n                        style=\"color: var(--color-primary);\" />\n                    {:else if category === 'ÎîîÏûêÏù¥ÎÑà'}\n                      <UsersIcon\n                        size={24}\n                        style=\"color: var(--color-primary);\" />\n                    {:else if category === 'ÌñâÏ†ïÏõê'}\n                      <BuildingIcon\n                        size={24}\n                        style=\"color: var(--color-primary);\" />\n                    {/if}\n                    <div>\n                      <h3\n                        class=\"text-xl font-semibold\"\n                        style:color=\"var(--color-text)\">\n                        {category} ÏßÅÍ∏â Í¥ÄÎ¶¨\n                      </h3>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {categoryPositions.length}Í∞ú ÏßÅÍ∏â\n                      </p>\n                    </div>\n                  </div>\n                  <ThemeButton\n                    variant=\"primary\"\n                    size=\"sm\"\n                    class=\"flex items-center gap-2\"\n                    onclick={() => openAddPositionModal(category)}\n                  >\n                    <PlusIcon size={16} />\n                    {category} ÏßÅÍ∏â Ï∂îÍ∞Ä\n                  </ThemeButton>\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {#each categoryPositions as position, i (i)}\n                    <div\n                      class=\"p-4 rounded-lg border\"\n                      style:border-color=\"var(--color-border)\"\n                      style:background=\"var(--color-surface-elevated)\"\n                    >\n                      <div class=\"flex items-start justify-between mb-3\">\n                        <div class=\"flex-1\">\n                          <h4\n                            class=\"font-medium\"\n                            style:color=\"var(--color-text)\">\n                            {position.name}\n                          </h4>\n                          <p\n                            class=\"text-sm\"\n                            style:color=\"var(--color-text-secondary)\">\n                            {position.department}\n                          </p>\n                          <div class=\"flex items-center gap-2 mt-2\">\n                            <ThemeBadge\n                              variant=\"default\"\n                              size=\"sm\">\n                              Î†àÎ≤® {position.level}\n                            </ThemeBadge>\n                            <ThemeBadge\n                              variant={position.status === 'active' ? 'success' : 'warning'}\n                              size=\"sm\"\n                            >\n                              {position.status === 'active' ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}\n                            </ThemeBadge>\n                          </div>\n                        </div>\n                        <div class=\"flex items-center gap-1\">\n                          <ThemeButton\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onclick={() => openEditPositionModal(position)}\n                          >\n                            <EditIcon size={14} />\n                          </ThemeButton>\n                          <ThemeButton\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onclick={() => handlePositionDelete(position)}\n                          >\n                            <TrashIcon size={14} />\n                          </ThemeButton>\n                        </div>\n                      </div>\n                      {#if position.description}\n                        <p\n                          class=\"text-xs\"\n                          style:color=\"var(--color-text-secondary)\">\n                          {position.description}\n                        </p>\n                      {/if}\n                    </div>\n                  {/each}\n\n                  {#if categoryPositions.length === 0}\n                    <div class=\"col-span-full text-center py-8\">\n                      {#if category === 'Ïó∞Íµ¨Ïõê'}\n                        <FlaskConicalIcon\n                          size={48}\n                          class=\"mx-auto mb-4\"\n                          style=\"color: var(--color-text-secondary);\"\n                        />\n                      {:else if category === 'ÎîîÏûêÏù¥ÎÑà'}\n                        <UsersIcon\n                          size={48}\n                          class=\"mx-auto mb-4\"\n                          style=\"color: var(--color-text-secondary);\"\n                        />\n                      {:else if category === 'ÌñâÏ†ïÏõê'}\n                        <BuildingIcon\n                          size={48}\n                          class=\"mx-auto mb-4\"\n                          style=\"color: var(--color-text-secondary);\"\n                        />\n                      {/if}\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {category} ÏßÅÍ∏âÏù¥ Îì±Î°ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.\n                      </p>\n                    </div>\n                  {/if}\n                </div>\n              </ThemeCard>\n            {/each}\n\n            <!-- ÏßÅÍ∏â Í¥ÄÎ¶¨ ÏïàÎÇ¥ -->\n            <ThemeCard class=\"p-6\">\n              <div class=\"mb-6\">\n                <h3\n                  class=\"text-lg font-semibold\"\n                  style:color=\"var(--color-text)\">\n                  ÏßÅÍ∏â Í¥ÄÎ¶¨ ÏïàÎÇ¥\n                </h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div class=\"space-y-3\">\n                  <h4\n                    class=\"font-medium flex items-center gap-2\"\n                    style:color=\"var(--color-text)\">\n                    <FlaskConicalIcon\n                      size={16}\n                      style=\"color: var(--color-primary);\" />\n                    Ïó∞Íµ¨Ïõê ÏßÅÍ∏â\n                  </h4>\n                  <ul\n                    class=\"text-sm space-y-1\"\n                    style:color=\"var(--color-text-secondary)\">\n                    <li>‚Ä¢ Ïó∞Íµ¨Ïõê ‚Üí Ï£ºÏûÑÏó∞Íµ¨Ïõê</li>\n                    <li>‚Ä¢ ÏÑ†ÏûÑÏó∞Íµ¨Ïõê ‚Üí Ï±ÖÏûÑÏó∞Íµ¨Ïõê</li>\n                    <li>‚Ä¢ ÏàòÏÑùÏó∞Íµ¨Ïõê</li>\n                  </ul>\n                </div>\n                <div class=\"space-y-3\">\n                  <h4\n                    class=\"font-medium flex items-center gap-2\"\n                    style:color=\"var(--color-text)\">\n                    <UsersIcon\n                      size={16}\n                      style=\"color: var(--color-primary);\" />\n                    ÎîîÏûêÏù¥ÎÑà ÏßÅÍ∏â\n                  </h4>\n                  <ul\n                    class=\"text-sm space-y-1\"\n                    style:color=\"var(--color-text-secondary)\">\n                    <li>‚Ä¢ ÎîîÏûêÏù¥ÎÑà ‚Üí Ï£ºÏûÑÎîîÏûêÏù¥ÎÑà</li>\n                    <li>‚Ä¢ ÏÑ†ÏûÑÎîîÏûêÏù¥ÎÑà ‚Üí Ï±ÖÏûÑÎîîÏûêÏù¥ÎÑà</li>\n                    <li>‚Ä¢ ÏàòÏÑùÎîîÏûêÏù¥ÎÑà</li>\n                  </ul>\n                </div>\n                <div class=\"space-y-3\">\n                  <h4\n                    class=\"font-medium flex items-center gap-2\"\n                    style:color=\"var(--color-text)\">\n                    <BuildingIcon\n                      size={16}\n                      style=\"color: var(--color-primary);\" />\n                    ÌñâÏ†ïÏõê ÏßÅÍ∏â\n                  </h4>\n                  <ul\n                    class=\"text-sm space-y-1\"\n                    style:color=\"var(--color-text-secondary)\">\n                    <li>‚Ä¢ ÌñâÏ†ïÏõê ‚Üí Ï£ºÏûÑÌñâÏ†ïÏõê</li>\n                    <li>‚Ä¢ ÏÑ†ÏûÑÌñâÏ†ïÏõê ‚Üí Ï±ÖÏûÑÌñâÏ†ïÏõê</li>\n                    <li>‚Ä¢ ÏàòÏÑùÌñâÏ†ïÏõê</li>\n                  </ul>\n                </div>\n              </div>\n            </ThemeCard>\n          </div>\n        </ThemeSpacer>\n      {:else if tab.id === 'executives'}\n        <!-- Ïù¥ÏÇ¨Í¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Ïù¥ÏÇ¨ Í¥ÄÎ¶¨</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\"\n                onclick={() => openAddExecutiveModal()}\n              >\n                <PlusIcon size={16} />\n                Ïù¥ÏÇ¨ Ï∂îÍ∞Ä\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-3\">\n              {#if executiveLoading}\n                <div class=\"flex items-center justify-center py-8\">\n                  <div\n                    class=\"text-sm\"\n                    style:color=\"var(--color-text-secondary)\">\n                    Ïù¥ÏÇ¨ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...\n                  </div>\n                </div>\n              {:else if executives.length === 0}\n                <div class=\"text-center py-8\">\n                  <BriefcaseIcon\n                    size={48}\n                    class=\"mx-auto mb-4\"\n                    style=\"color: var(--color-text-secondary);\"\n                  />\n                  <p\n                    class=\"text-sm\"\n                    style:color=\"var(--color-text-secondary)\">\n                    Îì±Î°ùÎêú Ïù¥ÏÇ¨Í∞Ä ÏóÜÏäµÎãàÎã§.\n                  </p>\n                </div>\n              {:else}\n                {#each executives as executive (executive.id)}\n                  <div\n                    class=\"flex items-center justify-between p-4 rounded-lg border\"\n                    style:border-color=\"var(--color-border)\"\n                    style:background=\"var(--color-surface-elevated)\"\n                  >\n                    <div class=\"flex items-center gap-4\">\n                      <BriefcaseIcon\n                        size={24}\n                        style=\"color: var(--color-primary);\" />\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-3 mb-1\">\n                          <h4\n                            class=\"font-semibold text-lg\"\n                            style:color=\"var(--color-text)\">\n                            {formatEmployeeName(executive)}\n                          </h4>\n                          <ThemeBadge variant={executive.status === 'active' ? 'success' : 'warning'}\n                          >\n                            {executive.status === 'active' ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}\n                          </ThemeBadge>\n                        </div>\n                        <div class=\"flex items-center gap-4\">\n                          <div class=\"flex items-center gap-2\">\n                            <BriefcaseIcon\n                              size={14}\n                              style=\"color: var(--color-text-secondary);\" />\n                            <span\n                              class=\"text-sm\"\n                              style:color=\"var(--color-text)\">\n                              {executive.job_title_name}\n                            </span>\n                          </div>\n                          <div class=\"flex items-center gap-2\">\n                            <BuildingIcon\n                              size={14}\n                              style=\"color: var(--color-text-secondary);\" />\n                            <span\n                              class=\"text-sm\"\n                              style:color=\"var(--color-text)\">\n                              {executive.department}\n                            </span>\n                          </div>\n                          <div class=\"flex items-center gap-2\">\n                            <UserCheckIcon\n                              size={14}\n                              style=\"color: var(--color-text-secondary);\" />\n                            <span\n                              class=\"text-xs\"\n                              style:color=\"var(--color-text-secondary)\">\n                              Î†àÎ≤®: {executive.job_title_level}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"flex items-center gap-2\">\n                      <ThemeButton\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onclick={() => openEditExecutiveModal(executive)}\n                      >\n                        <EditIcon size={16} />\n                        ÏàòÏ†ï\n                      </ThemeButton>\n                      <ThemeButton\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onclick={() => handleExecutiveDelete(executive)}\n                      >\n                        <TrashIcon size={16} />\n                        ÏÇ≠Ï†ú\n                      </ThemeButton>\n                    </div>\n                  </div>\n                {/each}\n              {/if}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'job-titles'}\n        <!-- ÏßÅÏ±ÖÍ¥ÄÎ¶¨ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">ÏßÅÏ±Ö Í¥ÄÎ¶¨</h3>\n              <ThemeButton\n                variant=\"primary\"\n                size=\"sm\"\n                class=\"flex items-center gap-2\"\n                onclick={openAddJobTitleModal}\n              >\n                <PlusIcon size={16} />\n                ÏßÅÏ±Ö Ï∂îÍ∞Ä\n              </ThemeButton>\n            </div>\n\n            <div class=\"space-y-3\">\n              {#each jobTitles as jobTitle (jobTitle.id)}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex items-center gap-4\">\n                    <BriefcaseIcon\n                      size={24}\n                      style=\"color: var(--color-primary);\" />\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-3 mb-1\">\n                        <h4\n                          class=\"font-semibold text-lg\"\n                          style:color=\"var(--color-text)\">\n                          {jobTitle.name}\n                        </h4>\n                        <ThemeBadge variant={jobTitle.is_active ? 'success' : 'warning'}>\n                          {jobTitle.is_active ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}\n                        </ThemeBadge>\n                      </div>\n                      {#if jobTitle.description}\n                        <p\n                          class=\"text-sm mb-2\"\n                          style:color=\"var(--color-text-secondary)\">\n                          {jobTitle.description}\n                        </p>\n                      {/if}\n                      <div class=\"flex items-center gap-4\">\n                        <div class=\"flex items-center gap-2\">\n                          <CalendarIcon\n                            size={14}\n                            style=\"color: var(--color-text-secondary);\" />\n                          <span\n                            class=\"text-xs\"\n                            style:color=\"var(--color-text-secondary)\">\n                            ÏÉùÏÑ±Ïùº: {formatDate(jobTitle.created_at)}\n                          </span>\n                        </div>\n                        <div class=\"flex items-center gap-2\">\n                          <UserCheckIcon\n                            size={14}\n                            style=\"color: var(--color-text-secondary);\" />\n                          <span\n                            class=\"text-xs\"\n                            style:color=\"var(--color-text-secondary)\">\n                            Î†àÎ≤®: {jobTitle.level}\n                          </span>\n                        </div>\n                        <div class=\"flex items-center gap-2\">\n                          <TagIcon\n                            size={14}\n                            style=\"color: var(--color-text-secondary);\" />\n                          <span\n                            class=\"text-xs\"\n                            style:color=\"var(--color-text-secondary)\">\n                            Ïπ¥ÌÖåÍ≥†Î¶¨: {jobTitle.category}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => openEditJobTitleModal(jobTitle)}\n                    >\n                      <EditIcon size={16} />\n                      ÏàòÏ†ï\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => handleJobTitleDelete(jobTitle)}\n                    >\n                      <TrashIcon size={16} />\n                      ÏÇ≠Ï†ú\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n\n              {#if jobTitles.length === 0}\n                <div class=\"text-center py-8\">\n                  <BriefcaseIcon\n                    size={48}\n                    class=\"mx-auto mb-4\"\n                    style=\"color: var(--color-text-secondary);\"\n                  />\n                  <p\n                    class=\"text-sm\"\n                    style:color=\"var(--color-text-secondary)\">\n                    Îì±Î°ùÎêú ÏßÅÏ±ÖÏù¥ ÏóÜÏäµÎãàÎã§.\n                  </p>\n                </div>\n              {/if}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'org-chart'}\n        <!-- Ï°∞ÏßÅÎèÑ ÌÉ≠ -->\n        <OrganizationChart />\n      {/if}\n    {/snippet}\n  </ThemeTabs>\n\n  <!-- ÏóëÏÖÄ ÏóÖÎ°úÎìú Î™®Îã¨ -->\n  <ThemeModal\n    open={showUploadModal}\n    onclose={closeUploadModal}\n    size=\"md\">\n    <div class=\"space-y-6\">\n      <h2\n        class=\"text-xl font-semibold mb-4\"\n        style:color=\"var(--color-text)\">\n        ÏßÅÏõê Ï†ïÎ≥¥ ÏóëÏÖÄ ÏóÖÎ°úÎìú\n      </h2>\n      <!-- ÌååÏùº ÏÑ†ÌÉù -->\n      <div>\n        <label\n          for=\"employee-file-input\"\n          class=\"block text-sm font-medium mb-2\"\n          style:color=\"var(--color-text)\"\n        >\n          ÏóëÏÖÄ ÌååÏùº ÏÑ†ÌÉù\n        </label>\n\n        <!-- ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ ÏòÅÏó≠ -->\n        <div\n          class=\"border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer\"\n          class:drag-over={isDragOver}\n          ondragover={handleDragOver}\n          ondragleave={handleDragLeave}\n          ondrop={handleDrop}\n          onclick={() => document.getElementById('employee-file-input')?.click()}\n          onkeydown={e => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              e.preventDefault()\n              document.getElementById('employee-file-input')?.click()\n            }\n          }}\n          role=\"button\"\n          tabindex=\"0\"\n          aria-label=\"ÌååÏùº ÏóÖÎ°úÎìú ÏòÅÏó≠ - ÌÅ¥Î¶≠ÌïòÍ±∞ÎÇò ÌååÏùºÏùÑ ÎìúÎûòÍ∑∏ÌïòÏó¨ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî\"\n          style:border-color=\"var(--color-border)\"\n          style:background=\"var(--color-surface)\"\n        >\n          {#if uploadFile}\n            <div class=\"flex items-center justify-center space-x-2\">\n              <FileSpreadsheetIcon\n                size={24}\n                style=\"color: var(--color-primary);\" />\n              <span style:color=\"var(--color-text)\">{uploadFile.name}</span>\n            </div>\n          {:else}\n            <div class=\"space-y-2\">\n              <FileSpreadsheetIcon\n                size={48}\n                class=\"mx-auto\"\n                style=\"color: var(--color-text-secondary);\"\n              />\n              <p style:color=\"var(--color-text)\">ÌååÏùºÏùÑ Ïó¨Í∏∞Ïóê ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ÌïòÏó¨ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</p>\n              <p\n                class=\"text-sm\"\n                style:color=\"var(--color-text-secondary)\">\n                CSV, XLSX, XLS ÌååÏùº ÏßÄÏõê\n              </p>\n            </div>\n          {/if}\n        </div>\n\n        <!-- Ïà®Í≤®ÏßÑ ÌååÏùº ÏûÖÎ†• -->\n        <input\n          id=\"employee-file-input\"\n          type=\"file\"\n          accept=\".xlsx,.xls,.csv\"\n          onchange={handleFileSelect}\n          class=\"hidden\"\n        />\n      </div>\n\n      <!-- ÏÑ†ÌÉùÎêú ÌååÏùº Ï†ïÎ≥¥ -->\n      {#if uploadFile}\n        <div\n          class=\"p-3 rounded-lg\"\n          style:background=\"var(--color-surface-elevated)\"\n          style:border=\"1px solid var(--color-border)\"\n        >\n          <div class=\"flex items-center gap-2\">\n            <FileSpreadsheetIcon\n              size={16}\n              style=\"color: var(--color-primary);\" />\n            <span\n              class=\"text-sm font-medium\"\n              style:color=\"var(--color-text)\"\n            >{uploadFile.name}</span\n            >\n            <span\n              class=\"text-xs\"\n              style:color=\"var(--color-text-secondary)\">\n              ({(uploadFile.size / 1024).toFixed(1)} KB)\n            </span>\n          </div>\n        </div>\n      {/if}\n\n      <!-- ÏóÖÎ°úÎìú ÏßÑÌñâÎ•† -->\n      {#if uploadStatus === 'uploading'}\n        <div class=\"space-y-2\">\n          <div class=\"flex justify-between text-sm\">\n            <span style:color=\"var(--color-text-secondary)\">ÏóÖÎ°úÎìú ÏßÑÌñâÎ•†</span>\n            <span style:color=\"var(--color-text)\">{uploadProgress}%</span>\n          </div>\n          <div class=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n            <div\n              class=\"h-2 rounded-full transition-all duration-300\"\n              style:width=\"{uploadProgress}%\"\n              style:background=\"var(--color-primary)\"\n            ></div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- ÏÉÅÌÉú Î©îÏãúÏßÄ -->\n      {#if uploadMessage}\n        <div\n          class=\"flex items-center gap-2 p-3 rounded-lg\"\n          style:background={uploadStatus === 'success'\n            ? 'var(--color-success-light)'\n            : uploadStatus === 'error'\n            ? 'var(--color-error-light)'\n            : 'var(--color-info-light)'}\n          style:border=\"1px solid {uploadStatus === 'success'\n            ? 'var(--color-success)'\n            : uploadStatus === 'error'\n            ? 'var(--color-error)'\n            : 'var(--color-info)'}\"\n        >\n          {#if uploadStatus === 'success'}\n            <CheckCircleIcon\n              size={16}\n              style=\"color: var(--color-success);\" />\n          {:else if uploadStatus === 'error'}\n            <AlertCircleIcon\n              size={16}\n              style=\"color: var(--color-error);\" />\n          {/if}\n          <span\n            class=\"text-sm\"\n            style:color={uploadStatus === 'success'\n              ? 'var(--color-success)'\n              : uploadStatus === 'error'\n              ? 'var(--color-error)'\n              : 'var(--color-info)'}\n          >\n            {uploadMessage}\n          </span>\n        </div>\n      {/if}\n\n      <!-- ÏóëÏÖÄ ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú -->\n      <div\n        class=\"p-4 rounded-lg\"\n        style:background=\"var(--color-surface-elevated)\"\n        style:border=\"1px solid var(--color-border)\"\n      >\n        <h4\n          class=\"text-sm font-medium mb-2\"\n          style:color=\"var(--color-text)\">ÏóëÏÖÄ ÌÖúÌîåÎ¶ø</h4>\n        <p\n          class=\"text-xs mb-3\"\n          style:color=\"var(--color-text-secondary)\">\n          ÏßÅÏõê Îç∞Ïù¥ÌÑ∞Î•º ÏóÖÎ°úÎìúÌïòÍ∏∞ Ï†ÑÏóê ÌÖúÌîåÎ¶øÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ Ïò¨Î∞îÎ•∏ ÌòïÏãùÏúºÎ°ú Îç∞Ïù¥ÌÑ∞Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.\n        </p>\n        <ThemeButton\n          variant=\"ghost\"\n          size=\"sm\"\n          onclick={downloadEmployeeTemplate}>\n          <DownloadIcon\n            size={16}\n            class=\"mr-2\" />\n          ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú\n        </ThemeButton>\n      </div>\n    </div>\n\n    <!-- Î™®Îã¨ Ïï°ÏÖò Î≤ÑÌäº -->\n    <div\n      class=\"flex justify-end gap-2 pt-4 border-t\"\n      style:border-color=\"var(--color-border)\">\n      <ThemeButton\n        variant=\"ghost\"\n        onclick={closeUploadModal}>Ï∑®ÏÜå</ThemeButton>\n      <ThemeButton\n        variant=\"primary\"\n        onclick={uploadExcel}\n        disabled={!uploadFile || uploadStatus === 'uploading'}\n      >\n        {uploadStatus === 'uploading' ? 'ÏóÖÎ°úÎìú Ï§ë...' : 'ÏóÖÎ°úÎìú'}\n      </ThemeButton>\n    </div>\n  </ThemeModal>\n</PageLayout>\n\n<!-- ÏßÅÏõê Ï∂îÍ∞Ä/ÏàòÏ†ï Î™®Îã¨ -->\n<EmployeeModal\n  open={showEmployeeModal}\n  employee={selectedEmployee}\n  loading={employeeLoading}\n  {departments}\n  {positions}\n  {jobTitles}\n  on:close={() => {\n    showEmployeeModal = false\n    selectedEmployee = null\n  }}\n  on:save={handleEmployeeSave}\n/>\n\n<!-- ÏßÅÏõê ÏÇ≠Ï†ú ÌôïÏù∏ Î™®Îã¨ -->\n<DeleteConfirmModal\n  open={showDeleteModal}\n  title=\"ÏßÅÏõê ÏÇ≠Ï†ú\"\n  message=\"Ïù¥ ÏßÅÏõêÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\"\n  itemName={selectedEmployee\n    ? `${formatEmployeeName(selectedEmployee)} (${selectedEmployee.department})`\n    : ''}\n  loading={deleteLoading}\n  showArchive={true}\n  on:close={() => {\n    showDeleteModal = false\n    selectedEmployee = null\n  }}\n  on:confirm={event => handleEmployeeDelete(event.detail.action)}\n/>\n\n<!-- Î∂ÄÏÑú Í¥ÄÎ¶¨ Î™®Îã¨ -->\n<DepartmentModal\n  open={showDepartmentModal}\n  department={selectedDepartment}\n  loading={departmentLoading}\n  on:close={() => {\n    showDepartmentModal = false\n    selectedDepartment = null\n  }}\n  on:save={handleDepartmentSave}\n/>\n\n<!-- ÏßÅÍ∏â Í¥ÄÎ¶¨ Î™®Îã¨ -->\n<PositionModal\n  open={showPositionModal}\n  position={selectedPosition}\n  {departments}\n  loading={positionLoading}\n  on:close={() => {\n    showPositionModal = false\n    selectedPosition = null\n  }}\n  on:save={handlePositionSave}\n/>\n\n<style>\n  .drag-over {\n    border-color: var(--color-primary) !important;\n    background: var(--color-primary-light) !important;\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/hr/attendance/+page.svelte",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'prompt' is not defined.",
        "line": 188,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 188,
        "endColumn": 26
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 303,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 305,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 332,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 332,
        "endColumn": 36,
        "fix": { "range": [9051, 9052], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 339,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 339,
        "endColumn": 36,
        "fix": { "range": [9398, 9399], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 465,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 465,
        "endColumn": 36,
        "fix": { "range": [13760, 13761], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 473,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 495,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 487,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 487,
        "endColumn": 42,
        "fix": { "range": [14853, 14854], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 505,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 505,
        "endColumn": 36,
        "fix": { "range": [15431, 15432], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 535,
        "column": 17,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 567,
        "endColumn": 24
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 551,
        "column": 35,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 551,
        "endColumn": 48,
        "fix": { "range": [17551, 17552], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 557,
        "column": 35,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 557,
        "endColumn": 48,
        "fix": { "range": [17843, 17844], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 10,
    "fixableErrorCount": 0,
    "fixableWarningCount": 7,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { formatDate } from '$lib/utils/format'\n\n  import { employees, getActiveEmployees } from '$lib/stores/hr'\n\n  import {\n    attendanceRecords,\n    leaveRequests,\n    leaveBalances,\n    leaveTypes,\n    addAttendanceRecord,\n    updateAttendanceRecord,\n    checkIn,\n    checkOut,\n    requestLeave,\n    approveLeaveRequest,\n    rejectLeaveRequest,\n    calculateMonthlyAttendance,\n    getAttendanceByEmployee,\n    getLeaveRequestsByEmployee,\n    getLeaveBalanceByEmployee,\n    type AttendanceRecord,\n    type LeaveRequest\n  } from '$lib/stores/attendance'\n\n  // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏßÅÏõê\n  let selectedEmployeeId = $state('')\n  let currentDate = new Date().toISOString().split('T')[0]\n  let selectedMonth = new Date().getMonth() + 1\n  let selectedYear = new Date().getFullYear()\n\n  // Î™®Îã¨ ÏÉÅÌÉú\n  let isLeaveRequestModalOpen = $state(false)\n  let isAttendanceModalOpen = $state(false)\n  let selectedAttendanceRecord = $state<AttendanceRecord | null>(null)\n\n  // Ìú¥Í∞Ä Ïã†Ï≤≠ Ìèº\n  let leaveRequestForm = $state({\n    leaveTypeId: '',\n    startDate: '',\n    endDate: '',\n    reason: ''\n  })\n\n  // Í∑ºÌÉú Í∏∞Î°ù Ìèº\n  let attendanceForm = $state({\n    date: currentDate,\n    checkIn: '',\n    checkOut: '',\n    status: 'present' as AttendanceRecord['status'],\n    notes: ''\n  })\n\n  // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏßÅÏõêÏùò Îç∞Ïù¥ÌÑ∞\n  let selectedEmployee = $derived($employees.find(emp => emp.id === selectedEmployeeId))\n  let employeeAttendance = $derived(getAttendanceByEmployee(selectedEmployeeId, $attendanceRecords))\n  let employeeLeaveRequests = $derived(\n    getLeaveRequestsByEmployee(selectedEmployeeId, $leaveRequests)\n  )\n  let employeeLeaveBalance = $derived(getLeaveBalanceByEmployee(selectedEmployeeId, $leaveBalances))\n  let monthlyStats = $derived(\n    calculateMonthlyAttendance(selectedEmployeeId, selectedYear, selectedMonth, $attendanceRecords)\n  )\n\n  // Ïò§ÎäòÏùò Í∑ºÌÉú Í∏∞Î°ù\n  let todayAttendance = $derived(employeeAttendance.find(record => record.date === currentDate))\n\n  // Ìï®ÏàòÎì§\n  function openLeaveRequestModal() {\n    leaveRequestForm = {\n      leaveTypeId: '',\n      startDate: '',\n      endDate: '',\n      reason: ''\n    }\n    isLeaveRequestModalOpen = true\n  }\n\n  function openAttendanceModal(record?: AttendanceRecord) {\n    if (record) {\n      selectedAttendanceRecord = record\n      attendanceForm = {\n        date: record.date,\n        checkIn: record.checkIn || '',\n        checkOut: record.checkOut || '',\n        status: record.status,\n        notes: record.notes || ''\n      }\n    } else {\n      selectedAttendanceRecord = null\n      attendanceForm = {\n        date: currentDate,\n        checkIn: '',\n        checkOut: '',\n        status: 'present',\n        notes: ''\n      }\n    }\n    isAttendanceModalOpen = true\n  }\n\n  function handleLeaveRequest() {\n    if (\n      !selectedEmployeeId ||\n      !leaveRequestForm.leaveTypeId ||\n      !leaveRequestForm.startDate ||\n      !leaveRequestForm.endDate\n    ) {\n      alert('Î™®Îì† ÌïÑÏàò Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    const startDate = new Date(leaveRequestForm.startDate)\n    const endDate = new Date(leaveRequestForm.endDate)\n    const days = Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24)) + 1\n\n    requestLeave({\n      employeeId: selectedEmployeeId,\n      leaveTypeId: leaveRequestForm.leaveTypeId,\n      startDate: leaveRequestForm.startDate,\n      endDate: leaveRequestForm.endDate,\n      days,\n      reason: leaveRequestForm.reason,\n      status: 'pending'\n    })\n\n    isLeaveRequestModalOpen = false\n    alert('Ìú¥Í∞Ä Ïã†Ï≤≠Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function handleAttendanceSubmit() {\n    if (!selectedEmployeeId || !attendanceForm.date) {\n      alert('ÏßÅÏõêÍ≥º ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    if (selectedAttendanceRecord) {\n      // Í∏∞Ï°¥ Í∏∞Î°ù ÏàòÏ†ï\n      updateAttendanceRecord(selectedAttendanceRecord.id, {\n        checkIn: attendanceForm.checkIn,\n        checkOut: attendanceForm.checkOut,\n        status: attendanceForm.status,\n        notes: attendanceForm.notes\n      })\n    } else {\n      // ÏÉà Í∏∞Î°ù Ï∂îÍ∞Ä\n      addAttendanceRecord({\n        employeeId: selectedEmployeeId,\n        date: attendanceForm.date,\n        checkIn: attendanceForm.checkIn,\n        checkOut: attendanceForm.checkOut,\n        status: attendanceForm.status,\n        notes: attendanceForm.notes\n      })\n    }\n\n    isAttendanceModalOpen = false\n  }\n\n  function handleCheckIn() {\n    if (!selectedEmployeeId) {\n      alert('ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n    checkIn(selectedEmployeeId)\n    alert('Ï∂úÍ∑º Ï≤¥ÌÅ¨Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function handleCheckOut() {\n    if (!selectedEmployeeId) {\n      alert('ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n    checkOut(selectedEmployeeId)\n    alert('Ìá¥Í∑º Ï≤¥ÌÅ¨Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function approveLeave(leaveId: string) {\n    approveLeaveRequest(leaveId, 'HRÌåÄ')\n    alert('Ìú¥Í∞ÄÍ∞Ä ÏäπÏù∏ÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function rejectLeave(leaveId: string) {\n    const reason = prompt('Í±∞Î∂Ä ÏÇ¨Ïú†Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî:')\n    if (reason) {\n      rejectLeaveRequest(leaveId, reason)\n      alert('Ìú¥Í∞ÄÍ∞Ä Í±∞Î∂ÄÎêòÏóàÏäµÎãàÎã§.')\n    }\n  }\n\n  function getStatusBadgeVariant(\n    status: AttendanceRecord['status']\n  ): 'success' | 'warning' | 'danger' | 'secondary' {\n    switch (status) {\n      case 'present':\n        return 'success'\n      case 'late':\n        return 'warning'\n      case 'early-leave':\n        return 'warning'\n      case 'absent':\n        return 'danger'\n      case 'vacation':\n        return 'secondary'\n      case 'sick-leave':\n        return 'secondary'\n      default:\n        return 'secondary'\n    }\n  }\n\n  function getStatusText(status: AttendanceRecord['status']): string {\n    switch (status) {\n      case 'present':\n        return 'Ï†ïÏÉÅÏ∂úÍ∑º'\n      case 'late':\n        return 'ÏßÄÍ∞Å'\n      case 'early-leave':\n        return 'Ï°∞Ìá¥'\n      case 'absent':\n        return 'Í≤∞Í∑º'\n      case 'vacation':\n        return 'Ìú¥Í∞Ä'\n      case 'sick-leave':\n        return 'Î≥ëÍ∞Ä'\n      case 'business-trip':\n        return 'Ï∂úÏû•'\n      case 'half-day':\n        return 'Î∞òÏ∞®'\n      default:\n        return status\n    }\n  }\n\n  function getLeaveStatusBadgeVariant(\n    status: LeaveRequest['status']\n  ): 'warning' | 'success' | 'danger' | 'secondary' {\n    switch (status) {\n      case 'pending':\n        return 'warning'\n      case 'approved':\n        return 'success'\n      case 'rejected':\n        return 'danger'\n      case 'cancelled':\n        return 'secondary'\n      default:\n        return 'secondary'\n    }\n  }\n\n  function getLeaveStatusText(status: LeaveRequest['status']): string {\n    switch (status) {\n      case 'pending':\n        return 'ÎåÄÍ∏∞Ï§ë'\n      case 'approved':\n        return 'ÏäπÏù∏'\n      case 'rejected':\n        return 'Í±∞Î∂Ä'\n      case 'cancelled':\n        return 'Ï∑®ÏÜå'\n      default:\n        return status\n    }\n  }\n\n  function getLeaveTypeName(leaveTypeId: string): string {\n    const leaveType = $leaveTypes.find(type => type.id === leaveTypeId)\n    return leaveType ? leaveType.name : leaveTypeId\n  }\n\n  onMount(() => {\n    // Ï≤´ Î≤àÏß∏ ÌôúÏÑ± ÏßÅÏõêÏùÑ Í∏∞Î≥∏ ÏÑ†ÌÉù\n    const activeEmployees = getActiveEmployees($employees)\n    if (activeEmployees.length > 0) {\n      selectedEmployeeId = activeEmployees[0].id\n    }\n  })\n</script>\n\n<div class=\"min-h-screen bg-gray-50 p-6\">\n  <div class=\"max-w-7xl mx-auto\">\n    <!-- Ìó§Îçî -->\n    <div class=\"mb-8\">\n      <h1 class=\"text-3xl font-bold text-gray-900\">Í∑ºÌÉú Í¥ÄÎ¶¨</h1>\n      <p class=\"text-gray-600 mt-1\">ÏßÅÏõêÏùò Ï∂úÌá¥Í∑º Í∏∞Î°ù Î∞è Ìú¥Í∞Ä Ïã†Ï≤≠ÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§</p>\n    </div>\n\n    <!-- ÏßÅÏõê ÏÑ†ÌÉù -->\n    <Card class=\"mb-6\">\n      <div class=\"p-6\">\n        <div class=\"flex items-center space-x-4\">\n          <label class=\"text-sm font-medium text-gray-700\">ÏßÅÏõê ÏÑ†ÌÉù:</label>\n          <select\n            bind:value={selectedEmployeeId}\n            class=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n            {#each getActiveEmployees($employees) as employee}\n              <option value={employee.id}>{employee.name} ({employee.employeeId})</option>\n            {/each}\n          </select>\n        </div>\n      </div>\n    </Card>\n\n    {#if selectedEmployee}\n      <!-- Ïò§ÎäòÏùò Ï∂úÌá¥Í∑º -->\n      <Card class=\"mb-6\">\n        <div class=\"p-6\">\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Ïò§ÎäòÏùò Ï∂úÌá¥Í∑º</h3>\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex items-center space-x-4\">\n              <div>\n                <p class=\"text-sm text-gray-600\">Ï∂úÍ∑ºÏãúÍ∞Ñ</p>\n                <p class=\"text-lg font-semibold\">{todayAttendance?.checkIn || 'ÎØ∏Ï≤¥ÌÅ¨'}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Ìá¥Í∑ºÏãúÍ∞Ñ</p>\n                <p class=\"text-lg font-semibold\">{todayAttendance?.checkOut || 'ÎØ∏Ï≤¥ÌÅ¨'}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Í∑ºÎ¨¥ÏãúÍ∞Ñ</p>\n                <p class=\"text-lg font-semibold\">{todayAttendance?.workHours || 0}ÏãúÍ∞Ñ</p>\n              </div>\n            </div>\n            <div class=\"flex space-x-2\">\n              <button type=\"button\"\n                onclick={handleCheckIn}\n                disabled={!!todayAttendance?.checkIn}\n                class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n              >\n                Ï∂úÍ∑º Ï≤¥ÌÅ¨\n              </button>\n              <button type=\"button\"\n                onclick={handleCheckOut}\n                disabled={!todayAttendance?.checkIn || !!todayAttendance?.checkOut}\n                class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n              >\n                Ìá¥Í∑º Ï≤¥ÌÅ¨\n              </button>\n            </div>\n          </div>\n        </div>\n      </Card>\n\n      <!-- ÏõîÎ≥Ñ ÌÜµÍ≥Ñ -->\n      <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex items-center\">\n              <div class=\"p-3 rounded-full bg-green-100\">\n                <svg\n                  class=\"w-6 h-6 text-green-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Ï†ïÏÉÅÏ∂úÍ∑º</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{monthlyStats.presentDays}</p>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex items-center\">\n              <div class=\"p-3 rounded-full bg-yellow-100\">\n                <svg\n                  class=\"w-6 h-6 text-yellow-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">ÏßÄÍ∞Å</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{monthlyStats.lateDays}</p>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex items-center\">\n              <div class=\"p-3 rounded-full bg-red-100\">\n                <svg\n                  class=\"w-6 h-6 text-red-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Í≤∞Í∑º</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{monthlyStats.absentDays}</p>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex items-center\">\n              <div class=\"p-3 rounded-full bg-blue-100\">\n                <svg\n                  class=\"w-6 h-6 text-blue-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Ï¥ù Í∑ºÎ¨¥ÏãúÍ∞Ñ</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{monthlyStats.totalWorkHours}ÏãúÍ∞Ñ</p>\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      <!-- Í∑ºÌÉú Í∏∞Î°ù Î∞è Ìú¥Í∞Ä Í¥ÄÎ¶¨ -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <!-- Í∑ºÌÉú Í∏∞Î°ù -->\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h3 class=\"text-lg font-semibold text-gray-900\">Í∑ºÌÉú Í∏∞Î°ù</h3>\n              <button type=\"button\"\n                onclick={() => openAttendanceModal()}\n                class=\"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors\"\n              >\n                Í∏∞Î°ù Ï∂îÍ∞Ä\n              </button>\n            </div>\n            <div class=\"space-y-3\">\n              {#each employeeAttendance.slice(0, 10) as record}\n                <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div class=\"flex items-center space-x-3\">\n                    <div>\n                      <p class=\"text-sm font-medium text-gray-900\">{formatDate(record.date)}</p>\n                      <p class=\"text-xs text-gray-500\">\n                        {record.checkIn || 'ÎØ∏Ï≤¥ÌÅ¨'} - {record.checkOut || 'ÎØ∏Ï≤¥ÌÅ¨'}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center space-x-2\">\n                    <Badge variant={getStatusBadgeVariant(record.status)}>\n                      {getStatusText(record.status)}\n                    </Badge>\n                    <button type=\"button\"\n                      onclick={() => openAttendanceModal(record)}\n                      class=\"text-blue-600 hover:text-blue-900 text-sm\"\n                    >\n                      ÏàòÏ†ï\n                    </button>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        </Card>\n\n        <!-- Ìú¥Í∞Ä Í¥ÄÎ¶¨ -->\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h3 class=\"text-lg font-semibold text-gray-900\">Ìú¥Í∞Ä Í¥ÄÎ¶¨</h3>\n              <button type=\"button\"\n                onclick={openLeaveRequestModal}\n                class=\"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors\"\n              >\n                Ìú¥Í∞Ä Ïã†Ï≤≠\n              </button>\n            </div>\n\n            <!-- Ìú¥Í∞Ä ÏûîÏó¨ÏùºÏàò -->\n            <div class=\"mb-4\">\n              <h4 class=\"text-sm font-medium text-gray-700 mb-2\">ÏûîÏó¨ Ìú¥Í∞Ä</h4>\n              <div class=\"space-y-2\">\n                {#each employeeLeaveBalance as balance, i (i)}\n                  <div class=\"flex justify-between items-center\">\n                    <span class=\"text-sm text-gray-600\">\n                      {$leaveTypes.find(type => type.id === balance.leaveTypeId)?.name ||\n                        balance.leaveTypeId}\n                    </span>\n                    <span class=\"text-sm font-medium text-gray-900\">\n                      {balance.remainingDays}Ïùº\n                    </span>\n                  </div>\n                {/each}\n              </div>\n            </div>\n\n            <!-- Ìú¥Í∞Ä Ïã†Ï≤≠ ÎÇ¥Ïó≠ -->\n            <div>\n              <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Ïã†Ï≤≠ ÎÇ¥Ïó≠</h4>\n              <div class=\"space-y-3\">\n                {#each employeeLeaveRequests.slice(0, 5) as request}\n                  <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div>\n                      <p class=\"text-sm font-medium text-gray-900\">\n                        {getLeaveTypeName(request.leaveTypeId)} ({request.days}Ïùº)\n                      </p>\n                      <p class=\"text-xs text-gray-500\">\n                        {formatDate(request.startDate)} - {formatDate(request.endDate)}\n                      </p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                      <Badge variant={getLeaveStatusBadgeVariant(request.status)}>\n                        {getLeaveStatusText(request.status)}\n                      </Badge>\n                      {#if request.status === 'pending'}\n                        <div class=\"flex space-x-1\">\n                          <button type=\"button\"\n                            onclick={() => approveLeave(request.id)}\n                            class=\"text-green-600 hover:text-green-900 text-xs\"\n                          >\n                            ÏäπÏù∏\n                          </button>\n                          <button type=\"button\"\n                            onclick={() => rejectLeave(request.id)}\n                            class=\"text-red-600 hover:text-red-900 text-xs\"\n                          >\n                            Í±∞Î∂Ä\n                          </button>\n                        </div>\n                      {/if}\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n    {:else}\n      <Card>\n        <div class=\"p-12 text-center\">\n          <svg\n            class=\"w-16 h-16 text-gray-400 mx-auto mb-4\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n            />\n          </svg>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</h3>\n          <p class=\"text-gray-500\">Í∑ºÌÉú Í¥ÄÎ¶¨Î•º ÏúÑÌï¥ ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.</p>\n        </div>\n      </Card>\n    {/if}\n\n    <!-- Ìú¥Í∞Ä Ïã†Ï≤≠ Î™®Îã¨ -->\n    <Modal bind:open={isLeaveRequestModalOpen}>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Ìú¥Í∞Ä Ïã†Ï≤≠</h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleLeaveRequest()\n          }}\n        >\n          <div class=\"space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ìú¥Í∞Ä Ïú†Ìòï *</label>\n              <select\n                bind:value={leaveRequestForm.leaveTypeId}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Ìú¥Í∞Ä Ïú†ÌòïÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n                {#each $leaveTypes as leaveType, i (i)}\n                  <option value={leaveType.id}>{leaveType.name}</option>\n                {/each}\n              </select>\n            </div>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏãúÏûëÏùº *</label>\n                <input\n                  type=\"date\"\n                  bind:value={leaveRequestForm.startDate}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ï¢ÖÎ£åÏùº *</label>\n                <input\n                  type=\"date\"\n                  bind:value={leaveRequestForm.endDate}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÇ¨Ïú†</label>\n              <textarea\n                bind:value={leaveRequestForm.reason}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Ìú¥Í∞Ä Ïã†Ï≤≠ ÏÇ¨Ïú†Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3 mt-6\">\n            <button\n              type=\"button\"\n              onclick={() => (isLeaveRequestModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n            >\n              Ïã†Ï≤≠\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n\n    <!-- Í∑ºÌÉú Í∏∞Î°ù Î™®Îã¨ -->\n    <Modal bind:open={isAttendanceModalOpen}>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">\n          {selectedAttendanceRecord ? 'Í∑ºÌÉú Í∏∞Î°ù ÏàòÏ†ï' : 'Í∑ºÌÉú Í∏∞Î°ù Ï∂îÍ∞Ä'}\n        </h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleAttendanceSubmit()\n          }}\n        >\n          <div class=\"space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÎÇ†Ïßú *</label>\n              <input\n                type=\"date\"\n                bind:value={attendanceForm.date}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ï∂úÍ∑ºÏãúÍ∞Ñ</label>\n                <input\n                  type=\"time\"\n                  bind:value={attendanceForm.checkIn}\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ìá¥Í∑ºÏãúÍ∞Ñ</label>\n                <input\n                  type=\"time\"\n                  bind:value={attendanceForm.checkOut}\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÉÅÌÉú *</label>\n              <select\n                bind:value={attendanceForm.status}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"present\">Ï†ïÏÉÅÏ∂úÍ∑º</option>\n                <option value=\"late\">ÏßÄÍ∞Å</option>\n                <option value=\"early-leave\">Ï°∞Ìá¥</option>\n                <option value=\"absent\">Í≤∞Í∑º</option>\n                <option value=\"vacation\">Ìú¥Í∞Ä</option>\n                <option value=\"sick-leave\">Î≥ëÍ∞Ä</option>\n                <option value=\"business-trip\">Ï∂úÏû•</option>\n                <option value=\"half-day\">Î∞òÏ∞®</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÎπÑÍ≥†</label>\n              <textarea\n                bind:value={attendanceForm.notes}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Ï∂îÍ∞Ä ÏÇ¨Ìï≠ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3 mt-6\">\n            <button\n              type=\"button\"\n              onclick={() => (isAttendanceModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              {selectedAttendanceRecord ? 'ÏàòÏ†ï' : 'Ï∂îÍ∞Ä'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/hr/employees/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 292,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 292,
        "endColumn": 28,
        "fix": { "range": [7131, 7132], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 333,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 335,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 376,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 376,
        "endColumn": 34,
        "fix": { "range": [10307, 10308], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 481,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 481,
        "endColumn": 42,
        "fix": { "range": [15077, 15078], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 487,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 487,
        "endColumn": 42,
        "fix": { "range": [15334, 15335], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 493,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 493,
        "endColumn": 42,
        "fix": { "range": [15595, 15596], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 934,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 934,
        "endColumn": 32,
        "fix": { "range": [34165, 34166], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 6,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { formatDate } from '$lib/utils/format'\n\n  import {\n    employees,\n    employmentContracts,\n    addEmployee,\n    updateEmployee,\n    deleteEmployee,\n    getEmployeeContract,\n    type Employee,\n    type EmploymentContract\n  } from '$lib/stores/hr'\n\n  // Î™®Îã¨ ÏÉÅÌÉú\n  let isAddModalOpen = $state(false)\n  let isEditModalOpen = $state(false)\n  let isViewModalOpen = $state(false)\n  let selectedEmployee = $state<Employee | null>(null)\n  let selectedContract = $state<EmploymentContract | null>(null)\n\n  // ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ\n  let searchQuery = $state('')\n  let departmentFilter = $state('')\n  let statusFilter = $state('active') // Í∏∞Î≥∏Í∞í: Ïû¨ÏßÅÏ§ë\n  let employmentTypeFilter = $state('')\n\n  // Ï†ïÎ†¨\n  let sortBy = $state('name')\n  let sortOrder = $state<'asc' | 'desc'>('asc')\n\n  // ÌïÑÌÑ∞ÎßÅÎêú ÏßÅÏõê Î™©Î°ù\n  let filteredEmployees = $derived((): Employee[] => {\n    let filtered = $employees\n\n    // Í≤ÄÏÉâ ÌïÑÌÑ∞\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      filtered = filtered.filter(\n        emp =>\n          emp.name.toLowerCase().includes(query) ||\n            emp.email.toLowerCase().includes(query) ||\n            emp.employeeId.toLowerCase().includes(query) ||\n            emp.department.toLowerCase().includes(query) ||\n            emp.position.toLowerCase().includes(query)\n      )\n    }\n\n    // Î∂ÄÏÑú ÌïÑÌÑ∞\n    if (departmentFilter) {\n      filtered = filtered.filter(emp => emp.department === departmentFilter)\n    }\n\n    // ÏÉÅÌÉú ÌïÑÌÑ∞\n    if (statusFilter) {\n      filtered = filtered.filter(emp => emp.status === statusFilter)\n    }\n\n    // Í≥†Ïö© ÌòïÌÉú ÌïÑÌÑ∞\n    if (employmentTypeFilter) {\n      filtered = filtered.filter(emp => emp.employmentType === employmentTypeFilter)\n    }\n\n    // Ï†ïÎ†¨ - Î∂ÄÏÑúÎ≥Ñ Ïö∞ÏÑ† Ï†ïÎ†¨, Í∑∏ Îã§Ïùå ÏÑ†ÌÉùÎêú Ï†ïÎ†¨ Í∏∞Ï§Ä\n    filtered.sort((a: Employee, b: Employee) => {\n      // Î∂ÄÏÑúÎ≥Ñ Ïö∞ÏÑ† Ï†ïÎ†¨ (ÎåÄÌëú ‚Üí Ï†ÑÎûµÍ∏∞ÌöçÏã§ ‚Üí Ïó∞Íµ¨ÏÜå ‚Üí Í∞Å ÌåÄÎì§ ‚Üí Î∂ÄÏÑúÏóÜÏùå)\n      const departmentOrder: { [key: string]: number } = {\n        ÎåÄÌëú: 1,\n        Ï†ÑÎûµÍ∏∞ÌöçÏã§: 2,\n        Ïó∞Íµ¨ÏÜå: 3,\n        Î∂ÄÏÑúÏóÜÏùå: 999\n      }\n\n      const aDeptOrder = departmentOrder[a.department] || 100\n      const bDeptOrder = departmentOrder[b.department] || 100\n\n      if (aDeptOrder !== bDeptOrder) {\n        return aDeptOrder - bDeptOrder\n      }\n\n      // Í∞ôÏùÄ Î∂ÄÏÑú ÎÇ¥ÏóêÏÑúÎäî ÏÑ†ÌÉùÎêú Ï†ïÎ†¨ Í∏∞Ï§ÄÏúºÎ°ú Ï†ïÎ†¨\n      let aValue: any = (a as Employee)[sortBy as keyof Employee]\n      let bValue: any = (b as Employee)[sortBy as keyof Employee]\n\n      if (sortBy === 'hireDate') {\n        aValue = new Date(aValue).getTime()\n        bValue = new Date(bValue).getTime()\n      }\n\n      if (typeof aValue === 'string') {\n        aValue = aValue.toLowerCase()\n        bValue = bValue.toLowerCase()\n      }\n\n      if (sortOrder === 'asc') {\n        return aValue > bValue ? 1 : -1\n      } else {\n        return aValue < bValue ? 1 : -1\n      }\n    })\n\n    return filtered\n  })\n\n  // Í≥†Ïú† Î∂ÄÏÑú Î™©Î°ù\n  let departments = $derived([...new Set($employees.map(emp => emp.department))])\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let formData = $state({\n    employeeId: '',\n    name: '',\n    email: '',\n    phone: '',\n    address: '',\n    department: '',\n    position: '',\n    level: 'mid' as Employee['level'],\n    employmentType: 'full-time' as Employee['employmentType'],\n    hireDate: '',\n    status: 'active' as Employee['status'],\n    managerId: '',\n    emergencyContact: {\n      name: '',\n      relationship: '',\n      phone: ''\n    },\n    personalInfo: {\n      birthDate: '',\n      gender: 'male' as Employee['personalInfo']['gender'],\n      nationality: 'ÌïúÍµ≠',\n      maritalStatus: 'single' as Employee['personalInfo']['maritalStatus']\n    }\n  })\n\n  // Ìï®ÏàòÎì§\n  function openAddModal() {\n    formData = {\n      employeeId: '',\n      name: '',\n      email: '',\n      phone: '',\n      address: '',\n      department: '',\n      position: '',\n      level: 'mid',\n      employmentType: 'full-time',\n      hireDate: new Date().toISOString().split('T')[0], // TODO: Replace with toUTC function\n      status: 'active',\n      managerId: '',\n      emergencyContact: {\n        name: '',\n        relationship: '',\n        phone: ''\n      },\n      personalInfo: {\n        birthDate: '',\n        gender: 'male',\n        nationality: 'ÌïúÍµ≠',\n        maritalStatus: 'single'\n      }\n    }\n    isAddModalOpen = true\n  }\n\n  function openEditModal(employee: Employee) {\n    selectedEmployee = employee\n    formData = {\n      ...employee,\n      managerId: employee.managerId || ''\n    }\n    isEditModalOpen = true\n  }\n\n  function openViewModal(employee: Employee) {\n    selectedEmployee = employee\n    selectedContract = getEmployeeContract(employee.id, $employmentContracts) || null\n    isViewModalOpen = true\n  }\n\n  function handleAddEmployee() {\n    addEmployee(formData)\n    isAddModalOpen = false\n  }\n\n  function handleEditEmployee() {\n    if (selectedEmployee) {\n      updateEmployee(selectedEmployee.id, formData)\n      isEditModalOpen = false\n    }\n  }\n\n  function handleDeleteEmployee(employee: Employee) {\n    if (confirm(`\"${employee.name}\" ÏßÅÏõêÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {\n      deleteEmployee(employee.id)\n    }\n  }\n\n  function getStatusBadgeVariant(\n    status: Employee['status']\n  ): 'success' | 'warning' | 'danger' | 'secondary' {\n    switch (status) {\n      case 'active':\n        return 'success'\n      case 'inactive':\n        return 'secondary'\n      case 'on-leave':\n        return 'warning'\n      case 'terminated':\n        return 'danger'\n      default:\n        return 'secondary'\n    }\n  }\n\n  function getStatusText(status: Employee['status']): string {\n    switch (status) {\n      case 'active':\n        return 'Ïû¨ÏßÅÏ§ë'\n      case 'inactive':\n        return 'ÎπÑÌôúÏÑ±'\n      case 'on-leave':\n        return 'Ìú¥ÏßÅÏ§ë'\n      case 'terminated':\n        return 'Ìá¥ÏÇ¨'\n      default:\n        return status\n    }\n  }\n\n  function getEmploymentTypeText(type: Employee['employmentType']): string {\n    switch (type) {\n      case 'full-time':\n        return 'Ï†ïÍ∑úÏßÅ'\n      case 'part-time':\n        return 'ÌååÌä∏ÌÉÄÏûÑ'\n      case 'contract':\n        return 'Í≥ÑÏïΩÏßÅ'\n      case 'intern':\n        return 'Ïù∏ÌÑ¥'\n      default:\n        return type\n    }\n  }\n\n  function getLevelText(level: Employee['level']): string {\n    switch (level) {\n      case 'intern':\n        return 'Ïù∏ÌÑ¥'\n      case 'junior':\n        return 'Ï£ºÎãàÏñ¥'\n      case 'mid':\n        return 'ÎØ∏ÎìúÎ†àÎ≤®'\n      case 'senior':\n        return 'ÏãúÎãàÏñ¥'\n      case 'lead':\n        return 'Î¶¨Îìú'\n      case 'manager':\n        return 'Îß§ÎãàÏ†Ä'\n      case 'director':\n        return 'ÎîîÎ†âÌÑ∞'\n      default:\n        return level\n    }\n  }\n\n  function sort(column: string) {\n    if (sortBy === column) {\n      sortOrder = sortOrder === 'asc' ? 'desc' : 'asc'\n    } else {\n      sortBy = column\n      sortOrder = 'asc'\n    }\n  }\n\n  onMount(() => {\n  // Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  })\n</script>\n\n<div class=\"min-h-screen bg-gray-50 p-6\">\n  <div class=\"max-w-7xl mx-auto\">\n    <!-- Ìó§Îçî -->\n    <div class=\"flex justify-between items-center mb-8\">\n      <div>\n        <h1 class=\"text-3xl font-bold text-gray-900\">ÏßÅÏõê Í¥ÄÎ¶¨</h1>\n        <p class=\"text-gray-600 mt-1\">Ï†ÑÏ≤¥ ÏßÅÏõê Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨ÌïòÍ≥† Ï°∞ÌöåÌï† Ïàò ÏûàÏäµÎãàÎã§</p>\n      </div>\n      <button type=\"button\"\n        onclick={openAddModal}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n      >\n        ÏßÅÏõê Ï∂îÍ∞Ä\n      </button>\n    </div>\n\n    <!-- ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ -->\n    <Card class=\"mb-6\">\n      <div class=\"p-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n          <div>\n            <label\n              for=\"search-input\"\n              class=\"block text-sm font-medium text-gray-700 mb-2\"\n            >Í≤ÄÏÉâ</label\n            >\n            <input\n              id=\"search-input\"\n              type=\"text\"\n              bind:value={searchQuery}\n              placeholder=\"Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, ÏÇ¨Î≤àÏúºÎ°ú Í≤ÄÏÉâ...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"department-select\"\n              class=\"block text-sm font-medium text-gray-700 mb-2\"\n            >Î∂ÄÏÑú</label\n            >\n            <select\n              id=\"department-select\"\n              bind:value={departmentFilter}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>\n              <option value=\"ÎåÄÌëú\">ÎåÄÌëú</option>\n              <option value=\"Ï†ÑÎûµÍ∏∞ÌöçÏã§\">Ï†ÑÎûµÍ∏∞ÌöçÏã§</option>\n              <option value=\"Ïó∞Íµ¨ÏÜå\">Ïó∞Íµ¨ÏÜå</option>\n              {#each departments.filter(d => !['ÎåÄÌëú', 'Ï†ÑÎûµÍ∏∞ÌöçÏã§', 'Ïó∞Íµ¨ÏÜå', 'Î∂ÄÏÑúÏóÜÏùå'].includes(d)) as dept}\n                <option value={dept}>{dept}</option>\n              {/each}\n              <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n            </select>\n          </div>\n          <div>\n            <label\n              for=\"status-select\"\n              class=\"block text-sm font-medium text-gray-700 mb-2\"\n            >ÏÉÅÌÉú</label\n            >\n            <select\n              id=\"status-select\"\n              bind:value={statusFilter}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>\n              <option value=\"active\">Ïû¨ÏßÅÏ§ë</option>\n              <option value=\"inactive\">ÎπÑÌôúÏÑ±</option>\n              <option value=\"on-leave\">Ìú¥ÏßÅÏ§ë</option>\n              <option value=\"terminated\">Ìá¥ÏÇ¨</option>\n            </select>\n          </div>\n          <div>\n            <label\n              for=\"employment-type-select\"\n              class=\"block text-sm font-medium text-gray-700 mb-2\"\n            >Í≥†Ïö© ÌòïÌÉú</label\n            >\n            <select\n              id=\"employment-type-select\"\n              bind:value={employmentTypeFilter}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥</option>\n              <option value=\"full-time\">Ï†ïÍ∑úÏßÅ</option>\n              <option value=\"part-time\">ÌååÌä∏ÌÉÄÏûÑ</option>\n              <option value=\"contract\">Í≥ÑÏïΩÏßÅ</option>\n              <option value=\"intern\">Ïù∏ÌÑ¥</option>\n            </select>\n          </div>\n          <div class=\"flex items-end\">\n            <button type=\"button\"\n              onclick={() => {\n                searchQuery = ''\n                departmentFilter = ''\n                statusFilter = 'active' // Í∏∞Î≥∏Í∞í: Ïû¨ÏßÅÏ§ë\n                employmentTypeFilter = ''\n              }}\n              class=\"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï¥àÍ∏∞Ìôî\n            </button>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <!-- ÏßÅÏõê Î™©Î°ù -->\n    <Card>\n      <div class=\"overflow-x-auto\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th\n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onclick={() => sort('employeeId')}\n              >\n                ÏÇ¨Î≤à {#if sortBy === 'employeeId'}{sortOrder === 'asc' ? '‚Üë' : '‚Üì'}{/if}\n              </th>\n              <th\n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onclick={() => sort('name')}\n              >\n                Ïù¥Î¶Ñ {#if sortBy === 'name'}{sortOrder === 'asc' ? '‚Üë' : '‚Üì'}{/if}\n              </th>\n              <th\n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onclick={() => sort('department')}\n              >\n                Î∂ÄÏÑú {#if sortBy === 'department'}{sortOrder === 'asc' ? '‚Üë' : '‚Üì'}{/if}\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                ÏßÅÍ∏â\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                Í≥†Ïö© ÌòïÌÉú\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                ÏÉÅÌÉú\n              </th>\n              <th\n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onclick={() => sort('hireDate')}\n              >\n                ÏûÖÏÇ¨Ïùº {#if sortBy === 'hireDate'}{sortOrder === 'asc' ? '‚Üë' : '‚Üì'}{/if}\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                ÏûëÏóÖ\n              </th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            {#each filteredEmployees as employee, i (i)}\n              <tr class=\"hover:bg-gray-50\">\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                  {employee.employeeId}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"flex items-center\">\n                    <div class=\"flex-shrink-0 h-10 w-10\">\n                      <div class=\"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\"\n                      >\n                        <span class=\"text-sm font-medium text-gray-700\">\n                          {employee.name.charAt(0)}\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"ml-4\">\n                      <div class=\"text-sm font-medium text-gray-900\">{employee.name}</div>\n                      <div class=\"text-sm text-gray-500\">{employee.email}</div>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  {employee.department}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  {employee.position}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {getEmploymentTypeText(employee.employmentType as Employee['employmentType'])}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <Badge variant={getStatusBadgeVariant(employee.status as Employee['status'])}>\n                    {getStatusText(employee.status as Employee['status'])}\n                  </Badge>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {formatDate(employee.hireDate)}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <div class=\"flex space-x-2\">\n                    <button type=\"button\"\n                      onclick={() => openViewModal(employee as Employee)}\n                      class=\"text-blue-600 hover:text-blue-900\"\n                    >\n                      Î≥¥Í∏∞\n                    </button>\n                    <button type=\"button\"\n                      onclick={() => openEditModal(employee as Employee)}\n                      class=\"text-indigo-600 hover:text-indigo-900\"\n                    >\n                      ÏàòÏ†ï\n                    </button>\n                    <button type=\"button\"\n                      onclick={() => handleDeleteEmployee(employee as Employee)}\n                      class=\"text-red-600 hover:text-red-900\"\n                    >\n                      ÏÇ≠Ï†ú\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            {/each}\n          </tbody>\n        </table>\n      </div>\n    </Card>\n\n    <!-- ÏßÅÏõê Ï∂îÍ∞Ä Î™®Îã¨ -->\n    <Modal bind:open={isAddModalOpen}>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏßÅÏõê Ï∂îÍ∞Ä</h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleAddEmployee()\n          }}\n        >\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label\n                for=\"employee-id-input\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÏÇ¨Î≤à *</label\n              >\n              <input\n                id=\"employee-id-input\"\n                type=\"text\"\n                bind:value={formData.employeeId}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ïù¥Î¶Ñ *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.name}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ïù¥Î©îÏùº *</label>\n              <input\n                type=\"email\"\n                bind:value={formData.email}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ï†ÑÌôîÎ≤àÌò∏ *</label>\n              <input\n                type=\"tel\"\n                bind:value={formData.phone}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Î∂ÄÏÑú *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.department}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏßÅÍ∏â *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.position}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Î†àÎ≤® *</label>\n              <select\n                bind:value={formData.level}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"intern\">Ïù∏ÌÑ¥</option>\n                <option value=\"junior\">Ï£ºÎãàÏñ¥</option>\n                <option value=\"mid\">ÎØ∏ÎìúÎ†àÎ≤®</option>\n                <option value=\"senior\">ÏãúÎãàÏñ¥</option>\n                <option value=\"lead\">Î¶¨Îìú</option>\n                <option value=\"manager\">Îß§ÎãàÏ†Ä</option>\n                <option value=\"director\">ÎîîÎ†âÌÑ∞</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Í≥†Ïö© ÌòïÌÉú *</label>\n              <select\n                bind:value={formData.employmentType}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"full-time\">Ï†ïÍ∑úÏßÅ</option>\n                <option value=\"part-time\">ÌååÌä∏ÌÉÄÏûÑ</option>\n                <option value=\"contract\">Í≥ÑÏïΩÏßÅ</option>\n                <option value=\"intern\">Ïù∏ÌÑ¥</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏûÖÏÇ¨Ïùº *</label>\n              <input\n                type=\"date\"\n                bind:value={formData.hireDate}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ï£ºÏÜå</label>\n              <input\n                type=\"text\"\n                bind:value={formData.address}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              onclick={() => (isAddModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              Ï∂îÍ∞Ä\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n\n    <!-- ÏßÅÏõê ÏàòÏ†ï Î™®Îã¨ -->\n    <Modal bind:open={isEditModalOpen}>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏßÅÏõê Ï†ïÎ≥¥ ÏàòÏ†ï</h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleEditEmployee()\n          }}\n        >\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÇ¨Î≤à *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.employeeId}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ïù¥Î¶Ñ *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.name}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ïù¥Î©îÏùº *</label>\n              <input\n                type=\"email\"\n                bind:value={formData.email}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ï†ÑÌôîÎ≤àÌò∏ *</label>\n              <input\n                type=\"tel\"\n                bind:value={formData.phone}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Î∂ÄÏÑú *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.department}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏßÅÍ∏â *</label>\n              <input\n                type=\"text\"\n                bind:value={formData.position}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Î†àÎ≤® *</label>\n              <select\n                bind:value={formData.level}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"intern\">Ïù∏ÌÑ¥</option>\n                <option value=\"junior\">Ï£ºÎãàÏñ¥</option>\n                <option value=\"mid\">ÎØ∏ÎìúÎ†àÎ≤®</option>\n                <option value=\"senior\">ÏãúÎãàÏñ¥</option>\n                <option value=\"lead\">Î¶¨Îìú</option>\n                <option value=\"manager\">Îß§ÎãàÏ†Ä</option>\n                <option value=\"director\">ÎîîÎ†âÌÑ∞</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Í≥†Ïö© ÌòïÌÉú *</label>\n              <select\n                bind:value={formData.employmentType}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"full-time\">Ï†ïÍ∑úÏßÅ</option>\n                <option value=\"part-time\">ÌååÌä∏ÌÉÄÏûÑ</option>\n                <option value=\"contract\">Í≥ÑÏïΩÏßÅ</option>\n                <option value=\"intern\">Ïù∏ÌÑ¥</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏûÖÏÇ¨Ïùº *</label>\n              <input\n                type=\"date\"\n                bind:value={formData.hireDate}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÉÅÌÉú *</label>\n              <select\n                bind:value={formData.status}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"active\">Ïû¨ÏßÅÏ§ë</option>\n                <option value=\"inactive\">ÎπÑÌôúÏÑ±</option>\n                <option value=\"on-leave\">Ìú¥ÏßÅÏ§ë</option>\n                <option value=\"terminated\">Ìá¥ÏÇ¨</option>\n              </select>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              onclick={() => (isEditModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              ÏàòÏ†ï\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n\n    <!-- ÏßÅÏõê ÏÉÅÏÑ∏ Î≥¥Í∏∞ Î™®Îã¨ -->\n    <Modal bind:open={isViewModalOpen}>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏßÅÏõê ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>\n        {#if selectedEmployee}\n          <div class=\"space-y-6\">\n            <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n            <div>\n              <h4 class=\"text-md font-medium text-gray-900 mb-3\">Í∏∞Î≥∏ Ï†ïÎ≥¥</h4>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">ÏÇ¨Î≤à</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.employeeId}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Ïù¥Î¶Ñ</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.name}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Ïù¥Î©îÏùº</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.email}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Ï†ÑÌôîÎ≤àÌò∏</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.phone}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Î∂ÄÏÑú</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.department}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">ÏßÅÍ∏â</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.position}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Î†àÎ≤®</label>\n                  <p class=\"text-sm text-gray-900\">\n                    {getLevelText(selectedEmployee.level as Employee['level'])}\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Í≥†Ïö© ÌòïÌÉú</label>\n                  <p class=\"text-sm text-gray-900\">\n                    {getEmploymentTypeText(\n                      selectedEmployee.employmentType as Employee['employmentType']\n                    )}\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">ÏûÖÏÇ¨Ïùº</label>\n                  <p class=\"text-sm text-gray-900\">{formatDate(selectedEmployee.hireDate)}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">ÏÉÅÌÉú</label>\n                  <Badge variant={getStatusBadgeVariant(selectedEmployee.status as Employee['status'])}\n                  >\n                    {getStatusText(selectedEmployee.status as Employee['status'])}\n                  </Badge>\n                </div>\n              </div>\n            </div>\n\n            <!-- Í∏¥Í∏â Ïó∞ÎùΩÏ≤ò -->\n            <div>\n              <h4 class=\"text-md font-medium text-gray-900 mb-3\">Í∏¥Í∏â Ïó∞ÎùΩÏ≤ò</h4>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Ïù¥Î¶Ñ</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.emergencyContact.name}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Í¥ÄÍ≥Ñ</label>\n                  <p class=\"text-sm text-gray-900\">\n                    {selectedEmployee.emergencyContact.relationship}\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Ï†ÑÌôîÎ≤àÌò∏</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.emergencyContact.phone}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Í∞úÏù∏ Ï†ïÎ≥¥ -->\n            <div>\n              <h4 class=\"text-md font-medium text-gray-900 mb-3\">Í∞úÏù∏ Ï†ïÎ≥¥</h4>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">ÏÉùÎÖÑÏõîÏùº</label>\n                  <p class=\"text-sm text-gray-900\">\n                    {formatDate(selectedEmployee.personalInfo.birthDate)}\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">ÏÑ±Î≥Ñ</label>\n                  <p class=\"text-sm text-gray-900\">\n                    {selectedEmployee.personalInfo.gender === 'male'\n                      ? 'ÎÇ®ÏÑ±'\n                      : selectedEmployee.personalInfo.gender === 'female'\n                      ? 'Ïó¨ÏÑ±'\n                      : 'Í∏∞ÌÉÄ'}\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Íµ≠Ï†Å</label>\n                  <p class=\"text-sm text-gray-900\">{selectedEmployee.personalInfo.nationality}</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-500\">Í≤∞Ìòº ÏÉÅÌÉú</label>\n                  <p class=\"text-sm text-gray-900\">\n                    {selectedEmployee.personalInfo.maritalStatus === 'single'\n                      ? 'ÎØ∏Ìòº'\n                      : selectedEmployee.personalInfo.maritalStatus === 'married'\n                      ? 'Í∏∞Ìòº'\n                      : selectedEmployee.personalInfo.maritalStatus === 'divorced'\n                      ? 'Ïù¥Ìòº'\n                      : 'ÏÇ¨Î≥Ñ'}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Í∑ºÎ°ú Í≥ÑÏïΩ Ï†ïÎ≥¥ -->\n            {#if selectedContract}\n              <div>\n                <h4 class=\"text-md font-medium text-gray-900 mb-3\">Í∑ºÎ°ú Í≥ÑÏïΩ Ï†ïÎ≥¥</h4>\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-500\">Í≥ÑÏïΩ Ïú†Ìòï</label>\n                    <p class=\"text-sm text-gray-900\">{selectedContract.contractType}</p>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-500\">ÏãúÏûëÏùº</label>\n                    <p class=\"text-sm text-gray-900\">{formatDate(selectedContract.startDate)}</p>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-500\">Í∏âÏó¨</label>\n                    <p class=\"text-sm text-gray-900\">\n                      {selectedContract.salary.toLocaleString()}Ïõê <!-- TODO: Replace with formatNumber function -->\n                    </p>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-500\">Í∑ºÎ¨¥ÏãúÍ∞Ñ</label>\n                    <p class=\"text-sm text-gray-900\">{selectedContract.workingHours}ÏãúÍ∞Ñ/Ï£º</p>\n                  </div>\n                </div>\n              </div>\n            {/if}\n          </div>\n        {/if}\n\n        <div class=\"flex justify-end mt-6\">\n          <button type=\"button\"\n            onclick={() => (isViewModalOpen = false)}\n            class=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors\"\n          >\n            Îã´Í∏∞\n          </button>\n        </div>\n      </div>\n    </Modal>\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/hr/performance/+page.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 626,
        "column": 62
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { formatDate } from '$lib/utils/format'\n\n  import { employees, getActiveEmployees } from '$lib/stores/hr'\n\n  import {\n    performanceReviews,\n    feedback360,\n    competencyMatrix,\n    trainingRecords,\n    addPerformanceReview,\n    updatePerformanceReview,\n    completePerformanceReview,\n    approvePerformanceReview,\n    addFeedback360,\n    getPerformanceReviewsByEmployee,\n    getFeedback360ByReviewee,\n    getCompetencyMatrixByEmployee,\n    getTrainingRecordsByEmployee,\n    calculateAverageFeedback360,\n    type PerformanceReview,\n    type Feedback360\n  } from '$lib/stores/performance'\n\n  // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏßÅÏõê\n  let selectedEmployeeId = $state('')\n  let selectedYear = $state(new Date().getFullYear())\n\n  // Î™®Îã¨ ÏÉÅÌÉú\n  let isReviewModalOpen = $state(false)\n  let isFeedbackModalOpen = $state(false)\n  let isCompetencyModalOpen = $state(false)\n  let isTrainingModalOpen = $state(false)\n  let selectedReview = $state<PerformanceReview | null>(null)\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let reviewForm = $state({\n    reviewerId: '',\n    reviewPeriod: {\n      startDate: '',\n      endDate: '',\n      year: 0,\n      quarter: 1\n    },\n    reviewType: 'annual' as PerformanceReview['reviewType'],\n    goals: [\n      {\n        id: '',\n        title: '',\n        description: '',\n        target: '',\n        actual: '',\n        achievement: 0,\n        weight: 0,\n        rating: 0,\n        comments: ''\n      }\n    ],\n    competencies: [{ id: '', name: '', description: '', rating: 0, evidence: '', improvement: '' }],\n    overallRating: 0,\n    strengths: [''],\n    improvementAreas: [''],\n    developmentPlan: '',\n    careerGoals: '',\n    promotionRecommendation: false,\n    salaryIncreaseRecommendation: false,\n    bonusRecommendation: false\n  })\n\n  // Update review form year when selectedYear changes\n  $effect(() => {\n    reviewForm.reviewPeriod.year = selectedYear\n  })\n\n  let feedbackForm = $state({\n    revieweeId: '',\n    reviewerType: 'peer' as Feedback360['reviewerType'],\n    reviewPeriod: {\n      startDate: '',\n      endDate: ''\n    },\n    leadership: 3,\n    communication: 3,\n    teamwork: 3,\n    problemSolving: 3,\n    initiative: 3,\n    adaptability: 3,\n    technicalSkills: 3,\n    strengths: '',\n    improvementAreas: '',\n    recommendations: '',\n    additionalComments: '',\n    isAnonymous: false\n  })\n\n  // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏßÅÏõêÏùò Îç∞Ïù¥ÌÑ∞\n  let selectedEmployee = $derived($employees.find(emp => emp.id === selectedEmployeeId))\n  let employeeReviews = $derived(\n    getPerformanceReviewsByEmployee(selectedEmployeeId, $performanceReviews)\n  )\n  let employeeFeedback = $derived(getFeedback360ByReviewee(selectedEmployeeId, $feedback360))\n  let employeeCompetencies = $derived(\n    getCompetencyMatrixByEmployee(selectedEmployeeId, $competencyMatrix)\n  )\n  let employeeTraining = $derived(\n    getTrainingRecordsByEmployee(selectedEmployeeId, $trainingRecords)\n  )\n  let averageFeedback = $derived(calculateAverageFeedback360(selectedEmployeeId, $feedback360))\n\n  // Ìï®ÏàòÎì§\n  function openReviewModal(review?: PerformanceReview) {\n    if (review) {\n      selectedReview = review\n      reviewForm = {\n        reviewerId: review.reviewerId,\n        reviewPeriod: review.reviewPeriod,\n        reviewType: review.reviewType,\n        goals: review.goals,\n        competencies: review.competencies,\n        overallRating: review.overallRating,\n        strengths: review.strengths,\n        improvementAreas: review.improvementAreas,\n        developmentPlan: review.developmentPlan,\n        careerGoals: review.careerGoals,\n        promotionRecommendation: review.promotionRecommendation,\n        salaryIncreaseRecommendation: review.salaryIncreaseRecommendation,\n        bonusRecommendation: review.bonusRecommendation\n      }\n    } else {\n      selectedReview = null\n      reviewForm = {\n        reviewerId: 'current-user',\n        reviewPeriod: {\n          startDate: `${selectedYear}-01-01`,\n          endDate: `${selectedYear}-12-31`,\n          year: selectedYear,\n          quarter: 1\n        },\n        reviewType: 'annual',\n        goals: [\n          {\n            id: '',\n            title: '',\n            description: '',\n            target: '',\n            actual: '',\n            achievement: 0,\n            weight: 0,\n            rating: 0,\n            comments: ''\n          }\n        ],\n        competencies: [\n          { id: '', name: '', description: '', rating: 0, evidence: '', improvement: '' }\n        ],\n        overallRating: 0,\n        strengths: [''],\n        improvementAreas: [''],\n        developmentPlan: '',\n        careerGoals: '',\n        promotionRecommendation: false,\n        salaryIncreaseRecommendation: false,\n        bonusRecommendation: false\n      }\n    }\n    isReviewModalOpen = true\n  }\n\n  function openFeedbackModal() {\n    feedbackForm = {\n      revieweeId: selectedEmployeeId,\n      reviewerType: 'peer',\n      reviewPeriod: {\n        startDate: `${selectedYear}-01-01`,\n        endDate: `${selectedYear}-12-31`\n      },\n      leadership: 3,\n      communication: 3,\n      teamwork: 3,\n      problemSolving: 3,\n      initiative: 3,\n      adaptability: 3,\n      technicalSkills: 3,\n      strengths: '',\n      improvementAreas: '',\n      recommendations: '',\n      additionalComments: '',\n      isAnonymous: false\n    }\n    isFeedbackModalOpen = true\n  }\n\n  function handleReviewSubmit() {\n    if (!selectedEmployeeId) {\n      alert('ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    if (selectedReview) {\n      updatePerformanceReview(selectedReview.id, reviewForm)\n    } else {\n      addPerformanceReview({\n        employeeId: selectedEmployeeId,\n        ...reviewForm,\n        status: 'draft'\n      })\n    }\n    isReviewModalOpen = false\n    alert('ÏÑ±Í≥º ÌèâÍ∞ÄÍ∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function handleFeedbackSubmit() {\n    if (!selectedEmployeeId) {\n      alert('ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    addFeedback360({\n      reviewerId: 'current-user',\n      ...feedbackForm,\n      status: 'pending'\n    })\n    isFeedbackModalOpen = false\n    alert('360ÎèÑ ÌîºÎìúÎ∞±Ïù¥ Ï†úÏ∂úÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function completeReview(reviewId: string) {\n    completePerformanceReview(reviewId)\n    alert('ÏÑ±Í≥º ÌèâÍ∞ÄÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function approveReview(reviewId: string) {\n    approvePerformanceReview(reviewId, 'HRÌåÄ')\n    alert('ÏÑ±Í≥º ÌèâÍ∞ÄÍ∞Ä ÏäπÏù∏ÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function getStatusBadgeVariant(\n    status: PerformanceReview['status']\n  ): 'secondary' | 'warning' | 'success' | 'primary' {\n    switch (status) {\n      case 'draft':\n        return 'secondary'\n      case 'in-progress':\n        return 'warning'\n      case 'completed':\n        return 'success'\n      case 'approved':\n        return 'primary'\n      default:\n        return 'secondary'\n    }\n  }\n\n  function getStatusText(status: PerformanceReview['status']): string {\n    switch (status) {\n      case 'draft':\n        return 'ÏûÑÏãúÏ†ÄÏû•'\n      case 'in-progress':\n        return 'ÏßÑÌñâÏ§ë'\n      case 'completed':\n        return 'ÏôÑÎ£å'\n      case 'approved':\n        return 'ÏäπÏù∏'\n      default:\n        return status\n    }\n  }\n\n  function getRatingStars(rating: number): string {\n    return '‚òÖ'.repeat(rating) + '‚òÜ'.repeat(5 - rating)\n  }\n\n  onMount(() => {\n    // Ï≤´ Î≤àÏß∏ ÌôúÏÑ± ÏßÅÏõêÏùÑ Í∏∞Î≥∏ ÏÑ†ÌÉù\n    const activeEmployees = getActiveEmployees($employees)\n    if (activeEmployees.length > 0) {\n      selectedEmployeeId = activeEmployees[0].id\n    }\n  })\n</script>\n\n<div class=\"min-h-screen bg-gray-50 p-6\">\n  <div class=\"max-w-7xl mx-auto\">\n    <!-- Ìó§Îçî -->\n    <div class=\"mb-8\">\n      <h1 class=\"text-3xl font-bold text-gray-900\">ÏÑ±Í≥º ÌèâÍ∞Ä</h1>\n      <p class=\"text-gray-600 mt-1\">ÏßÅÏõêÏùò ÏÑ±Í≥º ÌèâÍ∞Ä Î∞è 360ÎèÑ ÌîºÎìúÎ∞±ÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§</p>\n    </div>\n\n    <!-- ÏßÅÏõê ÏÑ†ÌÉù -->\n    <Card class=\"mb-6\">\n      <div class=\"p-6\">\n        <div class=\"flex items-center space-x-4\">\n          <label\n            for=\"employee-select\"\n            class=\"text-sm font-medium text-gray-700\">ÏßÅÏõê ÏÑ†ÌÉù:</label>\n          <select\n            id=\"employee-select\"\n            bind:value={selectedEmployeeId}\n            class=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n            {#each getActiveEmployees($employees) as employee}\n              <option value={employee.id}>{employee.name} ({employee.employeeId})</option>\n            {/each}\n          </select>\n          <label\n            for=\"year-select\"\n            class=\"text-sm font-medium text-gray-700\">ÌèâÍ∞Ä Ïó∞ÎèÑ:</label>\n          <select\n            id=\"year-select\"\n            bind:value={selectedYear}\n            class=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value={2023}>2023</option>\n            <option value={2024}>2024</option>\n          </select>\n        </div>\n      </div>\n    </Card>\n\n    {#if selectedEmployee}\n      <!-- 360ÎèÑ ÌîºÎìúÎ∞± ÏöîÏïΩ -->\n      {#if averageFeedback.overall > 0}\n        <Card class=\"mb-6\">\n          <div class=\"p-6\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">360ÎèÑ ÌîºÎìúÎ∞± ÏöîÏïΩ</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <div class=\"text-center\">\n                <p class=\"text-sm text-gray-600\">Î¶¨ÎçîÏã≠</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{averageFeedback.leadership}</p>\n                <p class=\"text-sm text-yellow-500\">{getRatingStars(averageFeedback.leadership)}</p>\n              </div>\n              <div class=\"text-center\">\n                <p class=\"text-sm text-gray-600\">Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{averageFeedback.communication}</p>\n                <p class=\"text-sm text-yellow-500\">\n                  {getRatingStars(averageFeedback.communication)}\n                </p>\n              </div>\n              <div class=\"text-center\">\n                <p class=\"text-sm text-gray-600\">ÌåÄÏõåÌÅ¨</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{averageFeedback.teamwork}</p>\n                <p class=\"text-sm text-yellow-500\">{getRatingStars(averageFeedback.teamwork)}</p>\n              </div>\n              <div class=\"text-center\">\n                <p class=\"text-sm text-gray-600\">Í∏∞Ïà†Ï†Å Ïó≠Îüâ</p>\n                <p class=\"text-2xl font-bold text-gray-900\">{averageFeedback.technicalSkills}</p>\n                <p class=\"text-sm text-yellow-500\">\n                  {getRatingStars(averageFeedback.technicalSkills)}\n                </p>\n              </div>\n            </div>\n          </div>\n        </Card>\n      {/if}\n\n      <!-- ÏÑ±Í≥º ÌèâÍ∞Ä Î∞è 360ÎèÑ ÌîºÎìúÎ∞± -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n        <!-- ÏÑ±Í≥º ÌèâÍ∞Ä -->\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h3 class=\"text-lg font-semibold text-gray-900\">ÏÑ±Í≥º ÌèâÍ∞Ä</h3>\n              <button type=\"button\"\n                onclick={() => openReviewModal()}\n                class=\"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors\"\n              >\n                ÌèâÍ∞Ä ÏûëÏÑ±\n              </button>\n            </div>\n            <div class=\"space-y-3\">\n              {#each employeeReviews.filter(review => review.reviewPeriod.year === selectedYear) as review}\n                <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-900\">\n                      {review.reviewType === 'annual'\n                        ? 'Ïó∞Í∞Ñ'\n                        : review.reviewType === 'quarterly'\n                        ? 'Î∂ÑÍ∏∞'\n                        : 'ÌîÑÎ°úÏ†ùÌä∏'} ÌèâÍ∞Ä\n                    </p>\n                    <p class=\"text-xs text-gray-500\">\n                      {formatDate(review.reviewPeriod.startDate)} - {formatDate(\n                        review.reviewPeriod.endDate\n                      )}\n                    </p>\n                  </div>\n                  <div class=\"flex items-center space-x-2\">\n                    <Badge variant={getStatusBadgeVariant(review.status)}>\n                      {getStatusText(review.status)}\n                    </Badge>\n                    <div class=\"flex space-x-1\">\n                      <button type=\"button\"\n                        onclick={() => openReviewModal(review)}\n                        class=\"text-blue-600 hover:text-blue-900 text-sm\"\n                      >\n                        Î≥¥Í∏∞\n                      </button>\n                      {#if review.status === 'completed'}\n                        <button type=\"button\"\n                          onclick={() => approveReview(review.id)}\n                          class=\"text-green-600 hover:text-green-900 text-sm\"\n                        >\n                          ÏäπÏù∏\n                        </button>\n                      {:else if review.status === 'draft'}\n                        <button type=\"button\"\n                          onclick={() => completeReview(review.id)}\n                          class=\"text-yellow-600 hover:text-yellow-900 text-sm\"\n                        >\n                          ÏôÑÎ£å\n                        </button>\n                      {/if}\n                    </div>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        </Card>\n\n        <!-- 360ÎèÑ ÌîºÎìúÎ∞± -->\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h3 class=\"text-lg font-semibold text-gray-900\">360ÎèÑ ÌîºÎìúÎ∞±</h3>\n              <button type=\"button\"\n                onclick={openFeedbackModal}\n                class=\"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors\"\n              >\n                ÌîºÎìúÎ∞± ÏûëÏÑ±\n              </button>\n            </div>\n            <div class=\"space-y-3\">\n              {#each employeeFeedback.filter(feedback => new Date(feedback.reviewPeriod.startDate).getFullYear() === selectedYear) as feedback}\n                <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-900\">\n                      {feedback.reviewerType === 'manager'\n                        ? 'ÏÉÅÏÇ¨'\n                        : feedback.reviewerType === 'peer'\n                        ? 'ÎèôÎ£å'\n                        : feedback.reviewerType === 'subordinate'\n                        ? 'Î∂ÄÌïòÏßÅÏõê'\n                        : 'ÏûêÍ∏∞ÌèâÍ∞Ä'}\n                    </p>\n                    <p class=\"text-xs text-gray-500\">\n                      Ï¢ÖÌï©Ï†êÏàò: {feedback.leadership +\n                        feedback.communication +\n                        feedback.teamwork +\n                        feedback.problemSolving +\n                        feedback.initiative +\n                        feedback.adaptability +\n                        feedback.technicalSkills}/35\n                    </p>\n                  </div>\n                  <div class=\"flex items-center space-x-2\">\n                    <Badge variant={feedback.status === 'completed' ? 'success' : 'warning'}>\n                      {feedback.status === 'completed' ? 'ÏôÑÎ£å' : 'ÎåÄÍ∏∞Ï§ë'}\n                    </Badge>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      <!-- Ïó≠Îüâ Îß§Ìä∏Î¶≠Ïä§ Î∞è ÍµêÏú° Ïù¥Ïàò -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <!-- Ïó≠Îüâ Îß§Ìä∏Î¶≠Ïä§ -->\n        <Card>\n          <div class=\"p-6\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Ïó≠Îüâ Îß§Ìä∏Î¶≠Ïä§</h3>\n            <div class=\"space-y-3\">\n              {#each employeeCompetencies as competency, i (i)}\n                <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-900\">{competency.competencyName}</p>\n                    <p class=\"text-xs text-gray-500\">\n                      ÎßàÏßÄÎßâ ÌèâÍ∞Ä: {formatDate(competency.lastAssessed)}\n                    </p>\n                  </div>\n                  <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex\">\n                      {#each Array(5) as _, i}\n                        <div\n                          class=\"w-4 h-4 {i < competency.level\n                            ? 'bg-blue-500'\n                            : 'bg-gray-300'} rounded-full mr-1\"\n                        ></div>\n                      {/each}\n                    </div>\n                    <span class=\"text-sm font-medium text-gray-900\">{competency.level}/5</span>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        </Card>\n\n        <!-- ÍµêÏú° Ïù¥Ïàò -->\n        <Card>\n          <div class=\"p-6\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÍµêÏú° Ïù¥Ïàò ÌòÑÌô©</h3>\n            <div class=\"space-y-3\">\n              {#each employeeTraining.slice(0, 5) as training}\n                <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-900\">{training.title}</p>\n                    <p class=\"text-xs text-gray-500\">\n                      {training.provider} ‚Ä¢ {training.duration}ÏãúÍ∞Ñ\n                    </p>\n                  </div>\n                  <div class=\"flex items-center space-x-2\">\n                    <Badge\n                      variant={training.status === 'completed'\n                        ? 'success'\n                        : training.status === 'in-progress'\n                        ? 'warning'\n                        : 'secondary'}\n                    >\n                      {training.status === 'completed'\n                        ? 'ÏôÑÎ£å'\n                        : training.status === 'in-progress'\n                        ? 'ÏßÑÌñâÏ§ë'\n                        : 'ÏòàÏ†ï'}\n                    </Badge>\n                    {#if training.score}\n                      <span class=\"text-sm font-medium text-gray-900\">{training.score}Ï†ê</span>\n                    {/if}\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        </Card>\n      </div>\n    {:else}\n      <Card>\n        <div class=\"p-12 text-center\">\n          <svg\n            class=\"w-16 h-16 text-gray-400 mx-auto mb-4\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n            />\n          </svg>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</h3>\n          <p class=\"text-gray-500\">ÏÑ±Í≥º ÌèâÍ∞ÄÎ•º ÏúÑÌï¥ ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.</p>\n        </div>\n      </Card>\n    {/if}\n\n    <!-- ÏÑ±Í≥º ÌèâÍ∞Ä ÏûëÏÑ±/ÏàòÏ†ï Î™®Îã¨ -->\n    <Modal bind:open={isReviewModalOpen}>\n      <div class=\"p-6 max-w-4xl\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">\n          {selectedReview ? 'ÏÑ±Í≥º ÌèâÍ∞Ä ÏàòÏ†ï' : 'ÏÑ±Í≥º ÌèâÍ∞Ä ÏûëÏÑ±'}\n        </h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleReviewSubmit()\n          }}\n        >\n          <div class=\"space-y-6\">\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label\n                  for=\"review-type\"\n                  class=\"block text-sm font-medium text-gray-700 mb-1\"\n                >ÌèâÍ∞Ä Ïú†Ìòï *</label\n                >\n                <select\n                  id=\"review-type\"\n                  bind:value={reviewForm.reviewType}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"annual\">Ïó∞Í∞Ñ ÌèâÍ∞Ä</option>\n                  <option value=\"quarterly\">Î∂ÑÍ∏∞ ÌèâÍ∞Ä</option>\n                  <option value=\"probation\">ÏàòÏäµ ÌèâÍ∞Ä</option>\n                  <option value=\"project\">ÌîÑÎ°úÏ†ùÌä∏ ÌèâÍ∞Ä</option>\n                </select>\n              </div>\n              <div>\n                <label\n                  for=\"overall-rating\"\n                  class=\"block text-sm font-medium text-gray-700 mb-1\"\n                >Ï¢ÖÌï© ÌèâÍ∞Ä Ï†êÏàò *</label\n                >\n                <select\n                  id=\"overall-rating\"\n                  bind:value={reviewForm.overallRating}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value={1}>1Ï†ê (Îß§Ïö∞ ÎØ∏Ìù°)</option>\n                  <option value={2}>2Ï†ê (ÎØ∏Ìù°)</option>\n                  <option value={3}>3Ï†ê (Î≥¥ÌÜµ)</option>\n                  <option value={4}>4Ï†ê (Ïö∞Ïàò)</option>\n                  <option value={5}>5Ï†ê (Îß§Ïö∞ Ïö∞Ïàò)</option>\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label\n                for=\"strengths\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Í∞ïÏ†ê</label\n              >\n              <div class=\"space-y-2\">\n                {#each reviewForm.strengths as strength, index, i (i)}\n                  <div class=\"flex space-x-2\">\n                    <input\n                      id=\"strengths-{index}\"\n                      type=\"text\"\n                      bind:value={reviewForm.strengths[index]}\n                      class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    <button\n                      type=\"button\"\n                      onclick={() => reviewForm.strengths.splice(index, 1)}\n                      class=\"px-3 py-2 text-red-600 hover:text-red-900\"\n                    >\n                      ÏÇ≠Ï†ú\n                    </button>\n                  </div>\n                {/each}\n                <button\n                  type=\"button\"\n                  onclick={() => reviewForm.strengths.push('')}\n                  class=\"text-blue-600 hover:text-blue-900 text-sm\"\n                >\n                  + Í∞ïÏ†ê Ï∂îÍ∞Ä\n                </button>\n              </div>\n            </div>\n\n            <div>\n              <label\n                for=\"improvement-areas\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Í∞úÏÑ† ÏòÅÏó≠</label\n              >\n              <div class=\"space-y-2\">\n                {#each reviewForm.improvementAreas as area, index, i (i)}\n                  <div class=\"flex space-x-2\">\n                    <input\n                      id=\"improvement-areas-{index}\"\n                      type=\"text\"\n                      bind:value={reviewForm.improvementAreas[index]}\n                      class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    <button\n                      type=\"button\"\n                      onclick={() => reviewForm.improvementAreas.splice(index, 1)}\n                      class=\"px-3 py-2 text-red-600 hover:text-red-900\"\n                    >\n                      ÏÇ≠Ï†ú\n                    </button>\n                  </div>\n                {/each}\n                <button\n                  type=\"button\"\n                  onclick={() => reviewForm.improvementAreas.push('')}\n                  class=\"text-blue-600 hover:text-blue-900 text-sm\"\n                >\n                  + Í∞úÏÑ† ÏòÅÏó≠ Ï∂îÍ∞Ä\n                </button>\n              </div>\n            </div>\n\n            <div>\n              <label\n                for=\"development-plan\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Í∞úÎ∞ú Í≥ÑÌöç</label\n              >\n              <textarea\n                id=\"development-plan\"\n                bind:value={reviewForm.developmentPlan}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Í∞úÎ∞ú Í≥ÑÌöçÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label\n                for=\"career-goals\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Í≤ΩÎ†• Î™©Ìëú</label\n              >\n              <textarea\n                id=\"career-goals\"\n                bind:value={reviewForm.careerGoals}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Í≤ΩÎ†• Î™©ÌëúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n\n            <div class=\"space-y-3\">\n              <label class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  bind:checked={reviewForm.promotionRecommendation}\n                  class=\"mr-2\"\n                />\n                <span class=\"text-sm text-gray-700\">ÏäπÏßÑ Ï∂îÏ≤ú</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  bind:checked={reviewForm.salaryIncreaseRecommendation}\n                  class=\"mr-2\"\n                />\n                <span class=\"text-sm text-gray-700\">Í∏âÏó¨ Ïù∏ÏÉÅ Ï∂îÏ≤ú</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  bind:checked={reviewForm.bonusRecommendation}\n                  class=\"mr-2\" />\n                <span class=\"text-sm text-gray-700\">Î≥¥ÎÑàÏä§ Ï∂îÏ≤ú</span>\n              </label>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3 mt-6\">\n            <button\n              type=\"button\"\n              onclick={() => (isReviewModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              {selectedReview ? 'ÏàòÏ†ï' : 'Ï†ÄÏû•'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n\n    <!-- 360ÎèÑ ÌîºÎìúÎ∞± Î™®Îã¨ -->\n    <Modal bind:open={isFeedbackModalOpen}>\n      <div class=\"p-6 max-w-2xl\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">360ÎèÑ ÌîºÎìúÎ∞± ÏûëÏÑ±</h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleFeedbackSubmit()\n          }}\n        >\n          <div class=\"space-y-6\">\n            <div>\n              <label\n                for=\"reviewer-type\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌèâÍ∞ÄÏûê Ïú†Ìòï *</label\n              >\n              <select\n                id=\"reviewer-type\"\n                bind:value={feedbackForm.reviewerType}\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"manager\">ÏÉÅÏÇ¨</option>\n                <option value=\"peer\">ÎèôÎ£å</option>\n                <option value=\"subordinate\">Î∂ÄÌïòÏßÅÏõê</option>\n                <option value=\"self\">ÏûêÍ∏∞ÌèâÍ∞Ä</option>\n              </select>\n            </div>\n\n            <div class=\"space-y-4\">\n              <h4 class=\"text-md font-medium text-gray-900\">Ïó≠Îüâ ÌèâÍ∞Ä (1-5Ï†ê)</h4>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label\n                    for=\"leadership\"\n                    class=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >Î¶¨ÎçîÏã≠</label\n                  >\n                  <select\n                    id=\"leadership\"\n                    bind:value={feedbackForm.leadership}\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value={1}>1Ï†ê</option>\n                    <option value={2}>2Ï†ê</option>\n                    <option value={3}>3Ï†ê</option>\n                    <option value={4}>4Ï†ê</option>\n                    <option value={5}>5Ï†ê</option>\n                  </select>\n                </div>\n                <div>\n                  <label\n                    for=\"communication\"\n                    class=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò</label\n                  >\n                  <select\n                    id=\"communication\"\n                    bind:value={feedbackForm.communication}\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value={1}>1Ï†ê</option>\n                    <option value={2}>2Ï†ê</option>\n                    <option value={3}>3Ï†ê</option>\n                    <option value={4}>4Ï†ê</option>\n                    <option value={5}>5Ï†ê</option>\n                  </select>\n                </div>\n                <div>\n                  <label\n                    for=\"teamwork\"\n                    class=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >ÌåÄÏõåÌÅ¨</label\n                  >\n                  <select\n                    id=\"teamwork\"\n                    bind:value={feedbackForm.teamwork}\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value={1}>1Ï†ê</option>\n                    <option value={2}>2Ï†ê</option>\n                    <option value={3}>3Ï†ê</option>\n                    <option value={4}>4Ï†ê</option>\n                    <option value={5}>5Ï†ê</option>\n                  </select>\n                </div>\n                <div>\n                  <label\n                    for=\"problem-solving\"\n                    class=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >Î¨∏Ï†ú Ìï¥Í≤∞</label\n                  >\n                  <select\n                    id=\"problem-solving\"\n                    bind:value={feedbackForm.problemSolving}\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value={1}>1Ï†ê</option>\n                    <option value={2}>2Ï†ê</option>\n                    <option value={3}>3Ï†ê</option>\n                    <option value={4}>4Ï†ê</option>\n                    <option value={5}>5Ï†ê</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <label\n                for=\"feedback-strengths\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Í∞ïÏ†ê</label\n              >\n              <textarea\n                id=\"feedback-strengths\"\n                bind:value={feedbackForm.strengths}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Í∞ïÏ†êÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label\n                for=\"feedback-improvement\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Í∞úÏÑ† ÏòÅÏó≠</label\n              >\n              <textarea\n                id=\"feedback-improvement\"\n                bind:value={feedbackForm.improvementAreas}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Í∞úÏÑ†Ïù¥ ÌïÑÏöîÌïú ÏòÅÏó≠ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label\n                for=\"recommendations\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >Ï∂îÏ≤úÏÇ¨Ìï≠</label\n              >\n              <textarea\n                id=\"recommendations\"\n                bind:value={feedbackForm.recommendations}\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Ï∂îÏ≤úÏÇ¨Ìï≠ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  bind:checked={feedbackForm.isAnonymous}\n                  class=\"mr-2\" />\n                <span class=\"text-sm text-gray-700\">ÏùµÎ™ÖÏúºÎ°ú Ï†úÏ∂ú</span>\n              </label>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3 mt-6\">\n            <button\n              type=\"button\"\n              onclick={() => (isFeedbackModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n            >\n              Ï†úÏ∂ú\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/hr/recruitment/+page.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 361,
        "column": 72
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { formatDate } from '$lib/utils/format'\n\n  import {\n    jobPostings,\n    candidates,\n    addJobPosting,\n    updateJobPosting,\n    publishJobPosting,\n    closeJobPosting,\n    getRecruitmentStats,\n    type JobPosting,\n    type Candidate\n  } from '$lib/stores/recruitment'\n\n  // Î™®Îã¨ ÏÉÅÌÉú\n  let isJobPostingModalOpen = $state(false)\n  let isCandidateModalOpen = $state(false)\n  let isInterviewModalOpen = $state(false)\n  let selectedJobPosting = $state<JobPosting | null>(null)\n  let selectedCandidate = $state<Candidate | null>(null)\n\n  // ÌïÑÌÑ∞\n  let statusFilter = $state('')\n  let departmentFilter = $state('')\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let jobPostingForm = $state({\n    title: '',\n    department: '',\n    position: '',\n    level: '',\n    employmentType: 'full-time' as JobPosting['employmentType'],\n    location: '',\n    description: '',\n    requirements: [''],\n    preferredQualifications: [''],\n    benefits: [''],\n    salaryRange: { min: 0, max: 0, currency: 'KRW' },\n    applicationDeadline: ''\n  })\n\n  let candidateForm = $state({\n    jobPostingId: '',\n    personalInfo: {\n      name: '',\n      email: '',\n      phone: '',\n      address: '',\n      birthDate: '',\n      gender: 'male' as Candidate['personalInfo']['gender']\n    },\n    education: [{ degree: '', school: '', major: '', graduationYear: new Date().getFullYear() }],\n    experience: [{ company: '', position: '', startDate: '', endDate: '', description: '' }],\n    skills: [''],\n    languages: [\n      { language: '', proficiency: 'intermediate' as Candidate['languages'][0]['proficiency'] }\n    ]\n  })\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Ï±ÑÏö© Í≥µÍ≥†\n  let filteredJobPostings = $derived(() => {\n    let filtered = $jobPostings\n    if (statusFilter) filtered = filtered.filter(job => job.status === statusFilter)\n    if (departmentFilter) filtered = filtered.filter(job => job.department === departmentFilter)\n    return filtered\n  })\n\n  // Ìï®ÏàòÎì§\n  function openJobPostingModal(jobPosting?: JobPosting) {\n    if (jobPosting) {\n      selectedJobPosting = jobPosting\n      jobPostingForm = {\n        title: jobPosting.title,\n        department: jobPosting.department,\n        position: jobPosting.position,\n        level: jobPosting.level,\n        employmentType: jobPosting.employmentType,\n        location: jobPosting.location,\n        description: jobPosting.description,\n        requirements: jobPosting.requirements,\n        preferredQualifications: jobPosting.preferredQualifications,\n        benefits: jobPosting.benefits,\n        salaryRange: jobPosting.salaryRange,\n        applicationDeadline: jobPosting.applicationDeadline\n      }\n    } else {\n      selectedJobPosting = null\n      jobPostingForm = {\n        title: '',\n        department: '',\n        position: '',\n        level: '',\n        employmentType: 'full-time',\n        location: '',\n        description: '',\n        requirements: [''],\n        preferredQualifications: [''],\n        benefits: [''],\n        salaryRange: { min: 0, max: 0, currency: 'KRW' },\n        applicationDeadline: ''\n      }\n    }\n    isJobPostingModalOpen = true\n  }\n\n  function handleJobPostingSubmit() {\n    if (selectedJobPosting) {\n      updateJobPosting(selectedJobPosting.id, jobPostingForm)\n    } else {\n      addJobPosting({\n        ...jobPostingForm,\n        status: 'draft',\n        postedBy: 'current-user'\n      })\n    }\n    isJobPostingModalOpen = false\n  }\n\n  function publishJob(jobId: string) {\n    publishJobPosting(jobId)\n    alert('Ï±ÑÏö© Í≥µÍ≥†Í∞Ä Í≤åÏãúÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function closeJob(jobId: string) {\n    closeJobPosting(jobId)\n    alert('Ï±ÑÏö© Í≥µÍ≥†Í∞Ä ÎßàÍ∞êÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  function getStatusBadgeVariant(\n    status: JobPosting['status']\n  ): 'secondary' | 'success' | 'danger' | 'warning' {\n    switch (status) {\n      case 'draft':\n        return 'secondary'\n      case 'published':\n        return 'success'\n      case 'closed':\n        return 'danger'\n      case 'cancelled':\n        return 'warning'\n      default:\n        return 'secondary'\n    }\n  }\n\n  function getStatusText(status: JobPosting['status']): string {\n    switch (status) {\n      case 'draft':\n        return 'ÏûÑÏãúÏ†ÄÏû•'\n      case 'published':\n        return 'Í≤åÏãúÏ§ë'\n      case 'closed':\n        return 'ÎßàÍ∞ê'\n      case 'cancelled':\n        return 'Ï∑®ÏÜå'\n      default:\n        return status\n    }\n  }\n\n  onMount(() => {\n  // Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  })\n</script>\n\n<div class=\"min-h-screen bg-gray-50 p-6\">\n  <div class=\"max-w-7xl mx-auto\">\n    <!-- Ìó§Îçî -->\n    <div class=\"flex justify-between items-center mb-8\">\n      <div>\n        <h1 class=\"text-3xl font-bold text-gray-900\">Ï±ÑÏö© Í¥ÄÎ¶¨</h1>\n        <p class=\"text-gray-600 mt-1\">Ï±ÑÏö© Í≥µÍ≥† Î∞è ÏßÄÏõêÏûê Í¥ÄÎ¶¨Î•º Ìï©ÎãàÎã§</p>\n      </div>\n      <button type=\"button\"\n        onclick={() => openJobPostingModal()}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n      >\n        Ï±ÑÏö© Í≥µÍ≥† ÏûëÏÑ±\n      </button>\n    </div>\n\n    <!-- ÌïÑÌÑ∞ -->\n    <Card class=\"mb-6\">\n      <div class=\"p-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">ÏÉÅÌÉú</label>\n            <select\n              bind:value={statusFilter}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>\n              <option value=\"draft\">ÏûÑÏãúÏ†ÄÏû•</option>\n              <option value=\"published\">Í≤åÏãúÏ§ë</option>\n              <option value=\"closed\">ÎßàÍ∞ê</option>\n              <option value=\"cancelled\">Ï∑®ÏÜå</option>\n            </select>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Î∂ÄÏÑú</label>\n            <select\n              bind:value={departmentFilter}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>\n              <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n              <option value=\"Í∞úÎ∞úÌåÄ\">Í∞úÎ∞úÌåÄ</option>\n              <option value=\"ÎßàÏºÄÌåÖÌåÄ\">ÎßàÏºÄÌåÖÌåÄ</option>\n              <option value=\"ÏòÅÏóÖÌåÄ\">ÏòÅÏóÖÌåÄ</option>\n              <option value=\"Ïù∏ÏÇ¨ÌåÄ\">Ïù∏ÏÇ¨ÌåÄ</option>\n            </select>\n          </div>\n          <div class=\"flex items-end\">\n            <button type=\"button\"\n              onclick={() => {\n                statusFilter = ''\n                departmentFilter = ''\n              }}\n              class=\"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï¥àÍ∏∞Ìôî\n            </button>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <!-- Ï±ÑÏö© Í≥µÍ≥† Î™©Î°ù -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n      {#each filteredJobPostings() as jobPosting}\n        <Card>\n          <div class=\"p-6\">\n            <div class=\"flex justify-between items-start mb-4\">\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-900\">{jobPosting.title}</h3>\n                <p class=\"text-sm text-gray-600\">{jobPosting.department} ‚Ä¢ {jobPosting.position}</p>\n              </div>\n              <Badge variant={getStatusBadgeVariant(jobPosting.status)}>\n                {getStatusText(jobPosting.status)}\n              </Badge>\n            </div>\n\n            <div class=\"space-y-2 mb-4\">\n              <p class=\"text-sm text-gray-600\">\n                <strong>Í∏âÏó¨:</strong>\n                {jobPosting.salaryRange.min.toLocaleString()}Ïõê - {jobPosting.salaryRange.max.toLocaleString()}Ïõê\n              </p>\n              <p class=\"text-sm text-gray-600\">\n                <strong>ÏúÑÏπò:</strong>\n                {jobPosting.location}\n              </p>\n              <p class=\"text-sm text-gray-600\">\n                <strong>ÎßàÍ∞êÏùº:</strong>\n                {formatDate(jobPosting.applicationDeadline)}\n              </p>\n            </div>\n\n            <div class=\"flex justify-between items-center\">\n              <div class=\"text-sm text-gray-500\">\n                ÏßÄÏõêÏûê: {getRecruitmentStats(jobPosting.id, $candidates).totalApplications}Î™Ö\n              </div>\n              <div class=\"flex space-x-2\">\n                <button type=\"button\"\n                  onclick={() => openJobPostingModal(jobPosting)}\n                  class=\"text-blue-600 hover:text-blue-900 text-sm\"\n                >\n                  ÏàòÏ†ï\n                </button>\n                {#if jobPosting.status === 'draft'}\n                  <button type=\"button\"\n                    onclick={() => publishJob(jobPosting.id)}\n                    class=\"text-green-600 hover:text-green-900 text-sm\"\n                  >\n                    Í≤åÏãú\n                  </button>\n                {:else if jobPosting.status === 'published'}\n                  <button type=\"button\"\n                    onclick={() => closeJob(jobPosting.id)}\n                    class=\"text-red-600 hover:text-red-900 text-sm\"\n                  >\n                    ÎßàÍ∞ê\n                  </button>\n                {/if}\n              </div>\n            </div>\n          </div>\n        </Card>\n      {/each}\n    </div>\n\n    <!-- Ï±ÑÏö© Í≥µÍ≥† ÏûëÏÑ±/ÏàòÏ†ï Î™®Îã¨ -->\n    <Modal bind:open={isJobPostingModalOpen}>\n      <div class=\"p-6 max-w-4xl\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">\n          {selectedJobPosting ? 'Ï±ÑÏö© Í≥µÍ≥† ÏàòÏ†ï' : 'Ï±ÑÏö© Í≥µÍ≥† ÏûëÏÑ±'}\n        </h3>\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            handleJobPostingSubmit()\n          }}\n        >\n          <div class=\"space-y-6\">\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ï†úÎ™© *</label>\n                <input\n                  type=\"text\"\n                  bind:value={jobPostingForm.title}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Î∂ÄÏÑú *</label>\n                <input\n                  type=\"text\"\n                  bind:value={jobPostingForm.department}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏßÅÍ∏â *</label>\n                <input\n                  type=\"text\"\n                  bind:value={jobPostingForm.position}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Î†àÎ≤® *</label>\n                <input\n                  type=\"text\"\n                  bind:value={jobPostingForm.level}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏßÅÎ¨¥ ÏÑ§Î™Ö *</label>\n              <textarea\n                bind:value={jobPostingForm.description}\n                required\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÌïÑÏàò ÏöîÍµ¨ÏÇ¨Ìï≠</label>\n              <div class=\"space-y-2\">\n                {#each jobPostingForm.requirements as requirement, index, i (i)}\n                  <div class=\"flex space-x-2\">\n                    <input\n                      type=\"text\"\n                      bind:value={jobPostingForm.requirements[index]}\n                      class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    <button\n                      type=\"button\"\n                      onclick={() => jobPostingForm.requirements.splice(index, 1)}\n                      class=\"px-3 py-2 text-red-600 hover:text-red-900\"\n                    >\n                      ÏÇ≠Ï†ú\n                    </button>\n                  </div>\n                {/each}\n                <button\n                  type=\"button\"\n                  onclick={() => jobPostingForm.requirements.push('')}\n                  class=\"text-blue-600 hover:text-blue-900 text-sm\"\n                >\n                  + ÏöîÍµ¨ÏÇ¨Ìï≠ Ï∂îÍ∞Ä\n                </button>\n              </div>\n            </div>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏµúÏÜå Í∏âÏó¨ *</label>\n                <input\n                  type=\"number\"\n                  bind:value={jobPostingForm.salaryRange.min}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏµúÎåÄ Í∏âÏó¨ *</label>\n                <input\n                  type=\"number\"\n                  bind:value={jobPostingForm.salaryRange.max}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏúÑÏπò *</label>\n                <input\n                  type=\"text\"\n                  bind:value={jobPostingForm.location}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏßÄÏõê ÎßàÍ∞êÏùº *</label>\n                <input\n                  type=\"date\"\n                  bind:value={jobPostingForm.applicationDeadline}\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end space-x-3 mt-6\">\n            <button\n              type=\"button\"\n              onclick={() => (isJobPostingModalOpen = false)}\n              class=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Ï∑®ÏÜå\n            </button>\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              {selectedJobPosting ? 'ÏàòÏ†ï' : 'Ï†ÄÏû•'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/personnel/+page.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalCount' is assigned a value but never used.",
        "line": 75,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 75,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'activeCount' is assigned a value but never used.",
        "line": 76,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 174,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 176,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 174,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 174,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [6120, 6121], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { formatKRW } from '$lib/utils/format'\n  import { personnelStore } from '$lib/stores/personnel'\n  import { quarterlyPersonnelBudgets, budgetThresholds } from '$lib/stores/rnd'\n  import { page } from '$app/state'\n  import { goto } from '$app/navigation'\n  import type { Personnel, Participation } from '$lib/types'\n  let quarter = $state('2025-Q3')\n  let selectedId = $state<string | null>(null)\n  let query = $state('')\n  let orgFilter = $state('')\n  let statusFilter = $state('') as '' | 'Ïû¨ÏßÅ' | 'Ïã†Í∑ú' | 'Ìá¥ÏÇ¨ÏòàÏ†ï'\n  let lastQuery = $state('')\n\n  function personQuarterCost(p: Personnel): number {\n    // Ïö∞ÏÑ† ÏàúÏúÑ: Ï∞∏Ïó¨ Ìï≠Î™©Î≥Ñ quarterlyBreakdown ‚Üí Ïó∞Î¥â Í∏∞Î∞ò Ï∂îÏ†ïÏπò(Î∂ÑÍ∏∞)\n    const breakdownSum = p.participations.reduce<number>(\n      (sum: number, pp: Participation) => sum + (pp.quarterlyBreakdown?.[quarter] ?? 0),\n      0\n    )\n    if (breakdownSum > 0) return breakdownSum\n    // fallback: Ïó∞Î¥â * Ï∞∏Ïó¨Ïú® / 4\n    const est =\n      ((p.annualSalaryKRW ?? 0) *\n        (p.participations.reduce((s, pp) => s + pp.allocationPct, 0) / 100)) /\n        4\n    return Math.round(est)\n  }\n  function personQuarterBudget(p: Personnel): number {\n    const map = $quarterlyPersonnelBudgets\n    return p.participations.reduce<number>(\n      (sum: number, pp: Participation) =>\n        sum + (map[pp.projectId]?.[quarter] ?? 0) * (pp.allocationPct / 100),\n      0\n    )\n  }\n\n  // available quarters\n  const quarters = $derived(\n    Array.from(\n      new Set(Object.values($quarterlyPersonnelBudgets).flatMap(m => Object.keys(m)))\n    ).sort()\n  )\n\n  // read initial quarter from URL if present\n  if (typeof window !== 'undefined') {\n    const params = new URLSearchParams(window.location.search)\n    const urlQuarter = params.get('q')\n    if (urlQuarter) {\n      quarter = urlQuarter\n    }\n    lastQuery = params.toString()\n  }\n\n  const projectId = page.url.searchParams.get('projectId')\n  const all = $derived($personnelStore)\n  const filtered = $derived(\n    all.filter(p => {\n      const matchQuery = query\n        ? p.name.includes(query) || p.id.includes(query) || p.organization.includes(query)\n        : true\n      const matchProject = projectId\n        ? p.participations.some(pp => pp.projectId === projectId)\n        : true\n      const matchOrg = orgFilter ? p.organization === orgFilter : true\n      const matchStatus = statusFilter ? p.status === statusFilter : true\n      return matchQuery && matchProject && matchOrg && matchStatus\n    })\n  )\n  const selected = $derived(all.find(p => p.id === selectedId))\n  const orgOptions = $derived(Array.from(new Set(all.map(p => p.organization))))\n  const totalCount = $derived(all.length)\n  const activeCount = $derived(all.filter(p => p.status === 'Ïû¨ÏßÅ').length)\n\n  // KPI summary for selected quarter and current filter\n  const kpiTotalCost = $derived(filtered.reduce((s, p) => s + personQuarterCost(p), 0))\n  const kpiTotalBudget = $derived(filtered.reduce((s, p) => s + personQuarterBudget(p), 0))\n  const kpiUtil = $derived(\n    kpiTotalBudget > 0 ? Math.round((kpiTotalCost / kpiTotalBudget) * 100) : 0\n  )\n  const overCount = $derived(\n    filtered.filter(p => {\n      const b = personQuarterBudget(p)\n      return b > 0 && personQuarterCost(p) / b >= budgetThresholds.critical\n    }).length\n  )\n\n  // URL sync for quarter only (q)\n  $effect(() => {\n    if (typeof window !== 'undefined') {\n      const params = new URLSearchParams(window.location.search)\n      if (quarter) params.set('q', quarter)\n      else params.delete('q')\n      const newQuery = params.toString()\n      if (newQuery !== lastQuery) {\n        lastQuery = newQuery\n        goto(`${window.location.pathname}${newQuery ? `?${newQuery}` : ''}`, {\n          replaceState: true,\n          keepFocus: true,\n          noScroll: true\n        })\n      }\n    }\n  })\n\n  // skeleton loading for table\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<Card header=\"Ïù∏Î†• ÎπÑÏö© Í¥ÄÎ¶¨\">\n  <div class=\"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center\">\n    <input\n      class=\"w-full sm:w-64 rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\n      placeholder=\"Í≤ÄÏÉâ (Ïù¥Î¶Ñ/ÏÇ¨Î≤à/Î∂ÄÏÑú)\"\n      bind:value={query}\n    />\n    <select\n      class=\"w-full sm:w-48 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={orgFilter}\n    >\n      <option value=\"\">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>\n      {#each orgOptions as o, i (i)}\n        <option value={o}>{o}</option>\n      {/each}\n    </select>\n    <select\n      class=\"w-full sm:w-48 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={statusFilter}\n    >\n      <option value=\"\">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>\n      <option value=\"Ïû¨ÏßÅ\">Ïû¨ÏßÅ</option>\n      <option value=\"Ïã†Í∑ú\">Ïã†Í∑ú</option>\n      <option value=\"Ìá¥ÏÇ¨ÏòàÏ†ï\">Ìá¥ÏÇ¨ÏòàÏ†ï</option>\n    </select>\n    <select\n      class=\"w-full sm:w-40 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={quarter}\n    >\n      {#each quarters as q, i (i)}\n        <option value={q}>{q}</option>\n      {/each}\n    </select>\n    {#if projectId}\n      <Badge color=\"blue\">ÌîÑÎ°úÏ†ùÌä∏ ÌïÑÌÑ∞: {projectId}</Badge>\n    {/if}\n  </div>\n  <div class=\"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3\">\n    <div class=\"card\">\n      <div class=\"text-caption\">Î∂ÑÍ∏∞ Ïù∏Í±¥ÎπÑ Ìï©Í≥Ñ</div>\n      <div class=\"text-lg font-semibold\">{kpiTotalCost.toLocaleString()}Ïõê</div>\n    </div>\n    <div class=\"card\">\n      <div class=\"text-caption\">Î∂ÑÍ∏∞ ÏòàÏÇ∞ Ìï©Í≥Ñ</div>\n      <div class=\"text-lg font-semibold\">{kpiTotalBudget.toLocaleString()}Ïõê</div>\n    </div>\n    <div class=\"card\">\n      <div class=\"text-caption\">ÏòàÏÇ∞ ÎåÄÎπÑ ÏßëÌñâÎ•†</div>\n      <div class=\"text-lg font-semibold\">{kpiUtil}%</div>\n    </div>\n  </div>\n  <div class=\"text-caption mb-2\">\n    ÏûÑÍ≥ÑÏπò {Math.round(budgetThresholds.warning * 100)}%/{Math.round(\n      budgetThresholds.critical * 100\n    )}% Í∏∞Ï§Ä, ÏúÑÌóò Ïù∏Ïõê {overCount}Î™Ö\n  </div>\n  {#if loading}\n    <div class=\"space-y-2\">\n      {#each Array(8) as _}\n        <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n      {/each}\n    </div>\n  {:else}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">ÏÇ¨Î≤à</th>\n            <th class=\"px-3 py-2\">Ïù¥Î¶Ñ</th>\n            <th class=\"px-3 py-2\">Î∂ÄÏÑú</th>\n            <th class=\"px-3 py-2\">ÏßÅÍ∏â</th>\n            <th class=\"px-3 py-2\">Ïó∞Î¥â</th>\n            <th class=\"px-3 py-2\">ÌîÑÎ°úÏ†ùÌä∏</th>\n            <th class=\"px-3 py-2\">{quarter} Ïù∏Í±¥ÎπÑ</th>\n            <th class=\"px-3 py-2\">ÏòàÏÇ∞ÎåÄÎπÑ</th>\n            <th class=\"px-3 py-2\">ÏÉÅÌÉú</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each filtered as p, i (i)}\n            <tr\n              class=\"hover:bg-gray-50 cursor-pointer\"\n              onclick={() => (selectedId = p.id)}>\n              <td class=\"px-3 py-2\">{p.id}</td>\n              <td class=\"px-3 py-2\">{p.name}</td>\n              <td class=\"px-3 py-2\">{p.organization}</td>\n              <td class=\"px-3 py-2\">{p.role}</td>\n              <td class=\"px-3 py-2\">{p.annualSalaryKRW ? formatKRW(p.annualSalaryKRW) : '-'}</td>\n              <td class=\"px-3 py-2\">{p.participations.length}Í±¥</td>\n              <td class=\"px-3 py-2\">{formatKRW(personQuarterCost(p))}</td>\n              <td class=\"px-3 py-2\">\n                {#if personQuarterBudget(p) > 0}\n                  {@const util = personQuarterCost(p) / personQuarterBudget(p)}\n                  <Badge\n                    color={util >= budgetThresholds.over\n                      ? 'red'\n                      : util >= budgetThresholds.critical\n                      ? 'yellow'\n                      : util >= budgetThresholds.warning\n                      ? 'yellow'\n                      : 'green'}>{Math.round(util * 100)}%</Badge\n                  >\n                {:else}\n                  -\n                {/if}\n              </td>\n              <td class=\"px-3 py-2\"\n              ><Badge color={p.status === 'Ìá¥ÏÇ¨ÏòàÏ†ï' ? 'yellow' : 'green'}>{p.status}</Badge></td\n              >\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/if}\n</Card>\n\n<Modal\n  open={!!selected}\n  title={selected?.name ?? ''}\n  onClose={() => (selectedId = null)}>\n  {#if selected}\n    <div class=\"space-y-3 text-sm\">\n      <div class=\"grid grid-cols-2 gap-3\">\n        <div>\n          <div class=\"text-caption\">ÏÇ¨Î≤à</div>\n          <div class=\"font-semibold\">{selected.id}</div>\n        </div>\n        <div>\n          <div class=\"text-caption\">Î∂ÄÏÑú/ÏßÅÍ∏â</div>\n          <div class=\"font-semibold\">{selected.organization} ¬∑ {selected.role}</div>\n        </div>\n        <div>\n          <div class=\"text-caption\">Ïó∞Î¥â</div>\n          <div class=\"font-semibold\">\n            {selected.annualSalaryKRW ? formatKRW(selected.annualSalaryKRW) : '-'}\n          </div>\n        </div>\n      </div>\n      <div>\n        <div class=\"text-caption mb-1\">ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨</div>\n        <ul class=\"list-disc pl-5 space-y-1\">\n          {#each selected.participations as pp, i (i)}\n            <li>\n              {pp.projectId} ¬∑ {pp.allocationPct}% ¬∑ {pp.startDate}{pp.endDate\n                ? ` ~ ${pp.endDate}`\n                : ''}\n            </li>\n          {/each}\n        </ul>\n      </div>\n    </div>\n  {/if}\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-redeclare",
        "severity": 2,
        "message": "'fetch' is already defined as a built-in global variable.",
        "line": 3,
        "column": 13,
        "nodeType": "Block",
        "messageId": "redeclaredAsBuiltin",
        "endLine": 3,
        "endColumn": 18
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 126,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 126,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 162,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 162,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 169,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 169,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 173,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 173,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 181,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 181,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 188,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 188,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 204,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 204,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 206,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 206,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 290,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 290,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 307,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 307,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 12,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  /* global fetch */\n  import { goto } from '$app/navigation'\n  import { page } from '$app/stores'\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import ParticipationCard from '$lib/components/project-management/ParticipationCard.svelte'\n  import ProjectCreationForm from '$lib/components/project-management/ProjectCreationForm.svelte'\n  import ProjectListCard from '$lib/components/project-management/ProjectListCard.svelte'\n  import ProjectOverviewCard from '$lib/components/project-management/ProjectOverviewCard.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import { BarChart3Icon, FlaskConicalIcon, PercentIcon } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  /**\n   * @typedef {Object} Project\n   * @property {string} id\n   * @property {string} title\n   * @property {string} code\n   * @property {string} [description]\n   * @property {string} [startDate]\n   * @property {string} [endDate]\n   * @property {'planning' | 'active' | 'completed'} status\n   * @property {'internal' | 'government' | 'private' | 'international'} [sponsorType]\n   * @property {'low' | 'medium' | 'high' | 'critical'} [priority]\n   * @property {'basic' | 'applied' | 'development'} [researchType]\n   * @property {string} [updatedAt]\n   */\n\n  /**\n   * @typedef {Object} ProjectSummary\n   * @property {number} totalProjects\n   * @property {number} activeProjects\n   * @property {number} totalBudget\n   * @property {number} currentYearBudget\n   * @property {number} totalMembers\n   * @property {number} activeMembers\n   * @property {number} overParticipationEmployees\n   * @property {Array<{title: string, code: string, status: string, updatedAt: string}>} [recentActivities]\n   */\n\n  /**\n   * @typedef {Object} EmployeeParticipation\n   * @property {string} name\n   * @property {string} email\n   * @property {string} department\n   * @property {number} activeProjects\n   * @property {number} totalParticipationRate\n   */\n\n  // ÌÉ≠ Ï†ïÏùò\n  const tabs = [\n    {\n      id: 'overview',\n      label: 'Í∞úÏöî',\n      icon: BarChart3Icon\n    },\n    {\n      id: 'projects',\n      label: 'ÌîÑÎ°úÏ†ùÌä∏',\n      icon: FlaskConicalIcon\n    },\n    {\n      id: 'participation',\n      label: 'Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨',\n      icon: PercentIcon\n    }\n  ]\n\n  // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú ÌôúÏÑ± ÌÉ≠ Í¥ÄÎ¶¨\n  let activeTab = $state($page.url.searchParams.get('tab') || 'overview')\n\n  // ÏÉÅÌÉú Î≥ÄÏàòÎì§\n  let mounted = $state(false)\n  let projects = $state([])\n  let projectSummary = $state(null)\n  let employeeParticipationSummary = $state([])\n  let alerts = $state([])\n\n  // ÌÉ≠Î≥Ñ Î°úÎî© ÏÉÅÌÉú Î∞è Ïò§Î•ò Ï≤¥ÌÅ¨\n  let tabLoadingStates = $state({\n    overview: false,\n    projects: false,\n    participation: false\n  })\n  let tabErrors = $state({\n    overview: null,\n    projects: null,\n    participation: null\n  })\n  let tabLastLoaded = $state({\n    overview: null,\n    projects: null,\n    participation: null\n  })\n\n  // ÌÉ≠Î≥Ñ Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ìï®ÏàòÎì§\n  async function loadTabData(tabName) {\n    if (tabLoadingStates[tabName]) return\n\n    tabLoadingStates[tabName] = true\n    tabErrors[tabName] = null\n\n    try {\n      switch (tabName) {\n        case 'overview':\n          await Promise.all([\n            loadProjectSummary(),\n            loadEmployeeParticipationSummary(),\n            loadBudgetSummaryByYear(),\n            loadAlerts()\n          ])\n          break\n        case 'projects':\n          await loadProjectData()\n          break\n        case 'participation':\n          await loadEmployeeParticipationSummary()\n          break\n      }\n      tabLastLoaded[tabName] = new Date()\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n      tabErrors[tabName] = errorMessage\n      logger.error(`${tabName} ÌÉ≠ Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ïã§Ìå®:`, err)\n    } finally {\n      tabLoadingStates[tabName] = false\n    }\n  }\n\n  // Svelte 5: ÌÉ≠ Î≥ÄÍ≤Ω Ïãú Îç∞Ïù¥ÌÑ∞ Î°úÎìú (Î¨¥Ìïú Î£®ÌîÑ Î∞©ÏßÄ)\n  let lastLoadedTab = $state('')\n  $effect(() => {\n    if (mounted && activeTab && activeTab !== lastLoadedTab) {\n      lastLoadedTab = activeTab\n      loadTabData(activeTab)\n    }\n  })\n\n  // Svelte 5: Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú mounted ÏÉÅÌÉú ÏÑ§Ï†ï\n  onMount(() => {\n    mounted = true\n  })\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ†® ÏÉÅÌÉú\n  let selectedProject = $state(null)\n  let selectedProjectId = $state('')\n  let showCreateProjectModal = $state(false)\n\n  // ÌÉ≠ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨\n  function handleTabChange(tabId) {\n    activeTab = tabId\n    const url = new URL($page.url)\n    url.searchParams.set('tab', tabId)\n    goto(url.toString(), { replaceState: true })\n  }\n\n  // API Ìò∏Ï∂ú Ìï®ÏàòÎì§\n  async function loadProjectData() {\n    try {\n      logger.log('üîç ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏãúÏûë...')\n\n      // API ÏùëÎãµ ÏãúÍ∞Ñ Ï∏°Ï†ï\n      const startTime = Date.now()\n      const response = await fetch('/api/project-management/projects')\n      const responseTime = Date.now() - startTime\n\n      logger.log(`‚è±Ô∏è API ÏùëÎãµ ÏãúÍ∞Ñ: ${responseTime}ms`)\n\n      if (response.ok) {\n        const data = await response.json()\n        logger.log('üìä API ÏùëÎãµ Îç∞Ïù¥ÌÑ∞:', data)\n\n        if (data.success) {\n          const projectData = data.data || []\n\n          // ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù\n          const validationResult = validateProjectData(projectData)\n          if (!validationResult.isValid) {\n            logger.error('‚ùå ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Ïã§Ìå®:', validationResult.issues)\n            // Í≤ÄÏ¶ù Ïã§Ìå® Ïãú Îπà Î∞∞Ïó¥Î°ú ÏÑ§Ï†ïÌïòÏó¨ Î¨¥Ìïú Î£®ÌîÑ Î∞©ÏßÄ\n            projects = []\n            return // throw ÎåÄÏã† returnÏúºÎ°ú Ìï®Ïàò Ï¢ÖÎ£å\n          }\n\n          projects = projectData\n          logger.log(`‚úÖ ${projectData.length}Í∞ú ÌîÑÎ°úÏ†ùÌä∏ Î°úÎìú ÏôÑÎ£å`)\n        } else {\n          throw new Error(data.message || 'ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n        }\n      } else if (response.status === 404) {\n        throw new Error('ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ APIÍ∞Ä ÏïÑÏßÅ Íµ¨ÌòÑÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n      } else if (response.status === 500) {\n        throw new Error('ÏÑúÎ≤Ñ ÎÇ¥Î∂Ä Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.')\n      } else if (response.status === 403) {\n        throw new Error('ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Ïóê Ï†ëÍ∑ºÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.')\n      } else {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n      }\n    } catch (err) {\n      // Failed to fetch Ïò§Î•ò ÌäπÎ≥Ñ Ï≤òÎ¶¨\n      if (err instanceof Error && err.message && err.message.includes('Failed to fetch')) {\n        logger.error('‚ùå ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ Ïã§Ìå®:', err.message)\n      } else {\n        logger.error('‚ùå ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', err)\n      }\n\n      projects = []\n      throw err // ÏÉÅÏúÑ Ìï®ÏàòÏóêÏÑú Ï≤òÎ¶¨Ìï† Ïàò ÏûàÎèÑÎ°ù Ïû¨throw\n    }\n  }\n\n  // Í∞úÏÑ†Îêú ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Ìï®Ïàò (Í∏∞Ìöç Îã®Í≥Ñ ÏôÑÌôî)\n  function validateProjectData(projectData) {\n    const issues = []\n    const warnings = []\n\n    if (!Array.isArray(projectData)) {\n      issues.push('ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Í∞Ä Î∞∞Ïó¥Ïù¥ ÏïÑÎãôÎãàÎã§.')\n      return { isValid: false, issues }\n    }\n\n    projectData.forEach((project, index) => {\n      const projectName = project.title || project.code || `ÌîÑÎ°úÏ†ùÌä∏ ${index + 1}`\n      const isPlanning = project.status === 'planning'\n\n      // Î™®Îì† ÌîÑÎ°úÏ†ùÌä∏Ïóê Í≥µÌÜµÏúºÎ°ú ÌïÑÏöîÌïú ÌïÑÏàò ÌïÑÎìú\n      if (!project.id) {\n        issues.push(`${projectName}: IDÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.`)\n      }\n      if (!project.title) {\n        issues.push(`${projectName}: Ï†úÎ™©Ïù¥ ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.`)\n      }\n      if (!project.code) {\n        issues.push(`${projectName}: ÏΩîÎìúÍ∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.`)\n      }\n\n      // Í∏∞Ìöç Îã®Í≥ÑÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞ÏóêÎßå ÌïÑÏàòÏù∏ ÌïÑÎìúÎì§\n      if (!isPlanning) {\n        if (!project.startDate) {\n          issues.push(`${projectName}: ÏßÑÌñâ/ÏôÑÎ£å ÏÉÅÌÉú ÌîÑÎ°úÏ†ùÌä∏Îäî ÏãúÏûëÏùºÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.`)\n        }\n        if (!project.endDate) {\n          issues.push(`${projectName}: ÏßÑÌñâ/ÏôÑÎ£å ÏÉÅÌÉú ÌîÑÎ°úÏ†ùÌä∏Îäî Ï¢ÖÎ£åÏùºÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.`)\n        }\n      } else {\n        // Í∏∞Ìöç Îã®Í≥ÑÏóêÏÑúÎäî Í≤ΩÍ≥†Îßå ÌëúÏãú\n        if (!project.startDate) {\n          warnings.push(`${projectName}: ÏãúÏûëÏùºÏù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. (Í∏∞Ìöç Îã®Í≥ÑÏù¥ÎØÄÎ°ú ÏÑ†ÌÉùÏÇ¨Ìï≠)`)\n        }\n        if (!project.endDate) {\n          warnings.push(`${projectName}: Ï¢ÖÎ£åÏùºÏù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. (Í∏∞Ìöç Îã®Í≥ÑÏù¥ÎØÄÎ°ú ÏÑ†ÌÉùÏÇ¨Ìï≠)`)\n        }\n      }\n\n      // ÎÇ†Ïßú Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù (ÎÇ†ÏßúÍ∞Ä ÏûàÎäî Í≤ΩÏö∞ÏóêÎßå)\n      if (project.startDate && project.endDate) {\n        const startDate = new Date(project.startDate)\n        const endDate = new Date(project.endDate)\n\n        if (isNaN(startDate.getTime())) {\n          issues.push(`${projectName}: ÏãúÏûëÏùº ÌòïÏãùÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.`)\n        }\n        if (isNaN(endDate.getTime())) {\n          issues.push(`${projectName}: Ï¢ÖÎ£åÏùº ÌòïÏãùÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.`)\n        }\n        if (!isNaN(startDate.getTime()) && !isNaN(endDate.getTime()) && startDate > endDate) {\n          issues.push(`${projectName}: ÏãúÏûëÏùºÏù¥ Ï¢ÖÎ£åÏùºÎ≥¥Îã§ Îä¶ÏäµÎãàÎã§.`)\n        }\n      }\n\n      // ÏÉÅÌÉú Í∞í Í≤ÄÏ¶ù\n      const validStatuses = ['planning', 'active', 'completed']\n      if (project.status && !validStatuses.includes(project.status)) {\n        issues.push(`${projectName}: Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏÉÅÌÉúÍ∞íÏûÖÎãàÎã§. (${project.status})`)\n      }\n\n      // Ïö∞ÏÑ†ÏàúÏúÑ Í∞í Í≤ÄÏ¶ù (ÏûàÎäî Í≤ΩÏö∞ÏóêÎßå)\n      if (project.priority) {\n        const validPriorities = ['low', 'medium', 'high', 'critical']\n        if (!validPriorities.includes(project.priority)) {\n          issues.push(`${projectName}: Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ïö∞ÏÑ†ÏàúÏúÑÍ∞íÏûÖÎãàÎã§. (${project.priority})`)\n        }\n      }\n    })\n\n    // Í≤ΩÍ≥†Í∞Ä ÏûàÏúºÎ©¥ ÏΩòÏÜîÏóê Ï∂úÎ†•\n    if (warnings.length > 0) {\n      logger.warn('‚ö†Ô∏è ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Í≤ΩÍ≥†:', warnings)\n    }\n\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n\n  async function loadProjectSummary() {\n    try {\n      const response = await fetch('/api/project-management/summary')\n      if (response.ok) {\n        const data = await response.json()\n        projectSummary = data.data\n      }\n    } catch (err) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ ÏöîÏïΩ Î°úÎìú Ïã§Ìå®:', err)\n    }\n  }\n\n  async function loadEmployeeParticipationSummary() {\n    try {\n      const response = await fetch('/api/project-management/participation-rates/summary')\n      if (response.ok) {\n        const data = await response.json()\n        employeeParticipationSummary = data.data || []\n      }\n    } catch {\n    // ÏßÅÏõê Ï∞∏Ïó¨Ïú® Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå® - Ï°∞Ïö©Ìûà Ï≤òÎ¶¨\n    }\n  }\n\n  async function loadBudgetSummaryByYear() {\n    try {\n      const response = await fetch('/api/project-management/budgets/summary-by-year')\n      if (response.ok) {\n      // const data = await response.json()\n        // budgetSummaryByYear = data.data || []\n      }\n    } catch {\n    // Ïó∞ÎèÑÎ≥Ñ ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå® - Ï°∞Ïö©Ìûà Ï≤òÎ¶¨\n    }\n  }\n\n  async function loadAlerts() {\n    try {\n      const response = await fetch('/api/project-management/alerts')\n      if (response.ok) {\n        const data = await response.json()\n        alerts = data.data || []\n      }\n    } catch {\n    // ÏïåÎ¶º Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå® - Ï°∞Ïö©Ìûà Ï≤òÎ¶¨\n    }\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± ÏôÑÎ£å Ìï∏Îì§Îü¨\n  function handleProjectCreated() {\n    showCreateProjectModal = false\n    loadProjectData()\n    loadProjectSummary()\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨\n  function handleProjectDeleted(event) {\n    const { projectId } = event.detail\n\n    // ÏÇ≠Ï†úÎêú ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÌîÑÎ°úÏ†ùÌä∏ÎùºÎ©¥ ÏÑ†ÌÉù Ìï¥Ï†ú\n    if (selectedProject && selectedProject.id === projectId) {\n      selectedProject = null\n      selectedProjectId = ''\n    }\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Î™©Î°ùÏóêÏÑú ÏÇ≠Ï†úÎêú ÌîÑÎ°úÏ†ùÌä∏ Ï†úÍ±∞\n    projects = projects.filter(p => p.id !== projectId)\n\n    // ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®\n    loadProjectData()\n  }\n\n  // Ï¥àÍ∏∞Ìôî - Ï≤´ Î≤àÏß∏ ÌÉ≠Îßå Î°úÎìú\n  $effect(() => {\n    if (!mounted) {\n      mounted = true\n      // Ï¥àÍ∏∞ ÌÉ≠ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n      loadTabData(activeTab)\n    }\n  })\n</script>\n\n<PageLayout\n  title=\"ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨\"\n  subtitle=\"Ïó∞Íµ¨Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏ Î∞è Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú\">\n  <div>\n    <!-- ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->\n    <ThemeTabs\n      {tabs}\n      {activeTab}\n      onTabChange={handleTabChange} />\n\n    <!-- Í∞úÏöî ÌÉ≠ -->\n    {#if activeTab === 'overview'}\n      <div>\n        <!-- ÌîÑÎ°úÏ†ùÌä∏ Í∞úÏöî Ïπ¥Îìú -->\n        <ProjectOverviewCard\n          {projectSummary}\n          {alerts} />\n      </div>\n    {/if}\n\n    <!-- ÌîÑÎ°úÏ†ùÌä∏ ÌÉ≠ -->\n    {#if activeTab === 'projects'}\n      <div>\n        <!-- ÌîÑÎ°úÏ†ùÌä∏ Î™©Î°ù Ïπ¥Îìú -->\n        <ProjectListCard\n          {projects}\n          {selectedProject}\n          {selectedProjectId}\n          loading={tabLoadingStates.projects}\n          error={tabErrors.projects}\n          on:create-project={() => (showCreateProjectModal = true)}\n          on:project-deleted={handleProjectDeleted}\n          on:refresh={loadProjectData}\n        />\n      </div>\n    {/if}\n\n    <!-- Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨ ÌÉ≠ -->\n    {#if activeTab === 'participation'}\n      <div>\n        <!-- Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨ Ïπ¥Îìú -->\n        <ParticipationCard\n          {employeeParticipationSummary}\n          loading={tabLoadingStates.participation}\n          error={tabErrors.participation}\n        />\n      </div>\n    {/if}\n  </div>\n</PageLayout>\n\n<!-- ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Î™®Îã¨ -->\n<ThemeModal\n  open={showCreateProjectModal}\n  onclose={() => (showCreateProjectModal = false)}>\n  <ProjectCreationForm on:projectCreated={handleProjectCreated} />\n</ThemeModal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/budget-overview/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/compliance/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/dashboard/+page.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'daysBetween' is defined but never used.",
        "line": 56,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 56,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "daysBetween" },
            "fix": { "range": [1911, 2090], "text": "" },
            "desc": "Remove unused variable 'daysBetween'."
          }
        ]
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 245,
        "column": 5,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 247,
        "endColumn": 12
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 245,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 245,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [7955, 7956], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Progress from '$lib/components/ui/Progress.svelte'\n  import { personnelStore } from '$lib/stores/personnel'\n  import {\n    budgetAlerts,\n    expenseDocsStore,\n    getQuarterSummary,\n    overallBudget,\n    projectsStore,\n    quarterlyPersonnelBudgets\n  } from '$lib/stores/rnd'\n  import { formatDateForDisplay, getCurrentUTC, getDateDifference } from '$lib/utils/date-handler'\n\n  const ob = $derived($overallBudget)\n  const avgProgress = $derived(\n    $projectsStore.length\n      ? Math.round($projectsStore.reduce((s, p) => s + p.progressPct, 0) / $projectsStore.length)\n      : 0\n  )\n  const riskCounts = $derived({\n    ÏúÑÌóò: $projectsStore.filter(p => p.status === 'ÏúÑÌóò').length,\n    ÏßÄÏó∞: $projectsStore.filter(p => p.status === 'ÏßÄÏó∞').length,\n    ÏßÑÌñâÏ§ë: $projectsStore.filter(p => p.status === 'ÏßÑÌñâÏ§ë').length,\n    Ï†ïÏÉÅ: $projectsStore.filter(p => p.status === 'Ï†ïÏÉÅ' || p.status === 'ÏôÑÎ£å').length\n  })\n  const overAllocated = $derived(\n    $personnelStore.filter(pr => pr.participations.reduce((s, pp) => s + pp.allocationPct, 0) > 100)\n      .length\n  )\n  const avgAlloc = $derived(\n    $personnelStore.length\n      ? Math.round(\n        $personnelStore.reduce(\n          (sum, pr) => sum + pr.participations.reduce((s, pp) => s + pp.allocationPct, 0),\n          0\n        ) / $personnelStore.length\n      )\n      : 0\n  )\n\n  // Category breakdown (Ïù∏Í±¥ÎπÑ/Ïû¨Î£åÎπÑ/Ïó∞Íµ¨ÌôúÎèôÎπÑ/Ïó¨ÎπÑ)\n  const categoryTotals = $derived(\n    (function () {\n      const res = { Ïù∏Í±¥ÎπÑ: 0, Ïû¨Î£åÎπÑ: 0, Ïó∞Íµ¨ÌôúÎèôÎπÑ: 0, Ïó¨ÎπÑ: 0 } as Record<string, number>\n      for (const d of $expenseDocsStore) {\n        const amt = d.amountKRW ?? 0\n        if (res[d.category] !== undefined) res[d.category] += amt\n      }\n      return res\n    })()\n  )\n\n  // Burn rate projection: project-level spent/elapsed ‚Üí projected over total duration, aggregated\n  function daysBetween(a: string, b: string): number {\n    const ms = new Date(b).getTime() - new Date(a).getTime()\n    return Math.max(1, Math.ceil(ms / (1000 * 60 * 60 * 24)))\n  }\n  const portfolioProjection = $derived(\n    (function () {\n      const todayIso = formatDateForDisplay(getCurrentUTC(), 'ISO')\n      let totalBudget = 0\n      let totalProjected = 0\n      for (const p of $projectsStore) {\n        const start = p.startDate\n        const due = p.dueDate\n        const totalDays = getDateDifference(start, due)\n        // Ïò§ÎäòÏù¥ ÏãúÏûë Ïù¥Ï†ÑÏù¥Î©¥ 0Ïùº Í≤ΩÍ≥ºÎ°ú Í∞ÑÏ£º\n        const cappedToday = todayIso < start ? start : todayIso > due ? due : todayIso\n        const elapsedDays = Math.max(1, getDateDifference(start, cappedToday))\n        const burn = p.spentKRW / Math.max(1, elapsedDays)\n        const projected = burn * totalDays\n        totalBudget += p.budgetKRW\n        totalProjected += Math.min(projected, p.budgetKRW * 2) // clamp to avoid runaway\n      }\n      const utilization = totalBudget > 0 ? totalProjected / totalBudget : 0\n      return { totalBudget, totalProjected, utilization }\n    })()\n  )\n\n  // Í≤ΩÎ≥¥ ÏÉÅÏÑ∏ ÏÇ¨Ïú†\n  const alertDetails = $derived(\n    $budgetAlerts.map(a => {\n      const pct = (a.utilization * 100).toFixed(1)\n      const reason =\n        a.level === 'over'\n          ? `ÏßëÌñâÎ•† ${pct}% ‚â• 100%`\n          : a.level === 'critical'\n          ? `ÏßëÌñâÎ•† ${pct}% ‚â• 95%`\n          : `ÏßëÌñâÎ•† ${pct}% ‚â• 80%`\n      return { ...a, reason }\n    })\n  )\n\n  // ÏÜåÏßÑ ÏÜçÎèÑ Ìé∏Ï∞®: ÏßÑÌñâÎ•† ÎåÄÎπÑ ÏßëÌñâÏï° Ìé∏Ï∞® ÏÉÅÏúÑ\n  const burnVariance = $derived(\n    (function () {\n      return $projectsStore\n        .map(p => {\n          const expected = (p.progressPct / 100) * p.budgetKRW\n          const delta = p.spentKRW - expected\n          return { id: p.id, name: p.name, spent: p.spentKRW, expected, delta }\n        })\n        .sort((a, b) => Math.abs(b.delta) - Math.abs(a.delta))\n        .slice(0, 5)\n    })()\n  )\n\n  // Î∂ÑÍ∏∞ ÏÑ†ÌÉù Î∞è URL ÎèôÍ∏∞Ìôî\n  function sortQuarterLabels(labels: string[]): string[] {\n    return labels\n      .map(q => {\n        const [y, qpart] = q.split('-Q')\n        return { q, y: Number(y), qn: Number(qpart) }\n      })\n      .sort((a, b) => (a.y === b.y ? a.qn - b.qn : a.y - b.y))\n      .map(x => x.q)\n  }\n  function currentQuarterLabel(): string {\n    const d = new Date(getCurrentUTC())\n    const y = d.getFullYear()\n    const qn = Math.floor(d.getMonth() / 3) + 1\n    return `${y}-Q${qn}`\n  }\n  const quarters = $derived(\n    (function () {\n      const set = new Set<string>()\n      const qmap = $quarterlyPersonnelBudgets\n      for (const pid in qmap) {\n        for (const k in qmap[pid]) set.add(k)\n      }\n      return sortQuarterLabels(Array.from(set))\n    })()\n  )\n  let selectedQuarter = $state(currentQuarterLabel())\n  let lastQuery = $state('')\n  if (typeof window !== 'undefined') {\n    const params = new URLSearchParams(window.location.search)\n    const qParam = params.get('q')\n    if (qParam) selectedQuarter = qParam\n    lastQuery = params.toString()\n  }\n  const quarterSummary = $derived(getQuarterSummary(selectedQuarter))\n  const docsInQuarter = $derived(\n    (function () {\n      const qn = Number(selectedQuarter.split('-Q')[1] || '0')\n      return $expenseDocsStore.filter(d => Number(d.quarter) === qn).length\n    })()\n  )\n\n  // URL sync\n  $effect(() => {\n    if (typeof window !== 'undefined') {\n      const params = new URLSearchParams(window.location.search)\n      if (selectedQuarter) params.set('q', selectedQuarter)\n      else params.delete('q')\n      const newQuery = params.toString()\n      if (newQuery !== lastQuery) {\n        lastQuery = newQuery\n        const url = `${window.location.pathname}${newQuery ? `?${newQuery}` : ''}`\n        window.history.replaceState(null, '', url)\n      }\n    }\n  })\n\n  // Headcount churn (ÏµúÍ∑º 4Î∂ÑÍ∏∞)\n  function sortQs(labels: string[]): string[] {\n    return sortQuarterLabels(labels)\n  }\n  const allQLabels = $derived(\n    (function () {\n      const s = new Set<string>()\n      for (const p of $personnelStore) {\n        for (const part of p.participations) {\n          const qb = part.quarterlyBreakdown ?? {}\n          for (const k in qb) s.add(k)\n        }\n      }\n      return sortQs(Array.from(s))\n    })()\n  )\n  const last4 = $derived(allQLabels.slice(-4))\n  const activeByQ = $derived(\n    (function () {\n      const map: Record<string, Set<string>> = {}\n      for (const q of last4) map[q] = new Set<string>()\n      for (const p of $personnelStore) {\n        for (const part of p.participations) {\n          const qb = part.quarterlyBreakdown ?? {}\n          for (const q of last4) {\n            if ((qb[q] ?? 0) > 0) map[q].add(p.id)\n          }\n        }\n      }\n      return map\n    })()\n  )\n  const churnData = $derived(\n    (function () {\n      const data: Array<{ q: string; headcount: number; join: number; leave: number }> = []\n      for (let i = 0; i < last4.length; i++) {\n        const q = last4[i]\n        const prev = i > 0 ? last4[i - 1] : null\n        const currSet = activeByQ[q] ?? new Set<string>()\n        const prevSet = prev ? (activeByQ[prev] ?? new Set<string>()) : new Set<string>()\n        let join = 0,\n          leave = 0\n        if (prev) {\n          for (const id of currSet) if (!prevSet.has(id)) join++\n          for (const id of prevSet) if (!currSet.has(id)) leave++\n        }\n        data.push({ q, headcount: currSet.size, join, leave })\n      }\n      return data\n    })()\n  )\n\n  // simple skeleton\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<h2 class=\"text-lg font-semibold mb-4\">Project Overview Dashboard</h2>\n\n<div class=\"mb-3 flex items-center gap-2\">\n  <label\n    for=\"qsel\"\n    class=\"text-sm text-gray-600\">Î∂ÑÍ∏∞</label>\n  <select\n    id=\"qsel\"\n    class=\"rounded-md border border-gray-200 px-2 py-1 text-sm\"\n    bind:value={selectedQuarter}\n  >\n    {#each quarters as q, i (i)}\n      <option value={q}>{q}</option>\n    {/each}\n  </select>\n</div>\n\n<div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n  {#if loading}\n    {#each Array(4) as _}\n      <div class=\"card animate-pulse h-24\"></div>\n    {/each}\n  {:else}\n    <Card>\n      {#snippet children()}\n        <div class=\"kpi\">\n          <div>\n            <p class=\"text-caption\">Ï¥ù ÌîÑÎ°úÏ†ùÌä∏</p>\n            <div class=\"text-2xl font-bold\">{$projectsStore.length}</div>\n          </div>\n        </div>\n      {/snippet}\n    </Card>\n    <Card>\n      {#snippet children()}\n        <div class=\"kpi\">\n          <div>\n            <p class=\"text-caption\">ÏòàÏÇ∞ ÏßëÌñâÎ•†</p>\n            <div class=\"text-2xl font-bold\">{(ob.utilization * 100).toFixed(1)}%</div>\n            <div class=\"mt-3\"><Progress value={ob.utilization * 100} /></div>\n          </div>\n        </div>\n      {/snippet}\n    </Card>\n    <Card>\n      {#snippet children()}\n        <div class=\"kpi\">\n          <div>\n            <p class=\"text-caption\">ÌèâÍ∑† ÏßÑÌñâÎ•†</p>\n            <div class=\"text-2xl font-bold\">{avgProgress}%</div>\n            <div class=\"mt-3\"><Progress value={avgProgress} /></div>\n          </div>\n        </div>\n      {/snippet}\n    </Card>\n    <Card>\n      {#snippet children()}\n        <div class=\"kpi\">\n          <div>\n            <p class=\"text-caption\">Í≤ΩÎ≥¥ ÌîÑÎ°úÏ†ùÌä∏</p>\n            <div class=\"text-2xl font-bold\">{$budgetAlerts.length}</div>\n          </div>\n        </div>\n      {/snippet}\n    </Card>\n  {/if}\n</div>\n\n{#if !loading && $budgetAlerts.length}\n  <Card header=\"ÏòàÏÇ∞ Í≤ΩÎ≥¥\">\n    {#snippet children()}\n      <ul class=\"space-y-2 text-sm\">\n        {#each alertDetails as a, i (i)}\n          <li class=\"flex items-center justify-between\">\n            <div class=\"flex items-center gap-3\">\n              <span class=\"font-medium\">{a.name}</span>\n              <span class=\"text-caption\">{a.reason}</span>\n            </div>\n            <Badge color={a.level === 'over' ? 'red' : a.level === 'critical' ? 'yellow' : 'yellow'}\n            >{(a.utilization * 100).toFixed(1)}%</Badge\n            >\n          </li>\n        {/each}\n      </ul>\n    {/snippet}\n  </Card>\n{/if}\n\n<div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-2\">\n  <Card>\n    {#snippet children()}\n      <div class=\"kpi\">\n        <div>\n          <p class=\"text-caption\">{selectedQuarter} Î∂ÑÍ∏∞ Ïù∏Í±¥ÎπÑ ÏòàÏÇ∞</p>\n          <div class=\"text-2xl font-bold\">{quarterSummary.totalBudgetKRW.toLocaleString()}Ïõê</div>\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n  <Card>\n    {#snippet children()}\n      <div class=\"kpi\">\n        <div>\n          <p class=\"text-caption\">{selectedQuarter.split('-Q')[1]}Î∂ÑÍ∏∞ Î¨∏ÏÑú Ïàò</p>\n          <div class=\"text-2xl font-bold\">{docsInQuarter}</div>\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n  <Card>\n    {#snippet children()}\n      <div class=\"kpi\">\n        <div>\n          <p class=\"text-caption\">Î∂ÑÍ∏∞ ÌÇ§ Í∞úÏàò</p>\n          <div class=\"text-2xl font-bold\">{quarters.length}</div>\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n</div>\n\n<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6\">\n  <Card header=\"Î¶¨Ïä§ÌÅ¨ Îß§Ìä∏Î¶≠Ïä§\">\n    {#snippet children()}\n      <div class=\"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center\">\n        <div>\n          <div class=\"text-caption mb-1\">ÏúÑÌóò</div>\n          <Badge color=\"red\">{riskCounts.ÏúÑÌóò}</Badge>\n        </div>\n        <div>\n          <div class=\"text-caption mb-1\">ÏßÄÏó∞</div>\n          <Badge color=\"yellow\">{riskCounts.ÏßÄÏó∞}</Badge>\n        </div>\n        <div>\n          <div class=\"text-caption mb-1\">ÏßÑÌñâÏ§ë</div>\n          <Badge color=\"blue\">{riskCounts.ÏßÑÌñâÏ§ë}</Badge>\n        </div>\n        <div>\n          <div class=\"text-caption mb-1\">Ï†ïÏÉÅ/ÏôÑÎ£å</div>\n          <Badge color=\"green\">{riskCounts.Ï†ïÏÉÅ}</Badge>\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n\n  <Card header=\"Î¶¨ÏÜåÏä§ Î∂ÑÏÑù\">\n    {#snippet children()}\n      <div class=\"grid grid-cols-2 gap-4\">\n        <div>\n          <div class=\"text-caption\">ÌèâÍ∑† Ï∞∏Ïó¨Ïú®</div>\n          <div class=\"text-2xl font-bold\">{avgAlloc}%</div>\n          <div class=\"mt-3\"><Progress value={Math.min(avgAlloc, 100)} /></div>\n        </div>\n        <div>\n          <div class=\"text-caption\">Í≥ºÌï†Îãπ Ïù∏Ïõê</div>\n          <div class=\"text-2xl font-bold\">{overAllocated}</div>\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n</div>\n\n<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6\">\n  <Card header=\"ÏòàÏÇ∞ Ïπ¥ÌÖåÍ≥†Î¶¨ Î∂ÑÌï¥\">\n    {#snippet children()}\n      <div class=\"grid grid-cols-2 gap-3 text-sm\">\n        <div class=\"flex items-center justify-between\">\n          <span>Ïù∏Í±¥ÎπÑ</span><span class=\"tabular-nums\"\n          >{categoryTotals['Ïù∏Í±¥ÎπÑ'].toLocaleString()}Ïõê</span\n          >\n        </div>\n        <div class=\"flex items-center justify-between\">\n          <span>Ïû¨Î£åÎπÑ</span><span class=\"tabular-nums\"\n          >{categoryTotals['Ïû¨Î£åÎπÑ'].toLocaleString()}Ïõê</span\n          >\n        </div>\n        <div class=\"flex items-center justify-between\">\n          <span>Ïó∞Íµ¨ÌôúÎèôÎπÑ</span><span class=\"tabular-nums\"\n          >{categoryTotals['Ïó∞Íµ¨ÌôúÎèôÎπÑ'].toLocaleString()}Ïõê</span\n          >\n        </div>\n        <div class=\"flex items-center justify-between\">\n          <span>Ïó¨ÎπÑ</span><span class=\"tabular-nums\"\n          >{categoryTotals['Ïó¨ÎπÑ'].toLocaleString()}Ïõê</span\n          >\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n\n  <Card header=\"Î≤àÎ†àÏù¥Ìä∏ ÏòàÏ∏°(Ìè¨Ìä∏Ìè¥Î¶¨Ïò§)\">\n    {#snippet children()}\n      <div class=\"grid grid-cols-1 gap-2 text-sm\">\n        <div class=\"flex items-center justify-between\">\n          <span>Ï¥ù ÏòàÏÇ∞</span><span class=\"tabular-nums\"\n          >{portfolioProjection.totalBudget.toLocaleString()}Ïõê</span\n          >\n        </div>\n        <div class=\"flex items-center justify-between\">\n          <span>ÏòàÏÉÅ ÏßëÌñâ</span><span class=\"tabular-nums\"\n          >{portfolioProjection.totalProjected.toLocaleString()}Ïõê</span\n          >\n        </div>\n        <div>\n          <div class=\"text-caption mb-1\">ÏòàÏÉÅ ÏßëÌñâÎ•†</div>\n          <Progress value={Math.min(100, portfolioProjection.utilization * 100)} />\n        </div>\n      </div>\n    {/snippet}\n  </Card>\n</div>\n\n<Card header=\"ÏÜåÏßÑ ÏÜçÎèÑ Ìé∏Ï∞® ÏÉÅÏúÑ\">\n  {#snippet children()}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">ÌîÑÎ°úÏ†ùÌä∏</th>\n            <th class=\"px-3 py-2\">ÏòàÏÉÅ</th>\n            <th class=\"px-3 py-2\">ÏßëÌñâ</th>\n            <th class=\"px-3 py-2\">Ìé∏Ï∞®</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each burnVariance as b, i (i)}\n            <tr>\n              <td class=\"px-3 py-2\">{b.name}</td>\n              <td class=\"px-3 py-2 tabular-nums\">{b.expected.toLocaleString()}Ïõê</td>\n              <td class=\"px-3 py-2 tabular-nums\">{b.spent.toLocaleString()}Ïõê</td>\n              <td class=\"px-3 py-2 tabular-nums\">{b.delta.toLocaleString()}Ïõê</td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/snippet}\n</Card>\n\n<Card header=\"Ïù∏Î†• Î≥ÄÎèô (ÏµúÍ∑º 4Î∂ÑÍ∏∞)\">\n  {#snippet children()}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">Î∂ÑÍ∏∞</th>\n            <th class=\"px-3 py-2\">Ïù∏ÏõêÏàò</th>\n            <th class=\"px-3 py-2\">Ïã†Í∑ú</th>\n            <th class=\"px-3 py-2\">Ìá¥ÏÇ¨</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each churnData as r, i (i)}\n            <tr>\n              <td class=\"px-3 py-2\">{r.q}</td>\n              <td class=\"px-3 py-2 tabular-nums\">{r.headcount}</td>\n              <td class=\"px-3 py-2 tabular-nums text-green-700\">+{r.join}</td>\n              <td class=\"px-3 py-2 tabular-nums text-red-700\">-{r.leave}</td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/snippet}\n</Card>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/participation/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedTimeframe' is assigned a value but never used.",
        "line": 45,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 24
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalParticipations' is assigned a value but never used.",
        "line": 65,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 65,
        "endColumn": 26
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getStatusColor' is assigned a value but never used.",
        "line": 227,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 227,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getParticipationRateColor' is assigned a value but never used.",
        "line": 237,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 237,
        "endColumn": 34
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'updateSort' is assigned a value but never used.",
        "line": 254,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 254,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 312,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 312,
        "endColumn": 13
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 583,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 608,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 731,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 731,
        "endColumn": 32,
        "fix": { "range": [25893, 25894], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 814,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 814,
        "endColumn": 32,
        "fix": { "range": [28457, 28458], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 873,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 873,
        "endColumn": 32,
        "fix": { "range": [30509, 30510], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 6,
    "fixableErrorCount": 0,
    "fixableWarningCount": 5,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { goto } from '$app/navigation'\n  import { page } from '$app/stores'\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import ResearcherValidationTable from '$lib/components/project-management/ResearcherValidationTable.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeGrid from '$lib/components/ui/ThemeGrid.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import ThemeStatCard from '$lib/components/ui/ThemeStatCard.svelte'\n  import {\n    recommendations as aiRecommendations,\n    employees,\n    participations,\n    projects\n  } from '$lib/stores/rd'\n  import { initializeParticipationManager } from '$lib/stores/rnd/participation-manager'\n  import { formatCurrency } from '$lib/utils/format'\n  import {\n    AlertTriangleIcon,\n    DollarSignIcon,\n    DownloadIcon,\n    FilterIcon,\n    PercentIcon,\n    PlusIcon,\n    TargetIcon,\n    UserIcon,\n    UsersIcon,\n    XCircleIcon,\n    ZapIcon\n  } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú Ï†ïÎ†¨ ÏòµÏÖò Í∞ÄÏ†∏Ïò§Í∏∞\n  let sortOrder = $derived($page.url.searchParams.get('sort') || 'desc')\n  let sortBy = $derived($page.url.searchParams.get('sortBy') || 'participationRate')\n\n  // ÏÉÅÌÉú Í¥ÄÎ¶¨\n  let searchTerm = $state('')\n  let selectedProject = $state('all')\n  let selectedEmployee = $state('all')\n  let selectedStatus = $state('all')\n  let selectedTimeframe = $state('current')\n  let showAdvancedFilters = $state(false)\n  let showParticipationModal = $state(false)\n  let showAnalyticsModal = $state(false)\n  let showOptimizationModal = $state(false)\n  let selectedParticipation = $state(null)\n  let selectedEmployeeForModal = $state(null)\n  let selectedProjectForModal = $state(null)\n\n  // Í≥†Í∏â ÌïÑÌÑ∞\n  let minParticipationRate = $state(0)\n  let maxParticipationRate = $state(100)\n  let minSalary = $state(0)\n  let maxSalary = $state(10000000)\n  let selectedDepartment = $state('all')\n  let selectedRole = $state('all')\n\n  // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  let totalEmployees = $derived($employees.length)\n  let totalProjects = $derived($projects.length)\n  let totalParticipations = $derived($participations.length)\n  let averageParticipationRate = $derived(\n    $participations.length > 0\n      ? $participations.reduce((sum: number, p: any) => sum + p.participationRate, 0) /\n        $participations.length\n      : 0\n  )\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Ï∞∏Ïó¨ Îç∞Ïù¥ÌÑ∞\n  let filteredParticipations = $derived(\n    $participations.filter((participation: any) => {\n      const employee = $employees.find((e: any) => e.id === participation.employeeId)\n      const project = $projects.find((p: any) => p.id === participation.projectId)\n\n      if (!employee || !project) return false\n\n      const matchesSearch =\n        employee.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          project.name.toLowerCase().includes(searchTerm.toLowerCase())\n      const matchesProject =\n        selectedProject === 'all' || participation.projectId === selectedProject\n      const matchesEmployee =\n        selectedEmployee === 'all' || participation.employeeId === selectedEmployee\n      const matchesStatus = selectedStatus === 'all' || participation.status === selectedStatus\n      const matchesParticipationRate =\n        participation.participationRate >= minParticipationRate &&\n          participation.participationRate <= maxParticipationRate\n      const matchesSalary = employee.salary >= minSalary && employee.salary <= maxSalary\n      const matchesDepartment =\n        selectedDepartment === 'all' || employee.department === selectedDepartment\n      const matchesRole = selectedRole === 'all' || participation.role === selectedRole\n\n      return (\n        matchesSearch &&\n        matchesProject &&\n        matchesEmployee &&\n        matchesStatus &&\n        matchesParticipationRate &&\n        matchesSalary &&\n        matchesDepartment &&\n        matchesRole\n      )\n    })\n  )\n\n  // Ï†ïÎ†¨Îêú Ï∞∏Ïó¨ Îç∞Ïù¥ÌÑ∞\n  let sortedParticipations = $derived(\n    [...filteredParticipations].sort((a: any, b: any) => {\n      const employeeA = $employees.find((e: any) => e.id === a.employeeId)\n      const employeeB = $employees.find((e: any) => e.id === b.employeeId)\n      const projectA = $projects.find((p: any) => p.id === a.projectId)\n      const projectB = $projects.find((p: any) => p.id === b.projectId)\n\n      let valueA, valueB\n\n      switch (sortBy) {\n        case 'participationRate':\n          valueA = a.participationRate\n          valueB = b.participationRate\n          break\n        case 'salary':\n          valueA = employeeA?.salary || 0\n          valueB = employeeB?.salary || 0\n          break\n        case 'employee':\n          valueA = employeeA?.name || ''\n          valueB = employeeB?.name || ''\n          break\n        case 'project':\n          valueA = projectA?.name || ''\n          valueB = projectB?.name || ''\n          break\n        case 'startDate':\n          valueA = new Date(a.startDate).getTime()\n          valueB = new Date(b.startDate).getTime()\n          break\n        default:\n          valueA = a.participationRate\n          valueB = b.participationRate\n      }\n\n      if (sortOrder === 'asc') {\n        return valueA > valueB ? 1 : -1\n      } else {\n        return valueA < valueB ? 1 : -1\n      }\n    })\n  )\n\n  // Ï∞∏Ïó¨Ïú® Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞\n  let participationAnalytics = $derived({\n    overloaded: filteredParticipations.filter((p: any) => p.participationRate > 100).length,\n    optimal: filteredParticipations.filter(\n      (p: any) => p.participationRate >= 80 && p.participationRate <= 100\n    ).length,\n    underutilized: filteredParticipations.filter((p: any) => p.participationRate < 50).length,\n    totalCost: filteredParticipations.reduce((sum: number, p: any) => {\n      const employee = $employees.find((e: any) => e.id === p.employeeId)\n      return sum + (employee?.salary || 0) * (p.participationRate / 100)\n    }, 0)\n  })\n\n  // ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï∞∏Ïó¨ ÌòÑÌô©\n  let projectParticipation = $derived(\n    $projects.map((project: any) => {\n      const projectParticipations = filteredParticipations.filter(\n        (p: any) => p.projectId === project.id\n      )\n      const totalParticipation = projectParticipations.reduce(\n        (sum: number, p: any) => sum + p.participationRate,\n        0\n      )\n      const totalCost = projectParticipations.reduce((sum: number, p: any) => {\n        const employee = $employees.find((e: any) => e.id === p.employeeId)\n        return sum + (employee?.salary || 0) * (p.participationRate / 100)\n      }, 0)\n\n      return {\n        ...project,\n        participantCount: projectParticipations.length,\n        totalParticipation,\n        totalCost,\n        averageParticipation:\n          projectParticipations.length > 0 ? totalParticipation / projectParticipations.length : 0\n      }\n    })\n  )\n\n  // ÏßÅÏõêÎ≥Ñ Ï∞∏Ïó¨ ÌòÑÌô©\n  let employeeParticipation = $derived(\n    $employees.map((employee: any) => {\n      const employeeParticipations = filteredParticipations.filter(\n        (p: any) => p.employeeId === employee.id\n      )\n      const totalParticipation = employeeParticipations.reduce(\n        (sum: number, p: any) => sum + p.participationRate,\n        0\n      )\n      const totalCost = employeeParticipations.reduce((sum: number, p: any) => {\n        return sum + employee.salary * (p.participationRate / 100)\n      }, 0)\n\n      return {\n        ...employee,\n        projectCount: employeeParticipations.length,\n        totalParticipation,\n        totalCost,\n        averageParticipation:\n          employeeParticipations.length > 0\n            ? totalParticipation / employeeParticipations.length\n            : 0,\n        isOverloaded: totalParticipation > 100\n      }\n    })\n  )\n\n  // AI Ï∂îÏ≤úÏÇ¨Ìï≠\n  let filteredRecommendations = $derived(\n    $aiRecommendations.filter((rec: any) => rec.type === 'participation_optimization')\n  )\n\n  // Ìï®ÏàòÎì§\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      active: 'success',\n      inactive: 'secondary',\n      pending: 'warning',\n      completed: 'info'\n    }\n    return colors[status] || 'secondary'\n  }\n\n  const getParticipationRateColor = (rate: number) => {\n    if (rate > 100) return 'danger'\n    if (rate >= 80) return 'success'\n    if (rate >= 50) return 'warning'\n    return 'secondary'\n  }\n\n  const getEmployeeName = (employeeId: string) => {\n    const employee = $employees.find((e: any) => e.id === employeeId)\n    return employee?.name || 'Unknown'\n  }\n\n  const getProjectName = (projectId: string) => {\n    const project = $projects.find((p: any) => p.id === projectId)\n    return project?.name || 'Unknown'\n  }\n\n  const updateSort = (newSortBy: string) => {\n    const newSortOrder = sortBy === newSortBy && sortOrder === 'desc' ? 'asc' : 'desc'\n    goto(`/project-management/participation?sort=${newSortOrder}&sortBy=${newSortBy}`)\n  }\n\n  const exportData = () => {\n    const data = sortedParticipations.map((p: any) => ({\n      employee: getEmployeeName(p.employeeId),\n      project: getProjectName(p.projectId),\n      participationRate: p.participationRate,\n      role: p.role,\n      startDate: p.startDate,\n      endDate: p.endDate,\n      status: p.status\n    }))\n\n    const csv = [\n      ['ÏßÅÏõê', 'ÌîÑÎ°úÏ†ùÌä∏', 'Ï∞∏Ïó¨Ïú®(%)', 'Ïó≠Ìï†', 'ÏãúÏûëÏùº', 'Ï¢ÖÎ£åÏùº', 'ÏÉÅÌÉú'],\n      ...data.map(row => Object.values(row))\n    ]\n      .map(row => row.join(','))\n      .join('\\n')\n\n    const blob = new Blob([csv], { type: 'text/csv' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `participation-data-${new Date().toISOString().split('T')[0]}.csv`\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  const openParticipationModal = (participation: any = null) => {\n    selectedParticipation = participation\n    selectedEmployeeForModal = participation ? participation.employeeId : null\n    selectedProjectForModal = participation ? participation.projectId : null\n    showParticipationModal = true\n  }\n\n  const closeParticipationModal = () => {\n    showParticipationModal = false\n    selectedParticipation = null\n    selectedEmployeeForModal = null\n    selectedProjectForModal = null\n  }\n\n  const saveParticipation = () => {\n    // Ï∞∏Ïó¨ Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Î°úÏßÅ\n    closeParticipationModal()\n  }\n\n  const handleMemberUpdate = (memberId: string, updates: any) => {\n    if (memberId === 'refresh') {\n      // Ï†ÑÏ≤¥ ÏÉàÎ°úÍ≥†Ïπ®\n      initializeParticipationManager()\n    } else {\n      // ÌäπÏ†ï Î©§Î≤Ñ ÏóÖÎç∞Ïù¥Ìä∏\n      // TODO: Ïã§Ï†ú ÏóÖÎç∞Ïù¥Ìä∏ Î°úÏßÅ Íµ¨ÌòÑ\n      logger.log('Member update:', memberId, updates)\n    }\n  }\n\n  onMount(() => {\n    initializeParticipationManager()\n  })\n</script>\n\n<PageLayout\n  title=\"Ï∞∏Ïó¨Ïú® Í¥ÄÎ¶¨\"\n  subtitle=\"Ïó∞Íµ¨Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏ Ï∞∏Ïó¨Ïú® Î∂ÑÏÑù Î∞è ÏµúÏ†ÅÌôî\">\n  <div class=\"space-y-6\">\n    <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->\n    <ThemeGrid cols={4}>\n      <ThemeStatCard\n        title=\"Ï¥ù ÏßÅÏõê Ïàò\"\n        value={totalEmployees.toString()}\n        icon={UsersIcon} />\n      <ThemeStatCard\n        title=\"ÌôúÏÑ± ÌîÑÎ°úÏ†ùÌä∏\"\n        value={totalProjects.toString()}\n        icon={TargetIcon} />\n      <ThemeStatCard\n        title=\"ÌèâÍ∑† Ï∞∏Ïó¨Ïú®\"\n        value={`${averageParticipationRate.toFixed(1)}%`}\n        icon={PercentIcon}\n      />\n      <ThemeStatCard\n        title=\"Ï¥ù Ïù∏Í±¥ÎπÑ\"\n        value={formatCurrency(participationAnalytics.totalCost)}\n        icon={DollarSignIcon}\n      />\n    </ThemeGrid>\n\n    <!-- ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <div class=\"flex flex-col lg:flex-row gap-4 mb-4\">\n          <div class=\"flex-1\">\n            <input\n              type=\"text\"\n              placeholder=\"ÏßÅÏõêÎ™Ö ÎòêÎäî ÌîÑÎ°úÏ†ùÌä∏Î™ÖÏúºÎ°ú Í≤ÄÏÉâ...\"\n              bind:value={searchTerm}\n              class=\"w-full px-3 py-2 border rounded-md text-sm\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n            />\n          </div>\n          <div class=\"flex gap-2\">\n            <select\n              bind:value={selectedProject}\n              class=\"px-3 py-2 border rounded-md text-sm\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n            >\n              <option value=\"all\">Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏</option>\n              {#each $projects as project, i (i)}\n                <option value={project.id}>{project.name}</option>\n              {/each}\n            </select>\n            <select\n              bind:value={selectedEmployee}\n              class=\"px-3 py-2 border rounded-md text-sm\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n            >\n              <option value=\"all\">Ï†ÑÏ≤¥ ÏßÅÏõê</option>\n              {#each $employees as employee, i (i)}\n                <option value={employee.id}>{employee.name}</option>\n              {/each}\n            </select>\n            <select\n              bind:value={selectedStatus}\n              class=\"px-3 py-2 border rounded-md text-sm\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n            >\n              <option value=\"all\">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>\n              <option value=\"active\">ÌôúÏÑ±</option>\n              <option value=\"inactive\">ÎπÑÌôúÏÑ±</option>\n              <option value=\"pending\">ÎåÄÍ∏∞</option>\n              <option value=\"completed\">ÏôÑÎ£å</option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"flex justify-between items-center\">\n          <div class=\"flex gap-2\">\n            <ThemeButton\n              variant=\"secondary\"\n              size=\"sm\"\n              onclick={() => (showAdvancedFilters = !showAdvancedFilters)}\n            >\n              <FilterIcon\n                size={16}\n                class=\"mr-2\" />\n              Í≥†Í∏â ÌïÑÌÑ∞\n            </ThemeButton>\n            <ThemeButton\n              variant=\"secondary\"\n              size=\"sm\"\n              onclick={exportData}>\n              <DownloadIcon\n                size={16}\n                class=\"mr-2\" />\n              Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞\n            </ThemeButton>\n          </div>\n          <ThemeButton\n            variant=\"primary\"\n            onclick={() => openParticipationModal()}>\n            <PlusIcon\n              size={16}\n              class=\"mr-2\" />\n            Ï∞∏Ïó¨ Ï∂îÍ∞Ä\n          </ThemeButton>\n        </div>\n\n        <!-- Í≥†Í∏â ÌïÑÌÑ∞ -->\n        {#if showAdvancedFilters}\n          <div\n            class=\"mt-4 p-4 border rounded-lg\"\n            style:border-color=\"var(--color-border)\"\n            style:background=\"var(--color-surface-elevated)\"\n          >\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <div\n                  class=\"block text-sm font-medium mb-2\"\n                  style:color=\"var(--color-text)\">\n                  Ï∞∏Ïó¨Ïú® Î≤îÏúÑ\n                </div>\n                <div class=\"flex gap-2\">\n                  <input\n                    type=\"number\"\n                    placeholder=\"ÏµúÏÜå\"\n                    bind:value={minParticipationRate}\n                    min=\"0\"\n                    max=\"100\"\n                    class=\"px-3 py-2 border rounded-md text-sm\"\n                    style:background=\"var(--color-surface)\"\n                    style:border-color=\"var(--color-border)\"\n                    style:color=\"var(--color-text)\"\n                  />\n                  <input\n                    type=\"number\"\n                    placeholder=\"ÏµúÎåÄ\"\n                    bind:value={maxParticipationRate}\n                    min=\"0\"\n                    max=\"100\"\n                    class=\"px-3 py-2 border rounded-md text-sm\"\n                    style:background=\"var(--color-surface)\"\n                    style:border-color=\"var(--color-border)\"\n                    style:color=\"var(--color-text)\"\n                  />\n                </div>\n              </div>\n              <div>\n                <div\n                  class=\"block text-sm font-medium mb-2\"\n                  style:color=\"var(--color-text)\">\n                  Í∏âÏó¨ Î≤îÏúÑ\n                </div>\n                <div class=\"flex gap-2\">\n                  <input\n                    type=\"number\"\n                    placeholder=\"ÏµúÏÜå Í∏âÏó¨\"\n                    bind:value={minSalary}\n                    min=\"0\"\n                    class=\"px-3 py-2 border rounded-md text-sm\"\n                    style:background=\"var(--color-surface)\"\n                    style:border-color=\"var(--color-border)\"\n                    style:color=\"var(--color-text)\"\n                  />\n                  <input\n                    type=\"number\"\n                    placeholder=\"ÏµúÎåÄ Í∏âÏó¨\"\n                    bind:value={maxSalary}\n                    min=\"0\"\n                    class=\"px-3 py-2 border rounded-md text-sm\"\n                    style:background=\"var(--color-surface)\"\n                    style:border-color=\"var(--color-border)\"\n                    style:color=\"var(--color-text)\"\n                  />\n                </div>\n              </div>\n              <div>\n                <div\n                  class=\"block text-sm font-medium mb-2\"\n                  style:color=\"var(--color-text)\">\n                  Î∂ÄÏÑú\n                </div>\n                <select\n                  bind:value={selectedDepartment}\n                  class=\"w-full px-3 py-2 border rounded-md text-sm\"\n                  style:background=\"var(--color-surface)\"\n                  style:border-color=\"var(--color-border)\"\n                  style:color=\"var(--color-text)\"\n                >\n                  <option value=\"all\">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>\n                  <option value=\"Î∂ÄÏÑúÏóÜÏùå\">Î∂ÄÏÑúÏóÜÏùå</option>\n                  <option value=\"research\">Ïó∞Íµ¨Í∞úÎ∞ú</option>\n                  <option value=\"engineering\">ÏóîÏßÄÎãàÏñ¥ÎßÅ</option>\n                  <option value=\"design\">ÎîîÏûêÏù∏</option>\n                  <option value=\"management\">Í≤ΩÏòÅÏßÄÏõê</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        {/if}\n      </div>\n    </ThemeCard>\n\n    <!-- Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú -->\n    <ThemeGrid cols={2}>\n      <ThemeCard>\n        <div class=\"p-6\">\n          <ThemeSectionHeader title=\"Ï∞∏Ïó¨Ïú® Î∂ÑÏÑù\" />\n          <div class=\"mt-4 space-y-3\">\n            <div class=\"flex justify-between items-center\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-3 h-3 rounded-full bg-red-500\"></div>\n                <span\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text)\">Í≥ºÎ∂ÄÌïò (100% Ï¥àÍ≥º)</span>\n              </div>\n              <span\n                class=\"font-medium\"\n                style:color=\"var(--color-text)\"\n              >{participationAnalytics.overloaded}</span\n              >\n            </div>\n            <div class=\"flex justify-between items-center\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-3 h-3 rounded-full bg-green-500\"></div>\n                <span\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text)\">ÏµúÏ†Å (80-100%)</span>\n              </div>\n              <span\n                class=\"font-medium\"\n                style:color=\"var(--color-text)\"\n              >{participationAnalytics.optimal}</span\n              >\n            </div>\n            <div class=\"flex justify-between items-center\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-3 h-3 rounded-full bg-yellow-500\"></div>\n                <span\n                  class=\"text-sm\"\n                  style:color=\"var(--color-text)\">ÎØ∏ÌôúÏö© (50% ÎØ∏Îßå)</span>\n              </div>\n              <span\n                class=\"font-medium\"\n                style:color=\"var(--color-text)\"\n              >{participationAnalytics.underutilized}</span\n              >\n            </div>\n          </div>\n        </div>\n      </ThemeCard>\n\n      <ThemeCard>\n        <div class=\"p-6\">\n          <ThemeSectionHeader title=\"AI Ï∂îÏ≤úÏÇ¨Ìï≠\" />\n          <div class=\"mt-4 space-y-3\">\n            {#each filteredRecommendations.slice(0, 3) as recommendation}\n              <div\n                class=\"p-3 rounded-lg border\"\n                style:border-color=\"var(--color-border)\"\n                style:background=\"var(--color-surface-elevated)\"\n              >\n                <div class=\"flex items-start gap-2\">\n                  <ZapIcon\n                    size={16}\n                    class=\"mt-0.5\"\n                    style=\"color: var(--color-primary);\" />\n                  <div class=\"flex-1\">\n                    <p\n                      class=\"text-sm font-medium\"\n                      style:color=\"var(--color-text)\">\n                      {(recommendation as any).title}\n                    </p>\n                    <p\n                      class=\"text-xs mt-1\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {(recommendation as any).description}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            {/each}\n          </div>\n        </div>\n      </ThemeCard>\n    </ThemeGrid>\n\n    <!-- Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≤ÄÏ¶ù ÌÖåÏù¥Î∏î -->\n    <ResearcherValidationTable\n      projectId=\"851a584c-7b2e-4413-97b3-15665dede7fc\"\n      members={sortedParticipations}\n      onMemberUpdate={handleMemberUpdate}\n    />\n\n    <!-- ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï∞∏Ïó¨ ÌòÑÌô© -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <ThemeSectionHeader title=\"ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï∞∏Ïó¨ ÌòÑÌô©\" />\n        <div class=\"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {#each projectParticipation as project, i (i)}\n            <div\n              class=\"p-4 border rounded-lg\"\n              style:border-color=\"var(--color-border)\"\n              style:background=\"var(--color-surface-elevated)\"\n            >\n              <div class=\"flex items-center gap-2 mb-2\">\n                <TargetIcon\n                  size={16}\n                  style=\"color: var(--color-primary);\" />\n                <h4\n                  class=\"font-medium\"\n                  style:color=\"var(--color-text)\">{project.name}</h4>\n              </div>\n              <div class=\"space-y-1 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">Ï∞∏Ïó¨Ïûê Ïàò:</span>\n                  <span style:color=\"var(--color-text)\">{project.participantCount}Î™Ö</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">Ï¥ù Ï∞∏Ïó¨Ïú®:</span>\n                  <span style:color=\"var(--color-text)\"\n                  >{project.totalParticipation.toFixed(1)}%</span\n                  >\n                </div>\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">ÌèâÍ∑† Ï∞∏Ïó¨Ïú®:</span>\n                  <span style:color=\"var(--color-text)\"\n                  >{project.averageParticipation.toFixed(1)}%</span\n                  >\n                </div>\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">Ï¥ù ÎπÑÏö©:</span>\n                  <span style:color=\"var(--color-text)\">{formatCurrency(project.totalCost)}</span>\n                </div>\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n    </ThemeCard>\n\n    <!-- ÏßÅÏõêÎ≥Ñ Ï∞∏Ïó¨ ÌòÑÌô© -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <ThemeSectionHeader title=\"ÏßÅÏõêÎ≥Ñ Ï∞∏Ïó¨ ÌòÑÌô©\" />\n        <div class=\"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {#each employeeParticipation as employee, i (i)}\n            <div\n              class=\"p-4 border rounded-lg\"\n              style:border-color=\"var(--color-border)\"\n              style:background=\"var(--color-surface-elevated)\"\n            >\n              <div class=\"flex items-center gap-2 mb-2\">\n                <UserIcon\n                  size={16}\n                  style=\"color: var(--color-primary);\" />\n                <h4\n                  class=\"font-medium\"\n                  style:color=\"var(--color-text)\">{employee.name}</h4>\n                {#if employee.isOverloaded}\n                  <AlertTriangleIcon\n                    size={14}\n                    style=\"color: var(--color-danger);\" />\n                {/if}\n              </div>\n              <div class=\"space-y-1 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">ÌîÑÎ°úÏ†ùÌä∏ Ïàò:</span>\n                  <span style:color=\"var(--color-text)\">{employee.projectCount}Í∞ú</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">Ï¥ù Ï∞∏Ïó¨Ïú®:</span>\n                  <span style:color=\"var(--color-text)\"\n                  >{employee.totalParticipation.toFixed(1)}%</span\n                  >\n                </div>\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">ÌèâÍ∑† Ï∞∏Ïó¨Ïú®:</span>\n                  <span style:color=\"var(--color-text)\"\n                  >{employee.averageParticipation.toFixed(1)}%</span\n                  >\n                </div>\n                <div class=\"flex justify-between\">\n                  <span style:color=\"var(--color-text-secondary)\">Ï¥ù ÎπÑÏö©:</span>\n                  <span style:color=\"var(--color-text)\">{formatCurrency(employee.totalCost)}</span>\n                </div>\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n    </ThemeCard>\n  </div>\n\n  <!-- Ï∞∏Ïó¨ Ï∂îÍ∞Ä/Ìé∏Ïßë Î™®Îã¨ -->\n  {#if showParticipationModal}\n    <ThemeModal>\n      <div class=\"p-6\">\n        <div class=\"flex justify-between items-center mb-4\">\n          <h3\n            class=\"text-lg font-semibold\"\n            style:color=\"var(--color-text)\">\n            {selectedParticipation ? 'Ï∞∏Ïó¨ Ìé∏Ïßë' : 'Ï∞∏Ïó¨ Ï∂îÍ∞Ä'}\n          </h3>\n          <button type=\"button\"\n            onclick={closeParticipationModal}\n            class=\"p-1 rounded hover:bg-opacity-20\"\n            style:color=\"var(--color-text-secondary)\"\n          >\n            <XCircleIcon size={20} />\n          </button>\n        </div>\n\n        <form\n          onsubmit={e => {\n            e.preventDefault()\n            saveParticipation()\n          }}\n          class=\"space-y-4\"\n        >\n          <div>\n            <div\n              class=\"block text-sm font-medium mb-2\"\n              style:color=\"var(--color-text)\">ÏßÅÏõê</div>\n            <select\n              bind:value={selectedEmployeeForModal}\n              class=\"w-full px-3 py-2 border rounded-md\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n              required\n            >\n              <option value=\"\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n              {#each $employees as employee, i (i)}\n                <option value={employee.id}>{employee.name}</option>\n              {/each}\n            </select>\n          </div>\n\n          <div>\n            <div\n              class=\"block text-sm font-medium mb-2\"\n              style:color=\"var(--color-text)\">\n              ÌîÑÎ°úÏ†ùÌä∏\n            </div>\n            <select\n              bind:value={selectedProjectForModal}\n              class=\"w-full px-3 py-2 border rounded-md\"\n              style:background=\"var(--color-surface)\"\n              style:border-color=\"var(--color-border)\"\n              style:color=\"var(--color-text)\"\n              required\n            >\n              <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n              {#each $projects as project, i (i)}\n                <option value={project.id}>{project.name}</option>\n              {/each}\n            </select>\n          </div>\n\n          <div class=\"flex gap-4\">\n            <ThemeButton\n              variant=\"primary\"\n              class=\"flex-1\"\n              onclick={saveParticipation}>\n              Ï†ÄÏû•\n            </ThemeButton>\n            <ThemeButton\n              variant=\"secondary\"\n              onclick={closeParticipationModal}\n              class=\"flex-1\">\n              Ï∑®ÏÜå\n            </ThemeButton>\n          </div>\n        </form>\n      </div>\n    </ThemeModal>\n  {/if}\n\n  <!-- ÏÉÅÏÑ∏ Î∂ÑÏÑù Î™®Îã¨ -->\n  {#if showAnalyticsModal}\n    <ThemeModal>\n      <div class=\"p-6\">\n        <div class=\"flex justify-between items-center mb-4\">\n          <h3\n            class=\"text-lg font-semibold\"\n            style:color=\"var(--color-text)\">ÏÉÅÏÑ∏ Î∂ÑÏÑù</h3>\n          <button type=\"button\"\n            onclick={() => (showAnalyticsModal = false)}\n            class=\"p-1 rounded hover:bg-opacity-20\"\n            style:color=\"var(--color-text-secondary)\"\n          >\n            <XCircleIcon size={20} />\n          </button>\n        </div>\n\n        <div class=\"space-y-6\">\n          <div\n            class=\"p-4 border rounded-lg\"\n            style:border-color=\"var(--color-border)\"\n            style:background=\"var(--color-surface-elevated)\"\n          >\n            <h4\n              class=\"font-medium mb-2\"\n              style:color=\"var(--color-text)\">Ï∞∏Ïó¨Ïú® Î∂ÑÌè¨</h4>\n            <div class=\"h-32 bg-gray-100 rounded flex items-center justify-center\">\n              <span class=\"text-gray-500\">Ï∞®Ìä∏ ÏòÅÏó≠</span>\n            </div>\n          </div>\n          <div\n            class=\"p-4 border rounded-lg\"\n            style:border-color=\"var(--color-border)\"\n            style:background=\"var(--color-surface-elevated)\"\n          >\n            <h4\n              class=\"font-medium mb-2\"\n              style:color=\"var(--color-text)\">ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÎπÑÏö© Î∂ÑÏÑù</h4>\n            <div class=\"h-32 bg-gray-100 rounded flex items-center justify-center\">\n              <span class=\"text-gray-500\">Ï∞®Ìä∏ ÏòÅÏó≠</span>\n            </div>\n          </div>\n          <div\n            class=\"p-4 border rounded-lg\"\n            style:border-color=\"var(--color-border)\"\n            style:background=\"var(--color-surface-elevated)\"\n          >\n            <h4\n              class=\"font-medium mb-2\"\n              style:color=\"var(--color-text)\">ÏãúÍ∞ÑÎ≥Ñ Ï∞∏Ïó¨ Ï∂îÏù¥</h4>\n            <div class=\"h-32 bg-gray-100 rounded flex items-center justify-center\">\n              <span class=\"text-gray-500\">Ï∞®Ìä∏ ÏòÅÏó≠</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ThemeModal>\n  {/if}\n\n  <!-- ÏµúÏ†ÅÌôî Î™®Îã¨ -->\n  {#if showOptimizationModal}\n    <ThemeModal>\n      <div class=\"p-6\">\n        <div class=\"flex justify-between items-center mb-4\">\n          <h3\n            class=\"text-lg font-semibold\"\n            style:color=\"var(--color-text)\">Ï∞∏Ïó¨Ïú® ÏµúÏ†ÅÌôî</h3>\n          <button type=\"button\"\n            onclick={() => (showOptimizationModal = false)}\n            class=\"p-1 rounded hover:bg-opacity-20\"\n            style:color=\"var(--color-text-secondary)\"\n          >\n            <XCircleIcon size={20} />\n          </button>\n        </div>\n\n        <div class=\"space-y-4\">\n          <div\n            class=\"p-4 border rounded-lg\"\n            style:border-color=\"var(--color-border)\"\n            style:background=\"var(--color-surface-elevated)\"\n          >\n            <h4\n              class=\"font-medium mb-2\"\n              style:color=\"var(--color-text)\">AI Ï∂îÏ≤úÏÇ¨Ìï≠</h4>\n            <div class=\"space-y-2\">\n              {#each filteredRecommendations as recommendation, i (i)}\n                <div class=\"flex items-start gap-2\">\n                  <ZapIcon\n                    size={16}\n                    class=\"mt-0.5\"\n                    style=\"color: var(--color-primary);\" />\n                  <div>\n                    <p\n                      class=\"text-sm font-medium\"\n                      style:color=\"var(--color-text)\">\n                      {(recommendation as any).title}\n                    </p>\n                    <p\n                      class=\"text-xs\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {(recommendation as any).description}\n                    </p>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n\n          <div class=\"flex gap-4\">\n            <ThemeButton\n              variant=\"primary\"\n              class=\"flex-1\">ÏµúÏ†ÅÌôî Ï†ÅÏö©</ThemeButton>\n            <ThemeButton\n              variant=\"secondary\"\n              onclick={() => (showOptimizationModal = false)}\n              class=\"flex-1\"\n            >\n              Îã´Í∏∞\n            </ThemeButton>\n          </div>\n        </div>\n      </div>\n    </ThemeModal>\n  {/if}\n</PageLayout>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/budget/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 65,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 67,
        "endColumn": 18
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 65,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 65,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [2021, 2022], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 71,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 75,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 86,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 88,
        "endColumn": 18
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 86,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 86,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [2701, 2702], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Progress from '$lib/components/ui/Progress.svelte'\n  import { projectsStore, expenseDocsStore } from '$lib/stores/rnd'\n  import { page } from '$app/state'\n  import { formatKRW } from '$lib/utils/format'\n\n  const projectId = page.params.projectId\n  const project = $derived($projectsStore.find(p => p.id === projectId))\n  const docs = $derived($expenseDocsStore.filter(d => d.projectId === projectId))\n  const utilization = $derived(\n    project ? Math.round((project.spentKRW / project.budgetKRW) * 100) : 0\n  )\n  const categoryHints = $derived(\n    (function () {\n      const m: Record<string, number> = {}\n      for (const d of docs) m[d.category] = (m[d.category] ?? 0) + (d.amountKRW ?? 0)\n      return m\n    })()\n  )\n\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<h3 class=\"text-lg font-semibold mb-3\">Budget Management ¬∑ {projectId}</h3>\n\n{#if !project}\n  <div class=\"text-sm text-red-700\">ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.</div>\n{:else}\n  <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n    <Card>\n      <div class=\"kpi\">\n        <div>\n          <div class=\"text-caption\">Ï¥ù ÏòàÏÇ∞</div>\n          <div class=\"text-2xl font-bold\">{formatKRW(project.budgetKRW)}</div>\n        </div>\n      </div>\n    </Card>\n    <Card>\n      <div class=\"kpi\">\n        <div>\n          <div class=\"text-caption\">ÏßëÌñâ</div>\n          <div class=\"text-2xl font-bold\">{formatKRW(project.spentKRW)}</div>\n        </div>\n      </div>\n    </Card>\n    <Card>\n      <div class=\"kpi\">\n        <div>\n          <div class=\"text-caption\">ÏßëÌñâÎ•†</div>\n          <div class=\"text-2xl font-bold\">{utilization}%</div>\n          <div class=\"mt-3\"><Progress value={utilization} /></div>\n        </div>\n      </div>\n    </Card>\n  </div>\n\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6\">\n    <Card header=\"Ïπ¥ÌÖåÍ≥†Î¶¨ ÌûåÌä∏(Î¨∏ÏÑú Í∏∞Ï§Ä)\">\n      {#if loading}\n        <div class=\"space-y-2\">\n          {#each Array(4) as _}\n            <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n          {/each}\n        </div>\n      {:else}\n        <div class=\"grid grid-cols-2 gap-2 text-sm\">\n          {#each Object.entries(categoryHints) as [k, v]}\n            <div class=\"flex items-center justify-between\">\n              <span>{k}</span><span class=\"tabular-nums\">{formatKRW(v)}</span>\n            </div>\n          {/each}\n          {#if Object.keys(categoryHints).length === 0}\n            <div class=\"text-gray-500\">Î¨∏ÏÑúÍ∞Ä ÏóÜÏäµÎãàÎã§</div>\n          {/if}\n        </div>\n      {/if}\n    </Card>\n\n    <Card header=\"Î¨∏ÏÑú ÎÇ¥Ïó≠\">\n      {#if loading}\n        <div class=\"space-y-2\">\n          {#each Array(6) as _}\n            <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n          {/each}\n        </div>\n      {:else}\n        <div class=\"overflow-auto\">\n          <table class=\"min-w-full text-sm\">\n            <thead class=\"bg-gray-50 text-left text-gray-600\">\n              <tr>\n                <th class=\"px-3 py-2\">Î¨∏ÏÑú</th>\n                <th class=\"px-3 py-2\">Î∂ÑÎ•ò</th>\n                <th class=\"px-3 py-2\">Î∂ÑÍ∏∞</th>\n                <th class=\"px-3 py-2\">Í∏àÏï°</th>\n              </tr>\n            </thead>\n            <tbody class=\"divide-y\">\n              {#each docs as d, i (i)}\n                <tr>\n                  <td class=\"px-3 py-2\">{d.id} ¬∑ {d.title}</td>\n                  <td class=\"px-3 py-2\">{d.category}</td>\n                  <td class=\"px-3 py-2\">{d.quarter}Q</td>\n                  <td class=\"px-3 py-2\">{d.amountKRW ? formatKRW(d.amountKRW) : '-'}</td>\n                </tr>\n              {/each}\n            </tbody>\n          </table>\n        </div>\n      {/if}\n    </Card>\n  </div>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/compliance/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 113,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 115,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 113,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 113,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [3226, 3227], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import { page } from '$app/state'\n  import { goto } from '$app/navigation'\n\n  type CStatus = 'Ï∂©Ï°±' | 'ÎØ∏ÎπÑ' | 'Í≤ÄÌÜ†Ï§ë'\n  interface Rule {\n    id: string\n    category: 'Ïù∏Í±¥ÎπÑ' | 'Ïû¨Î£åÎπÑ' | 'Ïó∞Íµ¨ÌôúÎèôÎπÑ' | 'Ïó¨ÎπÑ' | 'Î≥¥Í≥†'\n    title: string\n    status: CStatus\n    note?: string\n  }\n\n  const projectId = page.params.projectId as string\n  let rules: Rule[] = [\n    { id: `${projectId}-C1`, category: 'Ïù∏Í±¥ÎπÑ', title: 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Î≥¥Í¥Ä', status: 'Ï∂©Ï°±' },\n    {\n      id: `${projectId}-C2`,\n      category: 'Ïó¨ÎπÑ',\n      title: 'Ï∂úÏû•Î≥¥Í≥†ÏÑú Ï≤®Î∂Ä',\n      status: 'ÎØ∏ÎπÑ',\n      note: 'Î≥¥Í≥†ÏÑú ÎàÑÎùΩ'\n    },\n    { id: `${projectId}-C3`, category: 'Î≥¥Í≥†', title: 'ÏõîÍ∞Ñ ÏßÑÎèÑÎ≥¥Í≥† Ï†úÏ∂ú', status: 'Í≤ÄÌÜ†Ï§ë' }\n  ]\n\n  let cat = $state('') as '' | Rule['category']\n  let status = $state('') as '' | CStatus\n  let query = $state('')\n\n  let lastQuery = $state('')\n  if (typeof window !== 'undefined') {\n    const sp = new URLSearchParams(window.location.search)\n    cat = (sp.get('cat') as typeof cat) ?? ''\n    status = (sp.get('status') as typeof status) ?? ''\n    query = sp.get('q') ?? ''\n    lastQuery = sp.toString()\n  }\n  $effect(() => {\n    if (typeof window !== 'undefined') {\n      const sp = new URLSearchParams(window.location.search)\n      if (cat) sp.set('cat', cat)\n      else sp.delete('cat')\n      if (status) sp.set('status', status)\n      else sp.delete('status')\n      if (query) sp.set('q', query)\n      else sp.delete('q')\n      const newQuery = sp.toString()\n      if (newQuery !== lastQuery) {\n        lastQuery = newQuery\n        goto(`${window.location.pathname}?${newQuery}`, {\n          replaceState: true,\n          keepFocus: true,\n          noScroll: true\n        })\n      }\n    }\n  })\n\n  const filtered = $derived(\n    rules.filter(\n      r =>\n        (cat ? r.category === cat : true) &&\n          (status ? r.status === status : true) &&\n          (query ? r.title.includes(query) : true)\n    )\n  )\n\n  function colorOf(s: CStatus): 'green' | 'yellow' | 'red' {\n    if (s === 'Ï∂©Ï°±') return 'green'\n    if (s === 'Í≤ÄÌÜ†Ï§ë') return 'yellow'\n    return 'red'\n  }\n\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<h3 class=\"text-lg font-semibold mb-3\">Compliance Monitoring ¬∑ {projectId}</h3>\n\n<Card>\n  <div class=\"mb-3 grid grid-cols-1 sm:grid-cols-4 gap-2 text-sm\">\n    <input\n      class=\"rounded-md border border-gray-200 px-2 py-1\"\n      placeholder=\"Í∑úÏ†ï Í≤ÄÏÉâ\"\n      bind:value={query}\n    />\n    <select\n      class=\"rounded-md border border-gray-200 px-2 py-1\"\n      bind:value={cat}>\n      <option value=\"\">Ïπ¥ÌÖåÍ≥†Î¶¨: Ï†ÑÏ≤¥</option>\n      <option value=\"Ïù∏Í±¥ÎπÑ\">Ïù∏Í±¥ÎπÑ</option>\n      <option value=\"Ïû¨Î£åÎπÑ\">Ïû¨Î£åÎπÑ</option>\n      <option value=\"Ïó∞Íµ¨ÌôúÎèôÎπÑ\">Ïó∞Íµ¨ÌôúÎèôÎπÑ</option>\n      <option value=\"Ïó¨ÎπÑ\">Ïó¨ÎπÑ</option>\n      <option value=\"Î≥¥Í≥†\">Î≥¥Í≥†</option>\n    </select>\n    <select\n      class=\"rounded-md border border-gray-200 px-2 py-1\"\n      bind:value={status}>\n      <option value=\"\">ÏÉÅÌÉú: Ï†ÑÏ≤¥</option>\n      <option value=\"Ï∂©Ï°±\">Ï∂©Ï°±</option>\n      <option value=\"Í≤ÄÌÜ†Ï§ë\">Í≤ÄÌÜ†Ï§ë</option>\n      <option value=\"ÎØ∏ÎπÑ\">ÎØ∏ÎπÑ</option>\n    </select>\n  </div>\n  {#if loading}\n    <div class=\"space-y-2\">\n      {#each Array(8) as _}\n        <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n      {/each}\n    </div>\n  {:else}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">ID</th>\n            <th class=\"px-3 py-2\">Ïπ¥ÌÖåÍ≥†Î¶¨</th>\n            <th class=\"px-3 py-2\">Í∑úÏ†ï</th>\n            <th class=\"px-3 py-2\">ÏÉÅÌÉú</th>\n            <th class=\"px-3 py-2\">ÎπÑÍ≥†</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each filtered as r, i (i)}\n            <tr>\n              <td class=\"px-3 py-2\">{r.id}</td>\n              <td class=\"px-3 py-2\">{r.category}</td>\n              <td class=\"px-3 py-2\">{r.title}</td>\n              <td class=\"px-3 py-2\"><Badge color={colorOf(r.status)}>{r.status}</Badge></td>\n              <td class=\"px-3 py-2 text-gray-500\">{r.note ?? '-'}</td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/if}\n</Card>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/deliverables/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 114,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 116,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 114,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 114,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [3005, 3006], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import { page } from '$app/state'\n  import { goto } from '$app/navigation'\n\n  type DStatus = 'Ï§ÄÎπÑ' | 'ÏßÑÌñâ' | 'ÏôÑÎ£å' | 'ÏßÄÏó∞'\n  interface Deliverable {\n    id: string\n    title: string\n    status: DStatus\n    due: string\n    owner: string\n  }\n\n  const projectId = page.params.projectId as string\n  // mock per-project deliverables\n  let items: Deliverable[] = [\n    {\n      id: `${projectId}-D1`,\n      title: 'Ï§ëÍ∞ÑÎ≥¥Í≥†ÏÑú',\n      status: 'ÏßÑÌñâ',\n      due: '2025-11-15',\n      owner: 'ÍπÄÏ≤†Ïàò'\n    },\n    {\n      id: `${projectId}-D2`,\n      title: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ v1',\n      status: 'ÏßÄÏó∞',\n      due: '2025-12-01',\n      owner: 'Ïù¥ÏòÅÌù¨'\n    },\n    {\n      id: `${projectId}-D3`,\n      title: 'ÏµúÏ¢ÖÎ≥¥Í≥†ÏÑú',\n      status: 'Ï§ÄÎπÑ',\n      due: '2026-05-31',\n      owner: 'Î∞ïÎØºÏàò'\n    }\n  ]\n\n  let status = $state('') as '' | DStatus\n  let query = $state('')\n\n  // initial read\n  let lastQuery = $state('')\n  if (typeof window !== 'undefined') {\n    const sp = new URLSearchParams(window.location.search)\n    status = (sp.get('status') as typeof status) ?? ''\n    query = sp.get('q') ?? ''\n    lastQuery = sp.toString()\n  }\n  // sync to URL\n  $effect(() => {\n    if (typeof window !== 'undefined') {\n      const sp = new URLSearchParams(window.location.search)\n      if (status) sp.set('status', status)\n      else sp.delete('status')\n      if (query) sp.set('q', query)\n      else sp.delete('q')\n      const newQuery = sp.toString()\n      if (newQuery !== lastQuery) {\n        lastQuery = newQuery\n        goto(`${window.location.pathname}?${newQuery}`, {\n          replaceState: true,\n          keepFocus: true,\n          noScroll: true\n        })\n      }\n    }\n  })\n\n  const filtered = $derived(\n    items.filter(\n      d => (status ? d.status === status : true) && (query ? d.title.includes(query) : true)\n    )\n  )\n\n  function colorOf(s: DStatus): 'green' | 'blue' | 'yellow' | 'red' {\n    if (s === 'ÏôÑÎ£å') return 'green'\n    if (s === 'ÏßÑÌñâ') return 'blue'\n    if (s === 'ÏßÄÏó∞') return 'red'\n    return 'yellow'\n  }\n\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<h3 class=\"text-lg font-semibold mb-3\">Deliverables ¬∑ {projectId}</h3>\n\n<Card>\n  <div class=\"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center\">\n    <input\n      class=\"w-full sm:w-64 rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\n      placeholder=\"Ìï≠Î™© Í≤ÄÏÉâ\"\n      bind:value={query}\n    />\n    <select\n      class=\"w-full sm:w-48 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={status}\n    >\n      <option value=\"\">ÏÉÅÌÉú: Ï†ÑÏ≤¥</option>\n      <option value=\"Ï§ÄÎπÑ\">Ï§ÄÎπÑ</option>\n      <option value=\"ÏßÑÌñâ\">ÏßÑÌñâ</option>\n      <option value=\"ÏôÑÎ£å\">ÏôÑÎ£å</option>\n      <option value=\"ÏßÄÏó∞\">ÏßÄÏó∞</option>\n    </select>\n  </div>\n  {#if loading}\n    <div class=\"space-y-2\">\n      {#each Array(8) as _}\n        <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n      {/each}\n    </div>\n  {:else}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">ID</th>\n            <th class=\"px-3 py-2\">Ï†úÎ™©</th>\n            <th class=\"px-3 py-2\">Îã¥Îãπ</th>\n            <th class=\"px-3 py-2\">ÎßàÍ∞ê</th>\n            <th class=\"px-3 py-2\">ÏÉÅÌÉú</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each filtered as d, i (i)}\n            <tr>\n              <td class=\"px-3 py-2\">{d.id}</td>\n              <td class=\"px-3 py-2\">{d.title}</td>\n              <td class=\"px-3 py-2\">{d.owner}</td>\n              <td class=\"px-3 py-2\">{d.due}</td>\n              <td class=\"px-3 py-2\"><Badge color={colorOf(d.status)}>{d.status}</Badge></td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/if}\n</Card>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/expenses/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 103,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 105,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 103,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 103,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [3088, 3089], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import { page } from '$app/state'\n  import { expenseDocsStore } from '$lib/stores/rnd'\n  import { formatKRW } from '$lib/utils/format'\n  import type { ExpenseDocument } from '$lib/types'\n  import { goto } from '$app/navigation'\n\n  const projectId = page.params.projectId as string\n  const all = $derived($expenseDocsStore.filter(d => d.projectId === projectId))\n\n  let status = $state('') as '' | 'ÎåÄÍ∏∞' | 'ÏäπÏù∏' | 'Î∞òÎ†§'\n  let query = $state('')\n\n  // read initial from URL\n  let lastQuery = $state('')\n  if (typeof window !== 'undefined') {\n    const sp = new URLSearchParams(window.location.search)\n    status = (sp.get('status') as typeof status) ?? ''\n    query = sp.get('q') ?? ''\n    lastQuery = sp.toString()\n  }\n\n  // sync to URL\n  $effect(() => {\n    if (typeof window !== 'undefined') {\n      const sp = new URLSearchParams(window.location.search)\n      if (status) sp.set('status', status)\n      else sp.delete('status')\n      if (query) sp.set('q', query)\n      else sp.delete('q')\n      const newQuery = sp.toString()\n      if (newQuery !== lastQuery) {\n        lastQuery = newQuery\n        goto(`${window.location.pathname}?${newQuery}`, {\n          replaceState: true,\n          keepFocus: true,\n          noScroll: true\n        })\n      }\n    }\n  })\n\n  const filtered = $derived(\n    all.filter(\n      d =>\n        (status ? d.status === status : true) &&\n          (query ? d.title.includes(query) || d.id.includes(query) : true)\n    )\n  )\n\n  // Í∞ÑÎã®Ìïú Ïª¥ÌîåÎùºÏù¥Ïñ∏Ïä§ Í∑úÏπô\n  const requiredAttachments: Record<string, number> = {\n    Ïù∏Í±¥ÎπÑ: 2,\n    Ïû¨Î£åÎπÑ: 1,\n    Ïó∞Íµ¨ÌôúÎèôÎπÑ: 1,\n    Ïó¨ÎπÑ: 2\n  }\n  const requiredDocNames: Record<string, string[]> = {\n    Ïù∏Í±¥ÎπÑ: ['Í∏âÏó¨Î™ÖÏÑ∏ÏÑú', '4ÎåÄÎ≥¥Ìóò ÎÇ©Î∂ÄÌôïÏù∏'],\n    Ïû¨Î£åÎπÑ: ['ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú'],\n    Ïó∞Íµ¨ÌôúÎèôÎπÑ: ['Ï¶ùÎπôÏÑúÎ•ò'],\n    Ïó¨ÎπÑ: ['ÏòÅÏàòÏ¶ù', 'Ï∂úÏû•Î≥¥Í≥†ÏÑú']\n  }\n  function isCompliant(d: ExpenseDocument): boolean {\n    const min = requiredAttachments[d.category] ?? 0\n    return (d.attachments ?? 0) >= min\n  }\n  function missingDocs(d: ExpenseDocument): string[] {\n    const req = requiredDocNames[d.category] ?? []\n    const have = d.attachments ?? 0\n    return have >= req.length ? [] : req.slice(have)\n  }\n\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<h3 class=\"text-lg font-semibold mb-3\">Project Expenses ¬∑ {projectId}</h3>\n\n<Card>\n  <div class=\"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center\">\n    <input\n      class=\"w-full sm:w-64 rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\n      placeholder=\"Î¨∏ÏÑú Í≤ÄÏÉâ\"\n      bind:value={query}\n    />\n    <select\n      class=\"w-full sm:w-48 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={status}\n    >\n      <option value=\"\">ÏÉÅÌÉú: Ï†ÑÏ≤¥</option>\n      <option value=\"ÎåÄÍ∏∞\">ÎåÄÍ∏∞</option>\n      <option value=\"ÏäπÏù∏\">ÏäπÏù∏</option>\n      <option value=\"Î∞òÎ†§\">Î∞òÎ†§</option>\n    </select>\n  </div>\n  {#if loading}\n    <div class=\"space-y-2\">\n      {#each Array(8) as _}\n        <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n      {/each}\n    </div>\n  {:else}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">Î¨∏ÏÑúÎ≤àÌò∏</th>\n            <th class=\"px-3 py-2\">Ï†úÎ™©</th>\n            <th class=\"px-3 py-2\">Î∂ÑÎ•ò</th>\n            <th class=\"px-3 py-2\">Î∂ÑÍ∏∞</th>\n            <th class=\"px-3 py-2\">Í∏àÏï°</th>\n            <th class=\"px-3 py-2\">Ï≤®Î∂Ä</th>\n            <th class=\"px-3 py-2\">ÏÉÅÌÉú</th>\n            <th class=\"px-3 py-2\">Ïª¥ÌîåÎùºÏù¥Ïñ∏Ïä§</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each filtered as d, i (i)}\n            <tr>\n              <td class=\"px-3 py-2\">{d.id}</td>\n              <td class=\"px-3 py-2\">{d.title}</td>\n              <td class=\"px-3 py-2\">{d.category}</td>\n              <td class=\"px-3 py-2\">{d.quarter}Q</td>\n              <td class=\"px-3 py-2\">{d.amountKRW ? formatKRW(d.amountKRW) : '-'}</td>\n              <td class=\"px-3 py-2\">{d.attachments}</td>\n              <td class=\"px-3 py-2\"\n              ><Badge color={d.status === 'ÎåÄÍ∏∞' ? 'yellow' : d.status === 'Î∞òÎ†§' ? 'red' : 'green'}\n              >{d.status}</Badge\n              ></td\n              >\n              <td class=\"px-3 py-2\">\n                {#if isCompliant(d)}\n                  <Badge color=\"green\">Ï∂©Ï°±</Badge>\n                {:else}\n                  <Badge color=\"red\">ÎØ∏ÎπÑ: {missingDocs(d).join(', ')}</Badge>\n                {/if}\n              </td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/if}\n</Card>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/personnel/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 94,
        "column": 9,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 96,
        "endColumn": 16
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 94,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 94,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [3157, 3158], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Progress from '$lib/components/ui/Progress.svelte'\n  import { page } from '$app/state'\n  import { projectsStore, quarterlyPersonnelBudgets } from '$lib/stores/rnd'\n  import { personnelStore } from '$lib/stores/personnel'\n  import { formatKRW } from '$lib/utils/format'\n  import type { Personnel } from '$lib/types'\n\n  const projectId = page.params.projectId as string\n  const project = $derived($projectsStore.find(p => p.id === projectId))\n  const people = $derived(\n    $personnelStore.filter(p => p.participations.some(pp => pp.projectId === projectId))\n  )\n\n  function currentQuarterLabel(): string {\n    const d = new Date()\n    const y = d.getFullYear()\n    const qn = Math.floor(d.getMonth() / 3) + 1\n    return `${y}-Q${qn}`\n  }\n  let quarter = $state(currentQuarterLabel())\n  const budgetMap = $derived(\n    ($quarterlyPersonnelBudgets[projectId as string] ?? {}) as Record<string, number>\n  )\n\n  function allocOf(person: Personnel): number {\n    const pp = person.participations.find(x => x.projectId === projectId)\n    return pp ? pp.allocationPct : 0\n  }\n  function quarterCost(person: Personnel): number {\n    const breakdown =\n      person.participations.find(x => x.projectId === projectId)?.quarterlyBreakdown?.[quarter] ?? 0\n    if (breakdown > 0) return breakdown\n    const alloc = allocOf(person)\n    const est = ((person.annualSalaryKRW ?? 0) * (alloc / 100)) / 4\n    return Math.round(est)\n  }\n  function quarterBudget(person: Personnel): number {\n    const alloc = allocOf(person)\n    const base = budgetMap?.[quarter] ?? 0\n    return Math.round(base * (alloc / 100))\n  }\n\n  const totalBudget = $derived(\n    Object.entries(budgetMap).reduce((s, [k, v]) => (k === quarter ? s + v : s), 0)\n  )\n  const totalCost = $derived(people.reduce((s, p) => s + quarterCost(p), 0))\n  const util = $derived(totalBudget > 0 ? Math.round((totalCost / totalBudget) * 100) : 0)\n\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n</script>\n\n<h3 class=\"text-lg font-semibold mb-3\">Project Personnel ¬∑ {projectId}</h3>\n\n{#if !project}\n  <div class=\"text-sm text-red-700\">ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.</div>\n{:else}\n  <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n    <Card>\n      <div class=\"kpi\">\n        <div>\n          <div class=\"text-caption\">Î∂ÑÍ∏∞ ÏòàÏÇ∞</div>\n          <div class=\"text-2xl font-bold\">{formatKRW(budgetMap?.[quarter] ?? 0)}</div>\n        </div>\n      </div>\n    </Card>\n    <Card>\n      <div class=\"kpi\">\n        <div>\n          <div class=\"text-caption\">Î∂ÑÍ∏∞ Ï∂îÏ†ï Ïù∏Í±¥ÎπÑ</div>\n          <div class=\"text-2xl font-bold\">{formatKRW(totalCost)}</div>\n        </div>\n      </div>\n    </Card>\n    <Card>\n      <div class=\"kpi\">\n        <div>\n          <div class=\"text-caption\">ÏòàÏÇ∞ ÎåÄÎπÑ</div>\n          <div class=\"text-2xl font-bold\">{util}%</div>\n          <div class=\"mt-3\"><Progress value={util} /></div>\n        </div>\n      </div>\n    </Card>\n  </div>\n\n  <Card header=\"Ï∞∏Ïó¨ Ïù∏Î†•\">\n    {#if loading}\n      <div class=\"space-y-2\">\n        {#each Array(8) as _}\n          <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n        {/each}\n      </div>\n    {:else}\n      <div class=\"overflow-auto\">\n        <table class=\"min-w-full text-sm\">\n          <thead class=\"bg-gray-50 text-left text-gray-600\">\n            <tr>\n              <th class=\"px-3 py-2\">ÏÇ¨Î≤à</th>\n              <th class=\"px-3 py-2\">Ïù¥Î¶Ñ</th>\n              <th class=\"px-3 py-2\">Ï∞∏Ïó¨Ïú®</th>\n              <th class=\"px-3 py-2\">{quarter} Ïù∏Í±¥ÎπÑ</th>\n              <th class=\"px-3 py-2\">ÏòàÏÇ∞ÎåÄÎπÑ</th>\n            </tr>\n          </thead>\n          <tbody class=\"divide-y\">\n            {#each people as p, i (i)}\n              {@const alloc = allocOf(p)}\n              {@const qc = quarterCost(p)}\n              {@const qb = quarterBudget(p)}\n              {@const ratio = qb > 0 ? Math.round((qc / qb) * 100) : 0}\n              <tr>\n                <td class=\"px-3 py-2\">{p.id}</td>\n                <td class=\"px-3 py-2\">{p.name}</td>\n                <td class=\"px-3 py-2 tabular-nums\">{alloc}%</td>\n                <td class=\"px-3 py-2\">{formatKRW(qc)}</td>\n                <td class=\"px-3 py-2\">\n                  {#if qb > 0}\n                    <Badge\n                      color={ratio >= 100\n                        ? 'red'\n                        : ratio >= 95\n                        ? 'yellow'\n                        : ratio >= 80\n                        ? 'yellow'\n                        : 'green'}>{ratio}%</Badge\n                    >\n                  {:else}\n                    -\n                  {/if}\n                </td>\n              </tr>\n            {/each}\n          </tbody>\n        </table>\n      </div>\n    {/if}\n  </Card>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/projects/[projectId]/reports/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 123,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 125,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'_' is defined but never used.",
        "line": 123,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 123,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "_" },
            "fix": { "range": [3537, 3538], "text": "" },
            "desc": "Remove unused variable '_'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import { goto } from '$app/navigation'\n  import { page } from '$app/state'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n\n  type RStatus = 'ÏûëÏÑ±Ï§ë' | 'Ï†úÏ∂ú' | 'Î∞òÎ†§'\n  interface Report {\n    id: string\n    title: string\n    status: RStatus\n    period: string\n    submittedAt?: string\n  }\n\n  const projectId = page.params.projectId as string\n  let items: Report[] = [\n    {\n      id: `${projectId}-R1`,\n      title: '9Ïõî ÏõîÍ∞Ñ ÏßÑÎèÑÎ≥¥Í≥†',\n      status: 'Ï†úÏ∂ú',\n      period: '2025-09',\n      submittedAt: '2025-10-02'\n    },\n    { id: `${projectId}-R2`, title: '10Ïõî ÏõîÍ∞Ñ ÏßÑÎèÑÎ≥¥Í≥†', status: 'ÏûëÏÑ±Ï§ë', period: '2025-10' },\n    {\n      id: `${projectId}-R3`,\n      title: 'Î∂ÑÍ∏∞ ÏÑ±Í≥ºÎ≥¥Í≥†(Q3)',\n      status: 'Î∞òÎ†§',\n      period: '2025-Q3',\n      submittedAt: '2025-10-05'\n    }\n  ]\n\n  let status = $state('') as '' | RStatus\n  let query = $state('')\n\n  let lastQuery = $state('')\n  if (typeof window !== 'undefined') {\n    const sp = new URLSearchParams(window.location.search)\n    status = (sp.get('status') as typeof status) ?? ''\n    query = sp.get('q') ?? ''\n    lastQuery = sp.toString()\n  }\n  $effect(() => {\n    if (typeof window !== 'undefined') {\n      const sp = new URLSearchParams(window.location.search)\n      if (status) sp.set('status', status)\n      else sp.delete('status')\n      if (query) sp.set('q', query)\n      else sp.delete('q')\n      const newQuery = sp.toString()\n      if (newQuery !== lastQuery) {\n        lastQuery = newQuery\n        goto(`${window.location.pathname}?${newQuery}`, {\n          replaceState: true,\n          keepFocus: true,\n          noScroll: true\n        })\n      }\n    }\n  })\n\n  const filtered = $derived(\n    items.filter(\n      r => (status ? r.status === status : true) && (query ? r.title.includes(query) : true)\n    )\n  )\n\n  function colorOf(s: RStatus): 'green' | 'blue' | 'yellow' | 'red' {\n    if (s === 'Ï†úÏ∂ú') return 'green'\n    if (s === 'ÏûëÏÑ±Ï§ë') return 'blue'\n    if (s === 'Î∞òÎ†§') return 'red'\n    return 'yellow'\n  }\n\n  let loading = $state(true)\n  if (typeof window !== 'undefined') {\n    setTimeout(() => (loading = false), 300)\n  }\n\n  function exportCSV() {\n    const header = 'id,title,status,period,submittedAt\\n'\n    const rows = filtered\n      .map(r => `${r.id},${r.title},${r.status},${r.period},${r.submittedAt ?? ''}`)\n      .join('\\n')\n    const blob = new Blob([header + rows], { type: 'text/csv;charset=utf-8;' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${projectId}-reports.csv`\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n</script>\n\n<h3 class=\"text-lg font-semibold mb-3\">Progress Reports ¬∑ {projectId}</h3>\n\n<Card>\n  <div class=\"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center\">\n    <input\n      class=\"w-full sm:w-64 rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\n      placeholder=\"Î≥¥Í≥†ÏÑú Í≤ÄÏÉâ\"\n      bind:value={query}\n    />\n    <select\n      class=\"w-full sm:w-48 rounded-md border border-gray-200 bg-white px-2 py-1.5 text-sm\"\n      bind:value={status}\n    >\n      <option value=\"\">ÏÉÅÌÉú: Ï†ÑÏ≤¥</option>\n      <option value=\"ÏûëÏÑ±Ï§ë\">ÏûëÏÑ±Ï§ë</option>\n      <option value=\"Ï†úÏ∂ú\">Ï†úÏ∂ú</option>\n      <option value=\"Î∞òÎ†§\">Î∞òÎ†§</option>\n    </select>\n    <button\n      type=\"button\"\n      class=\"ml-auto px-3 py-1.5 rounded-md border bg-white hover:bg-gray-50\"\n      onclick={exportCSV}>CSV ÎÇ¥Î≥¥ÎÇ¥Í∏∞</button\n    >\n  </div>\n  {#if loading}\n    <div class=\"space-y-2\">\n      {#each Array(8) as _}\n        <div class=\"h-8 bg-gray-100 animate-pulse rounded\"></div>\n      {/each}\n    </div>\n  {:else}\n    <div class=\"overflow-auto\">\n      <table class=\"min-w-full text-sm\">\n        <thead class=\"bg-gray-50 text-left text-gray-600\">\n          <tr>\n            <th class=\"px-3 py-2\">ID</th>\n            <th class=\"px-3 py-2\">Ï†úÎ™©</th>\n            <th class=\"px-3 py-2\">Í∏∞Í∞Ñ</th>\n            <th class=\"px-3 py-2\">Ï†úÏ∂úÏùº</th>\n            <th class=\"px-3 py-2\">ÏÉÅÌÉú</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y\">\n          {#each filtered as r, i (i)}\n            <tr>\n              <td class=\"px-3 py-2\">{r.id}</td>\n              <td class=\"px-3 py-2\">{r.title}</td>\n              <td class=\"px-3 py-2\">{r.period}</td>\n              <td class=\"px-3 py-2\">{r.submittedAt ?? '-'}</td>\n              <td class=\"px-3 py-2\"><Badge color={colorOf(r.status)}>{r.status}</Badge></td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {/if}\n</Card>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/project-management/reports/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 11,
        "column": 27,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 11,
        "endColumn": 79,
        "fix": { "range": [384, 385], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 22,
        "column": 27,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 22,
        "endColumn": 80,
        "fix": { "range": [817, 818], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 26,
        "column": 27,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 26,
        "endColumn": 80,
        "fix": { "range": [1025, 1026], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 3,
    "source": "<script lang=\"ts\">\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n</script>\n\n<h2 class=\"text-lg font-semibold mb-4\">Management Reports</h2>\n\n<div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n  <Card header=\"Executive Summary\">\n    <p class=\"text-sm text-gray-600 mb-2\">Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÌòÑÌô© ÏöîÏïΩ(ÌîÑÎ°úÏ†ùÌä∏/ÏòàÏÇ∞/Î¶¨Ïä§ÌÅ¨)</p>\n    <button type=\"button\" class=\"px-3 py-1.5 rounded-md bg-primary text-white\">PDF ÎÇ¥Î≥¥ÎÇ¥Í∏∞</button>\n  </Card>\n  <Card header=\"Financial Reports\">\n    <p class=\"text-sm text-gray-600 mb-2\">Î∂ÑÍ∏∞/Ïó∞Í∞Ñ ÏòàÏÇ∞¬∑ÏßëÌñâ¬∑Ï∞®Ïù¥ Î∂ÑÏÑù</p>\n    <div class=\"flex gap-2\">\n      <Badge color=\"blue\">Î∂ÑÍ∏∞Î≥Ñ</Badge>\n      <Badge color=\"green\">Ïó∞Í∞Ñ</Badge>\n    </div>\n  </Card>\n  <Card header=\"Performance Reports\">\n    <p class=\"text-sm text-gray-600 mb-2\">KPI/ÏÇ∞Ï∂úÎ¨º/ÎßàÏùºÏä§ÌÜ§ ÏÑ±Í≥º</p>\n    <button type=\"button\" class=\"px-3 py-1.5 rounded-md border border-gray-200\">CSV Îã§Ïö¥Î°úÎìú</button>\n  </Card>\n  <Card header=\"Compliance Reports\">\n    <p class=\"text-sm text-gray-600 mb-2\">Í∑úÏ†ï Ï§ÄÏàò ÌòÑÌô© Î∞è Ï†êÍ≤Ä Ïù¥Î†•</p>\n    <button type=\"button\" class=\"px-3 py-1.5 rounded-md border border-gray-200\">Î¨∏ÏÑú ÏÉùÏÑ±</button>\n  </Card>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/reports/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/+layout.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 62,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 62,
        "endColumn": 11
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 76,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 87,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 93,
        "column": 33,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 93,
        "endColumn": 87,
        "fix": { "range": [3153, 3154], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 129,
        "column": 7,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 140,
        "endColumn": 14
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 3,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { page } from '$app/stores'\n  import { onMount } from 'svelte'\n\n  let { children } = $props()\n\n  // ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê Ïó≠Ìï† (Ïã§Ï†úÎ°úÎäî Ïù∏Ï¶ù ÏãúÏä§ÌÖúÏóêÏÑú Í∞ÄÏ†∏Ïò¥)\n  let currentUser = $state({\n    id: 'user-001',\n    name: 'ÍπÄÍ≤ΩÏòÅ',\n    email: 'kim.kyung@company.com',\n    department: 'Í≤ΩÏòÅÏßÄÏõêÌåÄ',\n    role: 'MANAGEMENT_SUPPORT', // Í≤ΩÏòÅÏßÄÏõêÌåÄ Ïó≠Ìï†\n    permissions: ['READ_ALL', 'WRITE_ALL', 'APPROVE_ALL', 'AUDIT_ALL']\n  })\n\n  // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î©îÎâ¥ (Ïó≠Ìï†Î≥ÑÎ°ú ÎèôÏ†ÅÏúºÎ°ú ÌëúÏãú)\n  let navigationItems = $derived(() => {\n    const baseItems = [\n      { name: 'ÎåÄÏãúÎ≥¥Îìú', href: '/rnd', icon: 'üìä' },\n      { name: 'ÏòàÏÇ∞ Í¥ÄÎ¶¨', href: '/rnd/budget', icon: 'üí∞' },\n      { name: 'ÏßÄÏ∂ú Í¥ÄÎ¶¨', href: '/rnd/expenses', icon: 'üí≥' },\n      { name: 'Ïù∏Î†• Í¥ÄÎ¶¨', href: '/rnd/personnel', icon: 'üë•' },\n      { name: 'Ïó∞Íµ¨ÎÖ∏Ìä∏', href: '/rnd/research-notes', icon: 'üìù' },\n      { name: 'Î¶¨Ìè¨Ìä∏', href: '/rnd/reports', icon: 'üìà' },\n      { name: 'Í≤∞Ïû¨ Í¥ÄÎ¶¨', href: '/rnd/approvals', icon: '‚úÖ' },\n      { name: 'Íµ≠Í∞ÄR&D ÏóÖÎ°úÎìú', href: '/rnd/submissions', icon: 'üì§' },\n      { name: 'Í∞êÏÇ¨ Î°úÍ∑∏', href: '/rnd/audit', icon: 'üîç' }\n    ]\n\n    // Ïó≠Ìï†Î≥Ñ Î©îÎâ¥ ÌïÑÌÑ∞ÎßÅ\n    switch (currentUser.role) {\n      case 'EXECUTIVE':\n        return baseItems.filter(item =>\n          ['ÎåÄÏãúÎ≥¥Îìú', 'ÏòàÏÇ∞ Í¥ÄÎ¶¨', 'Î¶¨Ìè¨Ìä∏', 'Í∞êÏÇ¨ Î°úÍ∑∏'].includes(item.name)\n        )\n      case 'LAB_HEAD':\n        return baseItems.filter(item =>\n          ['ÎåÄÏãúÎ≥¥Îìú', 'ÏòàÏÇ∞ Í¥ÄÎ¶¨', 'Ïó∞Íµ¨ÎÖ∏Ìä∏', 'Î¶¨Ìè¨Ìä∏', 'Í≤∞Ïû¨ Í¥ÄÎ¶¨'].includes(item.name)\n        )\n      case 'PM':\n        return baseItems.filter(item =>\n          ['ÎåÄÏãúÎ≥¥Îìú', 'ÏòàÏÇ∞ Í¥ÄÎ¶¨', 'ÏßÄÏ∂ú Í¥ÄÎ¶¨', 'Ïù∏Î†• Í¥ÄÎ¶¨', 'Ïó∞Íµ¨ÎÖ∏Ìä∏', 'Î¶¨Ìè¨Ìä∏'].includes(\n            item.name\n          )\n        )\n      case 'MANAGEMENT_SUPPORT':\n        return baseItems // Í≤ΩÏòÅÏßÄÏõêÌåÄÏùÄ Î™®Îì† Î©îÎâ¥ Ï†ëÍ∑º Í∞ÄÎä•\n      case 'RESEARCHER':\n        return baseItems.filter(item => ['ÎåÄÏãúÎ≥¥Îìú', 'Ïó∞Íµ¨ÎÖ∏Ìä∏', 'Î¶¨Ìè¨Ìä∏'].includes(item.name))\n      default:\n        return baseItems\n    }\n  })\n\n  // ÌòÑÏû¨ Í≤ΩÎ°ú ÌôïÏù∏\n  let currentPath = $derived($page.url.pathname)\n\n  onMount(() => {\n    // ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Î°úÎìú Î∞è Í∂åÌïú ÌôïÏù∏\n    logger.log('R&D ÏãúÏä§ÌÖú Ï¥àÍ∏∞Ìôî:', currentUser)\n  })\n</script>\n\n<div class=\"min-h-screen bg-gray-50\">\n  <!-- ÏÉÅÎã® Ìó§Îçî -->\n  <header class=\"bg-white shadow-sm border-b border-gray-200\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex justify-between items-center h-16\">\n        <div class=\"flex items-center\">\n          <div class=\"flex-shrink-0\">\n            <h1 class=\"text-2xl font-bold text-gray-900\">R&D ÌÜµÌï©Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</h1>\n          </div>\n          <nav class=\"hidden md:ml-10 md:flex md:space-x-8\">\n            {#each navigationItems() as item}\n              <a\n                href={item.href}\n                class=\"inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 transition-colors duration-200\n                  {currentPath === item.href\n                    ? 'border-blue-500 text-gray-900'\n                    : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'}\"\n              >\n                <span class=\"mr-2\">{item.icon}</span>\n                {item.name}\n              </a>\n            {/each}\n          </nav>\n        </div>\n\n        <div class=\"flex items-center space-x-4\">\n          <!-- ÏïåÎ¶º -->\n          <button type=\"button\" class=\"p-2 text-gray-400 hover:text-gray-500 relative\">\n            <svg\n              class=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M15 17h5l-5 5v-5zM4.5 5.5L9 10l-4.5 4.5L1 10l3.5-4.5z\"\n              />\n            </svg>\n            <span class=\"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\"\n            >3</span\n            >\n          </button>\n\n          <!-- ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ -->\n          <div class=\"flex items-center space-x-3\">\n            <div class=\"text-right\">\n              <p class=\"text-sm font-medium text-gray-900\">{currentUser.name}</p>\n              <p class=\"text-xs text-gray-500\">{currentUser.department}</p>\n            </div>\n            <div class=\"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center\">\n              <span class=\"text-sm font-medium text-white\">{currentUser.name.charAt(0)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </header>\n\n  <!-- Î™®Î∞îÏùº Î©îÎâ¥ -->\n  <div class=\"md:hidden\">\n    <div class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-b border-gray-200\">\n      {#each navigationItems() as item}\n        <a\n          href={item.href}\n          class=\"flex items-center px-3 py-2 text-base font-medium rounded-md transition-colors duration-200\n            {currentPath === item.href\n              ? 'bg-blue-50 text-blue-700'\n              : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'}\"\n        >\n          <span class=\"mr-3\">{item.icon}</span>\n          {item.name}\n        </a>\n      {/each}\n    </div>\n  </div>\n\n  <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->\n  <main class=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n    {@render children()}\n  </main>\n</div>\n\n<style>\n  /* Ï∂îÍ∞Ä Ïä§ÌÉÄÏùºÎßÅ */\n  nav a {\n    transition: all 0.2s ease-in-out;\n  }\n\n  nav a:hover {\n    transform: translateY(-1px);\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/+page.svelte",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getHealthText' is defined but never used.",
        "line": 193,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 193,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getHealthText" },
            "fix": { "range": [4044, 4273], "text": "" },
            "desc": "Remove unused variable 'getHealthText'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getHealthColor' is defined but never used.",
        "line": 207,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 207,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "getHealthColor" },
            "fix": { "range": [4291, 4613], "text": "" },
            "desc": "Remove unused variable 'getHealthColor'."
          }
        ]
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 285,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 285,
        "endColumn": 116,
        "fix": { "range": [6196, 6197], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 289,
        "column": 29,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 289,
        "endColumn": 129,
        "fix": { "range": [6354, 6355], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "<script lang=\"ts\">\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import SimpleChart from '$lib/components/ui/SimpleChart.svelte'\n  import { initializeDummyData } from '$lib/stores/rnd/init-dummy-data'\n  import { ExternalLinkIcon } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  // ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞\n  let dashboardData = $state({\n    // ÌîÑÎ°úÏ†ùÌä∏ ÌòÑÌô©\n    projects: {\n      total: 0,\n      active: 0,\n      completed: 0,\n      atRisk: 0\n    },\n    // ÏòàÏÇ∞ ÌòÑÌô©\n    budget: {\n      totalAllocated: 0,\n      spent: 0,\n      remaining: 0,\n      utilizationRate: 0\n    },\n    // Ïù∏Î†• ÌòÑÌô©\n    personnel: {\n      total: 0,\n      active: 0,\n      onLeave: 0,\n      utilizationRate: 0\n    },\n    // ÏßÄÏ∂ú ÌòÑÌô©\n    expenses: {\n      pending: 0,\n      approved: 0,\n      rejected: 0,\n      totalAmount: 0\n    },\n    // Ïó∞Íµ¨ÎÖ∏Ìä∏ ÌòÑÌô©\n    researchNotes: {\n      submitted: 0,\n      pending: 0,\n      overdue: 0\n    },\n    // Í≤∞Ïû¨ ÌòÑÌô©\n    approvals: {\n      pending: 0,\n      completed: 0,\n      overdue: 0\n    }\n  })\n\n  // ÏµúÍ∑º ÌôúÎèô\n  let recentActivities = $state<any[]>([])\n\n  // ÏïåÎ¶º Î∞è Í≤ΩÍ≥†\n  let alerts = $state<any[]>([])\n\n  // Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞\n  let healthIndicators = $state({\n    overall: 'green',\n    schedule: 85,\n    budget: 92,\n    people: 78,\n    risk: 15\n  })\n\n  // Ï∞®Ìä∏ Îç∞Ïù¥ÌÑ∞\n  let projectStatusData = $derived(() => [\n    { label: 'ÏßÑÌñâÏ§ë', value: dashboardData.projects.active, color: '#3B82F6' },\n    { label: 'ÏôÑÎ£å', value: dashboardData.projects.completed, color: '#10B981' },\n    { label: 'ÏúÑÌóò', value: dashboardData.projects.atRisk, color: '#EF4444' }\n  ])\n\n  let budgetUtilizationData = $derived(() => [\n    { label: 'ÏÇ¨Ïö©', value: dashboardData.budget.spent, color: '#F59E0B' },\n    { label: 'ÏûîÏó¨', value: dashboardData.budget.remaining, color: '#6B7280' }\n  ])\n\n  // ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  async function loadDashboardData() {\n    // Ïã§Ï†úÎ°úÎäî APIÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¥\n    // Ïó¨Í∏∞ÏÑúÎäî ÎçîÎØ∏ Îç∞Ïù¥ÌÑ∞Î°ú ÏãúÎÆ¨Î†àÏù¥ÏÖò\n    dashboardData = {\n      projects: {\n        total: 15,\n        active: 8,\n        completed: 5,\n        atRisk: 2\n      },\n      budget: {\n        totalAllocated: 2500000000, // 25ÏñµÏõê\n        spent: 1800000000, // 18ÏñµÏõê\n        remaining: 700000000, // 7ÏñµÏõê\n        utilizationRate: 72\n      },\n      personnel: {\n        total: 45,\n        active: 42,\n        onLeave: 3,\n        utilizationRate: 93\n      },\n      expenses: {\n        pending: 12,\n        approved: 156,\n        rejected: 3,\n        totalAmount: 450000000 // 4.5ÏñµÏõê\n      },\n      researchNotes: {\n        submitted: 180,\n        pending: 8,\n        overdue: 2\n      },\n      approvals: {\n        pending: 5,\n        completed: 89,\n        overdue: 1\n      }\n    }\n\n    recentActivities = [\n      {\n        id: 1,\n        type: 'expense',\n        title: 'AI ÌîÑÎ°úÏ†ùÌä∏ Ïû¨Î£åÎπÑ ÏßÄÏ∂ú ÏäπÏù∏',\n        user: 'ÍπÄÏó∞Íµ¨',\n        time: '2ÏãúÍ∞Ñ Ï†Ñ',\n        status: 'approved'\n      },\n      {\n        id: 2,\n        type: 'milestone',\n        title: 'Q4 ÎßàÏùºÏä§ÌÜ§ Îã¨ÏÑ±',\n        user: 'Î∞ïPM',\n        time: '4ÏãúÍ∞Ñ Ï†Ñ',\n        status: 'completed'\n      },\n      {\n        id: 3,\n        type: 'research_note',\n        title: 'Ï£ºÍ∞Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú',\n        user: 'Ïù¥Ïó∞Íµ¨',\n        time: '6ÏãúÍ∞Ñ Ï†Ñ',\n        status: 'submitted'\n      },\n      {\n        id: 4,\n        type: 'approval',\n        title: 'ÌäπÌóàÏ∂úÏõêÎπÑ Í≤∞Ïû¨ ÏôÑÎ£å',\n        user: 'ÏµúÍ≤ΩÏòÅ',\n        time: '1Ïùº Ï†Ñ',\n        status: 'approved'\n      },\n      {\n        id: 5,\n        type: 'alert',\n        title: 'ÏòàÏÇ∞ ÏÜåÏßÑÎ•† 80% Ï¥àÍ≥º Í≤ΩÍ≥†',\n        user: 'ÏãúÏä§ÌÖú',\n        time: '2Ïùº Ï†Ñ',\n        status: 'warning'\n      }\n    ]\n\n    alerts = [\n      {\n        id: 1,\n        type: 'warning',\n        title: 'ÏòàÏÇ∞ ÏÜåÏßÑÎ•† Í≤ΩÍ≥†',\n        message: 'AI ÌîÑÎ°úÏ†ùÌä∏Ïùò ÏòàÏÇ∞ ÏÜåÏßÑÎ•†Ïù¥ 85%Ïóê ÎèÑÎã¨ÌñàÏäµÎãàÎã§.',\n        priority: 'high',\n        time: '1ÏãúÍ∞Ñ Ï†Ñ'\n      },\n      {\n        id: 2,\n        type: 'info',\n        title: 'Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÏ∂ú ÎßàÍ∞ê',\n        message: '3Î™ÖÏùò Ïó∞Íµ¨ÏõêÏù¥ ÏïÑÏßÅ Ï£ºÍ∞Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏Î•º Ï†úÏ∂úÌïòÏßÄ ÏïäÏïòÏäµÎãàÎã§.',\n        priority: 'medium',\n        time: '3ÏãúÍ∞Ñ Ï†Ñ'\n      },\n      {\n        id: 3,\n        type: 'error',\n        title: 'Í≤∞Ïû¨ ÏßÄÏó∞',\n        message: 'ÌäπÌóàÏ∂úÏõêÎπÑ Í≤∞Ïû¨Í∞Ä SLAÎ•º Ï¥àÍ≥ºÌñàÏäµÎãàÎã§.',\n        priority: 'high',\n        time: '5ÏãúÍ∞Ñ Ï†Ñ'\n      }\n    ]\n  }\n\n  // Ìó¨Ïä§ ÏÉÅÌÉú ÌÖçÏä§Ìä∏\n  function getHealthText(status: string) {\n    switch (status) {\n      case 'green':\n        return 'ÏñëÌò∏'\n      case 'amber':\n        return 'Ï£ºÏùò'\n      case 'red':\n        return 'ÏúÑÌóò'\n      default:\n        return 'Ïïå Ïàò ÏóÜÏùå'\n    }\n  }\n\n  // Ìó¨Ïä§ ÏÉÅÌÉú ÏÉâÏÉÅ\n  function getHealthColor(status: string) {\n    switch (status) {\n      case 'green':\n        return 'text-green-600 bg-green-100'\n      case 'amber':\n        return 'text-yellow-600 bg-yellow-100'\n      case 'red':\n        return 'text-red-600 bg-red-100'\n      default:\n        return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  // ÌôúÎèô ÌÉÄÏûÖ ÏïÑÏù¥ÏΩò\n  function getActivityIcon(type: string) {\n    switch (type) {\n      case 'expense':\n        return 'üí≥'\n      case 'milestone':\n        return 'üéØ'\n      case 'research_note':\n        return 'üìù'\n      case 'approval':\n        return '‚úÖ'\n      case 'alert':\n        return '‚ö†Ô∏è'\n      default:\n        return 'üìã'\n    }\n  }\n\n  // ÏïåÎ¶º ÌÉÄÏûÖ ÏÉâÏÉÅ\n  function getAlertColor(type: string) {\n    switch (type) {\n      case 'warning':\n        return 'border-yellow-200 bg-yellow-50'\n      case 'info':\n        return 'border-blue-200 bg-blue-50'\n      case 'error':\n        return 'border-red-200 bg-red-50'\n      default:\n        return 'border-gray-200 bg-gray-50'\n    }\n  }\n\n  // Í∏àÏï° Ìè¨Îß∑ÌåÖ\n  function formatCurrency(amount: number) {\n    return new Intl.NumberFormat('ko-KR', {\n      style: 'currency',\n      currency: 'KRW',\n      minimumFractionDigits: 0\n    }).format(amount)\n  }\n\n  onMount(() => {\n    // ÎçîÎØ∏Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî\n    initializeDummyData()\n    loadDashboardData()\n  })\n</script>\n\n<div class=\"space-y-6\">\n  <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->\n  <div class=\"flex justify-between items-center\">\n    <div>\n      <h1 class=\"text-3xl font-bold text-gray-900\">R&D ÌÜµÌï©Í¥ÄÎ¶¨ ÎåÄÏãúÎ≥¥Îìú</h1>\n      <p class=\"mt-2 text-gray-600\">Í≤ΩÏòÅÏßÄÏõêÌåÄ - Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏ ÌòÑÌô© Î∞è Î™®ÎãàÌÑ∞ÎßÅ</p>\n    </div>\n    <div class=\"flex items-center space-x-4\">\n      <a\n        href=\"/rnd/rnd-asw\"\n        class=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n      >\n        <ExternalLinkIcon\n          size={16}\n          class=\"mr-2\" />\n        RND-ASW ÌîÑÎ°úÏ†ùÌä∏\n      </a>\n      <button type=\"button\" class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n      >\n        ÏÉà ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±\n      </button>\n      <button type=\"button\" class=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors\"\n      >\n        Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\n      </button>\n    </div>\n  </div>\n\n  <!-- Ìó¨Ïä§ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ -->\n  <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">ÏùºÏ†ï Í¥ÄÎ¶¨</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{healthIndicators.schedule}Ï†ê</p>\n          </div>\n          <div class=\"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-blue-600 font-bold\">üìÖ</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">ÏòàÏÇ∞ Í¥ÄÎ¶¨</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{healthIndicators.budget}Ï†ê</p>\n          </div>\n          <div class=\"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-green-600 font-bold\">üí∞</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">Ïù∏Î†• Í¥ÄÎ¶¨</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{healthIndicators.people}Ï†ê</p>\n          </div>\n          <div class=\"h-12 w-12 bg-yellow-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-yellow-600 font-bold\">üë•</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">Î¶¨Ïä§ÌÅ¨ Í¥ÄÎ¶¨</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{healthIndicators.risk}Ï†ê</p>\n          </div>\n          <div class=\"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-red-600 font-bold\">‚ö†Ô∏è</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n  </div>\n\n  <!-- Ï£ºÏöî ÏßÄÌëú -->\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n    <!-- ÌîÑÎ°úÏ†ùÌä∏ ÌòÑÌô© -->\n    <Card>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÌîÑÎ°úÏ†ùÌä∏ ÌòÑÌô©</h3>\n        <div class=\"space-y-4\">\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏</span>\n            <span class=\"text-lg font-semibold text-gray-900\">{dashboardData.projects.total}Í∞ú</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏßÑÌñâÏ§ë</span>\n            <span class=\"text-lg font-semibold text-blue-600\"\n            >{dashboardData.projects.active}Í∞ú</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏôÑÎ£å</span>\n            <span class=\"text-lg font-semibold text-green-600\"\n            >{dashboardData.projects.completed}Í∞ú</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏúÑÌóò</span>\n            <span class=\"text-lg font-semibold text-red-600\">{dashboardData.projects.atRisk}Í∞ú</span\n            >\n          </div>\n        </div>\n        <div class=\"mt-4\">\n          <SimpleChart\n            data={projectStatusData()}\n            type=\"pie\" />\n        </div>\n      </div>\n    </Card>\n\n    <!-- ÏòàÏÇ∞ ÌòÑÌô© -->\n    <Card>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏòàÏÇ∞ ÌòÑÌô©</h3>\n        <div class=\"space-y-4\">\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">Ï¥ù Î∞∞Ï†ï ÏòàÏÇ∞</span>\n            <span class=\"text-lg font-semibold text-gray-900\"\n            >{formatCurrency(dashboardData.budget.totalAllocated)}</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏÇ¨Ïö© Í∏àÏï°</span>\n            <span class=\"text-lg font-semibold text-blue-600\"\n            >{formatCurrency(dashboardData.budget.spent)}</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏûîÏó¨ Í∏àÏï°</span>\n            <span class=\"text-lg font-semibold text-green-600\"\n            >{formatCurrency(dashboardData.budget.remaining)}</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏÇ¨Ïö©Î•†</span>\n            <span class=\"text-lg font-semibold text-orange-600\"\n            >{dashboardData.budget.utilizationRate}%</span\n            >\n          </div>\n        </div>\n        <div class=\"mt-4\">\n          <SimpleChart\n            data={budgetUtilizationData()}\n            type=\"pie\" />\n        </div>\n      </div>\n    </Card>\n  </div>\n\n  <!-- Ïù∏Î†• Î∞è ÏßÄÏ∂ú ÌòÑÌô© -->\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n    <!-- Ïù∏Î†• ÌòÑÌô© -->\n    <Card>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Ïù∏Î†• ÌòÑÌô©</h3>\n        <div class=\"space-y-4\">\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">Ï†ÑÏ≤¥ Ïù∏Î†•</span>\n            <span class=\"text-lg font-semibold text-gray-900\"\n            >{dashboardData.personnel.total}Î™Ö</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÌôúÏÑ± Ïù∏Î†•</span>\n            <span class=\"text-lg font-semibold text-green-600\"\n            >{dashboardData.personnel.active}Î™Ö</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">Ìú¥Í∞Ä/Î∂ÄÏû¨</span>\n            <span class=\"text-lg font-semibold text-yellow-600\"\n            >{dashboardData.personnel.onLeave}Î™Ö</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÌôúÏö©Î•†</span>\n            <span class=\"text-lg font-semibold text-blue-600\"\n            >{dashboardData.personnel.utilizationRate}%</span\n            >\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <!-- ÏßÄÏ∂ú ÌòÑÌô© -->\n    <Card>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏßÄÏ∂ú ÌòÑÌô©</h3>\n        <div class=\"space-y-4\">\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÎåÄÍ∏∞Ï§ë</span>\n            <span class=\"text-lg font-semibold text-yellow-600\"\n            >{dashboardData.expenses.pending}Í±¥</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">ÏäπÏù∏</span>\n            <span class=\"text-lg font-semibold text-green-600\"\n            >{dashboardData.expenses.approved}Í±¥</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">Í±∞Î∂Ä</span>\n            <span class=\"text-lg font-semibold text-red-600\"\n            >{dashboardData.expenses.rejected}Í±¥</span\n            >\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"text-sm text-gray-600\">Ï¥ù ÏßÄÏ∂úÏï°</span>\n            <span class=\"text-lg font-semibold text-gray-900\"\n            >{formatCurrency(dashboardData.expenses.totalAmount)}</span\n            >\n          </div>\n        </div>\n      </div>\n    </Card>\n  </div>\n\n  <!-- ÏïåÎ¶º Î∞è ÏµúÍ∑º ÌôúÎèô -->\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n    <!-- ÏïåÎ¶º -->\n    <Card>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏïåÎ¶º Î∞è Í≤ΩÍ≥†</h3>\n        <div class=\"space-y-3\">\n          {#each alerts as alert, i (i)}\n            <div class=\"p-3 rounded-lg border {getAlertColor(alert.type)}\">\n              <div class=\"flex items-start justify-between\">\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-gray-900\">{alert.title}</p>\n                  <p class=\"text-xs text-gray-600 mt-1\">{alert.message}</p>\n                  <p class=\"text-xs text-gray-500 mt-1\">{alert.time}</p>\n                </div>\n                <Badge variant={alert.priority === 'high' ? 'danger' : 'warning'}>\n                  {alert.priority === 'high' ? 'ÎÜíÏùå' : 'Î≥¥ÌÜµ'}\n                </Badge>\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n    </Card>\n\n    <!-- ÏµúÍ∑º ÌôúÎèô -->\n    <Card>\n      <div class=\"p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">ÏµúÍ∑º ÌôúÎèô</h3>\n        <div class=\"space-y-3\">\n          {#each recentActivities as activity, i (i)}\n            <div class=\"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              <div class=\"text-2xl\">{getActivityIcon(activity.type)}</div>\n              <div class=\"flex-1\">\n                <p class=\"text-sm font-medium text-gray-900\">{activity.title}</p>\n                <p class=\"text-xs text-gray-600\">{activity.user} ‚Ä¢ {activity.time}</p>\n              </div>\n              <Badge\n                variant={activity.status === 'approved' || activity.status === 'completed'\n                  ? 'success'\n                  : 'warning'}\n              >\n                {activity.status === 'approved'\n                  ? 'ÏäπÏù∏'\n                  : activity.status === 'completed'\n                  ? 'ÏôÑÎ£å'\n                  : activity.status === 'submitted'\n                  ? 'Ï†úÏ∂ú'\n                  : activity.status === 'warning'\n                  ? 'Í≤ΩÍ≥†'\n                  : 'ÎåÄÍ∏∞'}\n              </Badge>\n            </div>\n          {/each}\n        </div>\n      </div>\n    </Card>\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/expenses/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 235,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 235,
        "endColumn": 26,
        "fix": { "range": [5720, 5721], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 374,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 374,
        "endColumn": 30,
        "fix": { "range": [10729, 10730], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 383,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 383,
        "endColumn": 30,
        "fix": { "range": [11123, 11124], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 392,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 392,
        "endColumn": 30,
        "fix": { "range": [11529, 11530], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 401,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 401,
        "endColumn": 30,
        "fix": { "range": [11937, 11938], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 423,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 466,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 447,
        "column": 27,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 447,
        "endColumn": 40,
        "fix": { "range": [14024, 14025], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 549,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 549,
        "endColumn": 26,
        "fix": { "range": [17456, 17457], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 555,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 555,
        "endColumn": 26,
        "fix": { "range": [17666, 17667], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 607,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 624,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 665,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 665,
        "endColumn": 28,
        "fix": { "range": [21903, 21904], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 672,
        "column": 31,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 672,
        "endColumn": 120,
        "fix": { "range": [22199, 22200], "text": "\n" }
      },
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 676,
        "column": 31,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 676,
        "endColumn": 116,
        "fix": { "range": [22360, 22361], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 13,
    "fixableErrorCount": 0,
    "fixableWarningCount": 11,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import {\n    expenseItems,\n    pendingExpenses,\n    approvedExpenses,\n    rejectedExpenses,\n    createExpenseRequest\n  } from '$lib/stores/rnd/expense-workflow'\n  import {\n    activeBudgetCategories,\n    getRequiredDocuments\n  } from '$lib/stores/rnd/budget-categories'\n  import { currentUser } from '$lib/stores/rnd/rbac'\n  import type { ExpenseItem } from '$lib/stores/rnd/types'\n\n  // ÏÉÅÌÉú Í¥ÄÎ¶¨\n  let selectedTab = $state('all')\n  let searchQuery = $state('')\n  let statusFilter = $state('all')\n  let categoryFilter = $state('all')\n  let projectFilter = $state('all')\n  let showCreateModal = $state(false)\n  let showDetailModal = $state(false)\n  let selectedExpense: ExpenseItem | null = $state(null)\n\n  // Ìèº Îç∞Ïù¥ÌÑ∞\n  let expenseForm = $state({\n    projectId: '',\n    categoryCode: '',\n    amount: 0,\n    currency: 'KRW' as const,\n    description: '',\n    deptOwner: ''\n  })\n\n  // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  let statistics = $state({\n    total: 0,\n    pending: 0,\n    approved: 0,\n    rejected: 0,\n    totalAmount: 0\n  })\n\n  // ÌïÑÌÑ∞ÎßÅÎêú ÏßÄÏ∂ú Ìï≠Î™©\n  let filteredExpenses = $derived(() => {\n    let items: ExpenseItem[] = []\n    expenseItems.subscribe(value => (items = value))()\n\n    let filtered = items\n\n    // Í≤ÄÏÉâÏñ¥ ÌïÑÌÑ∞\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase()\n      filtered = filtered.filter(\n        item =>\n          item.description.toLowerCase().includes(query) ||\n            item.categoryCode.toLowerCase().includes(query)\n      )\n    }\n\n    // ÏÉÅÌÉú ÌïÑÌÑ∞\n    if (statusFilter !== 'all') {\n      filtered = filtered.filter(item => item.status === statusFilter)\n    }\n\n    // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞\n    if (categoryFilter !== 'all') {\n      filtered = filtered.filter(item => item.categoryCode === categoryFilter)\n    }\n\n    // ÌîÑÎ°úÏ†ùÌä∏ ÌïÑÌÑ∞\n    if (projectFilter !== 'all') {\n      filtered = filtered.filter(item => item.projectId === projectFilter)\n    }\n\n    return filtered\n  })\n\n  // ÌÉ≠Î≥Ñ Îç∞Ïù¥ÌÑ∞\n  let tabData = $derived(() => {\n    switch (selectedTab) {\n      case 'pending':\n        return $pendingExpenses\n      case 'approved':\n        return $approvedExpenses\n      case 'rejected':\n        return $rejectedExpenses\n      default:\n        return filteredExpenses()\n    }\n  })\n\n  // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏\n  function updateStatistics() {\n    let items: ExpenseItem[] = []\n    expenseItems.subscribe(value => (items = value))()\n\n    statistics = {\n      total: items.length,\n      pending: items.filter(item => item.status === 'pending_approval' || item.status === 'draft')\n        .length,\n      approved: items.filter(\n        item =>\n          item.status === 'approved' || item.status === 'executed' || item.status === 'completed'\n      ).length,\n      rejected: items.filter(item => item.status === 'rejected').length,\n      totalAmount: items.reduce((sum, item) => sum + item.amount, 0)\n    }\n  }\n\n  // ÏßÄÏ∂ú ÏöîÏ≤≠ ÏÉùÏÑ±\n  function handleCreateExpense() {\n    if (!expenseForm.projectId || !expenseForm.categoryCode || !expenseForm.amount) {\n      alert('ÌïÑÏàò Ìï≠Î™©ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    let user: any = null\n    currentUser.subscribe(value => (user = value))()\n\n    if (!user) {\n      alert('ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')\n      return\n    }\n\n    createExpenseRequest({\n      projectId: expenseForm.projectId,\n      categoryCode: expenseForm.categoryCode,\n      requesterId: user.id,\n      amount: expenseForm.amount,\n      currency: expenseForm.currency,\n      description: expenseForm.description,\n      deptOwner: expenseForm.deptOwner\n    })\n\n    // Ìèº Ï¥àÍ∏∞Ìôî\n    expenseForm = {\n      projectId: '',\n      categoryCode: '',\n      amount: 0,\n      currency: 'KRW',\n      description: '',\n      deptOwner: ''\n    }\n\n    showCreateModal = false\n    updateStatistics()\n  }\n\n  // ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÏÑ∏ Î≥¥Í∏∞\n  function showExpenseDetail(expense: ExpenseItem) {\n    selectedExpense = expense\n    showDetailModal = true\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ\n  function getStatusColor(status: string) {\n    switch (status) {\n      case 'draft':\n        return 'secondary'\n      case 'pending_approval':\n        return 'warning'\n      case 'approved':\n        return 'success'\n      case 'executed':\n        return 'success'\n      case 'completed':\n        return 'success'\n      case 'rejected':\n        return 'danger'\n      default:\n        return 'secondary'\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÌÖçÏä§Ìä∏\n  function getStatusText(status: string) {\n    switch (status) {\n      case 'draft':\n        return 'Ï¥àÏïà'\n      case 'pending_approval':\n        return 'ÏäπÏù∏ÎåÄÍ∏∞'\n      case 'approved':\n        return 'ÏäπÏù∏Îê®'\n      case 'executed':\n        return 'ÏßëÌñâÎê®'\n      case 'completed':\n        return 'ÏôÑÎ£å'\n      case 'rejected':\n        return 'Î∞òÎ†§Îê®'\n      default:\n        return status\n    }\n  }\n\n  // Í∏àÏï° Ìè¨Îß∑ÌåÖ\n  function formatCurrency(amount: number) {\n    return new Intl.NumberFormat('ko-KR', {\n      style: 'currency',\n      currency: 'KRW',\n      minimumFractionDigits: 0\n    }).format(amount)\n  }\n\n  // ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ\n  function formatDate(dateString: string) {\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Ïπ¥ÌÖåÍ≥†Î¶¨Î™Ö Í∞ÄÏ†∏Ïò§Í∏∞\n  function getCategoryName(code: string) {\n    let categories: any[] = []\n    activeBudgetCategories.subscribe(value => (categories = value))()\n    const category = categories.find(cat => cat.code === code)\n    return category ? category.nameKo : code\n  }\n\n  onMount(() => {\n    updateStatistics()\n  })\n</script>\n\n<div class=\"space-y-6\">\n  <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->\n  <div class=\"flex justify-between items-center\">\n    <div>\n      <h1 class=\"text-3xl font-bold text-gray-900\">ÏßÄÏ∂ú Í¥ÄÎ¶¨</h1>\n      <p class=\"mt-2 text-gray-600\">ÏßÄÏ∂ú ÏöîÏ≤≠, Ï¶ùÎπô Í¥ÄÎ¶¨, Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞</p>\n    </div>\n    <button type=\"button\"\n      onclick={() => (showCreateModal = true)}\n      class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n    >\n      ÏÉà ÏßÄÏ∂ú ÏöîÏ≤≠\n    </button>\n  </div>\n\n  <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->\n  <div class=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">Ï†ÑÏ≤¥</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{statistics.total}</p>\n          </div>\n          <div class=\"h-12 w-12 bg-gray-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-gray-600 font-bold\">üìã</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">ÏäπÏù∏ÎåÄÍ∏∞</p>\n            <p class=\"text-2xl font-bold text-yellow-600\">{statistics.pending}</p>\n          </div>\n          <div class=\"h-12 w-12 bg-yellow-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-yellow-600 font-bold\">‚è≥</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">ÏäπÏù∏Îê®</p>\n            <p class=\"text-2xl font-bold text-green-600\">{statistics.approved}</p>\n          </div>\n          <div class=\"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-green-600 font-bold\">‚úÖ</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">Î∞òÎ†§Îê®</p>\n            <p class=\"text-2xl font-bold text-red-600\">{statistics.rejected}</p>\n          </div>\n          <div class=\"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-red-600 font-bold\">‚ùå</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n\n    <Card>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600\">Ï¥ù ÏßÄÏ∂úÏï°</p>\n            <p class=\"text-2xl font-bold text-blue-600\">{formatCurrency(statistics.totalAmount)}</p>\n          </div>\n          <div class=\"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center\">\n            <span class=\"text-blue-600 font-bold\">üí∞</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n  </div>\n\n  <!-- ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ -->\n  <div class=\"bg-white p-6 rounded-lg shadow\">\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Í≤ÄÏÉâ</label>\n        <input\n          type=\"text\"\n          bind:value={searchQuery}\n          placeholder=\"ÏÑ§Î™Ö ÎòêÎäî Ïπ¥ÌÖåÍ≥†Î¶¨ Í≤ÄÏÉâ...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">ÏÉÅÌÉú</label>\n        <select\n          bind:value={statusFilter}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          <option value=\"draft\">Ï¥àÏïà</option>\n          <option value=\"pending_approval\">ÏäπÏù∏ÎåÄÍ∏∞</option>\n          <option value=\"approved\">ÏäπÏù∏Îê®</option>\n          <option value=\"executed\">ÏßëÌñâÎê®</option>\n          <option value=\"completed\">ÏôÑÎ£å</option>\n          <option value=\"rejected\">Î∞òÎ†§Îê®</option>\n        </select>\n      </div>\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Ïπ¥ÌÖåÍ≥†Î¶¨</label>\n        <select\n          bind:value={categoryFilter}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $activeBudgetCategories as category, i (i)}\n            <option value={category.code}>{category.nameKo}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">ÌîÑÎ°úÏ†ùÌä∏</label>\n        <select\n          bind:value={projectFilter}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          <option value=\"proj-001\">AI ÌîÑÎ°úÏ†ùÌä∏</option>\n          <option value=\"proj-002\">Î∏îÎ°ùÏ≤¥Ïù∏ ÌîÑÎ°úÏ†ùÌä∏</option>\n          <option value=\"proj-003\">IoT ÌîÑÎ°úÏ†ùÌä∏</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <!-- ÌÉ≠ Î©îÎâ¥ -->\n  <div class=\"bg-white rounded-lg shadow\">\n    <div class=\"border-b border-gray-200\">\n      <nav class=\"-mb-px flex space-x-8 px-6\">\n        <button type=\"button\"\n          onclick={() => (selectedTab = 'all')}\n          class=\"py-4 px-1 border-b-2 font-medium text-sm transition-colors\n            {selectedTab === 'all'\n              ? 'border-blue-500 text-blue-600'\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}\"\n        >\n          Ï†ÑÏ≤¥ ({statistics.total})\n        </button>\n        <button type=\"button\"\n          onclick={() => (selectedTab = 'pending')}\n          class=\"py-4 px-1 border-b-2 font-medium text-sm transition-colors\n            {selectedTab === 'pending'\n              ? 'border-blue-500 text-blue-600'\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}\"\n        >\n          ÏäπÏù∏ÎåÄÍ∏∞ ({statistics.pending})\n        </button>\n        <button type=\"button\"\n          onclick={() => (selectedTab = 'approved')}\n          class=\"py-4 px-1 border-b-2 font-medium text-sm transition-colors\n            {selectedTab === 'approved'\n              ? 'border-blue-500 text-blue-600'\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}\"\n        >\n          ÏäπÏù∏Îê® ({statistics.approved})\n        </button>\n        <button type=\"button\"\n          onclick={() => (selectedTab = 'rejected')}\n          class=\"py-4 px-1 border-b-2 font-medium text-sm transition-colors\n            {selectedTab === 'rejected'\n              ? 'border-blue-500 text-blue-600'\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}\"\n        >\n          Î∞òÎ†§Îê® ({statistics.rejected})\n        </button>\n      </nav>\n    </div>\n\n    <!-- ÏßÄÏ∂ú Ìï≠Î™© Î™©Î°ù -->\n    <div class=\"p-6\">\n      {#if tabData().length === 0}\n        <div class=\"text-center py-12\">\n          <div class=\"text-gray-400 text-6xl mb-4\">üìã</div>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">ÏßÄÏ∂ú Ìï≠Î™©Ïù¥ ÏóÜÏäµÎãàÎã§</h3>\n          <p class=\"text-gray-500\">ÏÉà ÏßÄÏ∂ú ÏöîÏ≤≠ÏùÑ ÏÉùÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n        </div>\n      {:else}\n        <div class=\"space-y-4\">\n          {#each tabData() as expense}\n            <div\n              class=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer\"\n              onclick={() => showExpenseDetail(expense)}\n              onkeydown={e => e.key === 'Enter' && showExpenseDetail(expense)}\n              role=\"button\"\n              tabindex=\"0\"\n            >\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex-1\">\n                  <div class=\"flex items-center space-x-4\">\n                    <h3 class=\"text-lg font-medium text-gray-900\">{expense.description}</h3>\n                    <Badge variant={getStatusColor(expense.status)}>\n                      {getStatusText(expense.status)}\n                    </Badge>\n                  </div>\n                  <div class=\"mt-2 flex items-center space-x-6 text-sm text-gray-500\">\n                    <span>Ïπ¥ÌÖåÍ≥†Î¶¨: {getCategoryName(expense.categoryCode)}</span>\n                    <span>Í∏àÏï°: {formatCurrency(expense.amount)}</span>\n                    <span>Îã¥ÎãπÎ∂ÄÏÑú: {expense.deptOwner}</span>\n                    <span>ÏÉùÏÑ±Ïùº: {formatDate(expense.createdAt)}</span>\n                  </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                  <button type=\"button\"\n                    class=\"p-2 text-gray-400 hover:text-gray-600\"\n                    aria-label=\"ÏÉÅÏÑ∏Î≥¥Í∏∞\">\n                    <svg\n                      class=\"h-5 w-5\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\">\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M9 5l7 7-7 7\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          {/each}\n        </div>\n      {/if}\n    </div>\n  </div>\n</div>\n\n<!-- ÏßÄÏ∂ú ÏöîÏ≤≠ ÏÉùÏÑ± Î™®Îã¨ -->\n<Modal\n  bind:open={showCreateModal}\n  title=\"ÏÉà ÏßÄÏ∂ú ÏöîÏ≤≠\">\n  <div class=\"space-y-4\">\n    <div>\n      <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÌîÑÎ°úÏ†ùÌä∏ *</label>\n      <select\n        bind:value={expenseForm.projectId}\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù</option>\n        <option value=\"proj-001\">AI ÌîÑÎ°úÏ†ùÌä∏</option>\n        <option value=\"proj-002\">Î∏îÎ°ùÏ≤¥Ïù∏ ÌîÑÎ°úÏ†ùÌä∏</option>\n        <option value=\"proj-003\">IoT ÌîÑÎ°úÏ†ùÌä∏</option>\n      </select>\n    </div>\n\n    <div>\n      <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ïπ¥ÌÖåÍ≥†Î¶¨ *</label>\n      <select\n        bind:value={expenseForm.categoryCode}\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        <option value=\"\">Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†ÌÉù</option>\n        {#each $activeBudgetCategories as category, i (i)}\n          <option value={category.code}>{category.nameKo}</option>\n        {/each}\n      </select>\n    </div>\n\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-1\">Í∏àÏï° *</label>\n        <input\n          type=\"number\"\n          bind:value={expenseForm.amount}\n          placeholder=\"0\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÌÜµÌôî</label>\n        <select\n          bind:value={expenseForm.currency}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"KRW\">KRW (Ïõê)</option>\n          <option value=\"USD\">USD (Îã¨Îü¨)</option>\n          <option value=\"EUR\">EUR (Ïú†Î°ú)</option>\n        </select>\n      </div>\n    </div>\n\n    <div>\n      <label class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÑ§Î™Ö *</label>\n      <textarea\n        bind:value={expenseForm.description}\n        rows=\"3\"\n        placeholder=\"ÏßÄÏ∂ú Î™©Ï†Å Î∞è ÏÉÅÏÑ∏ ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      ></textarea>\n    </div>\n\n    <div>\n      <label class=\"block text-sm font-medium text-gray-700 mb-1\">Îã¥ÎãπÎ∂ÄÏÑú</label>\n      <input\n        type=\"text\"\n        bind:value={expenseForm.deptOwner}\n        placeholder=\"Îã¥Îãπ Î∂ÄÏÑúÎ™Ö\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      />\n    </div>\n  </div>\n\n  <div class=\"flex justify-end space-x-3 mt-6\">\n    <button type=\"button\"\n      onclick={() => (showCreateModal = false)}\n      class=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors\"\n    >\n      Ï∑®ÏÜå\n    </button>\n    <button type=\"button\"\n      onclick={handleCreateExpense}\n      class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n    >\n      ÏÉùÏÑ±\n    </button>\n  </div>\n</Modal>\n\n<!-- ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÏÑ∏ Î™®Îã¨ -->\n<Modal\n  bind:open={showDetailModal}\n  title=\"ÏßÄÏ∂ú Ìï≠Î™© ÏÉÅÏÑ∏\">\n  {#if selectedExpense}\n    <div class=\"space-y-6\">\n      <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n      <div>\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Í∏∞Î≥∏ Ï†ïÎ≥¥</h3>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-500\">ÏÑ§Î™Ö</label>\n            <p class=\"text-sm text-gray-900\">{selectedExpense.description}</p>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-500\">ÏÉÅÌÉú</label>\n            <Badge variant={getStatusColor(selectedExpense.status)}>\n              {getStatusText(selectedExpense.status)}\n            </Badge>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-500\">Ïπ¥ÌÖåÍ≥†Î¶¨</label>\n            <p class=\"text-sm text-gray-900\">{getCategoryName(selectedExpense.categoryCode)}</p>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-500\">Í∏àÏï°</label>\n            <p class=\"text-sm text-gray-900\">{formatCurrency(selectedExpense.amount)}</p>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-500\">Îã¥ÎãπÎ∂ÄÏÑú</label>\n            <p class=\"text-sm text-gray-900\">{selectedExpense.deptOwner}</p>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-500\">ÏÉùÏÑ±Ïùº</label>\n            <p class=\"text-sm text-gray-900\">{formatDate(selectedExpense.createdAt)}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- ÌïÑÏàò Î¨∏ÏÑú Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ -->\n      <div>\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">ÌïÑÏàò Î¨∏ÏÑú</h3>\n        <div class=\"space-y-2\">\n          {#each getRequiredDocuments(selectedExpense.categoryCode) as doc}\n            <div class=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg\">\n              <div class=\"flex-shrink-0\">\n                {#if doc.required}\n                  <span class=\"text-red-500\">*</span>\n                {:else}\n                  <span class=\"text-gray-400\">‚óã</span>\n                {/if}\n              </div>\n              <div class=\"flex-1\">\n                <p class=\"text-sm font-medium text-gray-900\">{doc.description}</p>\n                <p class=\"text-xs text-gray-500\">{doc.type}</p>\n              </div>\n              <div class=\"flex-shrink-0\">\n                <Badge variant=\"secondary\">ÎØ∏ÏóÖÎ°úÎìú</Badge>\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n\n      <!-- Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ -->\n      <div>\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Í≤∞Ïû¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞</h3>\n        <div class=\"space-y-2\">\n          <div class=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg\">\n            <div class=\"flex-shrink-0\">\n              <div class=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                <span class=\"text-blue-600 text-sm font-bold\">1</span>\n              </div>\n            </div>\n            <div class=\"flex-1\">\n              <p class=\"text-sm font-medium text-gray-900\">PM ÏäπÏù∏</p>\n              <p class=\"text-xs text-gray-500\">Í≥ºÏ†úÏ±ÖÏûÑÏûê 1Ï∞® ÏäπÏù∏</p>\n            </div>\n            <div class=\"flex-shrink-0\">\n              <Badge variant=\"warning\">ÎåÄÍ∏∞Ï§ë</Badge>\n            </div>\n          </div>\n          <div class=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg\">\n            <div class=\"flex-shrink-0\">\n              <div class=\"h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                <span class=\"text-gray-600 text-sm font-bold\">2</span>\n              </div>\n            </div>\n            <div class=\"flex-1\">\n              <p class=\"text-sm font-medium text-gray-900\">Í≤ΩÏòÅÏßÄÏõê ÏäπÏù∏</p>\n              <p class=\"text-xs text-gray-500\">Í≤ΩÏòÅÏßÄÏõêÌåÄ ÏµúÏ¢Ö ÏäπÏù∏</p>\n            </div>\n            <div class=\"flex-shrink-0\">\n              <Badge variant=\"secondary\">ÎåÄÍ∏∞Ï§ë</Badge>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex justify-end space-x-3 mt-6\">\n      <button type=\"button\"\n        onclick={() => (showDetailModal = false)}\n        class=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors\"\n      >\n        Îã´Í∏∞\n      </button>\n      {#if selectedExpense.status === 'pending_approval'}\n        <button type=\"button\" class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n        >\n          ÏäπÏù∏\n        </button>\n        <button type=\"button\" class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors\"\n        >\n          Î∞òÎ†§\n        </button>\n      {/if}\n    </div>\n  {/if}\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/milestones/+page.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 685,
        "column": 42
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { projects, employees } from '$lib/stores/rd'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n\n  interface Milestone {\n    id: string\n    title: string\n    description: string\n    projectId: string\n    ownerId: string\n    dueDate: string\n    status: 'pending' | 'in_progress' | 'completed' | 'overdue'\n    priority: 'low' | 'medium' | 'high' | 'critical'\n    progress: number\n    dependencies: string[]\n    quarter: string\n    deliverables: Array<{\n      name: string\n      status: string\n      dueDate: string\n    }>\n    kpis: Array<{\n      name: string\n      target: string\n      unit: string\n      current: number\n    }>\n    createdAt: string\n    updatedAt: string\n  }\n\n  // Mock milestones data\n  let milestones = $state<any[]>([\n    {\n      id: 'milestone-1',\n      projectId: 'project-1',\n      quarter: '2024-Q1',\n      title: 'AI Î™®Îç∏ ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Í∞úÎ∞ú',\n      description: 'Í∏∞Î≥∏ AI Î™®Îç∏ ÏïÑÌÇ§ÌÖçÏ≤ò ÏÑ§Í≥Ñ Î∞è ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Íµ¨ÌòÑ',\n      kpis: [\n        { name: 'Î™®Îç∏ Ï†ïÌôïÎèÑ', target: '85%', current: 82, unit: '%' },\n        { name: 'Ï≤òÎ¶¨ ÏÜçÎèÑ', target: '100ms', current: 120, unit: 'ms' },\n        { name: 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ', target: '2GB', current: 2.1, unit: 'GB' }\n      ],\n      deliverables: [\n        { name: 'AI Î™®Îç∏ ÏÑ§Í≥ÑÏÑú', status: 'completed', dueDate: '2024-01-15' },\n        { name: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ ÏΩîÎìú', status: 'in_progress', dueDate: '2024-02-28' },\n        { name: 'ÏÑ±Îä• ÌÖåÏä§Ìä∏ Î≥¥Í≥†ÏÑú', status: 'pending', dueDate: '2024-03-15' }\n      ],\n      ownerId: 'person-1',\n      dueDate: '2024-03-31',\n      status: 'in_progress',\n      priority: 'high',\n      progress: 75,\n      dependencies: [],\n      createdAt: '2024-01-01T00:00:00Z',\n      updatedAt: '2024-01-15T10:30:00Z'\n    },\n    {\n      id: 'milestone-2',\n      projectId: 'project-1',\n      quarter: '2024-Q2',\n      title: 'Îç∞Ïù¥ÌÑ∞ ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨Ï∂ï',\n      description: 'ÎåÄÏö©Îüâ Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨ Î∞è Ï†ÑÏ≤òÎ¶¨ ÌååÏù¥ÌîÑÎùºÏù∏ Í∞úÎ∞ú',\n      kpis: [\n        { name: 'Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨Îüâ', target: '1TB/day', current: 800, unit: 'GB/day' },\n        { name: 'Ï≤òÎ¶¨ ÏãúÍ∞Ñ', target: '2ÏãúÍ∞Ñ', current: 2.5, unit: 'ÏãúÍ∞Ñ' },\n        { name: 'ÏóêÎü¨Ïú®', target: '0.1%', current: 0.2, unit: '%' }\n      ],\n      deliverables: [\n        { name: 'ÌååÏù¥ÌîÑÎùºÏù∏ ÏÑ§Í≥ÑÏÑú', status: 'pending', dueDate: '2024-04-15' },\n        { name: 'ETL ÏΩîÎìú', status: 'pending', dueDate: '2024-05-30' },\n        { name: 'Î™®ÎãàÌÑ∞ÎßÅ ÎåÄÏãúÎ≥¥Îìú', status: 'pending', dueDate: '2024-06-15' }\n      ],\n      ownerId: 'person-2',\n      dueDate: '2024-06-30',\n      status: 'pending',\n      priority: 'medium',\n      progress: 0,\n      dependencies: [],\n      createdAt: '2024-01-01T00:00:00Z',\n      updatedAt: '2024-01-01T00:00:00Z'\n    },\n    {\n      id: 'milestone-3',\n      projectId: 'project-2',\n      quarter: '2024-Q1',\n      title: 'ÏÇ¨Ïö©Ïûê Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÏÑ§Í≥Ñ',\n      description: 'Ïõπ Í∏∞Î∞ò ÏÇ¨Ïö©Ïûê Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÏÑ§Í≥Ñ Î∞è ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Í∞úÎ∞ú',\n      kpis: [\n        { name: 'ÏÇ¨Ïö©Ïûê ÎßåÏ°±ÎèÑ', target: '4.5/5', current: 4.2, unit: '/5' },\n        { name: 'ÌéòÏù¥ÏßÄ Î°úÎî© ÏãúÍ∞Ñ', target: '2Ï¥à', current: 2.3, unit: 'Ï¥à' },\n        { name: 'Ï†ëÍ∑ºÏÑ± Ï†êÏàò', target: '95Ï†ê', current: 92, unit: 'Ï†ê' }\n      ],\n      deliverables: [\n        { name: 'UI/UX ÏÑ§Í≥ÑÏÑú', status: 'completed', dueDate: '2024-01-30' },\n        { name: 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ', status: 'completed', dueDate: '2024-02-15' },\n        { name: 'ÏÇ¨Ïö©ÏÑ± ÌÖåÏä§Ìä∏ Î≥¥Í≥†ÏÑú', status: 'in_progress', dueDate: '2024-03-31' }\n      ],\n      ownerId: 'person-3',\n      dueDate: '2024-03-31',\n      status: 'in_progress',\n      priority: 'high',\n      progress: 80,\n      dependencies: [],\n      createdAt: '2024-01-01T00:00:00Z',\n      updatedAt: '2024-02-20T14:15:00Z'\n    }\n  ])\n\n  let selectedMilestone = $state<Milestone | null>(null)\n  let showDetailModal = $state(false)\n  let showCreateModal = $state(false)\n  let searchTerm = $state('')\n  let selectedProject = $state<string>('all')\n  let selectedQuarter = $state<string>('all')\n  let selectedStatus = $state<string>('all')\n\n  // Form data for creating new milestone\n  let formData = $state({\n    projectId: '',\n    quarter: '',\n    title: '',\n    description: '',\n    ownerId: '',\n    dueDate: '',\n    kpis: [] as Array<{ name: string; target: string; unit: string }>,\n    deliverables: [] as Array<{ name: string; dueDate: string }>\n  })\n\n  // Get filtered milestones\n  let filteredMilestones = $derived(() => {\n    let filtered = milestones\n\n    if (searchTerm) {\n      filtered = filtered.filter(\n        milestone =>\n          milestone.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            milestone.description.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (selectedProject !== 'all') {\n      filtered = filtered.filter(milestone => milestone.projectId === selectedProject)\n    }\n\n    if (selectedQuarter !== 'all') {\n      filtered = filtered.filter(milestone => milestone.quarter === selectedQuarter)\n    }\n\n    if (selectedStatus !== 'all') {\n      filtered = filtered.filter(milestone => milestone.status === selectedStatus)\n    }\n\n    return filtered.sort((a, b) => new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime())\n  })\n\n  // Get unique quarters for filter\n  let availableQuarters = $derived(() => {\n    const quarters = [...new Set(milestones.map(m => m.quarter))]\n    return quarters.sort()\n  })\n\n  // Get person name by ID\n  function getPersonName(personId: string): string {\n    const person = $employees.find(p => p.id === personId)\n    return person ? person.name : 'Unknown'\n  }\n\n  // Get project name by ID\n  function getProjectName(projectId: string): string {\n    const project = $projects.find((p: any) => p.id === projectId)\n    return project ? project.name : 'Unknown Project'\n  }\n\n  // Show milestone detail\n  function showMilestoneDetail(milestone: Milestone) {\n    selectedMilestone = milestone\n    showDetailModal = true\n  }\n\n  // Create new milestone\n  function createMilestone() {\n    if (\n      !formData.projectId ||\n      !formData.quarter ||\n      !formData.title ||\n      !formData.ownerId ||\n      !formData.dueDate\n    ) {\n      alert('Î™®Îì† ÌïÑÏàò ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    const newMilestone: Milestone = {\n      id: `milestone-${Date.now()}`,\n      projectId: formData.projectId,\n      quarter: formData.quarter,\n      title: formData.title,\n      description: formData.description,\n      kpis: formData.kpis.map(kpi => ({\n        ...kpi,\n        current: 0,\n        unit: kpi.unit\n      })),\n      deliverables: formData.deliverables.map(deliverable => ({\n        ...deliverable,\n        status: 'pending' as const\n      })),\n      ownerId: formData.ownerId,\n      dueDate: formData.dueDate,\n      status: 'pending',\n      priority: 'medium',\n      progress: 0,\n      dependencies: [],\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n\n    milestones.push(newMilestone)\n\n    // Reset form\n    formData = {\n      projectId: '',\n      quarter: '',\n      title: '',\n      description: '',\n      ownerId: '',\n      dueDate: '',\n      kpis: [],\n      deliverables: []\n    }\n\n    showCreateModal = false\n  }\n\n  // Update milestone status\n  function updateMilestoneStatus(\n    milestoneId: string,\n    status: 'pending' | 'in_progress' | 'completed'\n  ) {\n    const milestone = milestones.find(m => m.id === milestoneId)\n    if (milestone) {\n      milestone.status = status\n      milestone.updatedAt = new Date().toISOString()\n    }\n  }\n\n  // Add KPI\n  function addKPI() {\n    formData.kpis.push({ name: '', target: '', unit: '' })\n  }\n\n  // Remove KPI\n  function removeKPI(index: number) {\n    formData.kpis.splice(index, 1)\n  }\n\n  // Add deliverable\n  function addDeliverable() {\n    formData.deliverables.push({ name: '', dueDate: '' })\n  }\n\n  // Remove deliverable\n  function removeDeliverable(index: number) {\n    formData.deliverables.splice(index, 1)\n  }\n\n  // Format date\n  function formatDate(dateString: string): string {\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Get status badge variant\n  function getStatusVariant(status: string): 'success' | 'warning' | 'danger' {\n    switch (status) {\n      case 'completed':\n        return 'success'\n      case 'in_progress':\n        return 'warning'\n      default:\n        return 'danger'\n    }\n  }\n\n  // Get status text\n  function getStatusText(status: string): string {\n    switch (status) {\n      case 'completed':\n        return 'ÏôÑÎ£å'\n      case 'in_progress':\n        return 'ÏßÑÌñâÏ§ë'\n      default:\n        return 'ÎåÄÍ∏∞'\n    }\n  }\n\n  // Calculate progress percentage\n  function calculateProgress(milestone: Milestone): number {\n    const completed = milestone.deliverables.filter(d => d.status === 'completed').length\n    return Math.round((completed / milestone.deliverables.length) * 100) || 0\n  }\n\n  onMount(() => {\n  // Initialize dummy data if needed\n  })\n</script>\n\n<div class=\"container mx-auto p-6\">\n  <div class=\"mb-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Î∂ÑÍ∏∞ Î™©Ìëú/ÏÇ∞Ï∂úÎ¨º Í¥ÄÎ¶¨</h1>\n    <p class=\"text-gray-600\">ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Î∂ÑÍ∏∞ Î™©Ìëú, KPI, ÏÇ∞Ï∂úÎ¨ºÏùÑ Í¥ÄÎ¶¨ÌïòÍ≥† ÏßÑÌñâÏÉÅÌô©ÏùÑ Ï∂îÏ†ÅÌï©ÎãàÎã§.</p>\n  </div>\n\n  <!-- Filters -->\n  <div class=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\n    <div class=\"grid grid-cols-1 md:grid-cols-6 gap-4\">\n      <div>\n        <label\n          for=\"search\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í≤ÄÏÉâ</label>\n        <input\n          id=\"search\"\n          type=\"text\"\n          bind:value={searchTerm}\n          placeholder=\"Ï†úÎ™© ÎòêÎäî ÏÑ§Î™Ö Í≤ÄÏÉâ...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"project-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏</label\n        >\n        <select\n          id=\"project-filter\"\n          bind:value={selectedProject}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"quarter-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Î∂ÑÍ∏∞</label\n        >\n        <select\n          id=\"quarter-filter\"\n          bind:value={selectedQuarter}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each availableQuarters() as quarter}\n            <option value={quarter}>{quarter}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"rnd-mil-status-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏÉÅÌÉú</label\n        >\n        <select\n          id=\"rnd-mil-status-filter\"\n          bind:value={selectedStatus}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          <option value=\"pending\">ÎåÄÍ∏∞</option>\n          <option value=\"in_progress\">ÏßÑÌñâÏ§ë</option>\n          <option value=\"completed\">ÏôÑÎ£å</option>\n        </select>\n      </div>\n      <div class=\"flex items-end\">\n        <button type=\"button\"\n          onclick={() => (showCreateModal = true)}\n          class=\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          ÏÉà ÎßàÏùºÏä§ÌÜ§ Ï∂îÍ∞Ä\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Milestones List -->\n  <div class=\"grid gap-6\">\n    {#each filteredMilestones() as milestone}\n      <Card class=\"p-6 hover:shadow-md transition-shadow\">\n        <div class=\"flex justify-between items-start mb-4\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center gap-3 mb-2\">\n              <h3 class=\"text-xl font-semibold text-gray-900\">{milestone.title}</h3>\n              <Badge variant={getStatusVariant(milestone.status)}\n              >{getStatusText(milestone.status)}</Badge\n              >\n            </div>\n            <p class=\"text-gray-600 mb-3\">{milestone.description}</p>\n            <div class=\"text-sm text-gray-500 space-y-1\">\n              <p>\n                <span class=\"font-medium\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n                {getProjectName(milestone.projectId)}\n              </p>\n              <p><span class=\"font-medium\">Î∂ÑÍ∏∞:</span> {milestone.quarter}</p>\n              <p><span class=\"font-medium\">Îã¥ÎãπÏûê:</span> {getPersonName(milestone.ownerId)}</p>\n              <p><span class=\"font-medium\">ÎßàÍ∞êÏùº:</span> {formatDate(milestone.dueDate)}</p>\n            </div>\n          </div>\n          <div class=\"flex gap-2 ml-4\">\n            <button type=\"button\"\n              onclick={() => showMilestoneDetail(milestone)}\n              class=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              aria-label=\"ÏÉÅÏÑ∏Î≥¥Í∏∞\"\n            >\n              ÏÉÅÏÑ∏Î≥¥Í∏∞\n            </button>\n            {#if milestone.status === 'pending'}\n              <button type=\"button\"\n                onclick={() => updateMilestoneStatus(milestone.id, 'in_progress')}\n                class=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                ÏãúÏûë\n              </button>\n            {/if}\n            {#if milestone.status === 'in_progress'}\n              <button type=\"button\"\n                onclick={() => updateMilestoneStatus(milestone.id, 'completed')}\n                class=\"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n              >\n                ÏôÑÎ£å\n              </button>\n            {/if}\n          </div>\n        </div>\n\n        <!-- Progress Bar -->\n        <div class=\"mb-4\">\n          <div class=\"flex justify-between text-sm text-gray-600 mb-1\">\n            <span>ÏßÑÌñâÎ•†</span>\n            <span>{calculateProgress(milestone)}%</span>\n          </div>\n          <div class=\"w-full bg-gray-200 rounded-full h-2\">\n            <div\n              class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n              style:width=\"{calculateProgress(milestone)}%\"\n            ></div>\n          </div>\n        </div>\n\n        <!-- KPIs -->\n        {#if milestone.kpis.length > 0}\n          <div class=\"mb-4\">\n            <h4 class=\"font-medium text-gray-900 mb-2\">KPI ÌòÑÌô©</h4>\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n              {#each milestone.kpis as kpi, i (i)}\n                <div class=\"bg-gray-50 p-3 rounded-md\">\n                  <div class=\"text-sm font-medium text-gray-900\">{kpi.name}</div>\n                  <div class=\"text-sm text-gray-600\">\n                    Î™©Ìëú: {kpi.target} | ÌòÑÏû¨: {kpi.current}\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n\n        <!-- Deliverables -->\n        <div>\n          <h4 class=\"font-medium text-gray-900 mb-2\">ÏÇ∞Ï∂úÎ¨º ÌòÑÌô©</h4>\n          <div class=\"space-y-2\">\n            {#each milestone.deliverables as deliverable, i (i)}\n              <div class=\"flex items-center justify-between p-2 bg-gray-50 rounded\">\n                <span class=\"text-sm text-gray-900\">{deliverable.name}</span>\n                <div class=\"flex items-center gap-2\">\n                  <Badge variant={getStatusVariant(deliverable.status)}>\n                    {getStatusText(deliverable.status)}\n                  </Badge>\n                  <span class=\"text-xs text-gray-500\">{formatDate(deliverable.dueDate)}</span>\n                </div>\n              </div>\n            {/each}\n          </div>\n        </div>\n      </Card>\n    {/each}\n  </div>\n\n  {#if filteredMilestones().length === 0}\n    <div class=\"text-center py-12\">\n      <div class=\"text-gray-400 text-6xl mb-4\">üéØ</div>\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">ÎßàÏùºÏä§ÌÜ§Ïù¥ ÏóÜÏäµÎãàÎã§</h3>\n      <p class=\"text-gray-500\">ÏÉàÎ°úÏö¥ Î∂ÑÍ∏∞ Î™©ÌëúÎ•º ÏÑ§Ï†ïÌï¥Î≥¥ÏÑ∏Ïöî.</p>\n    </div>\n  {/if}\n</div>\n\n<!-- Detail Modal -->\n<Modal\n  bind:open={showDetailModal}\n  title=\"ÎßàÏùºÏä§ÌÜ§ ÏÉÅÏÑ∏\">\n  {#if selectedMilestone}\n    <div class=\"space-y-6\">\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">{selectedMilestone.title}</h3>\n        <p class=\"text-gray-600 mb-4\">{selectedMilestone.description}</p>\n        <div class=\"grid grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span class=\"font-medium text-gray-700\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n            <span class=\"ml-2\">{getProjectName(selectedMilestone.projectId)}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Î∂ÑÍ∏∞:</span>\n            <span class=\"ml-2\">{selectedMilestone.quarter}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Îã¥ÎãπÏûê:</span>\n            <span class=\"ml-2\">{getPersonName(selectedMilestone.ownerId)}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÎßàÍ∞êÏùº:</span>\n            <span class=\"ml-2\">{formatDate(selectedMilestone.dueDate)}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- KPIs -->\n      {#if selectedMilestone.kpis.length > 0}\n        <div>\n          <h4 class=\"font-medium text-gray-900 mb-3\">KPI ÌòÑÌô©</h4>\n          <div class=\"space-y-3\">\n            {#each selectedMilestone.kpis as kpi, i (i)}\n              <div class=\"bg-gray-50 p-4 rounded-md\">\n                <div class=\"flex justify-between items-center mb-2\">\n                  <span class=\"font-medium text-gray-900\">{kpi.name}</span>\n                  <span class=\"text-sm text-gray-600\">{kpi.unit}</span>\n                </div>\n                <div class=\"flex justify-between text-sm text-gray-600\">\n                  <span>Î™©Ìëú: {kpi.target}</span>\n                  <span>ÌòÑÏû¨: {kpi.current}</span>\n                </div>\n              </div>\n            {/each}\n          </div>\n        </div>\n      {/if}\n\n      <!-- Deliverables -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">ÏÇ∞Ï∂úÎ¨º ÌòÑÌô©</h4>\n        <div class=\"space-y-2\">\n          {#each selectedMilestone.deliverables as deliverable, i (i)}\n            <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-md\">\n              <span class=\"text-gray-900\">{deliverable.name}</span>\n              <div class=\"flex items-center gap-3\">\n                <Badge variant={getStatusVariant(deliverable.status)}>\n                  {getStatusText(deliverable.status)}\n                </Badge>\n                <span class=\"text-sm text-gray-500\">{formatDate(deliverable.dueDate)}</span>\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n    </div>\n  {/if}\n</Modal>\n\n<!-- Create Modal -->\n<Modal\n  bind:open={showCreateModal}\n  title=\"ÏÉà ÎßàÏùºÏä§ÌÜ§ Ï∂îÍ∞Ä\">\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-project\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏ *</label\n        >\n        <select\n          id=\"create-project\"\n          bind:value={formData.projectId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-quarter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Î∂ÑÍ∏∞ *</label\n        >\n        <input\n          id=\"create-quarter\"\n          type=\"text\"\n          bind:value={formData.quarter}\n          placeholder=\"Ïòà: 2024-Q1\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n    </div>\n    <div>\n      <label\n        for=\"create-title\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\">Ï†úÎ™© *</label>\n      <input\n        id=\"create-title\"\n        type=\"text\"\n        bind:value={formData.title}\n        placeholder=\"ÎßàÏùºÏä§ÌÜ§ Ï†úÎ™©\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      />\n    </div>\n    <div>\n      <label\n        for=\"create-description\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\"\n      >ÏÑ§Î™Ö</label\n      >\n      <textarea\n        id=\"create-description\"\n        bind:value={formData.description}\n        rows=\"3\"\n        placeholder=\"ÎßàÏùºÏä§ÌÜ§ ÏÑ§Î™Ö\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      ></textarea>\n    </div>\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-owner\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Îã¥ÎãπÏûê *</label\n        >\n        <select\n          id=\"create-owner\"\n          bind:value={formData.ownerId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">Îã¥ÎãπÏûê ÏÑ†ÌÉù</option>\n          {#each $employees as person, i (i)}\n            <option value={person.id}>{person.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-due-date\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÎßàÍ∞êÏùº *</label\n        >\n        <input\n          id=\"create-due-date\"\n          type=\"date\"\n          bind:value={formData.dueDate}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n    </div>\n\n    <!-- KPIs -->\n    <div>\n      <div class=\"flex justify-between items-center mb-2\">\n        <div class=\"block text-sm font-medium text-gray-700\">KPI</div>\n        <button\n          type=\"button\"\n          onclick={addKPI}\n          class=\"text-sm text-blue-600 hover:text-blue-700\">\n          + KPI Ï∂îÍ∞Ä\n        </button>\n      </div>\n      <div class=\"space-y-2\">\n        {#each formData.kpis as kpi, index, i (i)}\n          <div class=\"flex gap-2 items-center\">\n            <input\n              type=\"text\"\n              bind:value={kpi.name}\n              placeholder=\"KPI Ïù¥Î¶Ñ\"\n              class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <input\n              type=\"text\"\n              bind:value={kpi.target}\n              placeholder=\"Î™©ÌëúÍ∞í\"\n              class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <input\n              type=\"text\"\n              bind:value={kpi.unit}\n              placeholder=\"Îã®ÏúÑ\"\n              class=\"w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <button\n              type=\"button\"\n              onclick={() => removeKPI(index)}\n              class=\"text-red-600 hover:text-red-700\"\n            >\n              ÏÇ≠Ï†ú\n            </button>\n          </div>\n        {/each}\n      </div>\n    </div>\n\n    <!-- Deliverables -->\n    <div>\n      <div class=\"flex justify-between items-center mb-2\">\n        <div class=\"block text-sm font-medium text-gray-700\">ÏÇ∞Ï∂úÎ¨º</div>\n        <button\n          type=\"button\"\n          onclick={addDeliverable}\n          class=\"text-sm text-blue-600 hover:text-blue-700\"\n        >\n          + ÏÇ∞Ï∂úÎ¨º Ï∂îÍ∞Ä\n        </button>\n      </div>\n      <div class=\"space-y-2\">\n        {#each formData.deliverables as deliverable, index, i (i)}\n          <div class=\"flex gap-2 items-center\">\n            <input\n              type=\"text\"\n              bind:value={deliverable.name}\n              placeholder=\"ÏÇ∞Ï∂úÎ¨º Ïù¥Î¶Ñ\"\n              class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <input\n              type=\"date\"\n              bind:value={deliverable.dueDate}\n              class=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <button\n              type=\"button\"\n              onclick={() => removeDeliverable(index)}\n              class=\"text-red-600 hover:text-red-700\"\n            >\n              ÏÇ≠Ï†ú\n            </button>\n          </div>\n        {/each}\n      </div>\n    </div>\n\n    <div class=\"flex justify-end gap-2 pt-4\">\n      <button type=\"button\"\n        onclick={() => (showCreateModal = false)}\n        class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n      >\n        Ï∑®ÏÜå\n      </button>\n      <button type=\"button\"\n        onclick={createMilestone}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        ÏÉùÏÑ±\n      </button>\n    </div>\n  </div>\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/replacements/+page.svelte",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Expected token }\nhttps://svelte.dev/e/expected_token",
        "line": 657,
        "column": 74
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { employees, projects } from '$lib/stores/rd'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n\n  interface ReplacementCandidate {\n    id: string\n    originalPersonId: string\n    reason: string\n    priority: 'low' | 'medium' | 'high' | 'urgent'\n    status: 'pending' | 'in_progress' | 'completed' | 'cancelled' | 'approved' | 'rejected'\n    requestedBy: string\n    requestedAt: string\n    dueDate: string\n    projectId: string\n    effectiveDate: string\n    candidates: Array<{\n      personId: string\n      score: number\n      reasons: string[]\n      availability: number\n      experience: string\n      salaryMatch: boolean\n      skillsMatch: string[]\n      recommended: boolean\n    }>\n    selectedCandidate?: string\n    notes: string\n    createdAt: string\n    updatedAt: string\n  }\n\n  // Mock replacement candidates data\n  let replacementCandidates = $state<ReplacementCandidate[]>([\n    {\n      id: 'replacement-1',\n      originalPersonId: 'person-1',\n      projectId: 'project-1',\n      reason: 'Ìá¥ÏÇ¨',\n      effectiveDate: '2024-02-01',\n      status: 'pending',\n      priority: 'high',\n      requestedBy: 'emp-001',\n      requestedAt: '2024-01-15T00:00:00Z',\n      dueDate: '2024-02-01',\n      notes: 'Í∏¥Í∏â ÎåÄÏ≤¥ Ïù∏Î†• ÌïÑÏöî',\n      candidates: [\n        {\n          personId: 'person-4',\n          score: 95,\n          reasons: ['ÎèôÏùº Í∏∞Ïà† Ïä§ÌÉù', 'Ïú†ÏÇ¨ ÌîÑÎ°úÏ†ùÌä∏ Í≤ΩÌóò', 'ÎÜíÏùÄ ÏÑ±Í≥º Ïù¥Î†•'],\n          availability: 80,\n          salaryMatch: true,\n          skillsMatch: ['AI/ML', 'Python', 'TensorFlow'],\n          experience: '5ÎÖÑ',\n          recommended: true\n        },\n        {\n          personId: 'person-5',\n          score: 87,\n          reasons: ['Í∞ïÌïú ÌïôÏäµ Îä•Î†•', 'ÌåÄÏõåÌÅ¨ Ïö∞Ïàò', 'ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ Í≤ΩÌóò'],\n          availability: 60,\n          salaryMatch: true,\n          skillsMatch: ['Python', 'Data Science', 'Machine Learning'],\n          experience: '3ÎÖÑ',\n          recommended: false\n        },\n        {\n          personId: 'person-6',\n          score: 82,\n          reasons: ['ÎèÑÎ©îÏù∏ Ï†ÑÎ¨∏ÏÑ±', 'Î¨∏Ï†ú Ìï¥Í≤∞ Îä•Î†•', 'Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò Ïä§ÌÇ¨'],\n          availability: 70,\n          salaryMatch: false,\n          skillsMatch: ['AI/ML', 'Python', 'Research'],\n          experience: '4ÎÖÑ',\n          recommended: false\n        }\n      ],\n      createdAt: '2024-01-15T10:00:00Z',\n      updatedAt: '2024-01-15T10:00:00Z'\n    },\n    {\n      id: 'replacement-2',\n      originalPersonId: 'person-2',\n      projectId: 'project-2',\n      reason: 'ÌîÑÎ°úÏ†ùÌä∏ Î≥ÄÍ≤Ω',\n      effectiveDate: '2024-03-01',\n      status: 'approved',\n      priority: 'medium',\n      requestedBy: 'emp-002',\n      requestedAt: '2024-02-01T00:00:00Z',\n      dueDate: '2024-03-01',\n      notes: 'ÌîÑÎ°úÏ†ùÌä∏ Ïö∞ÏÑ†ÏàúÏúÑ Î≥ÄÍ≤ΩÏúºÎ°ú Ïù∏Ìïú Ïù∏Î†• Ïû¨Î∞∞Ïπò',\n      candidates: [\n        {\n          personId: 'person-7',\n          score: 92,\n          reasons: ['UI/UX Ï†ÑÎ¨∏ÏÑ±', 'React Í≤ΩÌóò', 'ÏÇ¨Ïö©Ïûê Ï§ëÏã¨ ÏÑ§Í≥Ñ'],\n          availability: 90,\n          salaryMatch: true,\n          skillsMatch: ['React', 'UI/UX', 'Frontend'],\n          experience: '4ÎÖÑ',\n          recommended: true\n        },\n        {\n          personId: 'person-8',\n          score: 85,\n          reasons: ['ÌíÄÏä§ÌÉù Í∞úÎ∞ú', 'Îπ†Î•∏ Ï†ÅÏùëÎ†•', 'ÏΩîÎìú ÌíàÏßà'],\n          availability: 75,\n          salaryMatch: true,\n          skillsMatch: ['React', 'Node.js', 'Full Stack'],\n          experience: '3ÎÖÑ',\n          recommended: false\n        }\n      ],\n      createdAt: '2024-01-20T14:30:00Z',\n      updatedAt: '2024-01-25T09:15:00Z'\n    },\n    {\n      id: 'replacement-3',\n      originalPersonId: 'person-3',\n      projectId: 'project-1',\n      reason: 'Ìú¥ÏßÅ',\n      effectiveDate: '2024-02-15',\n      status: 'in_progress',\n      priority: 'medium',\n      requestedBy: 'emp-003',\n      requestedAt: '2024-02-01T00:00:00Z',\n      dueDate: '2024-02-15',\n      notes: 'Í∞úÏù∏ ÏÇ¨Ï†ïÏúºÎ°ú Ïù∏Ìïú Ìú¥ÏßÅ',\n      candidates: [\n        {\n          personId: 'person-9',\n          score: 88,\n          reasons: ['Î∞±ÏóîÎìú Ï†ÑÎ¨∏ÏÑ±', 'API ÏÑ§Í≥Ñ', 'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏµúÏ†ÅÌôî'],\n          availability: 85,\n          salaryMatch: true,\n          skillsMatch: ['Backend', 'API', 'Database'],\n          experience: '6ÎÖÑ',\n          recommended: true\n        },\n        {\n          personId: 'person-10',\n          score: 79,\n          reasons: ['ÏãúÏä§ÌÖú ÏïÑÌÇ§ÌÖçÏ≤ò', 'ÌÅ¥ÎùºÏö∞Îìú Í≤ΩÌóò', 'DevOps'],\n          availability: 65,\n          salaryMatch: false,\n          skillsMatch: ['Backend', 'Cloud', 'DevOps'],\n          experience: '5ÎÖÑ',\n          recommended: false\n        }\n      ],\n      createdAt: '2024-01-25T16:45:00Z',\n      updatedAt: '2024-01-30T11:20:00Z'\n    }\n  ])\n\n  let selectedReplacement = $state<ReplacementCandidate | null>(null)\n  let showDetailModal = $state(false)\n  let showCreateModal = $state(false)\n  let searchTerm = $state('')\n  let selectedProject = $state<string>('all')\n  let selectedStatus = $state<string>('all')\n  let selectedReason = $state<string>('all')\n\n  // Form data for creating new replacement request\n  let formData = $state({\n    originalPersonId: '',\n    projectId: '',\n    reason: '',\n    effectiveDate: '',\n    priority: 'medium' as 'low' | 'medium' | 'high',\n    requiredSkills: [] as string[],\n    experienceLevel: '',\n    salaryRange: '',\n    availability: 100\n  })\n\n  // Get filtered replacements\n  let filteredReplacements = $derived(() => {\n    let filtered = replacementCandidates\n\n    if (searchTerm) {\n      filtered = filtered.filter(replacement => {\n        const originalPerson = $employees.find(p => p.id === replacement.originalPersonId)\n        return (\n          originalPerson?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          replacement.reason.toLowerCase().includes(searchTerm.toLowerCase())\n        )\n      })\n    }\n\n    if (selectedProject !== 'all') {\n      filtered = filtered.filter(replacement => replacement.projectId === selectedProject)\n    }\n\n    if (selectedStatus !== 'all') {\n      filtered = filtered.filter(replacement => replacement.status === selectedStatus)\n    }\n\n    if (selectedReason !== 'all') {\n      filtered = filtered.filter(replacement => replacement.reason === selectedReason)\n    }\n\n    return filtered.sort(\n      (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    )\n  })\n\n  // Get unique reasons for filter\n  let availableReasons = $derived(() => {\n    const reasons = [...new Set(replacementCandidates.map(r => r.reason))]\n    return reasons\n  })\n\n  // Get person name by ID\n  function getPersonName(personId: string): string {\n    const person = $employees.find(p => p.id === personId)\n    return person ? person.name : 'Unknown'\n  }\n\n  // Get project name by ID\n  function getProjectName(projectId: string): string {\n    const project = $projects.find((p: any) => p.id === projectId)\n    return project ? project.name : 'Unknown Project'\n  }\n\n  // Show replacement detail\n  function showReplacementDetail(replacement: ReplacementCandidate) {\n    selectedReplacement = replacement\n    showDetailModal = true\n  }\n\n  // Create new replacement request\n  function createReplacementRequest() {\n    if (\n      !formData.originalPersonId ||\n      !formData.projectId ||\n      !formData.reason ||\n      !formData.effectiveDate\n    ) {\n      alert('Î™®Îì† ÌïÑÏàò ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // Find matching candidates based on criteria\n    const matchingCandidates = findMatchingCandidates(formData)\n\n    const newReplacement: ReplacementCandidate = {\n      id: `replacement-${Date.now()}`,\n      originalPersonId: formData.originalPersonId,\n      projectId: formData.projectId,\n      reason: formData.reason,\n      effectiveDate: formData.effectiveDate,\n      status: 'pending',\n      priority: 'medium',\n      requestedBy: 'emp-001',\n      requestedAt: new Date().toISOString(),\n      dueDate: formData.effectiveDate,\n      notes: '',\n      candidates: matchingCandidates,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n\n    replacementCandidates.push(newReplacement)\n\n    // Reset form\n    formData = {\n      originalPersonId: '',\n      projectId: '',\n      reason: '',\n      effectiveDate: '',\n      priority: 'medium',\n      requiredSkills: [],\n      experienceLevel: '',\n      salaryRange: '',\n      availability: 100\n    }\n\n    showCreateModal = false\n  }\n\n  // Find matching candidates based on criteria\n  function findMatchingCandidates(criteria: any) {\n    // Mock algorithm - in real implementation, this would use ML/AI\n    const availablePersons = $employees.filter(p => p.id !== criteria.originalPersonId)\n\n    return availablePersons.slice(0, 3).map((person, index) => ({\n      personId: person.id,\n      score: 95 - index * 10,\n      reasons: ['Í∏∞Ïà† Ïä§ÌÉù ÏùºÏπò', 'ÌîÑÎ°úÏ†ùÌä∏ Í≤ΩÌóò', 'ÌåÄÏõåÌÅ¨ Ïö∞Ïàò'],\n      availability: Math.floor(Math.random() * 40) + 60,\n      salaryMatch: Math.random() > 0.3,\n      skillsMatch: ['Python', 'React', 'Database'],\n      experience: `${Math.floor(Math.random() * 5) + 2}ÎÖÑ`,\n      recommended: index === 0\n    }))\n  }\n\n  // Approve replacement\n  function approveReplacement(replacementId: string, candidatePersonId: string) {\n    const replacement = replacementCandidates.find(r => r.id === replacementId)\n    if (replacement) {\n      replacement.status = 'approved'\n      replacement.updatedAt = new Date().toISOString()\n\n      // In real implementation, this would update project assignments\n      logger.log(`Approved replacement: ${candidatePersonId} for ${replacement.originalPersonId}`)\n    }\n  }\n\n  // Reject replacement\n  function rejectReplacement(replacementId: string) {\n    const replacement = replacementCandidates.find(r => r.id === replacementId)\n    if (replacement) {\n      replacement.status = 'rejected'\n      replacement.updatedAt = new Date().toISOString()\n    }\n  }\n\n  // Add required skill\n  function addRequiredSkill() {\n    formData.requiredSkills.push('')\n  }\n\n  // Remove required skill\n  function removeRequiredSkill(index: number) {\n    formData.requiredSkills.splice(index, 1)\n  }\n\n  // Format date\n  function formatDate(dateString: string): string {\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Get status badge variant\n  function getStatusVariant(status: string): 'success' | 'warning' | 'danger' {\n    switch (status) {\n      case 'approved':\n        return 'success'\n      case 'in_progress':\n        return 'warning'\n      case 'rejected':\n        return 'danger'\n      default:\n        return 'danger'\n    }\n  }\n\n  // Get status text\n  function getStatusText(status: string): string {\n    switch (status) {\n      case 'approved':\n        return 'ÏäπÏù∏Îê®'\n      case 'in_progress':\n        return 'ÏßÑÌñâÏ§ë'\n      case 'rejected':\n        return 'Í±∞Î∂ÄÎê®'\n      default:\n        return 'ÎåÄÍ∏∞'\n    }\n  }\n\n  // Get priority badge variant\n  function getPriorityVariant(priority: string): 'success' | 'warning' | 'danger' {\n    switch (priority) {\n      case 'low':\n        return 'success'\n      case 'medium':\n        return 'warning'\n      case 'high':\n        return 'danger'\n      default:\n        return 'warning'\n    }\n  }\n\n  // Get priority text\n  function getPriorityText(priority: string): string {\n    switch (priority) {\n      case 'low':\n        return 'ÎÇÆÏùå'\n      case 'medium':\n        return 'Î≥¥ÌÜµ'\n      case 'high':\n        return 'ÎÜíÏùå'\n      default:\n        return 'Î≥¥ÌÜµ'\n    }\n  }\n\n  // Calculate match score color\n  function getScoreColor(score: number): string {\n    if (score >= 90) return 'text-green-600'\n    if (score >= 80) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  onMount(() => {\n  // Initialize dummy data if needed\n  })\n</script>\n\n<div class=\"container mx-auto p-6\">\n  <div class=\"mb-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Ïù∏Î†• ÎåÄÏ≤¥ Ï∂îÏ≤ú</h1>\n    <p class=\"text-gray-600\">Ïù∏Î†• Ïù¥ÌÉà Ïãú AI Í∏∞Î∞ò ÎåÄÏ≤¥ Ïù∏Î†• Ï∂îÏ≤ú Î∞è ÏäπÏù∏ ÌîÑÎ°úÏÑ∏Ïä§Î•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.</p>\n  </div>\n\n  <!-- Action Buttons -->\n  <div class=\"flex gap-4 mb-6\">\n    <button type=\"button\"\n      onclick={() => (showCreateModal = true)}\n      class=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n    >\n      ÎåÄÏ≤¥ ÏöîÏ≤≠ ÏÉùÏÑ±\n    </button>\n    <button type=\"button\"\n      onclick={() => alert('AI Ï∂îÏ≤ú ÏïåÍ≥†Î¶¨Ï¶òÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.')}\n      class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\n    >\n      AI Ï∂îÏ≤ú Ïã§Ìñâ\n    </button>\n  </div>\n\n  <!-- Filters -->\n  <div class=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\n    <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n      <div>\n        <label\n          for=\"search\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í≤ÄÏÉâ</label>\n        <input\n          id=\"search\"\n          type=\"text\"\n          bind:value={searchTerm}\n          placeholder=\"Ïù∏Î†•Î™Ö ÎòêÎäî ÏÇ¨Ïú† Í≤ÄÏÉâ...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"project-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏</label\n        >\n        <select\n          id=\"project-filter\"\n          bind:value={selectedProject}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"rnd-rep-status-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏÉÅÌÉú</label\n        >\n        <select\n          id=\"rnd-rep-status-filter\"\n          bind:value={selectedStatus}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          <option value=\"pending\">ÎåÄÍ∏∞</option>\n          <option value=\"in_progress\">ÏßÑÌñâÏ§ë</option>\n          <option value=\"approved\">ÏäπÏù∏Îê®</option>\n          <option value=\"rejected\">Í±∞Î∂ÄÎê®</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"reason-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÇ¨Ïú†</label>\n        <select\n          id=\"reason-filter\"\n          bind:value={selectedReason}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each availableReasons() as reason}\n            <option value={reason}>{reason}</option>\n          {/each}\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <!-- Replacements List -->\n  <div class=\"grid gap-6\">\n    {#each filteredReplacements() as replacement}\n      <Card class=\"p-6 hover:shadow-md transition-shadow\">\n        <div class=\"flex justify-between items-start mb-4\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center gap-3 mb-2\">\n              <h3 class=\"text-xl font-semibold text-gray-900\">\n                {getPersonName(replacement.originalPersonId)} ÎåÄÏ≤¥ ÏöîÏ≤≠\n              </h3>\n              <Badge variant={getStatusVariant(replacement.status)}>\n                {getStatusText(replacement.status)}\n              </Badge>\n            </div>\n            <div class=\"text-sm text-gray-600 mb-3\">\n              <span class=\"font-medium\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n              {getProjectName(replacement.projectId)} |\n              <span class=\"font-medium\">ÏÇ¨Ïú†:</span>\n              {replacement.reason} |\n              <span class=\"font-medium\">Ìö®Î†•Ïùº:</span>\n              {formatDate(replacement.effectiveDate)} |\n              <span class=\"font-medium\">ÌõÑÎ≥¥:</span>\n              {replacement.candidates.length}Î™Ö\n            </div>\n          </div>\n          <div class=\"flex gap-2 ml-4\">\n            <button type=\"button\"\n              onclick={() => showReplacementDetail(replacement)}\n              class=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              aria-label=\"ÏÉÅÏÑ∏Î≥¥Í∏∞\"\n            >\n              ÏÉÅÏÑ∏Î≥¥Í∏∞\n            </button>\n            {#if replacement.status === 'pending'}\n              <button type=\"button\"\n                onclick={() => rejectReplacement(replacement.id)}\n                class=\"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500\"\n              >\n                Í±∞Î∂Ä\n              </button>\n            {/if}\n          </div>\n        </div>\n\n        <!-- Top Candidates -->\n        <div class=\"mb-4\">\n          <h4 class=\"font-medium text-gray-900 mb-3\">Ï∂îÏ≤ú ÌõÑÎ≥¥ (ÏÉÅÏúÑ 3Î™Ö)</h4>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {#each replacement.candidates.slice(0, 3) as candidate}\n              <div class=\"bg-gray-50 p-4 rounded-md\">\n                <div class=\"flex justify-between items-start mb-2\">\n                  <h5 class=\"font-medium text-gray-900\">{getPersonName(candidate.personId)}</h5>\n                  <div class=\"flex items-center gap-2\">\n                    <span class=\"text-sm font-bold {getScoreColor(candidate.score)}\">\n                      {candidate.score}Ï†ê\n                    </span>\n                    {#if candidate.recommended}\n                      <Badge variant=\"success\">Ï∂îÏ≤ú</Badge>\n                    {/if}\n                  </div>\n                </div>\n                <div class=\"text-sm text-gray-600 space-y-1\">\n                  <p><span class=\"font-medium\">Í≤ΩÎ†•:</span> {candidate.experience}</p>\n                  <p><span class=\"font-medium\">Í∞ÄÏö©ÏÑ±:</span> {candidate.availability}%</p>\n                  <p>\n                    <span class=\"font-medium\">Í∏âÏó¨ Îß§Ïπò:</span>\n                    {candidate.salaryMatch ? '‚úì' : '‚úó'}\n                  </p>\n                </div>\n                <div class=\"mt-2\">\n                  <div class=\"text-xs text-gray-500 mb-1\">Ï£ºÏöî Í∏∞Ïà†:</div>\n                  <div class=\"flex flex-wrap gap-1\">\n                    {#each candidate.skillsMatch.slice(0, 3) as skill}\n                      <span class=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded\">\n                        {skill}\n                      </span>\n                    {/each}\n                  </div>\n                </div>\n                {#if replacement.status === 'pending'}\n                  <button type=\"button\"\n                    onclick={() => approveReplacement(replacement.id, candidate.personId)}\n                    class=\"w-full mt-3 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  >\n                    ÏäπÏù∏\n                  </button>\n                {/if}\n              </div>\n            {/each}\n          </div>\n        </div>\n\n        <!-- Match Reasons -->\n        <div>\n          <h4 class=\"font-medium text-gray-900 mb-2\">Ï∂îÏ≤ú Ïù¥Ïú† (1ÏàúÏúÑ)</h4>\n          <ul class=\"text-sm text-gray-600 space-y-1\">\n            {#each replacement.candidates[0]?.reasons || [] as reason, i (i)}\n              <li class=\"flex items-center gap-2\">\n                <span class=\"text-green-500\">‚úì</span>\n                {reason}\n              </li>\n            {/each}\n          </ul>\n        </div>\n      </Card>\n    {/each}\n  </div>\n\n  {#if filteredReplacements().length === 0}\n    <div class=\"text-center py-12\">\n      <div class=\"text-gray-400 text-6xl mb-4\">üë•</div>\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">ÎåÄÏ≤¥ ÏöîÏ≤≠Ïù¥ ÏóÜÏäµÎãàÎã§</h3>\n      <p class=\"text-gray-500\">ÏÉàÎ°úÏö¥ Ïù∏Î†• ÎåÄÏ≤¥ ÏöîÏ≤≠ÏùÑ ÏÉùÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n    </div>\n  {/if}\n</div>\n\n<!-- Detail Modal -->\n<Modal\n  bind:open={showDetailModal}\n  title=\"ÎåÄÏ≤¥ ÏöîÏ≤≠ ÏÉÅÏÑ∏\">\n  {#if selectedReplacement}\n    <div class=\"space-y-6\">\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">\n          {selectedReplacement && getPersonName(selectedReplacement.originalPersonId)} ÎåÄÏ≤¥ ÏöîÏ≤≠\n        </h3>\n        <div class=\"grid grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span class=\"font-medium text-gray-700\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n            <span class=\"ml-2\"\n            >{selectedReplacement && getProjectName(selectedReplacement.projectId)}</span\n            >\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏÇ¨Ïú†:</span>\n            <span class=\"ml-2\">{selectedReplacement && selectedReplacement.reason}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Ìö®Î†•Ïùº:</span>\n            <span class=\"ml-2\"\n            >{selectedReplacement && formatDate(selectedReplacement.effectiveDate)}</span\n            >\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏÉÅÌÉú:</span>\n            <span class=\"ml-2\">\n              <Badge variant={selectedReplacement && getStatusVariant(selectedReplacement.status)}>\n                {selectedReplacement && getStatusText(selectedReplacement.status)}\n              </Badge>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- All Candidates -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">Î™®Îì† ÌõÑÎ≥¥Ïûê</h4>\n        <div class=\"space-y-4\">\n          {#each selectedReplacement?.candidates || [] as candidate, index, i (i)}\n            <div class=\"bg-gray-50 p-4 rounded-md\">\n              <div class=\"flex justify-between items-start mb-3\">\n                <div>\n                  <h5 class=\"font-medium text-gray-900\">\n                    {index + 1}ÏàúÏúÑ: {getPersonName(candidate.personId)}\n                  </h5>\n                  <div class=\"text-sm text-gray-600 mt-1\">\n                    Í≤ΩÎ†•: {candidate.experience} | Í∞ÄÏö©ÏÑ±: {candidate.availability}% | Í∏âÏó¨ Îß§Ïπò: {candidate.salaryMatch\n                      ? '‚úì'\n                      : '‚úó'}\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"text-2xl font-bold {getScoreColor(candidate.score)}\">\n                    {candidate.score}Ï†ê\n                  </div>\n                  {#if candidate.recommended}\n                    <Badge variant=\"success\">Ï∂îÏ≤ú</Badge>\n                  {/if}\n                </div>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"text-sm font-medium text-gray-700 mb-1\">Ï∂îÏ≤ú Ïù¥Ïú†:</div>\n                <ul class=\"text-sm text-gray-600 space-y-1\">\n                  {#each candidate.reasons as reason, i (i)}\n                    <li class=\"flex items-center gap-2\">\n                      <span class=\"text-green-500\">‚úì</span>\n                      {reason}\n                    </li>\n                  {/each}\n                </ul>\n              </div>\n              <div>\n                <div class=\"text-sm font-medium text-gray-700 mb-1\">Í∏∞Ïà† Ïä§ÌÉù:</div>\n                <div class=\"flex flex-wrap gap-1\">\n                  {#each candidate.skillsMatch as skill, i (i)}\n                    <span class=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded\">\n                      {skill}\n                    </span>\n                  {/each}\n                </div>\n              </div>\n              {#if selectedReplacement && selectedReplacement.status === 'pending'}\n                <button type=\"button\"\n                  onclick={() =>\n                    selectedReplacement &&\n                      approveReplacement(selectedReplacement.id, candidate.personId)}\n                  class=\"w-full mt-3 px-3 py-2 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                >\n                  Ïù¥ ÌõÑÎ≥¥Ïûê ÏäπÏù∏\n                </button>\n              {/if}\n            </div>\n          {/each}\n        </div>\n      </div>\n    </div>\n  {/if}\n</Modal>\n\n<!-- Create Modal -->\n<Modal\n  bind:open={showCreateModal}\n  title=\"ÎåÄÏ≤¥ ÏöîÏ≤≠ ÏÉùÏÑ±\">\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-person\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÎåÄÏ≤¥ ÎåÄÏÉÅ *</label\n        >\n        <select\n          id=\"create-person\"\n          bind:value={formData.originalPersonId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">Ïù∏Î†• ÏÑ†ÌÉù</option>\n          {#each $employees as person, i (i)}\n            <option value={person.id}>{person.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-project\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏ *</label\n        >\n        <select\n          id=\"create-project\"\n          bind:value={formData.projectId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n    </div>\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-reason\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÎåÄÏ≤¥ ÏÇ¨Ïú† *</label\n        >\n        <select\n          id=\"create-reason\"\n          bind:value={formData.reason}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÏÇ¨Ïú† ÏÑ†ÌÉù</option>\n          <option value=\"Ìá¥ÏÇ¨\">Ìá¥ÏÇ¨</option>\n          <option value=\"ÌîÑÎ°úÏ†ùÌä∏ Î≥ÄÍ≤Ω\">ÌîÑÎ°úÏ†ùÌä∏ Î≥ÄÍ≤Ω</option>\n          <option value=\"Ìú¥ÏßÅ\">Ìú¥ÏßÅ</option>\n          <option value=\"ÏÑ±Í≥º Î∂ÄÏßÑ\">ÏÑ±Í≥º Î∂ÄÏßÑ</option>\n          <option value=\"Í∏∞ÌÉÄ\">Í∏∞ÌÉÄ</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-date\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Ìö®Î†•Ïùº *</label\n        >\n        <input\n          id=\"create-date\"\n          type=\"date\"\n          bind:value={formData.effectiveDate}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n    </div>\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-priority\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Ïö∞ÏÑ†ÏàúÏúÑ</label\n        >\n        <select\n          id=\"create-priority\"\n          bind:value={formData.priority}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"low\">ÎÇÆÏùå</option>\n          <option value=\"medium\">Î≥¥ÌÜµ</option>\n          <option value=\"high\">ÎÜíÏùå</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-experience\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌïÑÏöî Í≤ΩÎ†•</label\n        >\n        <select\n          id=\"create-experience\"\n          bind:value={formData.experienceLevel}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">Í≤ΩÎ†• ÏÑ†ÌÉù</option>\n          <option value=\"1-2ÎÖÑ\">1-2ÎÖÑ</option>\n          <option value=\"3-5ÎÖÑ\">3-5ÎÖÑ</option>\n          <option value=\"5ÎÖÑ Ïù¥ÏÉÅ\">5ÎÖÑ Ïù¥ÏÉÅ</option>\n        </select>\n      </div>\n    </div>\n    <div>\n      <label\n        for=\"create-salary\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\"\n      >Í∏âÏó¨ Î≤îÏúÑ</label\n      >\n      <input\n        id=\"create-salary\"\n        type=\"text\"\n        bind:value={formData.salaryRange}\n        placeholder=\"Ïòà: 5000-7000ÎßåÏõê\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      />\n    </div>\n    <div>\n      <div class=\"flex justify-between items-center mb-2\">\n        <div class=\"block text-sm font-medium text-gray-700\">ÌïÑÏàò Í∏∞Ïà†</div>\n        <button\n          type=\"button\"\n          onclick={addRequiredSkill}\n          class=\"text-sm text-blue-600 hover:text-blue-700\"\n        >\n          + Í∏∞Ïà† Ï∂îÍ∞Ä\n        </button>\n      </div>\n      <div class=\"space-y-2\">\n        {#each formData.requiredSkills as skill, index, i (i)}\n          <div class=\"flex gap-2 items-center\">\n            <input\n              type=\"text\"\n              bind:value={formData.requiredSkills[index]}\n              placeholder=\"Í∏∞Ïà†Î™Ö\"\n              class=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <button\n              type=\"button\"\n              onclick={() => removeRequiredSkill(index)}\n              class=\"text-red-600 hover:text-red-700\"\n            >\n              ÏÇ≠Ï†ú\n            </button>\n          </div>\n        {/each}\n      </div>\n    </div>\n    <div class=\"flex justify-end gap-2 pt-4\">\n      <button type=\"button\"\n        onclick={() => (showCreateModal = false)}\n        class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n      >\n        Ï∑®ÏÜå\n      </button>\n      <button type=\"button\"\n        onclick={createReplacementRequest}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        ÏöîÏ≤≠ ÏÉùÏÑ±\n      </button>\n    </div>\n  </div>\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/reports/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'localReports' is assigned a value but never used.",
        "line": 26,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 26,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'project' is assigned a value but never used.",
        "line": 198,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 198,
        "endColumn": 18
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'projectExpenses' is assigned a value but never used.",
        "line": 199,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 199,
        "endColumn": 26
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 256,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 256,
        "endColumn": 11
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 376,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 376,
        "endColumn": 26,
        "fix": { "range": [11478, 11479], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 382,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 382,
        "endColumn": 26,
        "fix": { "range": [11714, 11715], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 446,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 448,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 456,
        "column": 5,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 552,
        "endColumn": 12
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 480,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 480,
        "endColumn": 34,
        "fix": { "range": [15280, 15281], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 487,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 487,
        "endColumn": 34,
        "fix": { "range": [15607, 15608], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 531,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 536,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 542,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 547,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 655,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 655,
        "endColumn": 30,
        "fix": { "range": [21777, 21778], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 767,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 767,
        "endColumn": 28,
        "fix": { "range": [25364, 25365], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 773,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 773,
        "endColumn": 28,
        "fix": { "range": [25612, 25613], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 13,
    "fixableErrorCount": 0,
    "fixableWarningCount": 9,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { projects, employees } from '$lib/stores/rd'\n  import { reports, expenseItems } from '$lib/stores/rnd/mock-data'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import type { Report } from '$lib/stores/rnd/types'\n\n  // Extended Report interface for this page\n  interface ExtendedReport extends Omit<Report, 'summaryJson'> {\n    summary: {\n      progress: number\n      budgetUtilization: number\n      deliverablesCompleted: number\n      totalDeliverables: number\n      risks: string[]\n      achievements: string[]\n      nextWeekGoals: string[]\n    }\n    summaryJson: Record<string, any> // Add required summaryJson to match Report interface\n  }\n\n  // Mock reports data\n  let localReports = $state<ExtendedReport[]>([\n    {\n      id: 'report-1',\n      projectId: 'project-1',\n      type: 'weekly',\n      periodStart: '2024-01-01',\n      periodEnd: '2024-01-07',\n      summary: {\n        progress: 75,\n        budgetUtilization: 68,\n        deliverablesCompleted: 3,\n        totalDeliverables: 4,\n        risks: ['ÏòàÏÇ∞ Ï¥àÍ≥º Í∞ÄÎä•ÏÑ±', 'Ïù∏Î†• Î∂ÄÏ°±'],\n        achievements: ['AI Î™®Îç∏ ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ ÏôÑÏÑ±', 'Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ÏôÑÎ£å'],\n        nextWeekGoals: ['Î™®Îç∏ ÏÑ±Îä• ÏµúÏ†ÅÌôî', 'ÏÇ¨Ïö©Ïûê ÌÖåÏä§Ìä∏ ÏßÑÌñâ']\n      },\n      fileUrl: '/reports/weekly-2024-01-01.pdf',\n      generatedAt: '2024-01-08T09:00:00Z',\n      generatedBy: 'emp-001',\n      summaryJson: {\n        progress: 75,\n        budgetUtilization: 68,\n        deliverablesCompleted: 3,\n        totalDeliverables: 4,\n        risks: ['ÏòàÏÇ∞ Ï¥àÍ≥º Í∞ÄÎä•ÏÑ±', 'Ïù∏Î†• Î∂ÄÏ°±'],\n        achievements: ['AI Î™®Îç∏ ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ ÏôÑÏÑ±', 'Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ÏôÑÎ£å'],\n        nextWeekGoals: ['Î™®Îç∏ ÏÑ±Îä• ÏµúÏ†ÅÌôî', 'ÏÇ¨Ïö©Ïûê ÌÖåÏä§Ìä∏ ÏßÑÌñâ']\n      }\n    },\n    {\n      id: 'report-2',\n      projectId: 'project-1',\n      type: 'quarterly',\n      periodStart: '2024-01-01',\n      periodEnd: '2024-03-31',\n      summary: {\n        progress: 85,\n        budgetUtilization: 72,\n        deliverablesCompleted: 8,\n        totalDeliverables: 10,\n        risks: ['ÏùºÏ†ï ÏßÄÏó∞', 'Í∏∞Ïà†Ï†Å ÎèÑÏ†Ñ'],\n        achievements: ['ÌïµÏã¨ Í∏∞Îä• Í∞úÎ∞ú ÏôÑÎ£å', 'ÏÇ¨Ïö©Ïûê ÌîºÎìúÎ∞± ÏàòÏßë'],\n        nextWeekGoals: ['ÏÑ±Îä• ÏµúÏ†ÅÌôî', 'Î≥¥Ïïà Í∞ïÌôî']\n      },\n      fileUrl: '/reports/quarterly-2024-Q1.pdf',\n      generatedAt: '2024-04-01T10:00:00Z',\n      generatedBy: 'emp-002',\n      summaryJson: {\n        progress: 85,\n        budgetUtilization: 78,\n        deliverablesCompleted: 8,\n        totalDeliverables: 10,\n        risks: ['Í∏∞Ïà†Ï†Å ÎèÑÏ†Ñ', 'ÏùºÏ†ï ÏßÄÏó∞'],\n        achievements: ['ÌïµÏã¨ Í∏∞Îä• ÏôÑÏÑ±', 'ÏÇ¨Ïö©Ïûê ÌîºÎìúÎ∞± ÏàòÏßë'],\n        nextWeekGoals: ['ÏÑ±Îä• ÏµúÏ†ÅÌôî', 'Î¨∏ÏÑúÌôî ÏôÑÎ£å']\n      }\n    },\n    {\n      id: 'report-3',\n      projectId: 'project-2',\n      type: 'weekly',\n      periodStart: '2024-01-08',\n      periodEnd: '2024-01-14',\n      summary: {\n        progress: 60,\n        budgetUtilization: 45,\n        deliverablesCompleted: 2,\n        totalDeliverables: 5,\n        risks: ['ÏöîÍµ¨ÏÇ¨Ìï≠ Î≥ÄÍ≤Ω'],\n        achievements: ['UI ÏÑ§Í≥Ñ ÏôÑÎ£å', 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Í∞úÎ∞ú ÏãúÏûë'],\n        nextWeekGoals: ['ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞ú', 'Î∞±ÏóîÎìú API ÏÑ§Í≥Ñ']\n      },\n      fileUrl: '/reports/weekly-2024-01-08.pdf',\n      generatedAt: '2024-01-15T09:30:00Z',\n      generatedBy: 'emp-003',\n      summaryJson: {\n        progress: 60,\n        budgetUtilization: 45,\n        deliverablesCompleted: 2,\n        totalDeliverables: 5,\n        risks: ['ÏöîÍµ¨ÏÇ¨Ìï≠ Î≥ÄÍ≤Ω'],\n        achievements: ['UI ÏÑ§Í≥Ñ ÏôÑÎ£å', 'ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ Í∞úÎ∞ú ÏãúÏûë'],\n        nextWeekGoals: ['ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞ú', 'Î∞±ÏóîÎìú API ÏÑ§Í≥Ñ']\n      }\n    }\n  ])\n\n  let selectedReport = $state<ExtendedReport | null>(null)\n  let showDetailModal = $state(false)\n  let showGenerateModal = $state(false)\n  let searchTerm = $state('')\n  let selectedProject = $state<string>('all')\n  let selectedType = $state<string>('all')\n  let selectedPeriod = $state<string>('all')\n\n  // Form data for generating new report\n  let formData = $state({\n    projectId: '',\n    type: 'weekly' as 'weekly' | 'quarterly',\n    periodStart: '',\n    periodEnd: '',\n    includeBudget: true,\n    includeDeliverables: true,\n    includeRisks: true,\n    includeAchievements: true\n  })\n\n  // Get filtered reports\n  let filteredReports = $derived(() => {\n    let filtered = $reports\n\n    if (searchTerm) {\n      filtered = filtered.filter(\n        (report: any) =>\n          report.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            report.type.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (selectedProject !== 'all') {\n      filtered = filtered.filter((report: any) => report.projectId === selectedProject)\n    }\n\n    if (selectedType !== 'all') {\n      filtered = filtered.filter((report: any) => report.type === selectedType)\n    }\n\n    if (selectedPeriod !== 'all') {\n      filtered = filtered.filter(\n        (report: any) =>\n          report.periodStart.startsWith(selectedPeriod) ||\n            report.periodEnd.startsWith(selectedPeriod)\n      )\n    }\n\n    return filtered.sort(\n      (a: any, b: any) => new Date(b.generatedAt).getTime() - new Date(a.generatedAt).getTime()\n    )\n  })\n\n  // Get unique periods for filter\n  let availablePeriods = $derived(() => {\n    const periods = [...new Set($reports.map((r: any) => r.periodStart.substring(0, 7)))]\n    return periods.sort().reverse()\n  })\n\n  // Get person name by ID\n  function getPersonName(personId: string): string {\n    const person = $employees.find((p: any) => p.id === personId)\n    return person ? person.name : 'Unknown'\n  }\n\n  // Get project name by ID\n  function getProjectName(projectId: string): string {\n    const project = $projects.find((p: any) => p.id === projectId)\n    return project ? project.name : 'Unknown Project'\n  }\n\n  // Show report detail\n  function showReportDetail(report: ExtendedReport) {\n    selectedReport = report\n    showDetailModal = true\n  }\n\n  // Generate new report\n  function generateReport() {\n    if (!formData.projectId || !formData.periodStart || !formData.periodEnd) {\n      alert('Î™®Îì† ÌïÑÏàò ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // Calculate summary data based on project data\n    const project = $projects.find((p: any) => p.id === formData.projectId)\n    const projectExpenses = $expenseItems.filter((e: any) => e.projectId === formData.projectId)\n\n    // Mock calculation - in real implementation, this would be calculated from actual data\n    const progress = Math.floor(Math.random() * 40) + 60 // 60-100%\n    const budgetUtilization = Math.floor(Math.random() * 30) + 50 // 50-80%\n    const deliverablesCompleted = Math.floor(Math.random() * 5) + 1\n    const totalDeliverables = deliverablesCompleted + Math.floor(Math.random() * 3) + 1\n\n    const newReport: ExtendedReport = {\n      id: `report-${Date.now()}`,\n      projectId: formData.projectId,\n      type: formData.type,\n      periodStart: formData.periodStart,\n      periodEnd: formData.periodEnd,\n      summary: {\n        progress,\n        budgetUtilization,\n        deliverablesCompleted,\n        totalDeliverables,\n        risks: ['ÏùºÏ†ï ÏßÄÏó∞ Í∞ÄÎä•ÏÑ±', 'ÏòàÏÇ∞ Ï¥àÍ≥º ÏúÑÌóò'],\n        achievements: ['Ï£ºÏöî Í∏∞Îä• Í∞úÎ∞ú ÏôÑÎ£å', 'ÌÖåÏä§Ìä∏ ÏßÑÌñâ'],\n        nextWeekGoals: ['ÏÑ±Îä• ÏµúÏ†ÅÌôî', 'Î¨∏ÏÑúÌôî ÏûëÏóÖ']\n      },\n      fileUrl: `/reports/${formData.type}-${formData.periodStart}.pdf`,\n      generatedAt: new Date().toISOString(),\n      generatedBy: 'emp-001', // Current user\n      summaryJson: {\n        progress,\n        budgetUtilization,\n        deliverablesCompleted,\n        totalDeliverables,\n        risks: ['ÏùºÏ†ï ÏßÄÏó∞ Í∞ÄÎä•ÏÑ±', 'ÏòàÏÇ∞ Ï¥àÍ≥º ÏúÑÌóò'],\n        achievements: ['Ï£ºÏöî Í∏∞Îä• Í∞úÎ∞ú ÏôÑÎ£å', 'ÌÖåÏä§Ìä∏ ÏßÑÌñâ'],\n        nextWeekGoals: ['ÏÑ±Îä• ÏµúÏ†ÅÌôî', 'Î¨∏ÏÑúÌôî ÏûëÏóÖ']\n      }\n    }\n\n    $reports.push(newReport)\n\n    // Reset form\n    formData = {\n      projectId: '',\n      type: 'weekly',\n      periodStart: '',\n      periodEnd: '',\n      includeBudget: true,\n      includeDeliverables: true,\n      includeRisks: true,\n      includeAchievements: true\n    }\n\n    showGenerateModal = false\n  }\n\n  // Download report\n  function downloadReport(report: ExtendedReport) {\n    // In real implementation, this would download the actual file\n    logger.log('Downloading report:', report.fileUrl)\n    alert(`Î¶¨Ìè¨Ìä∏ Îã§Ïö¥Î°úÎìú: ${report.fileUrl}`)\n  }\n\n  // Format date\n  function formatDate(dateString: string): string {\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Get type badge variant\n  function getTypeVariant(type: string): 'success' | 'warning' | 'danger' {\n    switch (type) {\n      case 'quarterly':\n        return 'success'\n      case 'weekly':\n        return 'warning'\n      default:\n        return 'danger'\n    }\n  }\n\n  // Get type text\n  function getTypeText(type: string): string {\n    switch (type) {\n      case 'quarterly':\n        return 'Î∂ÑÍ∏∞'\n      case 'weekly':\n        return 'Ï£ºÍ∞Ñ'\n      default:\n        return 'Í∏∞ÌÉÄ'\n    }\n  }\n\n  // Get progress color\n  function getProgressColor(progress: number): string {\n    if (progress >= 80) return 'text-green-600'\n    if (progress >= 60) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  // Get budget utilization color\n  function getBudgetColor(utilization: number): string {\n    if (utilization <= 70) return 'text-green-600'\n    if (utilization <= 90) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  // Auto-generate weekly reports for all projects\n  function generateWeeklyReports() {\n    const currentDate = new Date()\n    const weekStart = new Date(currentDate)\n    weekStart.setDate(currentDate.getDate() - currentDate.getDay())\n    const weekEnd = new Date(weekStart)\n    weekEnd.setDate(weekStart.getDate() + 6)\n\n    $projects.forEach((project: any) => {\n      const existingReport = $reports.find(\n        (r: any) =>\n          r.projectId === project.id &&\n            r.type === 'weekly' &&\n            r.periodStart === weekStart.toISOString().split('T')[0]\n      )\n\n      if (!existingReport) {\n        const progress = Math.floor(Math.random() * 40) + 60\n        const budgetUtilization = Math.floor(Math.random() * 30) + 50\n        const deliverablesCompleted = Math.floor(Math.random() * 3) + 1\n        const totalDeliverables = deliverablesCompleted + Math.floor(Math.random() * 2) + 1\n\n        const newReport: ExtendedReport = {\n          id: `report-auto-${Date.now()}-${project.id}`,\n          projectId: project.id,\n          type: 'weekly',\n          periodStart: weekStart.toISOString().split('T')[0],\n          periodEnd: weekEnd.toISOString().split('T')[0],\n          summary: {\n            progress,\n            budgetUtilization,\n            deliverablesCompleted,\n            totalDeliverables,\n            risks: ['ÏùºÏ†ï Í¥ÄÎ¶¨', 'ÌíàÏßà Î≥¥Ï¶ù'],\n            achievements: ['Ï£ºÏöî ÏûëÏóÖ ÏôÑÎ£å', 'ÌÖåÏä§Ìä∏ ÏßÑÌñâ'],\n            nextWeekGoals: ['Îã§Ïùå Îã®Í≥Ñ ÏßÑÌñâ', 'Î¨∏ÏÑúÌôî']\n          },\n          fileUrl: `/reports/weekly-${weekStart.toISOString().split('T')[0]}-${project.id}.pdf`,\n          generatedAt: new Date().toISOString(),\n          generatedBy: 'emp-001',\n          summaryJson: {\n            progress,\n            budgetUtilization,\n            deliverablesCompleted,\n            totalDeliverables,\n            risks: ['ÏùºÏ†ï Í¥ÄÎ¶¨', 'ÌíàÏßà Î≥¥Ï¶ù'],\n            achievements: ['Ï£ºÏöî ÏûëÏóÖ ÏôÑÎ£å', 'ÌÖåÏä§Ìä∏ ÏßÑÌñâ'],\n            nextWeekGoals: ['Îã§Ïùå Îã®Í≥Ñ ÏßÑÌñâ', 'Î¨∏ÏÑúÌôî']\n          }\n        }\n\n        $reports.push(newReport)\n      }\n    })\n\n    alert('Î™®Îì† ÌîÑÎ°úÏ†ùÌä∏Ïùò Ï£ºÍ∞Ñ Î¶¨Ìè¨Ìä∏Í∞Ä ÏûêÎèô ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.')\n  }\n\n  onMount(() => {\n  // Initialize dummy data if needed\n  })\n</script>\n\n<div class=\"container mx-auto p-6\">\n  <div class=\"mb-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">ÏßÑÎèÑÎ≥¥Í≥† Í¥ÄÎ¶¨</h1>\n    <p class=\"text-gray-600\">\n      ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï£ºÍ∞Ñ/Î∂ÑÍ∏∞ ÏßÑÎèÑÎ≥¥Í≥†ÏÑúÎ•º ÏÉùÏÑ±, Í¥ÄÎ¶¨ÌïòÍ≥† ÏûêÎèôÌôîÎêú Î¶¨Ìè¨Ìä∏Î•º ÌôïÏù∏Ìï©ÎãàÎã§.\n    </p>\n  </div>\n\n  <!-- Action Buttons -->\n  <div class=\"flex gap-4 mb-6\">\n    <button type=\"button\"\n      onclick={() => (showGenerateModal = true)}\n      class=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n    >\n      Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\n    </button>\n    <button type=\"button\"\n      onclick={generateWeeklyReports}\n      class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\n    >\n      Ï£ºÍ∞Ñ Î¶¨Ìè¨Ìä∏ ÏûêÎèô ÏÉùÏÑ±\n    </button>\n  </div>\n\n  <!-- Filters -->\n  <div class=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\n    <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n      <div>\n        <label\n          for=\"search\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í≤ÄÏÉâ</label>\n        <input\n          id=\"search\"\n          type=\"text\"\n          bind:value={searchTerm}\n          placeholder=\"Î¶¨Ìè¨Ìä∏ ID ÎòêÎäî ÌÉÄÏûÖ Í≤ÄÏÉâ...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"project-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏</label\n        >\n        <select\n          id=\"project-filter\"\n          bind:value={selectedProject}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"type-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">ÌÉÄÏûÖ</label>\n        <select\n          id=\"type-filter\"\n          bind:value={selectedType}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          <option value=\"weekly\">Ï£ºÍ∞Ñ</option>\n          <option value=\"quarterly\">Î∂ÑÍ∏∞</option>\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"period-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í∏∞Í∞Ñ</label>\n        <select\n          id=\"period-filter\"\n          bind:value={selectedPeriod}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each availablePeriods() as period}\n            <option value={period}>{period}</option>\n          {/each}\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <!-- Reports List -->\n  <div class=\"grid gap-6\">\n    {#each filteredReports() as report}\n      <Card class=\"p-6 hover:shadow-md transition-shadow\">\n        <div class=\"flex justify-between items-start mb-4\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center gap-3 mb-2\">\n              <h3 class=\"text-xl font-semibold text-gray-900\">\n                {getTypeText(report.type)} ÏßÑÎèÑÎ≥¥Í≥†ÏÑú\n              </h3>\n              <Badge variant={getTypeVariant(report.type)}>\n                {getTypeText(report.type)}\n              </Badge>\n            </div>\n            <div class=\"text-sm text-gray-600 mb-3\">\n              <span class=\"font-medium\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n              {getProjectName(report.projectId)} |\n              <span class=\"font-medium\">Í∏∞Í∞Ñ:</span>\n              {formatDate(report.periodStart)} ~ {formatDate(report.periodEnd)} |\n              <span class=\"font-medium\">ÏÉùÏÑ±Ïûê:</span>\n              {getPersonName(report.generatedBy)} |\n              <span class=\"font-medium\">ÏÉùÏÑ±Ïùº:</span>\n              {formatDate(report.generatedAt)}\n            </div>\n          </div>\n          <div class=\"flex gap-2 ml-4\">\n            <button type=\"button\"\n              onclick={() => showReportDetail(report as any)}\n              class=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              aria-label=\"ÏÉÅÏÑ∏Î≥¥Í∏∞\"\n            >\n              ÏÉÅÏÑ∏Î≥¥Í∏∞\n            </button>\n            <button type=\"button\"\n              onclick={() => downloadReport(report as any)}\n              class=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              Îã§Ïö¥Î°úÎìú\n            </button>\n          </div>\n        </div>\n\n        <!-- Summary Cards -->\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">ÏßÑÌñâÎ•†</div>\n            <div class=\"text-2xl font-bold {getProgressColor((report as any).summary.progress)}\">\n              {(report as any).summary.progress}%\n            </div>\n          </div>\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">ÏòàÏÇ∞ ÏßëÌñâÎ•†</div>\n            <div class=\"text-2xl font-bold {getBudgetColor((report as any).summary.budgetUtilization)}\"\n            >\n              {(report as any).summary.budgetUtilization}%\n            </div>\n          </div>\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">ÏÇ∞Ï∂úÎ¨º ÏôÑÎ£å</div>\n            <div class=\"text-2xl font-bold text-gray-900\">\n              {(report as any).summary.deliverablesCompleted}/{(report as any).summary\n                .totalDeliverables}\n            </div>\n          </div>\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">Î¶¨Ïä§ÌÅ¨</div>\n            <div class=\"text-2xl font-bold text-red-600\">\n              {(report as any).summary.risks.length}\n            </div>\n          </div>\n        </div>\n\n        <!-- Quick Summary -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <h4 class=\"font-medium text-gray-900 mb-2\">Ï£ºÏöî ÏÑ±Í≥º</h4>\n            <ul class=\"text-sm text-gray-600 space-y-1\">\n              {#each (report as any).summary.achievements.slice(0, 2) as achievement}\n                <li class=\"flex items-center gap-2\">\n                  <span class=\"text-green-500\">‚úì</span>\n                  {achievement}\n                </li>\n              {/each}\n            </ul>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-gray-900 mb-2\">Îã§Ïùå Ï£º Î™©Ìëú</h4>\n            <ul class=\"text-sm text-gray-600 space-y-1\">\n              {#each (report as any).summary.nextWeekGoals.slice(0, 2) as goal}\n                <li class=\"flex items-center gap-2\">\n                  <span class=\"text-blue-500\">‚Üí</span>\n                  {goal}\n                </li>\n              {/each}\n            </ul>\n          </div>\n        </div>\n      </Card>\n    {/each}\n  </div>\n\n  {#if filteredReports().length === 0}\n    <div class=\"text-center py-12\">\n      <div class=\"text-gray-400 text-6xl mb-4\">üìä</div>\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Î¶¨Ìè¨Ìä∏Í∞Ä ÏóÜÏäµÎãàÎã§</h3>\n      <p class=\"text-gray-500\">ÏÉàÎ°úÏö¥ ÏßÑÎèÑÎ≥¥Í≥†ÏÑúÎ•º ÏÉùÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n    </div>\n  {/if}\n</div>\n\n<!-- Detail Modal -->\n<Modal\n  bind:open={showDetailModal}\n  title=\"Î¶¨Ìè¨Ìä∏ ÏÉÅÏÑ∏\">\n  {#if selectedReport}\n    <div class=\"space-y-6\">\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">\n          {getTypeText(selectedReport.type)} ÏßÑÎèÑÎ≥¥Í≥†ÏÑú\n        </h3>\n        <div class=\"grid grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span class=\"font-medium text-gray-700\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n            <span class=\"ml-2\">{getProjectName(selectedReport.projectId)}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Í∏∞Í∞Ñ:</span>\n            <span class=\"ml-2\"\n            >{formatDate(selectedReport.periodStart)} ~ {formatDate(\n              selectedReport.periodEnd\n            )}</span\n            >\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏÉùÏÑ±Ïûê:</span>\n            <span class=\"ml-2\">{getPersonName(selectedReport.generatedBy)}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏÉùÏÑ±Ïùº:</span>\n            <span class=\"ml-2\">{formatDate(selectedReport.generatedAt)}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Summary Metrics -->\n      <div class=\"grid grid-cols-2 gap-4\">\n        <div class=\"bg-gray-50 p-4 rounded-md\">\n          <div class=\"text-sm text-gray-600 mb-1\">ÏßÑÌñâÎ•†</div>\n          <div class=\"text-3xl font-bold {getProgressColor(selectedReport.summary.progress)}\">\n            {selectedReport.summary.progress}%\n          </div>\n        </div>\n        <div class=\"bg-gray-50 p-4 rounded-md\">\n          <div class=\"text-sm text-gray-600 mb-1\">ÏòàÏÇ∞ ÏßëÌñâÎ•†</div>\n          <div class=\"text-3xl font-bold {getBudgetColor(selectedReport.summary.budgetUtilization)}\"\n          >\n            {selectedReport.summary.budgetUtilization}%\n          </div>\n        </div>\n      </div>\n\n      <!-- Achievements -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">Ï£ºÏöî ÏÑ±Í≥º</h4>\n        <ul class=\"space-y-2\">\n          {#each selectedReport.summary.achievements as achievement, i (i)}\n            <li class=\"flex items-center gap-2 p-2 bg-green-50 rounded\">\n              <span class=\"text-green-500\">‚úì</span>\n              <span class=\"text-gray-900\">{achievement}</span>\n            </li>\n          {/each}\n        </ul>\n      </div>\n\n      <!-- Next Week Goals -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">Îã§Ïùå Ï£º Î™©Ìëú</h4>\n        <ul class=\"space-y-2\">\n          {#each selectedReport.summary.nextWeekGoals as goal, i (i)}\n            <li class=\"flex items-center gap-2 p-2 bg-blue-50 rounded\">\n              <span class=\"text-blue-500\">‚Üí</span>\n              <span class=\"text-gray-900\">{goal}</span>\n            </li>\n          {/each}\n        </ul>\n      </div>\n\n      <!-- Risks -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">Î¶¨Ïä§ÌÅ¨ Î∞è Ïù¥Ïäà</h4>\n        <ul class=\"space-y-2\">\n          {#each selectedReport.summary.risks as risk, i (i)}\n            <li class=\"flex items-center gap-2 p-2 bg-red-50 rounded\">\n              <span class=\"text-red-500\">‚ö†</span>\n              <span class=\"text-gray-900\">{risk}</span>\n            </li>\n          {/each}\n        </ul>\n      </div>\n\n      <div class=\"flex justify-end\">\n        <button type=\"button\"\n          onclick={() => selectedReport && downloadReport(selectedReport)}\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          Î¶¨Ìè¨Ìä∏ Îã§Ïö¥Î°úÎìú\n        </button>\n      </div>\n    </div>\n  {/if}\n</Modal>\n\n<!-- Generate Modal -->\n<Modal\n  bind:open={showGenerateModal}\n  title=\"Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±\">\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"generate-project\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏ *</label\n        >\n        <select\n          id=\"generate-project\"\n          bind:value={formData.projectId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"generate-type\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Î¶¨Ìè¨Ìä∏ ÌÉÄÏûÖ *</label\n        >\n        <select\n          id=\"generate-type\"\n          bind:value={formData.type}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"weekly\">Ï£ºÍ∞Ñ</option>\n          <option value=\"quarterly\">Î∂ÑÍ∏∞</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"generate-start\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏãúÏûëÏùº *</label\n        >\n        <input\n          id=\"generate-start\"\n          type=\"date\"\n          bind:value={formData.periodStart}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"generate-end\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Ï¢ÖÎ£åÏùº *</label\n        >\n        <input\n          id=\"generate-end\"\n          type=\"date\"\n          bind:value={formData.periodEnd}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n    </div>\n    <div>\n      <div class=\"block text-sm font-medium text-gray-700 mb-2\">Ìè¨Ìï®Ìï† ÎÇ¥Ïö©</div>\n      <div class=\"space-y-2\">\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeBudget}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">ÏòàÏÇ∞ ÏßëÌñâ ÌòÑÌô©</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeDeliverables}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">ÏÇ∞Ï∂úÎ¨º ÌòÑÌô©</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeRisks}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">Î¶¨Ïä§ÌÅ¨ Î∞è Ïù¥Ïäà</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeAchievements}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">Ï£ºÏöî ÏÑ±Í≥º</span>\n        </label>\n      </div>\n    </div>\n    <div class=\"flex justify-end gap-2 pt-4\">\n      <button type=\"button\"\n        onclick={() => (showGenerateModal = false)}\n        class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n      >\n        Ï∑®ÏÜå\n      </button>\n      <button type=\"button\"\n        onclick={generateReport}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        ÏÉùÏÑ±\n      </button>\n    </div>\n  </div>\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/research-notes/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 223,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 225,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 229,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 229,
        "endColumn": 30,
        "fix": { "range": [6779, 6780], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 241,
        "column": 5,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 293,
        "endColumn": 12
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 267,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 267,
        "endColumn": 34,
        "fix": { "range": [8357, 8358], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 275,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 275,
        "endColumn": 36,
        "fix": { "range": [8708, 8709], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 283,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 283,
        "endColumn": 36,
        "fix": { "range": [9069, 9070], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 408,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 408,
        "endColumn": 28,
        "fix": { "range": [13292, 13293], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 414,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 414,
        "endColumn": 28,
        "fix": { "range": [13538, 13539], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 8,
    "fixableErrorCount": 0,
    "fixableWarningCount": 6,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { projects, employees } from '$lib/stores/rd'\n  import { researchNotes } from '$lib/stores/rnd/mock-data'\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import type { ResearchNote } from '$lib/stores/rnd/types'\n\n  let selectedNote = $state<ResearchNote | null>(null)\n  let showDetailModal = $state(false)\n  let showCreateModal = $state(false)\n  let searchTerm = $state('')\n  let selectedProject = $state<string>('all')\n  let selectedAuthor = $state<string>('all')\n  let selectedWeek = $state<string>('all')\n\n  // Form data for creating new research note\n  let formData = $state({\n    projectId: '',\n    title: '',\n    content: '',\n    weekOf: '',\n    attachments: [] as string[]\n  })\n\n  // Get filtered research notes\n  let filteredNotes = $derived(() => {\n    let notes = $researchNotes\n\n    if (searchTerm) {\n      notes = notes.filter(\n        (note: any) =>\n          note.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            note.contentMd.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (selectedProject !== 'all') {\n      notes = notes.filter((note: any) => note.projectId === selectedProject)\n    }\n\n    if (selectedAuthor !== 'all') {\n      notes = notes.filter((note: any) => note.authorId === selectedAuthor)\n    }\n\n    if (selectedWeek !== 'all') {\n      notes = notes.filter((note: any) => note.weekOf === selectedWeek)\n    }\n\n    return notes.sort(\n      (a: any, b: any) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    )\n  })\n\n  // Get unique weeks for filter\n  let availableWeeks = $derived(() => {\n    const weeks = [...new Set($researchNotes.map((note: any) => note.weekOf))]\n    return weeks.sort()\n  })\n\n  // Get person name by ID\n  function getPersonName(personId: string): string {\n    const person = $employees.find((p: any) => p.id === personId)\n    return person ? person.name : 'Unknown'\n  }\n\n  // Get project name by ID\n  function getProjectName(projectId: string): string {\n    const project = $projects.find((p: any) => p.id === projectId)\n    return project ? project.name : 'Unknown Project'\n  }\n\n  // Show note detail\n  function showNoteDetail(note: ResearchNote) {\n    selectedNote = note\n    showDetailModal = true\n  }\n\n  // Create new research note\n  function createNote() {\n    if (!formData.projectId || !formData.title || !formData.content || !formData.weekOf) {\n      alert('Î™®Îì† ÌïÑÏàò ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    const newNote: ResearchNote = {\n      id: `rn-${Date.now()}`,\n      projectId: formData.projectId,\n      authorId: 'emp-001', // Current user ID\n      weekOf: formData.weekOf,\n      title: formData.title,\n      contentMd: formData.content,\n      attachments: formData.attachments.map((att: string) => ({\n        documentId: att,\n        description: 'Attachment'\n      })),\n      createdAt: new Date().toISOString()\n    }\n\n    $researchNotes.push(newNote)\n\n    // Reset form\n    formData = {\n      projectId: '',\n      title: '',\n      content: '',\n      weekOf: '',\n      attachments: []\n    }\n\n    showCreateModal = false\n  }\n\n  // Sign research note\n  function signNote(noteId: string) {\n    const note = $researchNotes.find((n: any) => n.id === noteId)\n    if (note) {\n      note.signedAt = new Date().toISOString()\n    }\n  }\n\n  // Verify research note\n  function verifyNote(noteId: string) {\n    const note = $researchNotes.find((n: any) => n.id === noteId)\n    if (note) {\n      note.verifiedBy = 'person-2' // PM ID\n    }\n  }\n\n  // Format date\n  function formatDate(dateString: string): string {\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Get status badge variant\n  function getStatusVariant(note: ResearchNote): 'success' | 'warning' | 'danger' {\n    if (note.verifiedBy) return 'success'\n    if (note.signedAt) return 'warning'\n    return 'danger'\n  }\n\n  // Get status text\n  function getStatusText(note: ResearchNote): string {\n    if (note.verifiedBy) return 'Í≤ÄÏù∏ÏôÑÎ£å'\n    if (note.signedAt) return 'ÏÑúÎ™ÖÏôÑÎ£å'\n    return 'ÎØ∏ÏÑúÎ™Ö'\n  }\n\n  onMount(() => {\n    // Initialize dummy data if needed\n    if ($researchNotes.length === 0) {\n    // Dummy data will be loaded from init-dummy-data.ts\n    }\n  })\n</script>\n\n<div class=\"container mx-auto p-6\">\n  <div class=\"mb-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Ïó∞Íµ¨ÎÖ∏Ìä∏ Í¥ÄÎ¶¨</h1>\n    <p class=\"text-gray-600\">Ïó∞Íµ¨ÏßÑÏùò Ï£ºÍ∞Ñ Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏûëÏÑ±, ÏÑúÎ™Ö Î∞è Í≤ÄÏù∏ÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§.</p>\n  </div>\n\n  <!-- Filters -->\n  <div class=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\n    <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n      <div>\n        <label\n          for=\"search\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í≤ÄÏÉâ</label>\n        <input\n          id=\"search\"\n          type=\"text\"\n          bind:value={searchTerm}\n          placeholder=\"Ï†úÎ™© ÎòêÎäî ÎÇ¥Ïö© Í≤ÄÏÉâ...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"project-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏</label\n        >\n        <select\n          id=\"project-filter\"\n          bind:value={selectedProject}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"author-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏûëÏÑ±Ïûê</label\n        >\n        <select\n          id=\"author-filter\"\n          bind:value={selectedAuthor}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $employees as person, i (i)}\n            <option value={person.id}>{person.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"week-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Ï£ºÏ∞®</label>\n        <select\n          id=\"week-filter\"\n          bind:value={selectedWeek}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each availableWeeks() as week}\n            <option value={week}>{week}</option>\n          {/each}\n        </select>\n      </div>\n      <div class=\"flex items-end\">\n        <button type=\"button\"\n          onclick={() => (showCreateModal = true)}\n          class=\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          ÏÉà Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏûëÏÑ±\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Research Notes List -->\n  <div class=\"grid gap-4\">\n    {#each filteredNotes() as note}\n      <Card class=\"p-4 hover:shadow-md transition-shadow\">\n        <div class=\"flex justify-between items-start\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center gap-2 mb-2\">\n              <h3 class=\"text-lg font-semibold text-gray-900\">{note.title}</h3>\n              <Badge variant={getStatusVariant(note)}>{getStatusText(note)}</Badge>\n            </div>\n            <div class=\"text-sm text-gray-600 mb-2\">\n              <span class=\"font-medium\">ÌîÑÎ°úÏ†ùÌä∏:</span>\n              {getProjectName(note.projectId)} |\n              <span class=\"font-medium\">ÏûëÏÑ±Ïûê:</span>\n              {getPersonName(note.authorId)} |\n              <span class=\"font-medium\">Ï£ºÏ∞®:</span>\n              {note.weekOf} |\n              <span class=\"font-medium\">ÏûëÏÑ±Ïùº:</span>\n              {formatDate(note.createdAt)}\n            </div>\n            <p class=\"text-gray-700 text-sm line-clamp-2\">{note.contentMd}</p>\n            {#if note.attachments.length > 0}\n              <div class=\"mt-2\">\n                <span class=\"text-xs text-gray-500\">Ï≤®Î∂ÄÌååÏùº: {note.attachments.length}Í∞ú</span>\n              </div>\n            {/if}\n          </div>\n          <div class=\"flex gap-2 ml-4\">\n            <button type=\"button\"\n              onclick={() => showNoteDetail(note)}\n              class=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              aria-label=\"ÏÉÅÏÑ∏Î≥¥Í∏∞\"\n            >\n              ÏÉÅÏÑ∏Î≥¥Í∏∞\n            </button>\n            {#if !note.signedAt}\n              <button type=\"button\"\n                onclick={() => signNote(note.id)}\n                class=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                ÏÑúÎ™Ö\n              </button>\n            {/if}\n            {#if note.signedAt && !note.verifiedBy}\n              <button type=\"button\"\n                onclick={() => verifyNote(note.id)}\n                class=\"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n              >\n                Í≤ÄÏù∏\n              </button>\n            {/if}\n          </div>\n        </div>\n      </Card>\n    {/each}\n  </div>\n\n  {#if filteredNotes().length === 0}\n    <div class=\"text-center py-12\">\n      <div class=\"text-gray-400 text-6xl mb-4\">üìù</div>\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Ïó∞Íµ¨ÎÖ∏Ìä∏Í∞Ä ÏóÜÏäµÎãàÎã§</h3>\n      <p class=\"text-gray-500\">ÏÉàÎ°úÏö¥ Ïó∞Íµ¨ÎÖ∏Ìä∏Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n    </div>\n  {/if}\n</div>\n\n<!-- Detail Modal -->\n<Modal\n  bind:open={showDetailModal}\n  title=\"Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏÉÅÏÑ∏\">\n  {#if selectedNote}\n    <div class=\"space-y-4\">\n      <div>\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{selectedNote.title}</h3>\n        <div class=\"text-sm text-gray-600 space-y-1\">\n          <p><span class=\"font-medium\">ÌîÑÎ°úÏ†ùÌä∏:</span> {getProjectName(selectedNote.projectId)}</p>\n          <p><span class=\"font-medium\">ÏûëÏÑ±Ïûê:</span> {getPersonName(selectedNote.authorId)}</p>\n          <p><span class=\"font-medium\">Ï£ºÏ∞®:</span> {selectedNote.weekOf}</p>\n          <p><span class=\"font-medium\">ÏûëÏÑ±Ïùº:</span> {formatDate(selectedNote.createdAt)}</p>\n          {#if selectedNote.signedAt}\n            <p><span class=\"font-medium\">ÏÑúÎ™ÖÏùº:</span> {formatDate(selectedNote.signedAt)}</p>\n          {/if}\n          {#if selectedNote.verifiedBy}\n            <p><span class=\"font-medium\">Í≤ÄÏù∏Ïûê:</span> {getPersonName(selectedNote.verifiedBy)}</p>\n          {/if}\n        </div>\n      </div>\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-2\">ÎÇ¥Ïö©</h4>\n        <div class=\"bg-gray-50 p-4 rounded-md\">\n          <p class=\"whitespace-pre-wrap\">{selectedNote?.contentMd}</p>\n        </div>\n      </div>\n      {#if selectedNote.attachments.length > 0}\n        <div>\n          <h4 class=\"font-medium text-gray-900 mb-2\">Ï≤®Î∂ÄÌååÏùº</h4>\n          <div class=\"space-y-2\">\n            {#each selectedNote.attachments as attachment, i (i)}\n              <div class=\"flex items-center gap-2 p-2 bg-gray-50 rounded\">\n                <span class=\"text-sm text-gray-600\">üìé {attachment}</span>\n              </div>\n            {/each}\n          </div>\n        </div>\n      {/if}\n    </div>\n  {/if}\n</Modal>\n\n<!-- Create Modal -->\n<Modal\n  bind:open={showCreateModal}\n  title=\"ÏÉà Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏûëÏÑ±\">\n  <div class=\"space-y-4\">\n    <div>\n      <label\n        for=\"create-project\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\"\n      >ÌîÑÎ°úÏ†ùÌä∏ *</label\n      >\n      <select\n        id=\"create-project\"\n        bind:value={formData.projectId}\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù</option>\n        {#each $projects as project, i (i)}\n          <option value={project.id}>{project.name}</option>\n        {/each}\n      </select>\n    </div>\n    <div>\n      <label\n        for=\"create-week\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\">Ï£ºÏ∞® *</label>\n      <input\n        id=\"create-week\"\n        type=\"text\"\n        bind:value={formData.weekOf}\n        placeholder=\"Ïòà: 2024-W01\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      />\n    </div>\n    <div>\n      <label\n        for=\"create-title\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\">Ï†úÎ™© *</label>\n      <input\n        id=\"create-title\"\n        type=\"text\"\n        bind:value={formData.title}\n        placeholder=\"Ïó∞Íµ¨ÎÖ∏Ìä∏ Ï†úÎ™©\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      />\n    </div>\n    <div>\n      <label\n        for=\"create-content\"\n        class=\"block text-sm font-medium text-gray-700 mb-1\">ÎÇ¥Ïö© *</label\n      >\n      <textarea\n        id=\"create-content\"\n        bind:value={formData.content}\n        rows=\"6\"\n        placeholder=\"Ïó∞Íµ¨ ÎÇ¥Ïö©ÏùÑ ÏÉÅÏÑ∏Ìûà ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî...\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      ></textarea>\n    </div>\n    <div class=\"flex justify-end gap-2\">\n      <button type=\"button\"\n        onclick={() => (showCreateModal = false)}\n        class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n      >\n        Ï∑®ÏÜå\n      </button>\n      <button type=\"button\"\n        onclick={createNote}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        ÏûëÏÑ±\n      </button>\n    </div>\n  </div>\n</Modal>\n\n<style>\n  .line-clamp-2 {\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n</style>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/rnd-asw/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isEditing' is assigned a value but never used.",
        "line": 24,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 96,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 96,
        "endColumn": 17
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 99,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 99,
        "endColumn": 15
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 105,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 105,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 124,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 124,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 141,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 141,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 159,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 159,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 172,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 172,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 220,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 220,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 251,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 251,
        "endColumn": 13
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 282,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 282,
        "endColumn": 13
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 566,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 566,
        "endColumn": 30,
        "fix": { "range": [17369, 17370], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 720,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 720,
        "endColumn": 30,
        "fix": { "range": [22433, 22434], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 938,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 938,
        "endColumn": 30,
        "fix": { "range": [30009, 30010], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 12,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 5,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    DollarSignIcon,\n    EditIcon,\n    FileTextIcon,\n    PlusIcon,\n    SaveIcon,\n    UsersIcon,\n    XIcon\n  } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞\n  let project = $state<any>(null)\n  let projectBudgets = $state<any[]>([])\n  let projectMembers = $state<any[]>([])\n  let evidenceItems = $state<any[]>([])\n  let isLoading = $state(true)\n  let isEditing = $state(false)\n  let showEditModal = $state(false)\n  let showBudgetModal = $state(false)\n  let showMemberModal = $state(false)\n\n  // Ìé∏Ïßë Ìèº Îç∞Ïù¥ÌÑ∞\n  let editForm = $state({\n    code: '',\n    title: '',\n    description: '',\n    sponsor_type: 'government',\n    sponsor_name: '',\n    start_date: '',\n    end_date: '',\n    manager_id: '',\n    status: 'active',\n    budget_total: 0,\n    research_type: 'applied',\n    technology_area: '',\n    priority: 'high'\n  })\n\n  // ÏòàÏÇ∞ Ìèº Îç∞Ïù¥ÌÑ∞\n  let budgetForm = $state({\n    period_number: 1,\n    fiscal_year: new Date().getFullYear(),\n    start_date: '',\n    end_date: '',\n    personnel_cost_cash: 0,\n    personnel_cost_in_kind: 0,\n    research_material_cost_cash: 0,\n    research_material_cost_in_kind: 0,\n    research_activity_cost_cash: 0,\n    research_activity_cost_in_kind: 0,\n    indirect_cost_cash: 0,\n    indirect_cost_in_kind: 0\n  })\n\n  // Î©§Î≤Ñ Ìèº Îç∞Ïù¥ÌÑ∞\n  let memberForm = $state({\n    employee_id: '',\n    role: 'researcher',\n    participation_rate: 100,\n    monthly_amount: 0,\n    contribution_type: 'cash'\n  })\n\n  let availableEmployees = $state<any[]>([])\n\n  // Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  async function loadProjectData() {\n    try {\n      isLoading = true\n\n      // RND-ASW ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Î°úÎìú\n      const projectResponse = await fetch('/api/project-management/projects?code=RND-ASW')\n      if (projectResponse.ok) {\n        const projectResult = await projectResponse.json()\n\n        if (projectResult.success && projectResult.data.length > 0) {\n          project = projectResult.data[0]\n          initEditForm()\n\n          // ÏòàÏÇ∞ Ï†ïÎ≥¥ Î°úÎìú\n          await loadBudgets()\n\n          // Î©§Î≤Ñ Ï†ïÎ≥¥ Î°úÎìú\n          await loadMembers()\n\n          // Ï¶ùÎπô Ï†ïÎ≥¥ Î°úÎìú\n          await loadEvidenceItems()\n        } else {\n          logger.log('RND-ASW ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')\n        }\n      } else {\n        logger.error('ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®:', projectResponse.status)\n      }\n\n      // ÏßÅÏõê Î™©Î°ù Î°úÎìú\n      await loadEmployees()\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error)\n    } finally {\n      isLoading = false\n    }\n  }\n\n  async function loadBudgets() {\n    if (!project) return\n\n    try {\n      const response = await fetch(\n        `/api/project-management/project-budgets?projectId=${project.id}`\n      )\n      const result = await response.json()\n\n      if (result.success) {\n        projectBudgets = result.data\n      }\n    } catch (error) {\n      logger.error('ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  async function loadMembers() {\n    if (!project) return\n\n    try {\n      const response = await fetch(\n        `/api/project-management/project-members?projectId=${project.id}`\n      )\n      const result = await response.json()\n\n      if (result.success) {\n        projectMembers = result.data\n      }\n    } catch (error) {\n      logger.error('Î©§Î≤Ñ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  async function loadEvidenceItems() {\n    if (!project || projectBudgets.length === 0) return\n\n    try {\n      const currentBudget = projectBudgets[0]\n      const response = await fetch(\n        `/api/project-management/evidence?projectBudgetId=${currentBudget.id}`\n      )\n      const result = await response.json()\n\n      if (result.success) {\n        evidenceItems = result.data\n      }\n    } catch (error) {\n      logger.error('Ï¶ùÎπô Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  async function loadEmployees() {\n    try {\n      const response = await fetch('/api/project-management/employees')\n      const result = await response.json()\n\n      if (result.success) {\n        availableEmployees = result.data\n      }\n    } catch (error) {\n      logger.error('ÏßÅÏõê Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error)\n    }\n  }\n\n  // Ìé∏Ïßë Ìèº Ï¥àÍ∏∞Ìôî\n  function initEditForm() {\n    if (!project) return\n\n    editForm = {\n      code: project.code || '',\n      title: project.title || '',\n      description: project.description || '',\n      sponsor_type: project.sponsor_type || 'government',\n      sponsor_name: project.sponsor_name || '',\n      start_date: project.start_date || '',\n      end_date: project.end_date || '',\n      manager_id: project.manager_id || '',\n      status: project.status || 'active',\n      budget_total: project.budget_total || 0,\n      research_type: project.research_type || 'applied',\n      technology_area: project.technology_area || '',\n      priority: project.priority || 'high'\n    }\n  }\n\n  // ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Ï†ÄÏû•\n  async function saveProject() {\n    if (!project) return\n\n    try {\n      const response = await fetch(`/api/project-management/projects/${project.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(editForm)\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        project = { ...project, ...editForm }\n        showEditModal = false\n        alert('ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.')\n      } else {\n        alert('Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ' + result.message)\n      }\n    } catch (error) {\n      logger.error('ÌîÑÎ°úÏ†ùÌä∏ Ï†ÄÏû• Ïã§Ìå®:', error)\n      alert('Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // ÏòàÏÇ∞ Ï∂îÍ∞Ä\n  async function addBudget() {\n    if (!project) return\n\n    try {\n      const response = await fetch('/api/project-management/project-budgets', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          projectId: project.id,\n          ...budgetForm\n        })\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await loadBudgets()\n        showBudgetModal = false\n        alert('ÏòàÏÇ∞Ïù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.')\n      } else {\n        alert('ÏòàÏÇ∞ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ' + result.message)\n      }\n    } catch (error) {\n      logger.error('ÏòàÏÇ∞ Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n      alert('ÏòàÏÇ∞ Ï∂îÍ∞Ä Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  // Î©§Î≤Ñ Ï∂îÍ∞Ä\n  async function addMember() {\n    if (!project) return\n\n    try {\n      const response = await fetch('/api/project-management/project-members', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          projectId: project.id,\n          ...memberForm\n        })\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        await loadMembers()\n        showMemberModal = false\n        alert('Î©§Î≤ÑÍ∞Ä Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.')\n      } else {\n        alert('Î©§Î≤Ñ Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ' + result.message)\n      }\n    } catch (error) {\n      logger.error('Î©§Î≤Ñ Ï∂îÍ∞Ä Ïã§Ìå®:', error)\n      alert('Î©§Î≤Ñ Ï∂îÍ∞Ä Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\n    }\n  }\n\n  onMount(() => {\n    loadProjectData()\n  })\n</script>\n\n<div class=\"space-y-6\">\n  <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->\n  <div class=\"flex items-center justify-between\">\n    <div>\n      <h1 class=\"text-2xl font-bold text-gray-900\">RND-ASW ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨</h1>\n      <p class=\"text-gray-600\">A-SW ÌîåÎû´Ìèº Í∏∞Ïà† Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏</p>\n    </div>\n    <ThemeButton onclick={() => (showEditModal = true)}>\n      <EditIcon\n        size={16}\n        class=\"mr-2\" />\n      ÌîÑÎ°úÏ†ùÌä∏ Ìé∏Ïßë\n    </ThemeButton>\n  </div>\n\n  {#if isLoading}\n    <div class=\"text-center py-8\">\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      <p class=\"mt-2 text-sm text-gray-500\">Îç∞Ïù¥ÌÑ∞Î•º Î°úÎìúÌïòÎäî Ï§ë...</p>\n    </div>\n  {:else if project}\n    <!-- ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î≥∏ Ï†ïÎ≥¥</h2>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú</div>\n            <p class=\"text-sm text-gray-900\">{project.code}</p>\n          </div>\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©</div>\n            <p class=\"text-sm text-gray-900\">{project.title}</p>\n          </div>\n          <div class=\"md:col-span-2\">\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÑ§Î™Ö</div>\n            <p class=\"text-sm text-gray-900\">{project.description}</p>\n          </div>\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">Ïä§Ìè∞ÏÑú Ïú†Ìòï</div>\n            <p class=\"text-sm text-gray-900\">{project.sponsor_type}</p>\n          </div>\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">ÏÉÅÌÉú</div>\n            <span\n              class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\n                {project.status === 'active'\n                  ? 'bg-green-100 text-green-800'\n                  : 'bg-gray-100 text-gray-800'}\"\n            >\n              {project.status || 'active'}\n            </span>\n          </div>\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">Ï¥ù ÏòàÏÇ∞</div>\n            <p class=\"text-sm text-gray-900\">{formatCurrency(project.budget_total)}</p>\n          </div>\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-1\">Ïó∞Íµ¨ Ïú†Ìòï</div>\n            <p class=\"text-sm text-gray-900\">{project.research_type || 'applied'}</p>\n          </div>\n        </div>\n      </div>\n    </ThemeCard>\n\n    <!-- ÏòàÏÇ∞ Ï†ïÎ≥¥ -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">ÏòàÏÇ∞ Ï†ïÎ≥¥</h2>\n          <ThemeButton\n            size=\"sm\"\n            onclick={() => (showBudgetModal = true)}>\n            <PlusIcon\n              size={14}\n              class=\"mr-1\" />\n            ÏòàÏÇ∞ Ï∂îÍ∞Ä\n          </ThemeButton>\n        </div>\n\n        {#if projectBudgets.length > 0}\n          <div class=\"space-y-4\">\n            {#each projectBudgets as budget, i (i)}\n              <div class=\"border border-gray-200 rounded-lg p-4\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h3 class=\"font-medium text-gray-900\">\n                    {budget.period_number}Ïó∞Ï∞® ({budget.fiscal_year}ÎÖÑ)\n                  </h3>\n                  <span class=\"text-sm text-gray-500\">\n                    {formatDate(budget.start_date)} ~ {formatDate(budget.end_date)}\n                  </span>\n                </div>\n                <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                  <div>\n                    <span class=\"text-gray-600\">Ïù∏Í±¥ÎπÑ:</span>\n                    <span class=\"ml-2 font-medium\"\n                    >{formatCurrency(\n                      budget.personnel_cost_cash + budget.personnel_cost_in_kind\n                    )}</span\n                    >\n                  </div>\n                  <div>\n                    <span class=\"text-gray-600\">Ïó∞Íµ¨Ïû¨Î£åÎπÑ:</span>\n                    <span class=\"ml-2 font-medium\"\n                    >{formatCurrency(\n                      budget.research_material_cost_cash + budget.research_material_cost_in_kind\n                    )}</span\n                    >\n                  </div>\n                  <div>\n                    <span class=\"text-gray-600\">Ïó∞Íµ¨ÌôúÎèôÎπÑ:</span>\n                    <span class=\"ml-2 font-medium\"\n                    >{formatCurrency(\n                      budget.research_activity_cost_cash + budget.research_activity_cost_in_kind\n                    )}</span\n                    >\n                  </div>\n                  <div>\n                    <span class=\"text-gray-600\">Í∞ÑÏ†ëÎπÑ:</span>\n                    <span class=\"ml-2 font-medium\"\n                    >{formatCurrency(\n                      budget.indirect_cost_cash + budget.indirect_cost_in_kind\n                    )}</span\n                    >\n                  </div>\n                </div>\n              </div>\n            {/each}\n          </div>\n        {:else}\n          <div class=\"text-center py-8 text-gray-500\">\n            <DollarSignIcon\n              size={48}\n              class=\"mx-auto mb-2 text-gray-300\" />\n            <p>Îì±Î°ùÎêú ÏòàÏÇ∞Ïù¥ ÏóÜÏäµÎãàÎã§.</p>\n          </div>\n        {/if}\n      </div>\n    </ThemeCard>\n\n    <!-- ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">ÌîÑÎ°úÏ†ùÌä∏ Î©§Î≤Ñ</h2>\n          <ThemeButton\n            size=\"sm\"\n            onclick={() => (showMemberModal = true)}>\n            <PlusIcon\n              size={14}\n              class=\"mr-1\" />\n            Î©§Î≤Ñ Ï∂îÍ∞Ä\n          </ThemeButton>\n        </div>\n\n        {#if projectMembers.length > 0}\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Ïù¥Î¶Ñ</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Ïó≠Ìï†</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Ï∞∏Ïó¨Ïú®</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >ÏõîÍ∞Ñ Í∏àÏï°</th\n                  >\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >Í∏∞Ïó¨ Ïú†Ìòï</th\n                  >\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                {#each projectMembers as member, i (i)}\n                  <tr>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      {member.first_name}\n                      {member.last_name}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{member.role}</td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n                    >{member.participation_rate}%</td\n                    >\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n                    >{formatCurrency(member.monthly_amount)}</td\n                    >\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n                    >{member.contribution_type}</td\n                    >\n                  </tr>\n                {/each}\n              </tbody>\n            </table>\n          </div>\n        {:else}\n          <div class=\"text-center py-8 text-gray-500\">\n            <UsersIcon\n              size={48}\n              class=\"mx-auto mb-2 text-gray-300\" />\n            <p>Îì±Î°ùÎêú Î©§Î≤ÑÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\n          </div>\n        {/if}\n      </div>\n    </ThemeCard>\n\n    <!-- Ï¶ùÎπô Í¥ÄÎ¶¨ -->\n    <ThemeCard>\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">Ï¶ùÎπô Í¥ÄÎ¶¨</h2>\n          <ThemeButton size=\"sm\">\n            <PlusIcon\n              size={14}\n              class=\"mr-1\" />\n            Ï¶ùÎπô Ï∂îÍ∞Ä\n          </ThemeButton>\n        </div>\n\n        {#if evidenceItems.length > 0}\n          <div class=\"space-y-3\">\n            {#each evidenceItems as item, i (i)}\n              <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div>\n                  <h4 class=\"font-medium text-gray-900\">{item.name}</h4>\n                  <p class=\"text-sm text-gray-500\">\n                    {item.category_name} | {formatCurrency(item.budget_amount)}\n                  </p>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                  <span\n                    class=\"px-2 py-1 text-xs font-medium rounded-full\n                      {item.status === 'completed'\n                        ? 'bg-green-100 text-green-800'\n                        : item.status === 'in_progress'\n                        ? 'bg-yellow-100 text-yellow-800'\n                        : 'bg-gray-100 text-gray-800'}\"\n                  >\n                    {item.status}\n                  </span>\n                  <span class=\"text-sm text-gray-500\">{item.progress}%</span>\n                </div>\n              </div>\n            {/each}\n          </div>\n        {:else}\n          <div class=\"text-center py-8 text-gray-500\">\n            <FileTextIcon\n              size={48}\n              class=\"mx-auto mb-2 text-gray-300\" />\n            <p>Îì±Î°ùÎêú Ï¶ùÎπôÏù¥ ÏóÜÏäµÎãàÎã§.</p>\n          </div>\n        {/if}\n      </div>\n    </ThemeCard>\n  {:else}\n    <div class=\"text-center py-8 text-gray-500\">\n      <p>RND-ASW ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.</p>\n    </div>\n  {/if}\n</div>\n\n<!-- ÌîÑÎ°úÏ†ùÌä∏ Ìé∏Ïßë Î™®Îã¨ -->\n{#if showEditModal}\n  <ThemeModal\n    open={showEditModal}\n    onclose={() => (showEditModal = false)}>\n    <div class=\"p-6 max-w-2xl\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h3 class=\"text-lg font-medium text-gray-900\">ÌîÑÎ°úÏ†ùÌä∏ Ìé∏Ïßë</h3>\n        <button type=\"button\"\n          onclick={() => (showEditModal = false)}\n          class=\"text-gray-400 hover:text-gray-600\">\n          <XIcon size={20} />\n        </button>\n      </div>\n\n      <div class=\"space-y-4\">\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label\n              for=\"edit-code\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >ÌîÑÎ°úÏ†ùÌä∏ ÏΩîÎìú</label\n            >\n            <input\n              id=\"edit-code\"\n              type=\"text\"\n              bind:value={editForm.code}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"edit-status\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >ÏÉÅÌÉú</label\n            >\n            <select\n              id=\"edit-status\"\n              bind:value={editForm.status}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"active\">ÌôúÏÑ±</option>\n              <option value=\"completed\">ÏôÑÎ£å</option>\n              <option value=\"paused\">ÏùºÏãúÏ†ïÏßÄ</option>\n              <option value=\"cancelled\">Ï∑®ÏÜå</option>\n            </select>\n          </div>\n        </div>\n\n        <div>\n          <label\n            for=\"edit-title\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©</label\n          >\n          <input\n            id=\"edit-title\"\n            type=\"text\"\n            bind:value={editForm.title}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div>\n          <label\n            for=\"edit-description\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏÑ§Î™Ö</label\n          >\n          <textarea\n            id=\"edit-description\"\n            bind:value={editForm.description}\n            rows=\"3\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          ></textarea>\n        </div>\n\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label\n              for=\"edit-start-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >ÏãúÏûëÏùº</label\n            >\n            <input\n              id=\"edit-start-date\"\n              type=\"date\"\n              bind:value={editForm.start_date}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"edit-end-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >Ï¢ÖÎ£åÏùº</label\n            >\n            <input\n              id=\"edit-end-date\"\n              type=\"date\"\n              bind:value={editForm.end_date}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label\n              for=\"edit-sponsor-type\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >Ïä§Ìè∞ÏÑú Ïú†Ìòï</label\n            >\n            <select\n              id=\"edit-sponsor-type\"\n              bind:value={editForm.sponsor_type}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"government\">Ï†ïÎ∂Ä</option>\n              <option value=\"private\">ÎØºÍ∞Ñ</option>\n              <option value=\"internal\">ÎÇ¥Î∂Ä</option>\n            </select>\n          </div>\n          <div>\n            <label\n              for=\"edit-budget-total\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >Ï¥ù ÏòàÏÇ∞</label\n            >\n            <input\n              id=\"edit-budget-total\"\n              type=\"number\"\n              bind:value={editForm.budget_total}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200 mt-6\">\n        <ThemeButton\n          variant=\"ghost\"\n          onclick={() => (showEditModal = false)}>Ï∑®ÏÜå</ThemeButton>\n        <ThemeButton onclick={saveProject}>\n          <SaveIcon\n            size={16}\n            class=\"mr-2\" />\n          Ï†ÄÏû•\n        </ThemeButton>\n      </div>\n    </div>\n  </ThemeModal>\n{/if}\n\n<!-- ÏòàÏÇ∞ Ï∂îÍ∞Ä Î™®Îã¨ -->\n{#if showBudgetModal}\n  <ThemeModal\n    open={showBudgetModal}\n    onclose={() => (showBudgetModal = false)}>\n    <div class=\"p-6 max-w-2xl\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h3 class=\"text-lg font-medium text-gray-900\">ÏòàÏÇ∞ Ï∂îÍ∞Ä</h3>\n        <button type=\"button\"\n          onclick={() => (showBudgetModal = false)}\n          class=\"text-gray-400 hover:text-gray-600\">\n          <XIcon size={20} />\n        </button>\n      </div>\n\n      <div class=\"space-y-4\">\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label\n              for=\"budget-period\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >Ïó∞Ï∞®</label\n            >\n            <input\n              id=\"budget-period\"\n              type=\"number\"\n              bind:value={budgetForm.period_number}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"budget-fiscal-year\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >ÌöåÍ≥ÑÏó∞ÎèÑ</label\n            >\n            <input\n              id=\"budget-fiscal-year\"\n              type=\"number\"\n              bind:value={budgetForm.fiscal_year}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label\n              for=\"budget-start-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >ÏãúÏûëÏùº</label\n            >\n            <input\n              id=\"budget-start-date\"\n              type=\"date\"\n              bind:value={budgetForm.start_date}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label\n              for=\"budget-end-date\"\n              class=\"block text-sm font-medium text-gray-700 mb-1\"\n            >Ï¢ÖÎ£åÏùº</label\n            >\n            <input\n              id=\"budget-end-date\"\n              type=\"date\"\n              bind:value={budgetForm.end_date}\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        <div class=\"space-y-3\">\n          <h4 class=\"font-medium text-gray-900\">Ïù∏Í±¥ÎπÑ</h4>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"personnel-cash\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÍ∏à</label\n              >\n              <input\n                id=\"personnel-cash\"\n                type=\"number\"\n                bind:value={budgetForm.personnel_cost_cash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"personnel-kind\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÎ¨º</label\n              >\n              <input\n                id=\"personnel-kind\"\n                type=\"number\"\n                bind:value={budgetForm.personnel_cost_in_kind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"space-y-3\">\n          <h4 class=\"font-medium text-gray-900\">Ïó∞Íµ¨Ïû¨Î£åÎπÑ</h4>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"material-cash\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÍ∏à</label\n              >\n              <input\n                id=\"material-cash\"\n                type=\"number\"\n                bind:value={budgetForm.research_material_cost_cash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"material-kind\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÎ¨º</label\n              >\n              <input\n                id=\"material-kind\"\n                type=\"number\"\n                bind:value={budgetForm.research_material_cost_in_kind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"space-y-3\">\n          <h4 class=\"font-medium text-gray-900\">Ïó∞Íµ¨ÌôúÎèôÎπÑ</h4>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"activity-cash\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÍ∏à</label\n              >\n              <input\n                id=\"activity-cash\"\n                type=\"number\"\n                bind:value={budgetForm.research_activity_cost_cash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"activity-kind\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÎ¨º</label\n              >\n              <input\n                id=\"activity-kind\"\n                type=\"number\"\n                bind:value={budgetForm.research_activity_cost_in_kind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"space-y-3\">\n          <h4 class=\"font-medium text-gray-900\">Í∞ÑÏ†ëÎπÑ</h4>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                for=\"indirect-cash\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÍ∏à</label\n              >\n              <input\n                id=\"indirect-cash\"\n                type=\"number\"\n                bind:value={budgetForm.indirect_cost_cash}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label\n                for=\"indirect-kind\"\n                class=\"block text-sm font-medium text-gray-700 mb-1\"\n              >ÌòÑÎ¨º</label\n              >\n              <input\n                id=\"indirect-kind\"\n                type=\"number\"\n                bind:value={budgetForm.indirect_cost_in_kind}\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200 mt-6\">\n        <ThemeButton\n          variant=\"ghost\"\n          onclick={() => (showBudgetModal = false)}>Ï∑®ÏÜå</ThemeButton>\n        <ThemeButton onclick={addBudget}>\n          <SaveIcon\n            size={16}\n            class=\"mr-2\" />\n          Ï∂îÍ∞Ä\n        </ThemeButton>\n      </div>\n    </div>\n  </ThemeModal>\n{/if}\n\n<!-- Î©§Î≤Ñ Ï∂îÍ∞Ä Î™®Îã¨ -->\n{#if showMemberModal}\n  <ThemeModal\n    open={showMemberModal}\n    onclose={() => (showMemberModal = false)}>\n    <div class=\"p-6 max-w-lg\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h3 class=\"text-lg font-medium text-gray-900\">Î©§Î≤Ñ Ï∂îÍ∞Ä</h3>\n        <button type=\"button\"\n          onclick={() => (showMemberModal = false)}\n          class=\"text-gray-400 hover:text-gray-600\">\n          <XIcon size={20} />\n        </button>\n      </div>\n\n      <div class=\"space-y-4\">\n        <div>\n          <label\n            for=\"member-employee\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏßÅÏõê</label\n          >\n          <select\n            id=\"member-employee\"\n            bind:value={memberForm.employee_id}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">ÏßÅÏõêÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n            {#each availableEmployees as employee, i (i)}\n              <option value={employee.id}>{employee.first_name} {employee.last_name}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div>\n          <label\n            for=\"member-role\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\">Ïó≠Ìï†</label>\n          <select\n            id=\"member-role\"\n            bind:value={memberForm.role}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"researcher\">Ïó∞Íµ¨Ïõê</option>\n            <option value=\"manager\">Í¥ÄÎ¶¨Ïûê</option>\n            <option value=\"coordinator\">ÏΩîÎîîÎÑ§Ïù¥ÌÑ∞</option>\n          </select>\n        </div>\n\n        <div>\n          <label\n            for=\"member-participation\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >Ï∞∏Ïó¨Ïú® (%)</label\n          >\n          <input\n            id=\"member-participation\"\n            type=\"number\"\n            bind:value={memberForm.participation_rate}\n            min=\"0\"\n            max=\"100\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div>\n          <label\n            for=\"member-monthly-amount\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >ÏõîÍ∞Ñ Í∏àÏï°</label\n          >\n          <input\n            id=\"member-monthly-amount\"\n            type=\"number\"\n            bind:value={memberForm.monthly_amount}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div>\n          <label\n            for=\"member-contribution-type\"\n            class=\"block text-sm font-medium text-gray-700 mb-1\"\n          >Í∏∞Ïó¨ Ïú†Ìòï</label\n          >\n          <select\n            id=\"member-contribution-type\"\n            bind:value={memberForm.contribution_type}\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"cash\">ÌòÑÍ∏à</option>\n            <option value=\"in_kind\">ÌòÑÎ¨º</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200 mt-6\">\n        <ThemeButton\n          variant=\"ghost\"\n          onclick={() => (showMemberModal = false)}>Ï∑®ÏÜå</ThemeButton>\n        <ThemeButton onclick={addMember}>\n          <SaveIcon\n            size={16}\n            class=\"mr-2\" />\n          Ï∂îÍ∞Ä\n        </ThemeButton>\n      </div>\n    </div>\n  </ThemeModal>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/rnd/submissions/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'localSubmissionBundles' is assigned a value but never used.",
        "line": 24,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 29
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 266,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 266,
        "endColumn": 11
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 356,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 356,
        "endColumn": 26,
        "fix": { "range": [10304, 10305], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 362,
        "column": 13,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 362,
        "endColumn": 26,
        "fix": { "range": [10537, 10538], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 412,
        "column": 11,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 414,
        "endColumn": 18
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 441,
        "column": 5,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 551,
        "endColumn": 12
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 465,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 465,
        "endColumn": 34,
        "fix": { "range": [14310, 14311], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 473,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 473,
        "endColumn": 36,
        "fix": { "range": [14679, 14680], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 481,
        "column": 23,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 481,
        "endColumn": 36,
        "fix": { "range": [15069, 15070], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 488,
        "column": 21,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 488,
        "endColumn": 34,
        "fix": { "range": [15395, 15396], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 631,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 631,
        "endColumn": 32,
        "fix": { "range": [20570, 20571], "text": "\n" }
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 670,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 675,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 687,
        "column": 13,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 692,
        "endColumn": 20
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 735,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 735,
        "endColumn": 32,
        "fix": { "range": [24378, 24379], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 743,
        "column": 19,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 743,
        "endColumn": 32,
        "fix": { "range": [24745, 24746], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 854,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 854,
        "endColumn": 28,
        "fix": { "range": [28343, 28344], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 860,
        "column": 15,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 860,
        "endColumn": 28,
        "fix": { "range": [28589, 28590], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 17,
    "fixableErrorCount": 0,
    "fixableWarningCount": 13,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import Badge from '$lib/components/ui/Badge.svelte'\n  import Card from '$lib/components/ui/Card.svelte'\n  import Modal from '$lib/components/ui/Modal.svelte'\n  import { employees, projects } from '$lib/stores/rd'\n  import { documents, expenseItems, submissionBundles } from '$lib/stores/rnd/mock-data'\n  import type { SubmissionBundle } from '$lib/stores/rnd/types'\n  import { onMount } from 'svelte'\n\n  // Extended SubmissionBundle interface for this page\n  interface ExtendedSubmissionBundle extends SubmissionBundle {\n    documentCount?: number\n    totalSize?: string\n    validationResults?: {\n      valid: boolean\n      errors: string[]\n      warnings: string[]\n      completeness: number\n    }\n  }\n\n  // Mock submission bundles data\n  let localSubmissionBundles = $state<ExtendedSubmissionBundle[]>([\n    {\n      id: 'bundle-1',\n      projectId: 'project-1',\n      period: '2024-Q1',\n      fileUrl: '/bundles/project-1-2024-Q1.zip',\n      manifestXml: '<?xml version=\"1.0\" encoding=\"UTF-8\"?><manifest>...</manifest>',\n      checksum: 'sha256:abc123def456...',\n      createdBy: 'person-2',\n      createdAt: '2024-04-01T10:00:00Z',\n      status: 'uploaded',\n      documentCount: 45,\n      totalSize: '125.6 MB',\n      validationResults: {\n        valid: true,\n        errors: [],\n        warnings: ['ÏùºÎ∂Ä Î¨∏ÏÑúÏùò Ìï¥ÏÉÅÎèÑÍ∞Ä ÎÇÆÏäµÎãàÎã§'],\n        completeness: 98\n      }\n    },\n    {\n      id: 'bundle-2',\n      projectId: 'project-2',\n      period: '2024-Q1',\n      fileUrl: '/bundles/project-2-2024-Q1.zip',\n      manifestXml: '<?xml version=\"1.0\" encoding=\"UTF-8\"?><manifest>...</manifest>',\n      checksum: 'sha256:def456ghi789...',\n      createdBy: 'person-2',\n      createdAt: '2024-04-02T14:30:00Z',\n      status: 'ready',\n      documentCount: 32,\n      totalSize: '89.2 MB',\n      validationResults: {\n        valid: false,\n        errors: ['ÌïÑÏàò Î¨∏ÏÑú ÎàÑÎùΩ: Ïó∞Íµ¨ÎÖ∏Ìä∏ 3Ï£ºÏ∞®', 'ÏÑúÎ™Ö ÎàÑÎùΩ: ÏßÄÏ∂ú ÏäπÏù∏ÏÑú 2Í±¥'],\n        warnings: ['ÏùºÎ∂Ä ÏòÅÏàòÏ¶ù Ìï¥ÏÉÅÎèÑ Î∂ÄÏ°±'],\n        completeness: 85\n      }\n    },\n    {\n      id: 'bundle-3',\n      projectId: 'project-1',\n      period: '2024-Q2',\n      fileUrl: '/bundles/project-1-2024-Q2.zip',\n      manifestXml: '<?xml version=\"1.0\" encoding=\"UTF-8\"?><manifest>...</manifest>',\n      checksum: 'sha256:ghi789jkl012...',\n      createdBy: 'person-2',\n      createdAt: '2024-07-01T09:15:00Z',\n      status: 'generating',\n      documentCount: 0,\n      totalSize: '0 MB',\n      validationResults: {\n        valid: false,\n        errors: [],\n        warnings: [],\n        completeness: 0\n      }\n    }\n  ])\n\n  let selectedBundle = $state<ExtendedSubmissionBundle | null>(null)\n  let showDetailModal = $state(false)\n  let showCreateModal = $state(false)\n  let showValidationModal = $state(false)\n  let searchTerm = $state('')\n  let selectedProject = $state<string>('all')\n  let selectedPeriod = $state<string>('all')\n  let selectedStatus = $state<string>('all')\n\n  // Form data for creating new bundle\n  let formData = $state({\n    projectId: '',\n    period: '',\n    includeDocuments: true,\n    includeExpenses: true,\n    includeReports: true,\n    includeResearchNotes: true,\n    compressionLevel: 'medium' as 'low' | 'medium' | 'high',\n    generateManifest: true\n  })\n\n  // Get filtered bundles\n  let filteredBundles = $derived(() => {\n    let filtered = $submissionBundles\n\n    if (searchTerm) {\n      filtered = filtered.filter(\n        (bundle: any) =>\n          bundle.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            bundle.period.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (selectedProject !== 'all') {\n      filtered = filtered.filter((bundle: any) => bundle.projectId === selectedProject)\n    }\n\n    if (selectedPeriod !== 'all') {\n      filtered = filtered.filter((bundle: any) => bundle.period === selectedPeriod)\n    }\n\n    if (selectedStatus !== 'all') {\n      filtered = filtered.filter((bundle: any) => bundle.status === selectedStatus)\n    }\n\n    return filtered.sort(\n      (a: any, b: any) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    )\n  })\n\n  // Get unique periods for filter\n  let availablePeriods = $derived(() => {\n    const periods = [...new Set($submissionBundles.map((b: any) => b.period))]\n    return periods.sort().reverse()\n  })\n\n  // Get person name by ID\n  function getPersonName(personId: string): string {\n    const person = $employees.find((p: any) => p.id === personId)\n    return person ? person.name : 'Unknown'\n  }\n\n  // Get project name by ID\n  function getProjectName(projectId: string): string {\n    const project = $projects.find((p: any) => p.id === projectId)\n    return project ? project.name : 'Unknown Project'\n  }\n\n  // Show bundle detail\n  function showBundleDetail(bundle: ExtendedSubmissionBundle) {\n    selectedBundle = bundle\n    showDetailModal = true\n  }\n\n  // Create new bundle\n  function createBundle() {\n    if (!formData.projectId || !formData.period) {\n      alert('Î™®Îì† ÌïÑÏàò ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')\n      return\n    }\n\n    // Check if bundle already exists\n    const existingBundle = $submissionBundles.find(\n      (b: any) => b.projectId === formData.projectId && b.period === formData.period\n    )\n\n    if (existingBundle) {\n      alert('Ìï¥Îãπ Í∏∞Í∞ÑÏùò Î≤àÎì§Ïù¥ Ïù¥ÎØ∏ Ï°¥Ïû¨Ìï©ÎãàÎã§.')\n      return\n    }\n\n    const newBundle: ExtendedSubmissionBundle = {\n      id: `bundle-${Date.now()}`,\n      projectId: formData.projectId,\n      period: formData.period,\n      fileUrl: `/bundles/${formData.projectId}-${formData.period}.zip`,\n      manifestXml: '<?xml version=\"1.0\" encoding=\"UTF-8\"?><manifest>...</manifest>',\n      checksum: 'sha256:generating...',\n      createdBy: 'emp-001', // Current user\n      createdAt: new Date().toISOString(),\n      status: 'generating',\n      documentCount: 0,\n      totalSize: '0 MB',\n      validationResults: {\n        valid: false,\n        errors: [],\n        warnings: [],\n        completeness: 0\n      }\n    }\n\n    $submissionBundles.push(newBundle)\n\n    // Simulate bundle generation\n    window.setTimeout(() => {\n      generateBundleContent(newBundle.id)\n    }, 2000)\n\n    // Reset form\n    formData = {\n      projectId: '',\n      period: '',\n      includeDocuments: true,\n      includeExpenses: true,\n      includeReports: true,\n      includeResearchNotes: true,\n      compressionLevel: 'medium',\n      generateManifest: true\n    }\n\n    showCreateModal = false\n  }\n\n  // Generate bundle content (simulation)\n  function generateBundleContent(bundleId: string) {\n    const bundle = $submissionBundles.find((b: any) => b.id === bundleId)\n    if (bundle) {\n      // Simulate document collection and validation\n      const projectExpenses = $expenseItems.filter((e: any) => e.projectId === bundle.projectId)\n      const projectDocuments = $documents.filter(\n        (d: any) => d.expenseId && projectExpenses.some((e: any) => e.id === d.expenseId)\n      )\n\n      ;(bundle as any).documentCount = projectDocuments.length\n      ;(bundle as any).totalSize = `${(Math.random() * 100 + 50).toFixed(1)} MB`\n      bundle.checksum = `sha256:${Math.random().toString(36).substring(2, 15)}...`\n      bundle.status = 'ready'\n\n      // Simulate validation\n      window.setTimeout(() => {\n        validateBundle(bundleId)\n      }, 3000)\n    }\n  }\n\n  // Validate bundle\n  function validateBundle(bundleId: string) {\n    const bundle = $submissionBundles.find((b: any) => b.id === bundleId)\n    if (bundle) {\n      // Mock validation results\n      const hasErrors = Math.random() > 0.7\n      const completeness = Math.floor(Math.random() * 20) + 80\n\n      ;(bundle as any).validationResults = {\n        valid: !hasErrors,\n        errors: hasErrors ? ['ÏùºÎ∂Ä ÌïÑÏàò Î¨∏ÏÑú ÎàÑÎùΩ', 'ÏÑúÎ™Ö ÎàÑÎùΩ Î¨∏ÏÑú 2Í±¥'] : [],\n        warnings: ['ÏùºÎ∂Ä ÏòÅÏàòÏ¶ù Ìï¥ÏÉÅÎèÑ Î∂ÄÏ°±', 'Ïó∞Íµ¨ÎÖ∏Ìä∏ ÏÑúÎ™Ö ÎàÑÎùΩ 1Í±¥'],\n        completeness\n      }\n\n      bundle.status = hasErrors ? 'failed' : 'uploaded'\n    }\n  }\n\n  // Download bundle\n  function downloadBundle(bundle: ExtendedSubmissionBundle) {\n    if (bundle.status !== 'uploaded') {\n      alert('Î≤àÎì§Ïù¥ ÏïÑÏßÅ Ï§ÄÎπÑÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.')\n      return\n    }\n\n    // In real implementation, this would download the actual file\n    logger.log('Downloading bundle:', bundle.fileUrl)\n    alert(`Î≤àÎì§ Îã§Ïö¥Î°úÎìú: ${bundle.fileUrl}`)\n  }\n\n  // Re-validate bundle\n  function revalidateBundle(bundleId: string) {\n    const bundle = $submissionBundles.find((b: any) => b.id === bundleId)\n    if (bundle) {\n      bundle.status = 'generating'\n\n      window.setTimeout(() => {\n        validateBundle(bundleId)\n      }, 2000)\n    }\n  }\n\n  // Show validation details\n  function showValidationDetails(bundle: SubmissionBundle) {\n    selectedBundle = bundle\n    showValidationModal = true\n  }\n\n  // Format date\n  function formatDate(dateString: string): string {\n    return new Date(dateString).toLocaleDateString('ko-KR')\n  }\n\n  // Get status badge variant\n  function getStatusVariant(status: string): 'success' | 'warning' | 'danger' {\n    switch (status) {\n      case 'completed':\n        return 'success'\n      case 'generating':\n        return 'warning'\n      case 'validating':\n        return 'warning'\n      case 'pending_validation':\n        return 'warning'\n      case 'validation_failed':\n        return 'danger'\n      default:\n        return 'danger'\n    }\n  }\n\n  // Get status text\n  function getStatusText(status: string): string {\n    switch (status) {\n      case 'completed':\n        return 'ÏôÑÎ£å'\n      case 'generating':\n        return 'ÏÉùÏÑ±Ï§ë'\n      case 'validating':\n        return 'Í≤ÄÏ¶ùÏ§ë'\n      case 'pending_validation':\n        return 'Í≤ÄÏ¶ùÎåÄÍ∏∞'\n      case 'validation_failed':\n        return 'Í≤ÄÏ¶ùÏã§Ìå®'\n      default:\n        return 'Ïïå Ïàò ÏóÜÏùå'\n    }\n  }\n\n  // Get completeness color\n  function getCompletenessColor(completeness: number): string {\n    if (completeness >= 95) return 'text-green-600'\n    if (completeness >= 85) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  // Get validation status color\n  function getValidationColor(valid: boolean): string {\n    return valid ? 'text-green-600' : 'text-red-600'\n  }\n\n  onMount(() => {\n  // Initialize dummy data if needed\n  })\n</script>\n\n<div class=\"container mx-auto p-6\">\n  <div class=\"mb-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Íµ≠Í∞ÄR&D ÏóÖÎ°úÎìú Î≤àÎì§</h1>\n    <p class=\"text-gray-600\">\n      ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Î¨∏ÏÑúÎ•º Íµ≠Í∞ÄR&D ÏãúÏä§ÌÖú ÏóÖÎ°úÎìúÏö© Î≤àÎì§Î°ú ÏÉùÏÑ±ÌïòÍ≥† Í≤ÄÏ¶ùÌï©ÎãàÎã§.\n    </p>\n  </div>\n\n  <!-- Action Buttons -->\n  <div class=\"flex gap-4 mb-6\">\n    <button type=\"button\"\n      onclick={() => (showCreateModal = true)}\n      class=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n    >\n      Î≤àÎì§ ÏÉùÏÑ±\n    </button>\n    <button type=\"button\"\n      onclick={() => alert('Î™®Îì† ÌîÑÎ°úÏ†ùÌä∏Ïùò Î∂ÑÍ∏∞Î≥Ñ Î≤àÎì§ÏùÑ ÏûêÎèô ÏÉùÏÑ±Ìï©ÎãàÎã§.')}\n      class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\n    >\n      ÏûêÎèô ÏÉùÏÑ±\n    </button>\n  </div>\n\n  <!-- Filters -->\n  <div class=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\n    <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n      <div>\n        <label\n          for=\"search\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í≤ÄÏÉâ</label>\n        <input\n          id=\"search\"\n          type=\"text\"\n          bind:value={searchTerm}\n          placeholder=\"Î≤àÎì§ ID ÎòêÎäî Í∏∞Í∞Ñ Í≤ÄÏÉâ...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div>\n        <label\n          for=\"project-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏</label\n        >\n        <select\n          id=\"project-filter\"\n          bind:value={selectedProject}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"period-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\">Í∏∞Í∞Ñ</label>\n        <select\n          id=\"period-filter\"\n          bind:value={selectedPeriod}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          {#each availablePeriods() as period}\n            <option value={period}>{period}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"rnd-sub-status-filter\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏÉÅÌÉú</label\n        >\n        <select\n          id=\"rnd-sub-status-filter\"\n          bind:value={selectedStatus}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">Ï†ÑÏ≤¥</option>\n          <option value=\"generating\">ÏÉùÏÑ±Ï§ë</option>\n          <option value=\"validating\">Í≤ÄÏ¶ùÏ§ë</option>\n          <option value=\"pending_validation\">Í≤ÄÏ¶ùÎåÄÍ∏∞</option>\n          <option value=\"completed\">ÏôÑÎ£å</option>\n          <option value=\"validation_failed\">Í≤ÄÏ¶ùÏã§Ìå®</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <!-- Bundles List -->\n  <div class=\"grid gap-6\">\n    {#each filteredBundles() as bundle}\n      <Card class=\"p-6 hover:shadow-md transition-shadow\">\n        <div class=\"flex justify-between items-start mb-4\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center gap-3 mb-2\">\n              <h3 class=\"text-xl font-semibold text-gray-900\">\n                {getProjectName(bundle.projectId)} - {bundle.period}\n              </h3>\n              <Badge variant={getStatusVariant(bundle.status)}>\n                {getStatusText(bundle.status)}\n              </Badge>\n            </div>\n            <div class=\"text-sm text-gray-600 mb-3\">\n              <span class=\"font-medium\">ÏÉùÏÑ±Ïûê:</span>\n              {getPersonName(bundle.createdBy)} |\n              <span class=\"font-medium\">ÏÉùÏÑ±Ïùº:</span>\n              {formatDate(bundle.createdAt)} |\n              <span class=\"font-medium\">Î¨∏ÏÑúÏàò:</span>\n              {(bundle as any).documentCount}Í∞ú |\n              <span class=\"font-medium\">ÌÅ¨Í∏∞:</span>\n              {(bundle as any).totalSize}\n            </div>\n          </div>\n          <div class=\"flex gap-2 ml-4\">\n            <button type=\"button\"\n              onclick={() => showBundleDetail(bundle)}\n              class=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              aria-label=\"ÏÉÅÏÑ∏Î≥¥Í∏∞\"\n            >\n              ÏÉÅÏÑ∏Î≥¥Í∏∞\n            </button>\n            {#if bundle.status === 'uploaded'}\n              <button type=\"button\"\n                onclick={() => downloadBundle(bundle)}\n                class=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                Îã§Ïö¥Î°úÎìú\n              </button>\n            {/if}\n            {#if bundle.status === 'failed' || bundle.status === 'ready'}\n              <button type=\"button\"\n                onclick={() => revalidateBundle(bundle.id)}\n                class=\"px-3 py-1 text-sm bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-500\"\n              >\n                Ïû¨Í≤ÄÏ¶ù\n              </button>\n            {/if}\n            <button type=\"button\"\n              onclick={() => showValidationDetails(bundle)}\n              class=\"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n            >\n              Í≤ÄÏ¶ùÏÉÅÏÑ∏\n            </button>\n          </div>\n        </div>\n\n        <!-- Bundle Info -->\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">Î¨∏ÏÑú Ïàò</div>\n            <div class=\"text-2xl font-bold text-gray-900\">{(bundle as any).documentCount}</div>\n          </div>\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">Ï¥ù ÌÅ¨Í∏∞</div>\n            <div class=\"text-2xl font-bold text-gray-900\">{(bundle as any).totalSize}</div>\n          </div>\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">ÏôÑÏÑ±ÎèÑ</div>\n            <div\n              class=\"text-2xl font-bold {getCompletenessColor(\n                (bundle as any).validationResults.completeness\n              )}\"\n            >\n              {(bundle as any).validationResults.completeness}%\n            </div>\n          </div>\n          <div class=\"bg-gray-50 p-4 rounded-md\">\n            <div class=\"text-sm text-gray-600 mb-1\">Í≤ÄÏ¶ù ÏÉÅÌÉú</div>\n            <div\n              class=\"text-2xl font-bold {getValidationColor(\n                (bundle as any).validationResults.valid\n              )}\"\n            >\n              {(bundle as any).validationResults.valid ? '‚úì' : '‚úó'}\n            </div>\n          </div>\n        </div>\n\n        <!-- Validation Summary -->\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <h4 class=\"font-medium text-gray-900 mb-2\">ÏóêÎü¨</h4>\n            <div class=\"text-sm text-red-600\">\n              {(bundle as any).validationResults.errors.length}Í∞ú\n            </div>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-gray-900 mb-2\">Í≤ΩÍ≥†</h4>\n            <div class=\"text-sm text-yellow-600\">\n              {(bundle as any).validationResults.warnings.length}Í∞ú\n            </div>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-gray-900 mb-2\">Ï≤¥ÌÅ¨ÏÑ¨</h4>\n            <div class=\"text-xs text-gray-500 font-mono\">\n              {bundle.checksum}\n            </div>\n          </div>\n        </div>\n      </Card>\n    {/each}\n  </div>\n\n  {#if filteredBundles().length === 0}\n    <div class=\"text-center py-12\">\n      <div class=\"text-gray-400 text-6xl mb-4\">üì¶</div>\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Î≤àÎì§Ïù¥ ÏóÜÏäµÎãàÎã§</h3>\n      <p class=\"text-gray-500\">ÏÉàÎ°úÏö¥ ÏóÖÎ°úÎìú Î≤àÎì§ÏùÑ ÏÉùÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n    </div>\n  {/if}\n</div>\n\n<!-- Detail Modal -->\n<Modal\n  bind:open={showDetailModal}\n  title=\"Î≤àÎì§ ÏÉÅÏÑ∏\">\n  {#if selectedBundle}\n    <div class=\"space-y-6\">\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">\n          {getProjectName(selectedBundle.projectId)} - {selectedBundle.period}\n        </h3>\n        <div class=\"grid grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏÉùÏÑ±Ïûê:</span>\n            <span class=\"ml-2\">{getPersonName(selectedBundle.createdBy)}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏÉùÏÑ±Ïùº:</span>\n            <span class=\"ml-2\">{formatDate(selectedBundle.createdAt)}</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Î¨∏ÏÑú Ïàò:</span>\n            <span class=\"ml-2\">{selectedBundle.documentCount}Í∞ú</span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Ï¥ù ÌÅ¨Í∏∞:</span>\n            <span class=\"ml-2\">{selectedBundle.totalSize}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Bundle Status -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">Î≤àÎì§ ÏÉÅÌÉú</h4>\n        <div class=\"bg-gray-50 p-4 rounded-md\">\n          <div class=\"flex items-center gap-3 mb-2\">\n            <Badge variant={getStatusVariant(selectedBundle.status)}>\n              {getStatusText(selectedBundle.status)}\n            </Badge>\n            <span class=\"text-sm text-gray-600\">\n              ÏôÑÏÑ±ÎèÑ: {(selectedBundle as any).validationResults.completeness}%\n            </span>\n          </div>\n          <div class=\"text-xs text-gray-500 font-mono\">\n            Ï≤¥ÌÅ¨ÏÑ¨: {selectedBundle.checksum}\n          </div>\n        </div>\n      </div>\n\n      <!-- File Info -->\n      <div>\n        <h4 class=\"font-medium text-gray-900 mb-3\">ÌååÏùº Ï†ïÎ≥¥</h4>\n        <div class=\"bg-gray-50 p-4 rounded-md\">\n          <div class=\"text-sm text-gray-600\">\n            <div class=\"mb-1\">\n              <span class=\"font-medium\">ÌååÏùº Í≤ΩÎ°ú:</span>\n              {selectedBundle.fileUrl}\n            </div>\n            <div class=\"mb-1\">\n              <span class=\"font-medium\">Î¨∏ÏÑú Ïàò:</span>\n              {selectedBundle.documentCount}Í∞ú\n            </div>\n            <div><span class=\"font-medium\">Ï¥ù ÌÅ¨Í∏∞:</span> {selectedBundle.totalSize}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end\">\n        {#if selectedBundle.status === 'uploaded'}\n          <button type=\"button\"\n            onclick={() => selectedBundle && downloadBundle(selectedBundle)}\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Î≤àÎì§ Îã§Ïö¥Î°úÎìú\n          </button>\n        {/if}\n      </div>\n    </div>\n  {/if}\n</Modal>\n\n<!-- Validation Modal -->\n<Modal\n  bind:open={showValidationModal}\n  title=\"Í≤ÄÏ¶ù ÏÉÅÏÑ∏\">\n  {#if selectedBundle}\n    <div class=\"space-y-6\">\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">\n          {getProjectName(selectedBundle.projectId)} - {selectedBundle.period}\n        </h3>\n        <div class=\"flex items-center gap-3 mb-4\">\n          <Badge variant={getStatusVariant(selectedBundle.status)}>\n            {getStatusText(selectedBundle.status)}\n          </Badge>\n          <span class=\"text-sm text-gray-600\">\n            ÏôÑÏÑ±ÎèÑ: {(selectedBundle as any).validationResults.completeness}%\n          </span>\n        </div>\n      </div>\n\n      <!-- Errors -->\n      {#if (selectedBundle as any).validationResults.errors.length > 0}\n        <div>\n          <h4 class=\"font-medium text-red-700 mb-3\">\n            ÏóêÎü¨ ({(selectedBundle as any).validationResults.errors.length}Í∞ú)\n          </h4>\n          <div class=\"space-y-2\">\n            {#each (selectedBundle as any).validationResults.errors as error}\n              <div class=\"flex items-center gap-2 p-3 bg-red-50 rounded-md\">\n                <span class=\"text-red-500\">‚úó</span>\n                <span class=\"text-red-700\">{error}</span>\n              </div>\n            {/each}\n          </div>\n        </div>\n      {/if}\n\n      <!-- Warnings -->\n      {#if (selectedBundle as any).validationResults.warnings.length > 0}\n        <div>\n          <h4 class=\"font-medium text-yellow-700 mb-3\">\n            Í≤ΩÍ≥† ({(selectedBundle as any).validationResults.warnings.length}Í∞ú)\n          </h4>\n          <div class=\"space-y-2\">\n            {#each (selectedBundle as any).validationResults.warnings as warning}\n              <div class=\"flex items-center gap-2 p-3 bg-yellow-50 rounded-md\">\n                <span class=\"text-yellow-500\">‚ö†</span>\n                <span class=\"text-yellow-700\">{warning}</span>\n              </div>\n            {/each}\n          </div>\n        </div>\n      {/if}\n\n      <!-- Validation Summary -->\n      <div class=\"bg-gray-50 p-4 rounded-md\">\n        <h4 class=\"font-medium text-gray-900 mb-3\">Í≤ÄÏ¶ù ÏöîÏïΩ</h4>\n        <div class=\"grid grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span class=\"font-medium text-gray-700\">Í≤ÄÏ¶ù ÏÉÅÌÉú:</span>\n            <span class=\"ml-2 {getValidationColor((selectedBundle as any).validationResults.valid)}\"\n            >\n              {(selectedBundle as any).validationResults.valid ? 'ÌÜµÍ≥º' : 'Ïã§Ìå®'}\n            </span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏôÑÏÑ±ÎèÑ:</span>\n            <span\n              class=\"ml-2 {getCompletenessColor(\n                (selectedBundle as any).validationResults.completeness\n              )}\"\n            >\n              {(selectedBundle as any).validationResults.completeness}%\n            </span>\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">ÏóêÎü¨ Ïàò:</span>\n            <span class=\"ml-2 text-red-600\"\n            >{(selectedBundle as any).validationResults.errors.length}Í∞ú</span\n            >\n          </div>\n          <div>\n            <span class=\"font-medium text-gray-700\">Í≤ΩÍ≥† Ïàò:</span>\n            <span class=\"ml-2 text-yellow-600\"\n            >{(selectedBundle as any).validationResults.warnings.length}Í∞ú</span\n            >\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end gap-2\">\n        {#if selectedBundle.status === 'failed' || selectedBundle.status === 'ready'}\n          <button type=\"button\"\n            onclick={() => selectedBundle && revalidateBundle(selectedBundle.id)}\n            class=\"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500\"\n          >\n            Ïû¨Í≤ÄÏ¶ù\n          </button>\n        {/if}\n        {#if selectedBundle.status === 'uploaded'}\n          <button type=\"button\"\n            onclick={() => selectedBundle && downloadBundle(selectedBundle)}\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Îã§Ïö¥Î°úÎìú\n          </button>\n        {/if}\n      </div>\n    </div>\n  {/if}\n</Modal>\n\n<!-- Create Modal -->\n<Modal\n  bind:open={showCreateModal}\n  title=\"Î≤àÎì§ ÏÉùÏÑ±\">\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-project\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÌîÑÎ°úÏ†ùÌä∏ *</label\n        >\n        <select\n          id=\"create-project\"\n          bind:value={formData.projectId}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù</option>\n          {#each $projects as project, i (i)}\n            <option value={project.id}>{project.name}</option>\n          {/each}\n        </select>\n      </div>\n      <div>\n        <label\n          for=\"create-period\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >Í∏∞Í∞Ñ *</label\n        >\n        <input\n          id=\"create-period\"\n          type=\"text\"\n          bind:value={formData.period}\n          placeholder=\"Ïòà: 2024-Q1\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n    </div>\n    <div>\n      <div class=\"block text-sm font-medium text-gray-700 mb-2\">Ìè¨Ìï®Ìï† ÎÇ¥Ïö©</div>\n      <div class=\"space-y-2\">\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeDocuments}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">Î¨∏ÏÑú (Í≥ÑÏïΩÏÑú, Í≤¨Ï†ÅÏÑú Îì±)</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeExpenses}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">ÏßÄÏ∂ú ÎÇ¥Ïó≠</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeReports}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">ÏßÑÎèÑÎ≥¥Í≥†ÏÑú</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.includeResearchNotes}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">Ïó∞Íµ¨ÎÖ∏Ìä∏</span>\n        </label>\n      </div>\n    </div>\n    <div class=\"grid grid-cols-2 gap-4\">\n      <div>\n        <label\n          for=\"create-compression\"\n          class=\"block text-sm font-medium text-gray-700 mb-1\"\n        >ÏïïÏ∂ï ÏàòÏ§Ä</label\n        >\n        <select\n          id=\"create-compression\"\n          bind:value={formData.compressionLevel}\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"low\">ÎÇÆÏùå (Îπ†Î•∏ ÏÉùÏÑ±)</option>\n          <option value=\"medium\">Î≥¥ÌÜµ (Í∑†Ìòï)</option>\n          <option value=\"high\">ÎÜíÏùå (ÏûëÏùÄ ÌÅ¨Í∏∞)</option>\n        </select>\n      </div>\n      <div class=\"flex items-end\">\n        <label class=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            bind:checked={formData.generateManifest}\n            class=\"mr-2\" />\n          <span class=\"text-sm text-gray-700\">Îß§ÎãàÌéòÏä§Ìä∏ ÏÉùÏÑ±</span>\n        </label>\n      </div>\n    </div>\n    <div class=\"flex justify-end gap-2 pt-4\">\n      <button type=\"button\"\n        onclick={() => (showCreateModal = false)}\n        class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n      >\n        Ï∑®ÏÜå\n      </button>\n      <button type=\"button\"\n        onclick={createBundle}\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      >\n        ÏÉùÏÑ±\n      </button>\n    </div>\n  </div>\n</Modal>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/salary/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 111,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 111,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 131,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 131,
        "endColumn": 11
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import { page } from '$app/stores'\n  import { goto } from '$app/navigation'\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import SalaryDashboard from '$lib/components/salary/SalaryDashboard.svelte'\n  import SalaryContracts from '$lib/components/salary/SalaryContracts.svelte'\n  import SalaryHistory from '$lib/components/salary/SalaryHistory.svelte'\n  import PayslipGenerator from '$lib/components/salary/PayslipGenerator.svelte'\n  import PayslipUploader from '$lib/components/salary/PayslipUploader.svelte'\n  import { DollarSignIcon, UsersIcon, FileTextIcon, CheckCircleIcon } from '@lucide/svelte'\n  import {\n    loadContracts,\n    loadContractStats\n  } from '$lib/stores/salary/contract-store'\n  import { loadPayslips } from '$lib/stores/salary/salary-store'\n  import { formatCurrency } from '$lib/utils/format'\n  import { BarChartIcon, ClockIcon, PrinterIcon } from '@lucide/svelte'\n\n  // ÌÉ≠ Ï†ïÏùò\n  const tabs = [\n    {\n      id: 'overview',\n      label: 'Í∞úÏöî',\n      icon: BarChartIcon\n    },\n    {\n      id: 'contracts',\n      label: 'Í∏âÏó¨ Í≥ÑÏïΩ',\n      icon: FileTextIcon\n    },\n    {\n      id: 'history',\n      label: 'Í∏âÏó¨ Ïù¥Î†•',\n      icon: ClockIcon\n    },\n    {\n      id: 'payslips',\n      label: 'Í∏âÏó¨Î™ÖÏÑ∏ÏÑú',\n      icon: PrinterIcon\n    }\n  ]\n\n  // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú ÌÉ≠ ÏÉÅÌÉú Í∞ÄÏ†∏Ïò§Í∏∞\n  let activeTab = $state($page.url.searchParams.get('tab') || 'overview')\n  let mounted = $state(false)\n\n  // Í∏âÏó¨ ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  let salaryStats = $state([])\n\n  // ÌÉ≠ Î≥ÄÍ≤Ω Ìï®Ïàò\n  function handleTabChange(tabId: string) {\n    activeTab = tabId\n    // URL ÌååÎùºÎØ∏ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏\n    const url = new URL($page.url)\n    url.searchParams.set('tab', tabId)\n    goto(url.toString(), { replaceState: true })\n  }\n\n  // Í∏âÏó¨ ÌÜµÍ≥Ñ Î°úÎìú\n  async function loadSalaryStats() {\n    try {\n      const response = await fetch('/api/salary/contracts?page=1&limit=100')\n      const result = await response.json()\n\n      if (result.success && result.data) {\n        const contracts = result.data.data\n        const activeContracts = contracts.filter(contract => contract.status === 'active')\n        const totalMonthlySalary = activeContracts.reduce(\n          (sum, contract) => sum + (contract.monthlySalary || 0),\n          0\n        )\n        const totalAnnualSalary = activeContracts.reduce(\n          (sum, contract) => sum + (contract.annualSalary || 0),\n          0\n        )\n\n        salaryStats = [\n          {\n            title: 'Ïù¥Î≤àÎã¨ Í∏âÏó¨ ÏßÄÍ∏â ÏòàÏ†ïÏï°',\n            value: formatCurrency(totalMonthlySalary),\n            change: 'Î≥ÄÌôî ÏóÜÏùå (ÏßÄÎÇúÎã¨ ÎåÄÎπÑ)',\n            changeType: 'neutral',\n            icon: DollarSignIcon\n          },\n          {\n            title: 'Ï¥ù ÏßÅÏõê Ïàò',\n            value: activeContracts.length + 'Î™Ö',\n            change: 'Î≥ÄÌôî ÏóÜÏùå (ÏßÄÎÇúÎã¨ ÎåÄÎπÑ)',\n            changeType: 'neutral',\n            icon: UsersIcon\n          },\n          {\n            title: 'Ï¥ù ÏßÄÍ∏âÏï°',\n            value: formatCurrency(totalAnnualSalary),\n            change: 'Î≥ÄÌôî ÏóÜÏùå (ÏßÄÎÇúÎã¨ ÎåÄÎπÑ)',\n            changeType: 'neutral',\n            icon: FileTextIcon\n          },\n          {\n            title: 'Í∏âÏó¨ ÏÉÅÌÉú',\n            value: 'Ï†ïÏÉÅ',\n            change: 'Î™®Îì† Í≥ÑÏïΩ ÌôúÏÑ±',\n            changeType: 'positive',\n            icon: CheckCircleIcon\n          }\n        ]\n      }\n    } catch (error) {\n    // ÏóêÎü¨ Ï≤òÎ¶¨\n    }\n  }\n\n  $effect(async () => {\n    if (!mounted) {\n      mounted = true\n      // Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n      await loadPayslips()\n      await loadContractStats()\n      await loadSalaryStats()\n    }\n  })\n\n  // ÌÉ≠ Î≥ÄÍ≤Ω Ïãú Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  $effect(() => {\n    if (!mounted) return\n\n    const currentTab = activeTab\n    logger.log('Salary tab changed to:', currentTab)\n\n    switch (currentTab) {\n      case 'contracts':\n        loadContracts()\n        break\n      case 'history':\n        loadPayslips() // Í∏âÏó¨ Ïù¥Î†• ÌÉ≠ÏóêÏÑúÎäî payslips Î°úÎìú\n        break\n      case 'payslips':\n        // Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÌÉ≠ÏùÄ Î≥ÑÎèÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Î∂àÌïÑÏöî\n        break\n    }\n  })\n</script>\n\n<svelte:head>\n  <title>Í∏âÏó¨ Í¥ÄÎ¶¨ - VWS</title>\n  <meta\n    name=\"description\"\n    content=\"Ï†ÑÏ≤¥ ÏßÅÏõê Í∏âÏó¨ Í¥ÄÎ¶¨ Î∞è Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Ï∂úÎ†•\" />\n</svelte:head>\n\n<PageLayout\n  title=\"Í∏âÏó¨ Í¥ÄÎ¶¨\"\n  subtitle=\"Ï†ÑÏ≤¥ ÏßÅÏõê Í∏âÏó¨ ÌòÑÌô© Î∞è Í≥ÑÏïΩ Í¥ÄÎ¶¨\"\n  searchPlaceholder=\"ÏßÅÏõêÎ™Ö, Î∂ÄÏÑú, ÏÇ¨Î≤àÏúºÎ°ú Í≤ÄÏÉâ...\"\n  stats={salaryStats}\n>\n  <!-- ÌÉ≠ ÏãúÏä§ÌÖú -->\n  <ThemeTabs\n    {tabs}\n    {activeTab}\n    onTabChange={handleTabChange}\n    variant=\"underline\"\n    size=\"md\"\n    class=\"mb-6\"\n  >\n    {#snippet children(tab: { id: string; label: string })}\n      {#if tab.id === 'overview'}\n        <!-- Í∞úÏöî ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <SalaryDashboard />\n        </ThemeSpacer>\n      {:else if tab.id === 'contracts'}\n        <!-- Í∏âÏó¨ Í≥ÑÏïΩ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <SalaryContracts />\n        </ThemeSpacer>\n      {:else if tab.id === 'history'}\n        <!-- Í∏âÏó¨ Ïù¥Î†• ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <SalaryHistory />\n        </ThemeSpacer>\n      {:else if tab.id === 'payslips'}\n        <!-- Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <div class=\"space-y-6\">\n            <!-- ÏóÖÎ°úÎìú ÏÑπÏÖò -->\n            <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <div class=\"flex items-center justify-between mb-4\">\n                <div>\n                  <h3 class=\"text-lg font-semibold text-gray-900\">ÏóëÏÖÄ ÏùºÍ¥Ñ ÏóÖÎ°úÎìú</h3>\n                  <p class=\"text-sm text-gray-600\">\n                    Î™®Îì† ÏßÅÏõêÏùò Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÎ•º ÏóëÏÖÄ ÌååÏùºÎ°ú ÏùºÍ¥Ñ ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.\n                  </p>\n                </div>\n                <PayslipUploader />\n              </div>\n            </div>\n\n            <!-- Í∞úÎ≥Ñ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Í¥ÄÎ¶¨ -->\n            <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-900\">Í∞úÎ≥Ñ Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Í¥ÄÎ¶¨</h3>\n                <p class=\"text-sm text-gray-600\">\n                  ÏßÅÏõêÎ≥ÑÎ°ú Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÎ•º ÏûëÏÑ±ÌïòÍ≥† Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.\n                </p>\n              </div>\n              <PayslipGenerator />\n            </div>\n          </div>\n        </ThemeSpacer>\n      {/if}\n    {/snippet}\n  </ThemeTabs>\n</PageLayout>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/salary/history/+page.svelte",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/salary/payslips/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/max-attributes-per-line",
        "severity": 1,
        "message": "'class' should be on a new line.",
        "line": 123,
        "column": 33,
        "nodeType": "SvelteAttribute",
        "messageId": "requireNewline",
        "endLine": 123,
        "endColumn": 179,
        "fix": { "range": [3283, 3284], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "<script lang=\"ts\">\n  import { onMount } from 'svelte'\n  import { payslips, loadPayslips } from '$lib/stores/salary/salary-store'\n  import PayslipGenerator from '$lib/components/salary/PayslipGenerator.svelte'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    SearchIcon,\n    DownloadIcon,\n    FileTextIcon,\n    CalendarIcon,\n    UserIcon\n  } from '@lucide/svelte'\n\n  let searchQuery = $state('')\n  let selectedPeriod = $state('')\n  let selectedEmployee = $state('')\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Î™©Î°ù\n  const filteredPayslips = $derived(() => {\n    let filtered = [...$payslips]\n\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      filtered = filtered.filter(\n        payroll =>\n          payroll.employeeName.toLowerCase().includes(query) ||\n            payroll.employeeIdNumber.toLowerCase().includes(query) ||\n            payroll.department.toLowerCase().includes(query)\n      )\n    }\n\n    if (selectedPeriod) {\n      filtered = filtered.filter(payroll => payroll.payDate.startsWith(selectedPeriod))\n    }\n\n    if (selectedEmployee) {\n      filtered = filtered.filter(payroll => payroll.employeeId === selectedEmployee)\n    }\n\n    return filtered.sort((a, b) => b.payDate.localeCompare(a.payDate))\n  })\n\n  // Í∏∞Í∞Ñ ÏòµÏÖò\n  const periodOptions = $derived(() => {\n    const periods = new Set()\n    $payslips.forEach(payslip => {\n      const period = payslip.period\n      periods.add(period)\n    })\n    return Array.from(periods).sort().reverse()\n  })\n\n  // ÏßÅÏõê ÏòµÏÖò\n  const employeeOptions = $derived(() => {\n    const employees = new Map()\n    $payslips.forEach(payslip => {\n      employees.set(payslip.employeeId, {\n        id: payslip.employeeId,\n        name: payslip.employeeName\n      })\n    })\n    return Array.from(employees.values()).sort((a, b) => a.name.localeCompare(b.name))\n  })\n\n  onMount(async () => {\n    await loadPayslips()\n  })\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'pending':\n        return 'text-yellow-600 bg-yellow-100'\n      case 'calculated':\n        return 'text-blue-600 bg-blue-100'\n      case 'approved':\n        return 'text-green-600 bg-green-100'\n      case 'paid':\n        return 'text-purple-600 bg-purple-100'\n      case 'error':\n        return 'text-red-600 bg-red-100'\n      default:\n        return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÎùºÎ≤®\n  function getStatusLabel(status: string): string {\n    switch (status) {\n      case 'pending':\n        return 'ÎåÄÍ∏∞Ï§ë'\n      case 'calculated':\n        return 'Í≥ÑÏÇ∞ÏôÑÎ£å'\n      case 'approved':\n        return 'ÏäπÏù∏ÏôÑÎ£å'\n      case 'paid':\n        return 'ÏßÄÍ∏âÏôÑÎ£å'\n      case 'error':\n        return 'Ïò§Î•ò'\n      default:\n        return 'ÏïåÏàòÏóÜÏùå'\n    }\n  }\n</script>\n\n<svelte:head>\n  <title>Í∏âÏó¨Î™ÖÏÑ∏ÏÑú - VWS</title>\n  <meta\n    name=\"description\"\n    content=\"Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏÉùÏÑ± Î∞è Îã§Ïö¥Î°úÎìú\" />\n</svelte:head>\n\n<div class=\"min-h-screen bg-gray-50\">\n  <div class=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n    <div class=\"space-y-6\">\n      <!-- Ìó§Îçî -->\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-gray-900\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑú</h1>\n          <p class=\"mt-2 text-gray-600\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑú ÏÉùÏÑ± Î∞è Îã§Ïö¥Î°úÎìú</p>\n        </div>\n        <div class=\"flex items-center space-x-3\">\n          <button type=\"button\" class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            <DownloadIcon\n              size={16}\n              class=\"mr-2\" />\n            ÏùºÍ¥Ñ Îã§Ïö¥Î°úÎìú\n          </button>\n        </div>\n      </div>\n\n      <!-- Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div class=\"relative\">\n            <SearchIcon\n              size={20}\n              class=\"absolute left-3 top-3 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"ÏßÅÏõêÎ™Ö, ÏÇ¨Î≤à, Î∂ÄÏÑúÎ°ú Í≤ÄÏÉâ...\"\n              bind:value={searchQuery}\n              class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <div class=\"relative\">\n            <CalendarIcon\n              size={20}\n              class=\"absolute left-3 top-3 text-gray-400\" />\n            <select\n              bind:value={selectedPeriod}\n              class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥ Í∏∞Í∞Ñ</option>\n              {#each periodOptions as period, i (i)}\n                <option value={period}>{period}</option>\n              {/each}\n            </select>\n          </div>\n\n          <div class=\"relative\">\n            <UserIcon\n              size={20}\n              class=\"absolute left-3 top-3 text-gray-400\" />\n            <select\n              bind:value={selectedEmployee}\n              class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Ï†ÑÏ≤¥ ÏßÅÏõê</option>\n              {#each employeeOptions as employee, i (i)}\n                <option value={employee.id}>{employee.name}</option>\n              {/each}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <!-- Í∏âÏó¨Î™ÖÏÑ∏ÏÑú Î™©Î°ù -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n        <div class=\"overflow-x-auto\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  ÏßÅÏõê Ï†ïÎ≥¥\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Î∂ÄÏÑú/ÏßÅÏúÑ\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  ÏßÄÍ∏â Í∏∞Í∞Ñ\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Ïã§ÏßÄÍ∏âÏï°\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  ÏÉÅÌÉú\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Í∏âÏó¨Î™ÖÏÑ∏ÏÑú\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              {#each filteredPayslips as payroll, i (i)}\n                <tr class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"flex items-center\">\n                      <div class=\"flex-shrink-0 h-10 w-10\">\n                        <div class=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\"\n                        >\n                          <span class=\"text-sm font-medium text-blue-600\">\n                            {payroll.employeeName.charAt(0)}\n                          </span>\n                        </div>\n                      </div>\n                      <div class=\"ml-4\">\n                        <div class=\"text-sm font-medium text-gray-900\">\n                          {payroll.employeeName}\n                        </div>\n                        <div class=\"text-sm text-gray-500\">\n                          {payroll.employeeIdNumber}\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{payroll.department}</div>\n                    <div class=\"text-sm text-gray-500\">{payroll.position}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {formatDate(payroll.payDate)}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm font-medium text-gray-900\">\n                      {formatCurrency(payroll.netSalary)}\n                    </div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <span\n                      class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {getStatusColor(\n                        payroll.status\n                      )}\"\n                    >\n                      {getStatusLabel(payroll.status)}\n                    </span>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <PayslipGenerator\n                      {payroll}\n                      showPreview={true} />\n                  </td>\n                </tr>\n              {/each}\n            </tbody>\n          </table>\n        </div>\n\n        <!-- Í≤∞Í≥ºÍ∞Ä ÏóÜÏùÑ Îïå -->\n        {#if filteredPayslips.length === 0}\n          <div class=\"text-center py-12\">\n            <FileTextIcon\n              size={48}\n              class=\"mx-auto text-gray-400\" />\n            <h3 class=\"mt-2 text-sm font-medium text-gray-900\">Í∏âÏó¨Î™ÖÏÑ∏ÏÑúÍ∞Ä ÏóÜÏäµÎãàÎã§</h3>\n            <p class=\"mt-1 text-sm text-gray-500\">Í≤ÄÏÉâ Ï°∞Í±¥ÏùÑ Î≥ÄÍ≤ΩÌïòÍ±∞ÎÇò Í∏âÏó¨Î•º Í≥ÑÏÇ∞Ìï¥Î≥¥ÏÑ∏Ïöî.</p>\n          </div>\n        {/if}\n      </div>\n    </div>\n  </div>\n</div>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/sales/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 168,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 168,
        "endColumn": 28
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 257,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 257,
        "endColumn": 11
      },
      {
        "ruleId": "svelte/require-each-key",
        "severity": 1,
        "message": "Each block should have a key",
        "line": 423,
        "column": 15,
        "nodeType": "SvelteEachBlock",
        "messageId": "expectedKey",
        "endLine": 486,
        "endColumn": 22
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 624,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 624,
        "endColumn": 30,
        "fix": { "range": [20657, 20658], "text": "\n" }
      },
      {
        "ruleId": "svelte/first-attribute-linebreak",
        "severity": 1,
        "message": "Expected a linebreak before this attribute.",
        "line": 710,
        "column": 17,
        "nodeType": "SvelteAttribute",
        "messageId": "expected",
        "endLine": 710,
        "endColumn": 30,
        "fix": { "range": [23269, 23270], "text": "\n" }
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 4,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import ThemeBadge from '$lib/components/ui/ThemeBadge.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeGrid from '$lib/components/ui/ThemeGrid.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import { onMount } from 'svelte'\n  // import ThemeStatCard from '$lib/components/ui/ThemeStatCard.svelte'\n  import ThemeChartPlaceholder from '$lib/components/ui/ThemeChartPlaceholder.svelte'\n  // import ThemeActivityItem from '$lib/components/ui/ThemeActivityItem.svelte'\n  import ThemeInput from '$lib/components/ui/ThemeInput.svelte'\n  import ThemeModal from '$lib/components/ui/ThemeModal.svelte'\n  // import ThemeDropdown from '$lib/components/ui/ThemeDropdown.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import { formatCurrency, formatDate } from '$lib/utils/format'\n  import {\n    BarChart3Icon,\n    BuildingIcon,\n    CalendarIcon,\n    DollarSignIcon,\n    EditIcon,\n    EyeIcon,\n    FileTextIcon,\n    PieChartIcon,\n    PlusIcon,\n    TargetIcon,\n    TrashIcon,\n    TrendingUpIcon,\n    UsersIcon\n  } from '@lucide/svelte'\n\n  // Mock sales data\n  let salesData = $state({\n    leads: [\n      {\n        id: 'lead-1',\n        company: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ',\n        contact: 'ÍπÄÏòÅÌù¨',\n        position: 'CTO',\n        email: 'kim@abctech.com',\n        phone: '02-1234-5678',\n        industry: 'IT/ÏÜåÌîÑÌä∏Ïõ®Ïñ¥',\n        status: 'qualified',\n        value: 50000000,\n        probability: 70,\n        source: 'ÏõπÏÇ¨Ïù¥Ìä∏',\n        createdAt: '2024-01-15',\n        lastContact: '2024-01-20',\n        notes: 'Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨ ÏÜîÎ£®ÏÖòÏóê Í¥ÄÏã¨'\n      },\n      {\n        id: 'lead-2',\n        company: 'XYZ Ï†úÏ°∞',\n        contact: 'Î∞ïÎØºÏàò',\n        position: 'ÎåÄÌëúÏù¥ÏÇ¨',\n        email: 'park@xyz.com',\n        phone: '02-9876-5432',\n        industry: 'Ï†úÏ°∞ÏóÖ',\n        status: 'proposal',\n        value: 30000000,\n        probability: 50,\n        source: 'Ï∂îÏ≤ú',\n        createdAt: '2024-01-10',\n        lastContact: '2024-01-18',\n        notes: 'ÏûêÎèôÌôî ÏãúÏä§ÌÖú ÎèÑÏûÖ Í≤ÄÌÜ† Ï§ë'\n      }\n    ],\n    opportunities: [\n      {\n        id: 'opp-1',\n        title: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨',\n        company: 'ABC ÌÖåÌÅ¨ÎÜÄÎ°úÏßÄ',\n        value: 50000000,\n        stage: 'proposal',\n        probability: 70,\n        expectedClose: '2024-02-15',\n        owner: 'ÍπÄÏòÅÌù¨',\n        createdAt: '2024-01-15'\n      },\n      {\n        id: 'opp-2',\n        title: 'XYZ Ï†úÏ°∞ Ïä§ÎßàÌä∏Ìå©ÌÜ†Î¶¨',\n        company: 'XYZ Ï†úÏ°∞',\n        value: 30000000,\n        stage: 'negotiation',\n        probability: 50,\n        expectedClose: '2024-02-28',\n        owner: 'Î∞ïÎØºÏàò',\n        createdAt: '2024-01-10'\n      }\n    ],\n    deals: [\n      {\n        id: 'deal-1',\n        title: 'DEF Ïä§ÌÉÄÌä∏ÏóÖ ÌïÄÌÖåÌÅ¨ ÏÜîÎ£®ÏÖò',\n        company: 'DEF Ïä§ÌÉÄÌä∏ÏóÖ',\n        value: 15000000,\n        stage: 'closed-won',\n        closedDate: '2024-01-20',\n        owner: 'Ïù¥ÏßÄÏùÄ'\n      }\n    ]\n  })\n\n  let selectedLead = $state<any>(null)\n  let showLeadModal = $state(false)\n  let showCreateModal = $state(false)\n  let searchTerm = $state('')\n  let selectedStatus = $state('all')\n\n  // ÌÉ≠ Ï†ïÏùò\n  const tabs = [\n    { id: 'overview', label: 'Í∞úÏöî', icon: BarChart3Icon },\n    { id: 'leads', label: 'Î¶¨Îìú', icon: UsersIcon },\n    { id: 'opportunities', label: 'Í∏∞Ìöå', icon: TargetIcon },\n    { id: 'deals', label: 'Í±∞Îûò', icon: DollarSignIcon },\n    { id: 'reports', label: 'Î≥¥Í≥†ÏÑú', icon: FileTextIcon }\n  ]\n\n  let activeTab = $state('overview')\n\n  // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞\n  const stats = [\n    {\n      title: 'Ï¥ù Î¶¨Îìú Ïàò',\n      value: salesData.leads.length,\n      change: '+12%',\n      changeType: 'positive' as const,\n      icon: UsersIcon\n    },\n    {\n      title: 'ÏßÑÌñâÏ§ëÏù∏ Í∏∞Ìöå',\n      value: salesData.opportunities.length,\n      change: '+3',\n      changeType: 'positive' as const,\n      icon: TargetIcon\n    },\n    {\n      title: 'ÏòàÏÉÅ Îß§Ï∂ú',\n      value: formatCurrency(salesData.opportunities.reduce((sum, opp) => sum + opp.value, 0)),\n      change: '+25%',\n      changeType: 'positive' as const,\n      icon: DollarSignIcon\n    },\n    {\n      title: 'ÏÑ±Í≥µÎ•†',\n      value: '68%',\n      change: '+5%',\n      changeType: 'positive' as const,\n      icon: TrendingUpIcon\n    }\n  ]\n\n  // Ïï°ÏÖò Î≤ÑÌäºÎì§\n  const actions = [\n    {\n      label: 'Î¶¨Îìú Ï∂îÍ∞Ä',\n      icon: PlusIcon,\n      onclick: () => (showCreateModal = true),\n      variant: 'primary' as const\n    },\n    {\n      label: 'Í∏∞Ìöå ÏÉùÏÑ±',\n      icon: TargetIcon,\n      onclick: () => logger.log('Create opportunity'),\n      variant: 'success' as const\n    }\n  ]\n\n  // ÌïÑÌÑ∞ÎßÅÎêú Î¶¨Îìú Îç∞Ïù¥ÌÑ∞\n  let filteredLeads = $derived(() => {\n    let leads = salesData.leads\n\n    if (searchTerm) {\n      leads = leads.filter(\n        (lead: any) =>\n          lead.company.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            lead.contact.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            lead.industry.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (selectedStatus !== 'all') {\n      leads = leads.filter((lead: any) => lead.status === selectedStatus)\n    }\n\n    return leads\n  })\n\n  // ÏÉÅÌÉúÎ≥Ñ ÏÉâÏÉÅ\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      new: 'info',\n      qualified: 'primary',\n      proposal: 'warning',\n      negotiation: 'success',\n      'closed-won': 'success',\n      'closed-lost': 'error'\n    }\n    return colors[status] || 'default'\n  }\n\n  // ÏÉÅÌÉúÎ≥Ñ ÎùºÎ≤®\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      new: 'Ïã†Í∑ú',\n      qualified: 'Í≤ÄÏ¶ùÎê®',\n      proposal: 'Ï†úÏïà',\n      negotiation: 'ÌòëÏÉÅ',\n      'closed-won': 'ÏÑ±ÏÇ¨',\n      'closed-lost': 'Ïã§Ìå®'\n    }\n    return labels[status] || status\n  }\n\n  // Îã®Í≥ÑÎ≥Ñ ÏÉâÏÉÅ\n  const getStageColor = (stage: string) => {\n    const colors: Record<string, string> = {\n      prospecting: 'info',\n      qualification: 'primary',\n      proposal: 'warning',\n      negotiation: 'success',\n      'closed-won': 'success',\n      'closed-lost': 'error'\n    }\n    return colors[stage] || 'default'\n  }\n\n  // Îã®Í≥ÑÎ≥Ñ ÎùºÎ≤®\n  const getStageLabel = (stage: string) => {\n    const labels: Record<string, string> = {\n      prospecting: 'ÌÉêÏÉâ',\n      qualification: 'Í≤ÄÏ¶ù',\n      proposal: 'Ï†úÏïà',\n      negotiation: 'ÌòëÏÉÅ',\n      'closed-won': 'ÏÑ±ÏÇ¨',\n      'closed-lost': 'Ïã§Ìå®'\n    }\n    return labels[stage] || stage\n  }\n\n  // Î¶¨Îìú Î≥¥Í∏∞\n  function viewLead(lead: any) {\n    selectedLead = lead\n    showLeadModal = true\n  }\n\n  // Î¶¨Îìú ÏÇ≠Ï†ú\n  function deleteLead(leadId: string) {\n    salesData.leads = salesData.leads.filter(lead => lead.id !== leadId)\n  }\n\n  onMount(() => {\n    logger.log('Sales ÌéòÏù¥ÏßÄ Î°úÎìúÎê®')\n  })\n</script>\n\n<PageLayout\n  title=\"ÏòÅÏóÖÍ¥ÄÎ¶¨\"\n  subtitle=\"Î¶¨Îìú Í¥ÄÎ¶¨, Í∏∞Ìöå Ï∂îÏ†Å, Îß§Ï∂ú Î∂ÑÏÑù\"\n  {stats}\n  {actions}\n  searchPlaceholder=\"ÌöåÏÇ¨Î™Ö, Îã¥ÎãπÏûê, ÏóÖÏ¢ÖÏúºÎ°ú Í≤ÄÏÉâ...\"\n>\n  <!-- ÌÉ≠ ÏãúÏä§ÌÖú -->\n  <ThemeTabs\n    {tabs}\n    bind:activeTab\n    variant=\"underline\"\n    size=\"md\"\n    class=\"mb-6\">\n    {#snippet children(tab: { id: string; label: string })}\n      {#if tab.id === 'overview'}\n        <!-- Í∞úÏöî ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <!-- Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <!-- ÏòÅÏóÖ ÏÑ±Í≥º -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏòÅÏóÖ ÏÑ±Í≥º\" />\n              <ThemeChartPlaceholder\n                title=\"ÏõîÎ≥Ñ Îß§Ï∂ú Ï∂îÏù¥\"\n                icon={TrendingUpIcon} />\n            </ThemeCard>\n\n            <!-- Î¶¨Îìú ÌòÑÌô© -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"Î¶¨Îìú ÌòÑÌô©\" />\n              <ThemeChartPlaceholder\n                title=\"Î¶¨Îìú ÏÉÅÌÉúÎ≥Ñ Î∂ÑÌè¨\"\n                icon={PieChartIcon} />\n            </ThemeCard>\n          </ThemeGrid>\n\n          <!-- Í∏∞Ìöå ÌòÑÌô© -->\n          <ThemeGrid\n            cols={1}\n            lgCols={2}\n            gap={6}>\n            <!-- ÏßÑÌñâÏ§ëÏù∏ Í∏∞Ìöå -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏßÑÌñâÏ§ëÏù∏ Í∏∞Ìöå\" />\n              <ThemeSpacer size={4}>\n                {#each salesData.opportunities as opportunity, i (i)}\n                  <div\n                    class=\"flex items-center justify-between p-3 rounded-lg\"\n                    style:background=\"var(--color-surface-elevated)\"\n                  >\n                    <div class=\"flex-1\">\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">\n                        {opportunity.title}\n                      </h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {opportunity.company}\n                      </p>\n                      <div class=\"flex items-center gap-2 mt-1\">\n                        <span\n                          class=\"text-sm font-medium\"\n                          style:color=\"var(--color-primary)\">\n                          {formatCurrency(opportunity.value)}\n                        </span>\n                        <ThemeBadge variant=\"info\">{opportunity.probability}%</ThemeBadge>\n                      </div>\n                    </div>\n                    <div class=\"text-right\">\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        ÏòàÏÉÅ ÎßàÍ∞ê: {formatDate(opportunity.expectedClose)}\n                      </p>\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        Îã¥Îãπ: {opportunity.owner}\n                      </p>\n                    </div>\n                  </div>\n                {/each}\n              </ThemeSpacer>\n            </ThemeCard>\n\n            <!-- ÏµúÍ∑º ÏÑ±ÏÇ¨Îêú Í±∞Îûò -->\n            <ThemeCard class=\"p-6\">\n              <ThemeSectionHeader title=\"ÏµúÍ∑º ÏÑ±ÏÇ¨Îêú Í±∞Îûò\" />\n              <ThemeSpacer size={4}>\n                {#each salesData.deals as deal, i (i)}\n                  <div\n                    class=\"flex items-center justify-between p-3 rounded-lg\"\n                    style:background=\"var(--color-surface-elevated)\"\n                  >\n                    <div class=\"flex-1\">\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">{deal.title}</h4>\n                      <p\n                        class=\"text-sm\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {deal.company}\n                      </p>\n                      <div class=\"flex items-center gap-2 mt-1\">\n                        <span\n                          class=\"text-sm font-medium\"\n                          style:color=\"var(--color-success)\">\n                          {formatCurrency(deal.value)}\n                        </span>\n                        <ThemeBadge variant=\"success\">ÏÑ±ÏÇ¨</ThemeBadge>\n                      </div>\n                    </div>\n                    <div class=\"text-right\">\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        ÏÑ±ÏÇ¨Ïùº: {formatDate(deal.closedDate)}\n                      </p>\n                      <p\n                        class=\"text-xs\"\n                        style:color=\"var(--color-text-secondary)\">\n                        Îã¥Îãπ: {deal.owner}\n                      </p>\n                    </div>\n                  </div>\n                {/each}\n              </ThemeSpacer>\n            </ThemeCard>\n          </ThemeGrid>\n        </ThemeSpacer>\n      {:else if tab.id === 'leads'}\n        <!-- Î¶¨Îìú ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <div class=\"flex items-center justify-between mb-6\">\n              <h3\n                class=\"text-lg font-semibold\"\n                style:color=\"var(--color-text)\">Î¶¨Îìú Î™©Î°ù</h3>\n              <div class=\"flex items-center gap-2\">\n                <select\n                  bind:value={selectedStatus}\n                  class=\"px-3 py-2 border rounded-md text-sm\"\n                  style:background=\"var(--color-surface)\"\n                  style:border-color=\"var(--color-border)\"\n                  style:color=\"var(--color-text)\"\n                >\n                  <option value=\"all\">Ï†ÑÏ≤¥</option>\n                  <option value=\"new\">Ïã†Í∑ú</option>\n                  <option value=\"qualified\">Í≤ÄÏ¶ùÎê®</option>\n                  <option value=\"proposal\">Ï†úÏïà</option>\n                  <option value=\"negotiation\">ÌòëÏÉÅ</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"space-y-4\">\n              {#each filteredLeads() as lead}\n                <div\n                  class=\"flex items-center justify-between p-4 rounded-lg border\"\n                  style:border-color=\"var(--color-border)\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <div class=\"flex items-center gap-3 mb-2\">\n                      <BuildingIcon\n                        size={20}\n                        style=\"color: var(--color-primary);\" />\n                      <h4\n                        class=\"font-medium\"\n                        style:color=\"var(--color-text)\">{lead.company}</h4>\n                      <ThemeBadge variant={getStatusColor(lead.status) as any}>\n                        {getStatusLabel(lead.status)}\n                      </ThemeBadge>\n                    </div>\n                    <div\n                      class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\"\n                      style:color=\"var(--color-text-secondary)\"\n                    >\n                      <div class=\"flex items-center gap-2\">\n                        <UsersIcon size={16} />\n                        {lead.contact} ({lead.position})\n                      </div>\n                      <div class=\"flex items-center gap-2\">\n                        <DollarSignIcon size={16} />\n                        {formatCurrency(lead.value)} ({lead.probability}%)\n                      </div>\n                      <div class=\"flex items-center gap-2\">\n                        <CalendarIcon size={16} />\n                        {formatDate(lead.lastContact)}\n                      </div>\n                    </div>\n                    {#if lead.notes}\n                      <p\n                        class=\"text-sm mt-2\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {lead.notes}\n                      </p>\n                    {/if}\n                  </div>\n                  <div class=\"flex items-center gap-2\">\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => viewLead(lead)}>\n                      <EyeIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\">\n                      <EditIcon size={16} />\n                    </ThemeButton>\n                    <ThemeButton\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onclick={() => deleteLead(lead.id)}>\n                      <TrashIcon size={16} />\n                    </ThemeButton>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'opportunities'}\n        <!-- Í∏∞Ìöå ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"ÏòÅÏóÖ Í∏∞Ìöå\" />\n            <ThemeSpacer size={4}>\n              {#each salesData.opportunities as opportunity, i (i)}\n                <div\n                  class=\"flex items-center justify-between p-3 rounded-lg\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <h4\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">\n                      {opportunity.title}\n                    </h4>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {opportunity.company} ‚Ä¢ {opportunity.owner}\n                    </p>\n                    <div class=\"flex items-center gap-2 mt-1\">\n                      <ThemeBadge variant={getStageColor(opportunity.stage) as any}>\n                        {getStageLabel(opportunity.stage)}\n                      </ThemeBadge>\n                      <span\n                        class=\"text-sm font-medium\"\n                        style:color=\"var(--color-primary)\">\n                        {formatCurrency(opportunity.value)} ({opportunity.probability}%)\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p\n                      class=\"text-xs\"\n                      style:color=\"var(--color-text-secondary)\">\n                      ÏòàÏÉÅ ÎßàÍ∞ê: {formatDate(opportunity.expectedClose)}\n                    </p>\n                  </div>\n                </div>\n              {/each}\n            </ThemeSpacer>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'deals'}\n        <!-- Í±∞Îûò ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"ÏµúÍ∑º Í±∞Îûò\" />\n            <ThemeSpacer size={4}>\n              {#each salesData.deals as deal, i (i)}\n                <div\n                  class=\"flex items-center justify-between p-3 rounded-lg\"\n                  style:background=\"var(--color-surface-elevated)\"\n                >\n                  <div class=\"flex-1\">\n                    <h4\n                      class=\"font-medium\"\n                      style:color=\"var(--color-text)\">{deal.title}</h4>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      {deal.company} ‚Ä¢ {deal.owner}\n                    </p>\n                    <div class=\"flex items-center gap-2 mt-1\">\n                      <span\n                        class=\"text-sm font-medium\"\n                        style:color=\"var(--color-success)\">\n                        {formatCurrency(deal.value)}\n                      </span>\n                      <ThemeBadge variant=\"success\">ÏÑ±ÏÇ¨</ThemeBadge>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p\n                      class=\"text-xs\"\n                      style:color=\"var(--color-text-secondary)\">\n                      ÏÑ±ÏÇ¨Ïùº: {formatDate(deal.closedDate)}\n                    </p>\n                    <p\n                      class=\"text-xs\"\n                      style:color=\"var(--color-text-secondary)\">\n                      Îã¥Îãπ: {deal.owner}\n                    </p>\n                  </div>\n                </div>\n              {/each}\n            </ThemeSpacer>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'reports'}\n        <!-- Î≥¥Í≥†ÏÑú ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard class=\"p-6\">\n            <ThemeSectionHeader title=\"ÏòÅÏóÖ Î≥¥Í≥†ÏÑú\" />\n            <ThemeGrid\n              cols={1}\n              mdCols={2}\n              gap={4}>\n              <ThemeButton\n                variant=\"secondary\"\n                class=\"flex items-center gap-2 p-4 h-auto\">\n                <FileTextIcon size={20} />\n                <div class=\"text-left\">\n                  <div class=\"font-medium\">ÏõîÍ∞Ñ ÏòÅÏóÖÎ≥¥Í≥†ÏÑú</div>\n                  <div class=\"text-sm opacity-70\">ÏõîÎ≥Ñ ÏòÅÏóÖ ÏÑ±Í≥º Î∂ÑÏÑù</div>\n                </div>\n              </ThemeButton>\n              <ThemeButton\n                variant=\"secondary\"\n                class=\"flex items-center gap-2 p-4 h-auto\">\n                <BarChart3Icon size={20} />\n                <div class=\"text-left\">\n                  <div class=\"font-medium\">Îß§Ï∂ú Î∂ÑÏÑù</div>\n                  <div class=\"text-sm opacity-70\">Îß§Ï∂ú Ï∂îÏù¥ Î∞è Î∂ÑÏÑù</div>\n                </div>\n              </ThemeButton>\n            </ThemeGrid>\n          </ThemeCard>\n        </ThemeSpacer>\n      {/if}\n    {/snippet}\n  </ThemeTabs>\n</PageLayout>\n\n<!-- Î¶¨Îìú ÏÉÅÏÑ∏ Î™®Îã¨ -->\n{#if showLeadModal && selectedLead}\n  <ThemeModal open={showLeadModal}>\n    <div class=\"space-y-4\">\n      <div class=\"flex justify-between items-center mb-4\">\n        <h3\n          class=\"text-lg font-semibold\"\n          style:color=\"var(--color-text)\">Î¶¨Îìú ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>\n        <button type=\"button\"\n          onclick={() => {\n            showLeadModal = false\n            selectedLead = null\n          }}\n          class=\"text-gray-500 hover:text-gray-700\"\n        >\n          √ó\n        </button>\n      </div>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">ÌöåÏÇ¨Î™Ö</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">{selectedLead.company}</p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">Îã¥ÎãπÏûê</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">\n            {selectedLead.contact} ({selectedLead.position})\n          </p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">Ïù¥Î©îÏùº</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">{selectedLead.email}</p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">Ï†ÑÌôîÎ≤àÌò∏</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">{selectedLead.phone}</p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">ÏóÖÏ¢Ö</div>\n          <p\n            class=\"text-sm\"\n            style:color=\"var(--color-text-secondary)\">{selectedLead.industry}</p>\n        </div>\n        <div>\n          <div\n            class=\"block text-sm font-medium mb-1\"\n            style:color=\"var(--color-text)\">\n            ÏòàÏÉÅ Îß§Ï∂ú\n          </div>\n          <p\n            class=\"text-sm font-medium\"\n            style:color=\"var(--color-primary)\">\n            {formatCurrency(selectedLead.value)}\n          </p>\n        </div>\n      </div>\n      <div>\n        <div\n          class=\"block text-sm font-medium mb-1\"\n          style:color=\"var(--color-text)\">Î©îÎ™®</div>\n        <p\n          class=\"text-sm\"\n          style:color=\"var(--color-text-secondary)\">{selectedLead.notes}</p>\n      </div>\n    </div>\n  </ThemeModal>\n{/if}\n\n<!-- Î¶¨Îìú ÏÉùÏÑ± Î™®Îã¨ -->\n{#if showCreateModal}\n  <ThemeModal open={showCreateModal}>\n    <div class=\"space-y-4\">\n      <div class=\"flex justify-between items-center mb-4\">\n        <h3\n          class=\"text-lg font-semibold\"\n          style:color=\"var(--color-text)\">ÏÉà Î¶¨Îìú Ï∂îÍ∞Ä</h3>\n        <button type=\"button\"\n          onclick={() => (showCreateModal = false)}\n          class=\"text-gray-500 hover:text-gray-700\">\n          √ó\n        </button>\n      </div>\n      <ThemeInput\n        label=\"ÌöåÏÇ¨Î™Ö\"\n        placeholder=\"ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Îã¥ÎãπÏûêÎ™Ö\"\n        placeholder=\"Îã¥ÎãπÏûêÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"ÏßÅÏ±Ö\"\n        placeholder=\"ÏßÅÏ±ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Ïù¥Î©îÏùº\"\n        type=\"email\"\n        placeholder=\"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Ï†ÑÌôîÎ≤àÌò∏\"\n        placeholder=\"Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"ÏóÖÏ¢Ö\"\n        placeholder=\"ÏóÖÏ¢ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"ÏòàÏÉÅ Îß§Ï∂ú\"\n        type=\"number\"\n        placeholder=\"ÏòàÏÉÅ Îß§Ï∂úÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n      <ThemeInput\n        label=\"Î©îÎ™®\"\n        placeholder=\"Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" />\n    </div>\n    <div class=\"flex justify-end gap-2 mt-6\">\n      <ThemeButton\n        variant=\"secondary\"\n        onclick={() => (showCreateModal = false)}>Ï∑®ÏÜå</ThemeButton>\n      <ThemeButton variant=\"primary\">Ï†ÄÏû•</ThemeButton>\n    </div>\n  </ThemeModal>\n{/if}\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/routes/settings/+page.svelte",
    "messages": [
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space after '{', but found.",
        "line": 1,
        "column": 8,
        "nodeType": null,
        "messageId": "unexpectedOpening",
        "endLine": 1,
        "endColumn": 10,
        "fix": { "range": [8, 9], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 1,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 16
      },
      {
        "ruleId": "svelte/mustache-spacing",
        "severity": 1,
        "message": "Expected no space before '}', but found.",
        "line": 1,
        "column": 16,
        "nodeType": null,
        "messageId": "unexpectedClosing",
        "endLine": 1,
        "endColumn": 18,
        "fix": { "range": [15, 16], "text": "" }
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'logger' is not defined.",
        "line": 101,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 101,
        "endColumn": 13
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'event' is defined but never used.",
        "line": 108,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 108,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "event" },
            "fix": { "range": [2385, 2403], "text": "" },
            "desc": "Remove unused variable 'event'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'CustomEvent' is not defined.",
        "line": 108,
        "column": 43,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 108,
        "endColumn": 54
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 2,
    "source": "import { logger } from '$lib/utils/logger';\n<script lang=\"ts\">\n  import PageLayout from '$lib/components/layout/PageLayout.svelte'\n  import CompanyModal from '$lib/components/ui/CompanyModal.svelte'\n  import ThemeButton from '$lib/components/ui/ThemeButton.svelte'\n  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'\n  import ThemeSectionHeader from '$lib/components/ui/ThemeSectionHeader.svelte'\n  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'\n  import ThemeTabs from '$lib/components/ui/ThemeTabs.svelte'\n  import {\n    availableTimezones,\n    currentTimezone,\n    setUserTimezone,\n    userTimezone\n  } from '$lib/stores/timezone'\n  import {\n    BellIcon,\n    BuildingIcon,\n    ClockIcon,\n    DatabaseIcon,\n    FileTextIcon,\n    PaletteIcon,\n    PlusIcon,\n    ShieldIcon,\n    UserIcon\n  } from '@lucide/svelte'\n  import { onMount } from 'svelte'\n\n  // ÌöåÏÇ¨ Ï†ïÎ≥¥ Í¥ÄÎ†® ÏÉÅÌÉú\n  interface Company {\n    id?: string\n    name: string\n    establishment_date?: string\n    ceo_name?: string\n    business_type?: string\n    address?: string\n    phone?: string\n    fax?: string\n    email?: string\n    website?: string\n    registration_number?: string\n    created_at?: string\n    updated_at?: string\n  }\n\n  let company = $state<Company | null>(null)\n  let companyLoading = $state(false)\n  let showCompanyModal = $state(false)\n\n  // ÌÉ≠ ÏÑ§Ï†ï\n  const tabs = [\n    {\n      id: 'company',\n      label: 'ÌöåÏÇ¨ Ï†ïÎ≥¥',\n      icon: BuildingIcon\n    },\n    {\n      id: 'profile',\n      label: 'ÌîÑÎ°úÌïÑ',\n      icon: UserIcon\n    },\n    {\n      id: 'timezone',\n      label: 'ÏãúÍ∞Ñ ÏÑ§Ï†ï',\n      icon: ClockIcon\n    },\n    {\n      id: 'security',\n      label: 'Î≥¥Ïïà',\n      icon: ShieldIcon\n    },\n    {\n      id: 'notifications',\n      label: 'ÏïåÎ¶º',\n      icon: BellIcon\n    },\n    {\n      id: 'appearance',\n      label: 'Ïô∏Í¥Ä',\n      icon: PaletteIcon\n    },\n    {\n      id: 'data',\n      label: 'Îç∞Ïù¥ÌÑ∞',\n      icon: DatabaseIcon\n    }\n  ]\n\n  let activeTab = $state('company')\n\n  // ÌöåÏÇ¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n  async function fetchCompany() {\n    try {\n      companyLoading = true\n      const response = await window.fetch('/api/company')\n      if (response.ok) {\n        const result = await response.json()\n        company = result.data\n      }\n    } catch (err) {\n      logger.error('Error fetching company:', err)\n    } finally {\n      companyLoading = false\n    }\n  }\n\n  // ÌöåÏÇ¨ Ï†ïÎ≥¥ Ï†ÄÏû• Ìï∏Îì§Îü¨\n  async function handleCompanySave(event: CustomEvent) {\n    await fetchCompany()\n  }\n\n  onMount(() => {\n    fetchCompany()\n  })\n</script>\n\n<PageLayout title=\"ÏÑ§Ï†ï\">\n  <ThemeSectionHeader title=\"ÏÑ§Ï†ï\" />\n\n  <div class=\"mb-6\">\n    <p\n      class=\"text-sm\"\n      style:color=\"var(--color-text-secondary)\">\n      ÏãúÏä§ÌÖú Î∞è Í≥ÑÏ†ï ÏÑ§Ï†ïÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§\n    </p>\n  </div>\n\n  <ThemeTabs\n    {tabs}\n    bind:activeTab>\n    {#snippet children(tab: { id: string; label: string })}\n      {#if tab.id === 'company'}\n        <!-- ÌöåÏÇ¨ Ï†ïÎ≥¥ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <div class=\"space-y-6\">\n            <!-- Ìó§Îçî -->\n            <div class=\"flex items-center justify-between\">\n              <div>\n                <h2\n                  class=\"text-2xl font-bold\"\n                  style:color=\"var(--color-text)\">ÌöåÏÇ¨ Ï†ïÎ≥¥</h2>\n                <p\n                  class=\"text-sm mt-1\"\n                  style:color=\"var(--color-text-secondary)\">\n                  ÌöåÏÇ¨Ïùò Í∏∞Î≥∏ Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.\n                </p>\n              </div>\n              <ThemeButton\n                onclick={() => (showCompanyModal = true)}\n                variant=\"primary\"\n                size=\"md\">\n                <PlusIcon class=\"w-4 h-4 mr-2\" />\n                {company ? 'ÌöåÏÇ¨ Ï†ïÎ≥¥ ÏàòÏ†ï' : 'ÌöåÏÇ¨ Ï†ïÎ≥¥ Îì±Î°ù'}\n              </ThemeButton>\n            </div>\n\n            <!-- ÌöåÏÇ¨ Ï†ïÎ≥¥ Ïπ¥Îìú -->\n            {#if companyLoading}\n              <ThemeCard>\n                <div class=\"flex items-center justify-center py-12\">\n                  <div class=\"text-center\">\n                    <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                    ></div>\n                    <p\n                      class=\"text-sm\"\n                      style:color=\"var(--color-text-secondary)\">\n                      ÌöåÏÇ¨ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...\n                    </p>\n                  </div>\n                </div>\n              </ThemeCard>\n            {:else if company}\n              <ThemeCard>\n                <div class=\"space-y-6\">\n                  <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <h3\n                        class=\"text-lg font-semibold mb-4\"\n                        style:color=\"var(--color-text)\">\n                        Í∏∞Î≥∏ Ï†ïÎ≥¥\n                      </h3>\n                      <div class=\"space-y-3\">\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            ÌöåÏÇ¨Î™Ö\n                          </div>\n                          <p\n                            class=\"text-lg font-semibold\"\n                            style:color=\"var(--color-text)\">\n                            {company.name}\n                          </p>\n                        </div>\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            ÎåÄÌëúÏù¥ÏÇ¨\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.ceo_name || '-'}\n                          </p>\n                        </div>\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            ÏÑ§Î¶ΩÏùº\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.establishment_date\n                              ? new Date(company.establishment_date).toLocaleDateString('ko-KR')\n                              : '-'}\n                          </p>\n                        </div>\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            ÏóÖÏ¢Ö\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.business_type || '-'}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h3\n                        class=\"text-lg font-semibold mb-4\"\n                        style:color=\"var(--color-text)\">\n                        Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥\n                      </h3>\n                      <div class=\"space-y-3\">\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            Ï†ÑÌôîÎ≤àÌò∏\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.phone || '-'}\n                          </p>\n                        </div>\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            Ìå©Ïä§Î≤àÌò∏\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.fax || '-'}\n                          </p>\n                        </div>\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            Ïù¥Î©îÏùº\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.email || '-'}\n                          </p>\n                        </div>\n                        <div>\n                          <div\n                            class=\"text-sm font-medium\"\n                            style:color=\"var(--color-text-secondary)\"\n                          >\n                            ÏõπÏÇ¨Ïù¥Ìä∏\n                          </div>\n                          <p\n                            class=\"text-base\"\n                            style:color=\"var(--color-text)\">\n                            {company.website || '-'}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <!-- Ï£ºÏÜå Ï†ïÎ≥¥ -->\n                  <div>\n                    <h3\n                      class=\"text-lg font-semibold mb-4\"\n                      style:color=\"var(--color-text)\">\n                      Ï£ºÏÜå Ï†ïÎ≥¥\n                    </h3>\n                    <div>\n                      <div\n                        class=\"text-sm font-medium\"\n                        style:color=\"var(--color-text-secondary)\">\n                        Ï£ºÏÜå\n                      </div>\n                      <p\n                        class=\"text-base\"\n                        style:color=\"var(--color-text)\">\n                        {company.address || '-'}\n                      </p>\n                    </div>\n                  </div>\n\n                  <!-- ÏÇ¨ÏóÖÏûê Ï†ïÎ≥¥ -->\n                  {#if company.registration_number}\n                    <div>\n                      <h3\n                        class=\"text-lg font-semibold mb-4\"\n                        style:color=\"var(--color-text)\">\n                        ÏÇ¨ÏóÖÏûê Ï†ïÎ≥¥\n                      </h3>\n                      <div>\n                        <div\n                          class=\"text-sm font-medium\"\n                          style:color=\"var(--color-text-secondary)\">\n                          ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏\n                        </div>\n                        <p\n                          class=\"text-base\"\n                          style:color=\"var(--color-text)\">\n                          {company.registration_number}\n                        </p>\n                      </div>\n                    </div>\n                  {/if}\n                </div>\n              </ThemeCard>\n            {:else}\n              <ThemeCard>\n                <div class=\"text-center py-12\">\n                  <FileTextIcon\n                    class=\"w-16 h-16 mx-auto mb-4\"\n                    style=\"color: var(--color-text-secondary);\"\n                  />\n                  <h3\n                    class=\"text-lg font-semibold mb-2\"\n                    style:color=\"var(--color-text)\">\n                    Îì±Î°ùÎêú ÌöåÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§\n                  </h3>\n                  <p\n                    class=\"text-sm mb-6\"\n                    style:color=\"var(--color-text-secondary)\">\n                    ÌöåÏÇ¨ Ï†ïÎ≥¥Î•º Îì±Î°ùÌïòÏó¨ Ï°∞ÏßÅ Í¥ÄÎ¶¨Î•º ÏãúÏûëÌïòÏÑ∏Ïöî.\n                  </p>\n                  <ThemeButton\n                    onclick={() => (showCompanyModal = true)}\n                    variant=\"primary\"\n                    size=\"md\"\n                  >\n                    <PlusIcon class=\"w-4 h-4 mr-2\" />\n                    ÌöåÏÇ¨ Ï†ïÎ≥¥ Îì±Î°ù\n                  </ThemeButton>\n                </div>\n              </ThemeCard>\n            {/if}\n          </div>\n        </ThemeSpacer>\n      {:else if tab.id === 'profile'}\n        <!-- ÌîÑÎ°úÌïÑ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard>\n            <div class=\"text-center py-12\">\n              <UserIcon\n                class=\"w-16 h-16 mx-auto mb-4\"\n                style=\"color: var(--color-text-secondary);\"\n              />\n              <h3\n                class=\"text-lg font-semibold mb-2\"\n                style:color=\"var(--color-text)\">\n                ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï\n              </h3>\n              <p\n                class=\"text-sm\"\n                style:color=\"var(--color-text-secondary)\">\n                Í∞úÏù∏ ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï Í∏∞Îä•Ïù¥ Í≥ß Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.\n              </p>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'timezone'}\n        <!-- ÏãúÍ∞Ñ ÏÑ§Ï†ï ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard>\n            <ThemeSectionHeader title=\"ÏãúÍ∞ÑÎåÄ ÏÑ§Ï†ï\" />\n\n            <div class=\"space-y-6\">\n              <!-- ÌòÑÏû¨ ÏãúÍ∞Ñ ÌëúÏãú -->\n              <div\n                class=\"p-4 rounded-lg\"\n                style:background-color=\"var(--color-surface-secondary)\">\n                <h4\n                  class=\"font-medium mb-2\"\n                  style:color=\"var(--color-text)\">ÌòÑÏû¨ ÏãúÍ∞Ñ</h4>\n                <div\n                  class=\"text-2xl font-mono\"\n                  style:color=\"var(--color-text-accent)\">\n                  {$currentTimezone.displayName}\n                </div>\n                <div\n                  class=\"text-sm mt-1\"\n                  style:color=\"var(--color-text-secondary)\">\n                  ÌòÑÏû¨ ÏãúÍ∞Ñ: {new Date().toLocaleString('ko-KR', {\n                    timeZone: $currentTimezone.timezoneString,\n                    year: 'numeric',\n                    month: '2-digit',\n                    day: '2-digit',\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit',\n                    timeZoneName: 'short'\n                  })}\n                </div>\n              </div>\n\n              <!-- ÌÉÄÏûÑÏ°¥ ÏÑ†ÌÉù -->\n              <div>\n                <label\n                  for=\"timezone-select\"\n                  class=\"block text-sm font-medium mb-2\"\n                  style:color=\"var(--color-text)\"\n                >\n                  ÏãúÍ∞ÑÎåÄ ÏÑ†ÌÉù\n                </label>\n                <select\n                  id=\"timezone-select\"\n                  bind:value={$userTimezone}\n                  onchange={e => setUserTimezone((e.target as HTMLSelectElement).value as any)}\n                  class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  style:background-color=\"var(--color-surface)\"\n                  style:color=\"var(--color-text)\"\n                  style:border-color=\"var(--color-border)\"\n                >\n                  {#each availableTimezones as tz, i (i)}\n                    <option value={tz.key}>{tz.displayName}</option>\n                  {/each}\n                </select>\n                <p\n                  class=\"text-xs mt-1\"\n                  style:color=\"var(--color-text-secondary)\">\n                  ÏãúÍ∞ÑÎåÄÎ•º Î≥ÄÍ≤ΩÌïòÎ©¥ Î™®Îì† ÎÇ†ÏßúÏôÄ ÏãúÍ∞ÑÏù¥ ÏÉàÎ°úÏö¥ ÏãúÍ∞ÑÎåÄÏóê ÎßûÍ≤å ÌëúÏãúÎê©ÎãàÎã§.\n                </p>\n              </div>\n\n              <!-- ÏßÄÏõêÎêòÎäî ÌÉÄÏûÑÏ°¥ Î™©Î°ù -->\n              <div>\n                <h4\n                  class=\"font-medium mb-3\"\n                  style:color=\"var(--color-text)\">ÏßÄÏõêÎêòÎäî ÏãúÍ∞ÑÎåÄ</h4>\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                  {#each availableTimezones as tz, i (i)}\n                    <button\n                      type=\"button\"\n                      class=\"p-3 rounded-lg border cursor-pointer transition-colors text-left w-full\"\n                      class:bg-blue-50={$userTimezone === tz.key}\n                      class:border-blue-300={$userTimezone === tz.key}\n                      class:bg-gray-50={$userTimezone !== tz.key}\n                      class:border-gray-200={$userTimezone !== tz.key}\n                      onclick={() => setUserTimezone(tz.key)}\n                    >\n                      <div\n                        class=\"font-medium text-sm\"\n                        style:color=\"var(--color-text)\">\n                        {tz.displayName}\n                      </div>\n                      <div\n                        class=\"text-xs mt-1\"\n                        style:color=\"var(--color-text-secondary)\">\n                        {tz.value}\n                      </div>\n                    </button>\n                  {/each}\n                </div>\n              </div>\n\n              <!-- ÏãúÍ∞ÑÎåÄ Ï†ïÎ≥¥ -->\n              <div\n                class=\"p-4 rounded-lg\"\n                style:background-color=\"var(--color-surface-secondary)\">\n                <h4\n                  class=\"font-medium mb-2\"\n                  style:color=\"var(--color-text)\">ÏãúÍ∞ÑÎåÄ Ï†ïÎ≥¥</h4>\n                <div\n                  class=\"text-sm space-y-1\"\n                  style:color=\"var(--color-text-secondary)\">\n                  <p>‚Ä¢ Î™®Îì† Îç∞Ïù¥ÌÑ∞Îäî UTC Í∏∞Ï§ÄÏúºÎ°ú Ï†ÄÏû•Îê©ÎãàÎã§</p>\n                  <p>‚Ä¢ ÏÑ†ÌÉùÌïú ÏãúÍ∞ÑÎåÄÏóê Îî∞Îùº ÎÇ†ÏßúÏôÄ ÏãúÍ∞ÑÏù¥ ÌëúÏãúÎê©ÎãàÎã§</p>\n                  <p>‚Ä¢ ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Î∞è ÏàòÏ†ï Ïãú ÏÑ†ÌÉùÌïú ÏãúÍ∞ÑÎåÄÍ∞Ä Ï†ÅÏö©Îê©ÎãàÎã§</p>\n                  <p>‚Ä¢ ÏÑ§Ï†ïÏùÄ Î∏åÎùºÏö∞Ï†ÄÏóê Ï†ÄÏû•ÎêòÎ©∞ Îã§Î•∏ Í∏∞Í∏∞ÏôÄ ÎèôÍ∏∞ÌôîÎêòÏßÄ ÏïäÏäµÎãàÎã§</p>\n                </div>\n              </div>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'security'}\n        <!-- Î≥¥Ïïà ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard>\n            <div class=\"text-center py-12\">\n              <ShieldIcon\n                class=\"w-16 h-16 mx-auto mb-4\"\n                style=\"color: var(--color-text-secondary);\"\n              />\n              <h3\n                class=\"text-lg font-semibold mb-2\"\n                style:color=\"var(--color-text)\">Î≥¥Ïïà ÏÑ§Ï†ï</h3>\n              <p\n                class=\"text-sm\"\n                style:color=\"var(--color-text-secondary)\">\n                Î≥¥Ïïà ÏÑ§Ï†ï Í∏∞Îä•Ïù¥ Í≥ß Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.\n              </p>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'notifications'}\n        <!-- ÏïåÎ¶º ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard>\n            <div class=\"text-center py-12\">\n              <BellIcon\n                class=\"w-16 h-16 mx-auto mb-4\"\n                style=\"color: var(--color-text-secondary);\"\n              />\n              <h3\n                class=\"text-lg font-semibold mb-2\"\n                style:color=\"var(--color-text)\">ÏïåÎ¶º ÏÑ§Ï†ï</h3>\n              <p\n                class=\"text-sm\"\n                style:color=\"var(--color-text-secondary)\">\n                ÏïåÎ¶º ÏÑ§Ï†ï Í∏∞Îä•Ïù¥ Í≥ß Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.\n              </p>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'appearance'}\n        <!-- Ïô∏Í¥Ä ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard>\n            <div class=\"text-center py-12\">\n              <PaletteIcon\n                class=\"w-16 h-16 mx-auto mb-4\"\n                style=\"color: var(--color-text-secondary);\"\n              />\n              <h3\n                class=\"text-lg font-semibold mb-2\"\n                style:color=\"var(--color-text)\">Ïô∏Í¥Ä ÏÑ§Ï†ï</h3>\n              <p\n                class=\"text-sm\"\n                style:color=\"var(--color-text-secondary)\">\n                Ïô∏Í¥Ä ÏÑ§Ï†ï Í∏∞Îä•Ïù¥ Í≥ß Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.\n              </p>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {:else if tab.id === 'data'}\n        <!-- Îç∞Ïù¥ÌÑ∞ ÌÉ≠ -->\n        <ThemeSpacer size={6}>\n          <ThemeCard>\n            <div class=\"text-center py-12\">\n              <DatabaseIcon\n                class=\"w-16 h-16 mx-auto mb-4\"\n                style=\"color: var(--color-text-secondary);\"\n              />\n              <h3\n                class=\"text-lg font-semibold mb-2\"\n                style:color=\"var(--color-text)\">\n                Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨\n              </h3>\n              <p\n                class=\"text-sm\"\n                style:color=\"var(--color-text-secondary)\">\n                Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨ Í∏∞Îä•Ïù¥ Í≥ß Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.\n              </p>\n            </div>\n          </ThemeCard>\n        </ThemeSpacer>\n      {/if}\n    {/snippet}\n  </ThemeTabs>\n\n  <!-- ÌöåÏÇ¨ Ï†ïÎ≥¥ Î™®Îã¨ -->\n  <CompanyModal\n    open={showCompanyModal}\n    {company}\n    loading={companyLoading}\n    onclose={() => {\n      showCompanyModal = false\n    }}\n    onsave={handleCompanySave}\n  />\n</PageLayout>\n",
    "usedDeprecatedRules": [
      {
        "ruleId": "svelte/no-dynamic-slot-name",
        "replacedBy": { "note": "Now Svelte compiler itself throws an compile error." }
      }
    ]
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/src/types/lucide-svelte-icons.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/utils/ai-coding-guidelines.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 3,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 3,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 4,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 4,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 4,
        "column": 29,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 4,
        "endColumn": 36
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 4,
        "column": 56,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 4,
        "endColumn": 63
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 6,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 6,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 140,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 140,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 198,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 198,
        "endColumn": 31
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 395,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 395,
        "endColumn": 21
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 397,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 397,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 403,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 403,
        "endColumn": 19
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 406,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 406,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 11,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use strict'\n// AI ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Î∞è ÏπºÎüºÎ™Ö Í≤ÄÏ¶ù ÎèÑÍµ¨\nObject.defineProperty(exports, '__esModule', { value: true })\nexports.AICodingValidator = exports.VALIDATION_RULES = exports.AI_CODING_GUIDELINES = void 0\n// AI ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Ï†ïÏùò\nexports.AI_CODING_GUIDELINES = [\n  {\n    id: 'column-naming',\n    category: 'Database',\n    title: 'ÏπºÎüºÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÏôÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['user_id', 'created_at', 'first_name', 'budget_total'],\n      bad: ['userId', 'CreatedAt', 'firstName', 'budget-total', 'BudgetTotal']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'table-naming',\n    category: 'Database',\n    title: 'ÌÖåÏù¥Î∏îÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'ÌÖåÏù¥Î∏îÎ™ÖÏùÄ Î≥µÏàòÌòï ÏÜåÎ¨∏ÏûêÏôÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['projects', 'project_budgets', 'project_members', 'evidence_items'],\n      bad: ['Project', 'projectBudget', 'project-members', 'EvidenceItems']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'foreign-key-naming',\n    category: 'Database',\n    title: 'Ïô∏ÎûòÌÇ§ Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'Ïô∏ÎûòÌÇ§Îäî Ï∞∏Ï°∞ÌïòÎäî ÌÖåÏù¥Î∏îÎ™Ö_id ÌòïÌÉúÏó¨Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['project_id', 'employee_id', 'category_id', 'budget_id'],\n      bad: ['projectId', 'employee', 'cat_id', 'budgetId']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'api-endpoint-naming',\n    category: 'API',\n    title: 'API ÏóîÎìúÌè¨Ïù∏Ìä∏ Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'API ÏóîÎìúÌè¨Ïù∏Ìä∏Îäî kebab-caseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['/api/project-management/projects', '/api/project-management/budget-validation'],\n      bad: ['/api/projectManagement/projects', '/api/project_management/budgetValidation']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'variable-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'Î≥ÄÏàòÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'JavaScript/TypeScript Î≥ÄÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['projectId', 'budgetTotal', 'isValid', 'validationResults'],\n      bad: ['project_id', 'budget_total', 'is_valid', 'validation_results']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'function-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'Ìï®ÏàòÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'Ìï®ÏàòÎ™ÖÏùÄ ÎèôÏÇ¨Î°ú ÏãúÏûëÌïòÎäî camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['validateProject', 'calculateBudget', 'getEmployeeInfo', 'createValidationResult'],\n      bad: ['project_validate', 'budget_calculate', 'employee_info', 'validation_result_create']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'class-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'ÌÅ¥ÎûòÏä§Î™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'ÌÅ¥ÎûòÏä§Î™ÖÏùÄ PascalCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['ValidationUtils', 'PersonnelCostValidator', 'ProjectManager', 'BudgetCalculator'],\n      bad: ['validation_utils', 'personnelCostValidator', 'project_manager', 'budget_calculator']\n    },\n    severity: 'error'\n  },\n  {\n    id: 'constant-naming',\n    category: 'JavaScript/TypeScript',\n    title: 'ÏÉÅÏàòÎ™Ö Î™ÖÎ™Ö Í∑úÏπô',\n    description: 'ÏÉÅÏàòÎ™ÖÏùÄ UPPER_SNAKE_CASEÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: ['DEFAULT_VALIDATION_RULES', 'MAX_RETRY_COUNT', 'API_BASE_URL'],\n      bad: ['defaultValidationRules', 'maxRetryCount', 'apiBaseUrl']\n    },\n    severity: 'warning'\n  },\n  {\n    id: 'sql-query-formatting',\n    category: 'SQL',\n    title: 'SQL ÏøºÎ¶¨ Ìè¨Îß∑ÌåÖ',\n    description: 'SQL ÏøºÎ¶¨Îäî Í∞ÄÎèÖÏÑ±ÏùÑ ÏúÑÌï¥ Ï†ÅÏ†àÌûà Îì§Ïó¨Ïì∞Í∏∞ÌïòÍ≥† Ï§ÑÎ∞îÍøàÌï¥Ïïº Ìï©ÎãàÎã§.',\n    examples: {\n      good: [\n        `SELECT \n\t\t\t\t\tp.id,\n\t\t\t\t\tp.title,\n\t\t\t\t\tp.budget_total\n\t\t\t\tFROM projects p\n\t\t\t\tWHERE p.status = 'active'\n\t\t\t\tORDER BY p.created_at DESC`\n      ],\n      bad: [\n        `SELECT p.id, p.title, p.budget_total FROM projects p WHERE p.status = 'active' ORDER BY p.created_at DESC`\n      ]\n    },\n    severity: 'warning'\n  },\n  {\n    id: 'error-handling',\n    category: 'Error Handling',\n    title: 'ÏóêÎü¨ Ï≤òÎ¶¨ Í∑úÏπô',\n    description: 'Î™®Îì† API Ìò∏Ï∂úÍ≥º Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏûëÏóÖÏóêÎäî Ï†ÅÏ†àÌïú ÏóêÎü¨ Ï≤òÎ¶¨Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.',\n    examples: {\n      good: [\n        `try {\n\t\t\t\t\tconst result = await pool.query(query, params);\n\t\t\t\t\treturn result.rows;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Database query error:', error);\n\t\t\t\t\tthrow new Error('Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏøºÎ¶¨ Ïã§Ìå®');\n\t\t\t\t}`\n      ],\n      bad: [\n        `const result = await pool.query(query, params);\n\t\t\t\treturn result.rows;`\n      ]\n    },\n    severity: 'error'\n  }\n]\n// Í≤ÄÏ¶ù Í∑úÏπô Ï†ïÏùò\nexports.VALIDATION_RULES = [\n  // ÏπºÎüºÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[a-z][a-z0-9_]*$/,\n    message: 'ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏãúÏûëÌïòÍ≥†, ÏÜåÎ¨∏Ïûê, Ïà´Ïûê, Ïñ∏ÎçîÏä§ÏΩîÏñ¥Îßå ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.',\n    severity: 'error'\n  },\n  {\n    pattern: /^[a-z][a-z0-9_]*_id$/,\n    message: 'Ïô∏ÎûòÌÇ§ ÏπºÎüºÎ™ÖÏùÄ ÌÖåÏù¥Î∏îÎ™Ö_id ÌòïÌÉúÏó¨Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // Î≥ÄÏàòÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[a-z][a-zA-Z0-9]*$/,\n    message: 'Î≥ÄÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // Ìï®ÏàòÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[a-z][a-zA-Z0-9]*$/,\n    message: 'Ìï®ÏàòÎ™ÖÏùÄ ÎèôÏÇ¨Î°ú ÏãúÏûëÌïòÎäî camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // ÌÅ¥ÎûòÏä§Î™Ö Í∑úÏπô\n  {\n    pattern: /^[A-Z][a-zA-Z0-9]*$/,\n    message: 'ÌÅ¥ÎûòÏä§Î™ÖÏùÄ PascalCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'error'\n  },\n  // ÏÉÅÏàòÎ™Ö Í∑úÏπô\n  {\n    pattern: /^[A-Z][A-Z0-9_]*$/,\n    message: 'ÏÉÅÏàòÎ™ÖÏùÄ UPPER_SNAKE_CASEÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.',\n    severity: 'warning'\n  }\n]\n// AI ÏΩîÎî© Í∞ÄÏù¥ÎìúÎùºÏù∏ Í≤ÄÏ¶ù ÎèÑÍµ¨\nclass AICodingValidator {\n  /**\n   * ÏπºÎüºÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateColumnName(columnName) {\n    const issues = []\n    // 1. ÏÜåÎ¨∏Ïûê Í≤ÄÏ¶ù\n    if (columnName !== columnName.toLowerCase()) {\n      issues.push('ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏûëÏÑ±Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n    // 2. Ïñ∏ÎçîÏä§ÏΩîÏñ¥ ÏÇ¨Ïö© Í≤ÄÏ¶ù\n    if (columnName.includes('-') || /[A-Z]/.test(columnName)) {\n      issues.push('ÏπºÎüºÎ™ÖÏùÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥(_)Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§. (camelCase Í∏àÏßÄ)')\n    }\n    // 3. ÏòàÏïΩÏñ¥ Í≤ÄÏ¶ù\n    const reservedWords = ['name', 'type', 'order', 'group', 'user', 'date', 'time']\n    if (reservedWords.includes(columnName.toLowerCase())) {\n      issues.push(`ÏòàÏïΩÏñ¥ '${columnName}' ÏÇ¨Ïö©ÏùÑ ÌîºÌï¥Ïïº Ìï©ÎãàÎã§.`)\n    }\n    // 4. Ìå®ÌÑ¥ Í≤ÄÏ¶ù\n    const columnRule = exports.VALIDATION_RULES.find(rule => rule.message.includes('ÏπºÎüºÎ™Ö'))\n    if (columnRule && !columnRule.pattern.test(columnName)) {\n      issues.push(columnRule.message)\n    }\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n  /**\n   * Î≥ÄÏàòÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateVariableName(variableName) {\n    const issues = []\n    // 1. camelCase Í≤ÄÏ¶ù\n    if (!/^[a-z][a-zA-Z0-9]*$/.test(variableName)) {\n      issues.push('Î≥ÄÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n    // 2. Ïñ∏ÎçîÏä§ÏΩîÏñ¥ ÏÇ¨Ïö© Í∏àÏßÄ\n    if (variableName.includes('_')) {\n      issues.push('Î≥ÄÏàòÎ™ÖÏóêÎäî Ïñ∏ÎçîÏä§ÏΩîÏñ¥(_)Î•º ÏÇ¨Ïö©ÌïòÏßÄ ÎßàÏÑ∏Ïöî.')\n    }\n    // 3. ÎåÄÎ¨∏ÏûêÎ°ú ÏãúÏûë Í∏àÏßÄ\n    if (/^[A-Z]/.test(variableName)) {\n      issues.push('Î≥ÄÏàòÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏãúÏûëÌï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n  /**\n   * Ìï®ÏàòÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateFunctionName(functionName) {\n    const issues = []\n    // 1. camelCase Í≤ÄÏ¶ù\n    if (!/^[a-z][a-zA-Z0-9]*$/.test(functionName)) {\n      issues.push('Ìï®ÏàòÎ™ÖÏùÄ camelCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n    // 2. ÎèôÏÇ¨Î°ú ÏãúÏûëÌïòÎäîÏßÄ Í≤ÄÏ¶ù\n    const verbPrefixes = [\n      'get',\n      'set',\n      'create',\n      'update',\n      'delete',\n      'validate',\n      'calculate',\n      'check',\n      'find',\n      'search',\n      'parse',\n      'format',\n      'convert',\n      'transform',\n      'process',\n      'handle',\n      'execute',\n      'run',\n      'start',\n      'stop',\n      'init',\n      'load',\n      'save',\n      'export',\n      'import'\n    ]\n    const startsWithVerb = verbPrefixes.some(prefix => functionName.startsWith(prefix))\n    if (!startsWithVerb) {\n      issues.push('Ìï®ÏàòÎ™ÖÏùÄ ÎèôÏÇ¨Î°ú ÏãúÏûëÌï¥Ïïº Ìï©ÎãàÎã§. (Ïòà: get, set, create, validate Îì±)')\n    }\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n  /**\n   * ÌÅ¥ÎûòÏä§Î™Ö Í≤ÄÏ¶ù\n   */\n  static validateClassName(className) {\n    const issues = []\n    // 1. PascalCase Í≤ÄÏ¶ù\n    if (!/^[A-Z][a-zA-Z0-9]*$/.test(className)) {\n      issues.push('ÌÅ¥ÎûòÏä§Î™ÖÏùÄ PascalCaseÎ•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.')\n    }\n    // 2. Î™ÖÏÇ¨Î°ú ÎÅùÎÇòÎäîÏßÄ Í≤ÄÏ¶ù\n    const nounSuffixes = [\n      'Manager',\n      'Validator',\n      'Calculator',\n      'Handler',\n      'Service',\n      'Controller',\n      'Repository',\n      'Model',\n      'Entity',\n      'Utils',\n      'Helper',\n      'Factory',\n      'Builder'\n    ]\n    const endsWithNoun = nounSuffixes.some(suffix => className.endsWith(suffix))\n    if (!endsWithNoun) {\n      issues.push('ÌÅ¥ÎûòÏä§Î™ÖÏùÄ Î™ÖÏÇ¨Î°ú ÎÅùÎÇòÏïº Ìï©ÎãàÎã§. (Ïòà: Manager, Validator, Utils Îì±)')\n    }\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n  /**\n   * SQL ÏøºÎ¶¨ Í≤ÄÏ¶ù\n   */\n  static validateSQLQuery(query) {\n    const issues = []\n    // 1. SQL Ïù∏Ï†ùÏÖò Î∞©ÏßÄ Í≤ÄÏ¶ù\n    const dangerousPatterns = [\n      /;\\s*drop\\s+table/i,\n      /;\\s*delete\\s+from/i,\n      /;\\s*truncate/i,\n      /union\\s+select/i,\n      /or\\s+1\\s*=\\s*1/i\n    ]\n    for (const pattern of dangerousPatterns) {\n      if (pattern.test(query)) {\n        issues.push('ÏúÑÌóòÌïú SQL Ìå®ÌÑ¥Ïù¥ Í∞êÏßÄÎêòÏóàÏäµÎãàÎã§.')\n        break\n      }\n    }\n    // 2. ÌååÎùºÎØ∏ÌÑ∞ÌôîÎêú ÏøºÎ¶¨ ÏÇ¨Ïö© Í≤ÄÏ¶ù\n    if (query.includes(\"'\") && !query.includes('$')) {\n      issues.push('ÌïòÎìúÏΩîÎî©Îêú Î¨∏ÏûêÏó¥ ÎåÄÏã† ÌååÎùºÎØ∏ÌÑ∞ÌôîÎêú ÏøºÎ¶¨Î•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.')\n    }\n    // 3. Ï†ÅÏ†àÌïú Îì§Ïó¨Ïì∞Í∏∞ Í≤ÄÏ¶ù\n    const lines = query.split('\\n')\n    let hasIndentation = false\n    for (const line of lines) {\n      if (line.trim() && line.startsWith('  ')) {\n        hasIndentation = true\n        break\n      }\n    }\n    if (lines.length > 3 && !hasIndentation) {\n      issues.push('SQL ÏøºÎ¶¨Îäî Í∞ÄÎèÖÏÑ±ÏùÑ ÏúÑÌï¥ Ï†ÅÏ†àÌûà Îì§Ïó¨Ïì∞Í∏∞ÌïòÏÑ∏Ïöî.')\n    }\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n  /**\n   * Ï†ÑÏ≤¥ ÏΩîÎìú Í≤ÄÏ¶ù\n   */\n  static validateCode(code, language) {\n    const issues = []\n    if (language === 'sql') {\n      const sqlValidation = this.validateSQLQuery(code)\n      if (!sqlValidation.isValid) {\n        issues.push(\n          ...sqlValidation.issues.map(issue => ({\n            type: 'sql',\n            message: issue,\n            severity: 'error'\n          }))\n        )\n      }\n    }\n    // TypeScript/JavaScript ÏΩîÎìú Í≤ÄÏ¶ù\n    if (language === 'typescript' || language === 'javascript') {\n      // ÏóêÎü¨ Ï≤òÎ¶¨ Í≤ÄÏ¶ù\n      if (code.includes('await') && !code.includes('try') && !code.includes('catch')) {\n        issues.push({\n          type: 'error-handling',\n          message: 'ÎπÑÎèôÍ∏∞ ÏûëÏóÖÏóêÎäî Ï†ÅÏ†àÌïú ÏóêÎü¨ Ï≤òÎ¶¨Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.',\n          severity: 'error'\n        })\n      }\n      // ÌÉÄÏûÖ ÏïàÏ†ÑÏÑ± Í≤ÄÏ¶ù\n      if (language === 'typescript' && code.includes('any')) {\n        issues.push({\n          type: 'type-safety',\n          message: 'any ÌÉÄÏûÖ ÏÇ¨Ïö©ÏùÑ ÌîºÌïòÍ≥† Íµ¨Ï≤¥Ï†ÅÏù∏ ÌÉÄÏûÖÏùÑ ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.',\n          severity: 'warning'\n        })\n      }\n    }\n    return {\n      isValid: issues.length === 0,\n      issues\n    }\n  }\n  /**\n   * Í∞ÄÏù¥ÎìúÎùºÏù∏ Ï°∞Ìöå\n   */\n  static getGuidelines(category) {\n    if (category) {\n      return exports.AI_CODING_GUIDELINES.filter(guideline => guideline.category === category)\n    }\n    return exports.AI_CODING_GUIDELINES\n  }\n  /**\n   * Í≤ÄÏ¶ù Í∑úÏπô Ï°∞Ìöå\n   */\n  static getValidationRules() {\n    return exports.VALIDATION_RULES\n  }\n}\nexports.AICodingValidator = AICodingValidator\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/utils/code-dependency-analyzer.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 2,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 2,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 3,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 3,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 4,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 4,
        "endColumn": 21
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 5,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 5,
        "endColumn": 23
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 14,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 14,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 22,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 22,
        "endColumn": 16
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 35,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 35,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 46,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 46,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 163,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 163,
        "endColumn": 25
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 165,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 165,
        "endColumn": 20
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 171,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 171,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'otherAnalysis' is assigned a value but never used.",
        "line": 280,
        "column": 32,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 280,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "otherAnalysis" },
            "fix": { "range": [8199, 8214], "text": "" },
            "desc": "Remove unused variable 'otherAnalysis'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'allAnalysis' is defined but never used.",
        "line": 316,
        "column": 52,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 316,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "allAnalysis" },
            "fix": { "range": [9207, 9220], "text": "" },
            "desc": "Remove unused variable 'allAnalysis'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filePath' is defined but never used.",
        "line": 374,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 374,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "filePath" },
            "fix": { "range": [10900, 10909], "text": "" },
            "desc": "Remove unused variable 'filePath'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'importPath' is defined but never used.",
        "line": 374,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 374,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "importPath" },
            "fix": { "range": [10908, 10920], "text": "" },
            "desc": "Remove unused variable 'importPath'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 380,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 380,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 16,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use strict'\nObject.defineProperty(exports, '__esModule', { value: true })\nexports.CodeDependencyAnalyzer = void 0\nconst fs_1 = require('fs')\nconst path_1 = require('path')\n// ÏΩîÎìú ÏùòÏ°¥ÏÑ± Î∂ÑÏÑùÍ∏∞\nclass CodeDependencyAnalyzer {\n  /**\n   * Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏ ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n   */\n  static async analyzeProjectDependencies() {\n    const analysis = new Map()\n    const files = this.getAllSourceFiles()\n    console.log(`üîç [ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù] ${files.length}Í∞ú ÌååÏùº Î∂ÑÏÑù ÏãúÏûë`)\n    // 1Îã®Í≥Ñ: Í∞Å ÌååÏùºÏùò Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏàòÏßë\n    for (const file of files) {\n      try {\n        const content = (0, fs_1.readFileSync)(file, 'utf-8')\n        const fileAnalysis = this.analyzeFile(file, content)\n        analysis.set(file, fileAnalysis)\n      } catch (error) {\n        console.error(`ÌååÏùº Î∂ÑÏÑù Ïã§Ìå®: ${file}`, error)\n      }\n    }\n    // 2Îã®Í≥Ñ: ÏùòÏ°¥ÏÑ± Í¥ÄÍ≥Ñ Î∂ÑÏÑù\n    for (const [filePath, fileAnalysis] of analysis) {\n      fileAnalysis.dependencies = this.findDependencies(filePath, analysis)\n      fileAnalysis.dependents = this.findDependents(filePath, analysis)\n      fileAnalysis.riskLevel = this.calculateRiskLevel(fileAnalysis)\n    }\n    // 3Îã®Í≥Ñ: Î≥ÄÍ≤Ω ÏòÅÌñ•ÎèÑ Î∂ÑÏÑù\n    for (const [filePath, fileAnalysis] of analysis) {\n      fileAnalysis.changeImpact = this.calculateChangeImpact(filePath, fileAnalysis, analysis)\n    }\n    console.log(`‚úÖ [ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù] ÏôÑÎ£å - ${analysis.size}Í∞ú ÌååÏùº Î∂ÑÏÑù`)\n    return analysis\n  }\n  /**\n   * ÌäπÏ†ï ÌååÏùºÏùò ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n   */\n  static analyzeFileDependencies(filePath) {\n    try {\n      const content = (0, fs_1.readFileSync)(filePath, 'utf-8')\n      return this.analyzeFile(filePath, content)\n    } catch (error) {\n      console.error(`ÌååÏùº Î∂ÑÏÑù Ïã§Ìå®: ${filePath}`, error)\n      return null\n    }\n  }\n  /**\n   * Î≥ÄÍ≤Ω ÏòÅÌñ•ÎèÑ ÏòàÏ∏°\n   */\n  static predictChangeImpact(filePath, changeType, analysis) {\n    const fileAnalysis = analysis.get(filePath)\n    if (!fileAnalysis) return []\n    const impacts = []\n    // ÏßÅÏ†ë ÏùòÏ°¥ÌïòÎäî ÌååÏùºÎì§\n    for (const dependent of fileAnalysis.dependents) {\n      impacts.push({\n        affectedFile: dependent,\n        impactType: changeType === 'delete' ? 'breaking' : 'unknown',\n        description: `${changeType} Î≥ÄÍ≤ΩÏúºÎ°ú Ïù∏Ìïú ÏßÅÏ†ëÏ†Å ÏòÅÌñ•`,\n        severity: changeType === 'delete' ? 'critical' : 'medium'\n      })\n    }\n    // Í∞ÑÏ†ë ÏùòÏ°¥ÌïòÎäî ÌååÏùºÎì§ (2Îã®Í≥Ñ)\n    for (const dependent of fileAnalysis.dependents) {\n      const dependentAnalysis = analysis.get(dependent)\n      if (dependentAnalysis) {\n        for (const indirectDependent of dependentAnalysis.dependents) {\n          impacts.push({\n            affectedFile: indirectDependent,\n            impactType: 'unknown',\n            description: `${changeType} Î≥ÄÍ≤ΩÏúºÎ°ú Ïù∏Ìïú Í∞ÑÏ†ëÏ†Å ÏòÅÌñ•`,\n            severity: 'low'\n          })\n        }\n      }\n    }\n    return impacts\n  }\n  /**\n   * ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Ï†àÏ∞® ÏÉùÏÑ±\n   */\n  static generateSafeChangeProcedure(filePath, changeType, analysis) {\n    const fileAnalysis = analysis.get(filePath)\n    if (!fileAnalysis) {\n      return {\n        procedure: [],\n        risks: ['ÌååÏùºÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'],\n        recommendations: ['ÌååÏùº Í≤ΩÎ°úÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.'],\n        affectedFiles: []\n      }\n    }\n    const impacts = this.predictChangeImpact(filePath, changeType, analysis)\n    const affectedFiles = [...new Set(impacts.map(impact => impact.affectedFile))]\n    const procedure = []\n    const risks = []\n    const recommendations = []\n    // Ï†àÏ∞® ÏÉùÏÑ±\n    procedure.push('1. Î≥ÄÍ≤Ω Ï†Ñ Î∞±ÏóÖ ÏÉùÏÑ±')\n    procedure.push('2. ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù Í≤∞Í≥º Í≤ÄÌÜ†')\n    procedure.push('3. ÏòÅÌñ•Î∞õÎäî ÌååÏùºÎì§ ÏãùÎ≥Ñ')\n    procedure.push('4. Îã®Í≥ÑÎ≥Ñ Î≥ÄÍ≤Ω Ïã§Ìñâ')\n    procedure.push('5. Î≥ÄÍ≤Ω ÌõÑ Í≤ÄÏ¶ù')\n    // ÏúÑÌóò ÏöîÏÜå ÏãùÎ≥Ñ\n    if (fileAnalysis.riskLevel === 'critical' || fileAnalysis.riskLevel === 'high') {\n      risks.push('ÎÜíÏùÄ ÏúÑÌóòÎèÑ ÌååÏùº - Ïã†Ï§ëÌïú Î≥ÄÍ≤Ω ÌïÑÏöî')\n    }\n    if (affectedFiles.length > 10) {\n      risks.push('ÎßéÏùÄ ÌååÏùºÏóê ÏòÅÌñ• - Í¥ëÎ≤îÏúÑÌïú ÌÖåÏä§Ìä∏ ÌïÑÏöî')\n    }\n    if (impacts.some(impact => impact.impactType === 'breaking')) {\n      risks.push('Breaking Change Í∞êÏßÄ - ÌïòÏúÑ Ìò∏ÌôòÏÑ± Î¨∏Ï†ú Í∞ÄÎä•')\n    }\n    // Í∂åÏû•ÏÇ¨Ìï≠\n    if (changeType === 'delete') {\n      recommendations.push('ÏÇ≠Ï†ú Ï†Ñ Î™®Îì† Ï∞∏Ï°∞ Ï†úÍ±∞')\n      recommendations.push('ÎåÄÏ≤¥ Î∞©Ïïà ÎßàÎ†®')\n    }\n    if (changeType === 'rename') {\n      recommendations.push('Îã®Í≥ÑÏ†Å Ïù¥Î¶Ñ Î≥ÄÍ≤Ω (Î≥ÑÏπ≠ Ïú†ÏßÄ)')\n      recommendations.push('Î™®Îì† Ï∞∏Ï°∞ ÏóÖÎç∞Ïù¥Ìä∏')\n    }\n    if (changeType === 'modify') {\n      recommendations.push('ÌïòÏúÑ Ìò∏ÌôòÏÑ± Ïú†ÏßÄ')\n      recommendations.push('API Î≥ÄÍ≤Ω Ïãú Î≤ÑÏ†Ñ Í¥ÄÎ¶¨')\n    }\n    recommendations.push('Î≥ÄÍ≤Ω ÌõÑ Ï†ÑÏ≤¥ ÌÖåÏä§Ìä∏ Ïã§Ìñâ')\n    recommendations.push('Î¨∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏')\n    return {\n      procedure,\n      risks,\n      recommendations,\n      affectedFiles\n    }\n  }\n  /**\n   * Î™®Îì† ÏÜåÏä§ ÌååÏùº Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n   */\n  static getAllSourceFiles() {\n    const files = []\n    try {\n      const scanDirectory = dir => {\n        if (!(0, fs_1.statSync)(dir).isDirectory()) {\n          return\n        }\n        const items = (0, fs_1.readdirSync)(dir)\n        for (const item of items) {\n          const fullPath = (0, path_1.join)(dir, item)\n          try {\n            const stat = (0, fs_1.statSync)(fullPath)\n            if (stat.isDirectory()) {\n              if (!this.IGNORE_PATTERNS.some(pattern => item.includes(pattern))) {\n                scanDirectory(fullPath)\n              }\n            } else if (stat.isFile()) {\n              const ext = (0, path_1.extname)(item)\n              if (this.SUPPORTED_EXTENSIONS.includes(ext)) {\n                files.push(fullPath)\n              }\n            }\n          } catch (error) {\n            // Í∞úÎ≥Ñ ÌååÏùº/ÎîîÎ†âÌÜ†Î¶¨ Ï†ëÍ∑º Ïã§Ìå®Îäî Î¨¥Ïãú\n            console.warn(`ÌååÏùº Ï†ëÍ∑º Ïã§Ìå®: ${fullPath}`)\n          }\n        }\n      }\n      scanDirectory(this.SRC_DIR)\n    } catch (error) {\n      console.error('ÏÜåÏä§ ÎîîÎ†âÌÜ†Î¶¨ Ïä§Ï∫î Ïã§Ìå®:', error)\n    }\n    return files\n  }\n  /**\n   * ÌååÏùº Î∂ÑÏÑù\n   */\n  static analyzeFile(filePath, content) {\n    const imports = this.extractImports(content)\n    const exports = this.extractExports(content)\n    return {\n      filePath,\n      dependencies: [],\n      dependents: [],\n      imports,\n      exports,\n      usage: [],\n      riskLevel: 'low',\n      changeImpact: []\n    }\n  }\n  /**\n   * Import Ï†ïÎ≥¥ Ï∂îÏ∂ú\n   */\n  static extractImports(content) {\n    const imports = []\n    const lines = content.split('\\n')\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim()\n      // ES6 import\n      const es6Match = line.match(\n        /^import\\s+(?:{[^}]*}|\\*\\s+as\\s+\\w+|\\w+)\\s+from\\s+['\"]([^'\"]+)['\"]/\n      )\n      if (es6Match) {\n        imports.push({\n          path: es6Match[1],\n          type: this.getImportType(es6Match[1]),\n          importedItems: this.extractImportedItems(line),\n          lineNumber: i + 1\n        })\n      }\n      // CommonJS require\n      const requireMatch = line.match(/require\\(['\"]([^'\"]+)['\"]\\)/)\n      if (requireMatch) {\n        imports.push({\n          path: requireMatch[1],\n          type: this.getImportType(requireMatch[1]),\n          importedItems: [],\n          lineNumber: i + 1\n        })\n      }\n    }\n    return imports\n  }\n  /**\n   * Export Ï†ïÎ≥¥ Ï∂îÏ∂ú\n   */\n  static extractExports(content) {\n    const exports = []\n    const lines = content.split('\\n')\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim()\n      // Named export\n      const namedExportMatch = line.match(\n        /^export\\s+(?:const|let|var|function|class|interface|type)\\s+(\\w+)/\n      )\n      if (namedExportMatch) {\n        exports.push({\n          name: namedExportMatch[1],\n          type: this.getExportType(line),\n          lineNumber: i + 1,\n          isDefault: false\n        })\n      }\n      // Default export\n      const defaultExportMatch = line.match(/^export\\s+default\\s+(\\w+)/)\n      if (defaultExportMatch) {\n        exports.push({\n          name: defaultExportMatch[1],\n          type: this.getExportType(line),\n          lineNumber: i + 1,\n          isDefault: true\n        })\n      }\n    }\n    return exports\n  }\n  /**\n   * ÏùòÏ°¥ÏÑ± Ï∞æÍ∏∞\n   */\n  static findDependencies(filePath, analysis) {\n    const fileAnalysis = analysis.get(filePath)\n    if (!fileAnalysis) return []\n    const dependencies = []\n    for (const importInfo of fileAnalysis.imports) {\n      if (importInfo.type === 'relative') {\n        const resolvedPath = this.resolveImportPath(filePath, importInfo.path)\n        if (resolvedPath && analysis.has(resolvedPath)) {\n          dependencies.push(resolvedPath)\n        }\n      }\n    }\n    return dependencies\n  }\n  /**\n   * ÏùòÏ°¥ÌïòÎäî ÌååÏùºÎì§ Ï∞æÍ∏∞\n   */\n  static findDependents(filePath, analysis) {\n    const dependents = []\n    for (const [otherFilePath, otherAnalysis] of analysis) {\n      if (otherFilePath === filePath) continue\n      const dependencies = this.findDependencies(otherFilePath, analysis)\n      if (dependencies.includes(filePath)) {\n        dependents.push(otherFilePath)\n      }\n    }\n    return dependents\n  }\n  /**\n   * ÏúÑÌóòÎèÑ Í≥ÑÏÇ∞\n   */\n  static calculateRiskLevel(analysis) {\n    let riskScore = 0\n    // ÏùòÏ°¥ÌïòÎäî ÌååÏùº Ïàò\n    riskScore += analysis.dependencies.length * 1\n    // ÏùòÏ°¥ÌïòÎäî ÌååÏùº Ïàò\n    riskScore += analysis.dependents.length * 2\n    // Export Ïàò\n    riskScore += analysis.exports.length * 1\n    // Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ ÌååÏùºÏù∏ÏßÄ ÌôïÏù∏\n    if (analysis.filePath.includes('/utils/') || analysis.filePath.includes('/lib/')) {\n      riskScore += 5\n    }\n    // API ÌååÏùºÏù∏ÏßÄ ÌôïÏù∏\n    if (analysis.filePath.includes('/api/')) {\n      riskScore += 3\n    }\n    if (riskScore >= 20) return 'critical'\n    if (riskScore >= 15) return 'high'\n    if (riskScore >= 10) return 'medium'\n    return 'low'\n  }\n  /**\n   * Î≥ÄÍ≤Ω ÏòÅÌñ•ÎèÑ Í≥ÑÏÇ∞\n   */\n  static calculateChangeImpact(filePath, analysis, allAnalysis) {\n    const impacts = []\n    for (const dependent of analysis.dependents) {\n      impacts.push({\n        affectedFile: dependent,\n        impactType: 'unknown',\n        description: 'ÏßÅÏ†ë ÏùòÏ°¥ÏÑ±ÏúºÎ°ú Ïù∏Ìïú ÏòÅÌñ•',\n        severity: analysis.riskLevel === 'critical' ? 'high' : 'medium'\n      })\n    }\n    return impacts\n  }\n  /**\n   * Import ÌÉÄÏûÖ Í≤∞Ï†ï\n   */\n  static getImportType(path) {\n    if (path.startsWith('.')) return 'relative'\n    if (path.startsWith('/')) return 'absolute'\n    return 'package'\n  }\n  /**\n   * Export ÌÉÄÏûÖ Í≤∞Ï†ï\n   */\n  static getExportType(line) {\n    if (line.includes('function')) return 'function'\n    if (line.includes('class')) return 'class'\n    if (line.includes('interface')) return 'interface'\n    if (line.includes('type')) return 'type'\n    if (line.includes('const')) return 'const'\n    if (line.includes('let')) return 'let'\n    return 'var'\n  }\n  /**\n   * ImportÎêú Ìï≠Î™©Îì§ Ï∂îÏ∂ú\n   */\n  static extractImportedItems(line) {\n    const items = []\n    // Named imports: import { a, b, c } from '...'\n    const namedMatch = line.match(/import\\s+{([^}]+)}\\s+from/)\n    if (namedMatch) {\n      const namedItems = namedMatch[1].split(',').map(item => item.trim())\n      items.push(...namedItems)\n    }\n    // Default import: import defaultName from '...'\n    const defaultMatch = line.match(/import\\s+(\\w+)\\s+from/)\n    if (defaultMatch && !line.includes('{')) {\n      items.push(defaultMatch[1])\n    }\n    // Namespace import: import * as name from '...'\n    const namespaceMatch = line.match(/import\\s+\\*\\s+as\\s+(\\w+)\\s+from/)\n    if (namespaceMatch) {\n      items.push(namespaceMatch[1])\n    }\n    return items\n  }\n  /**\n   * Import Í≤ΩÎ°ú Ìï¥Í≤∞\n   */\n  static resolveImportPath(filePath, importPath) {\n    // ÏÉÅÎåÄ Í≤ΩÎ°ú Ìï¥Í≤∞ Î°úÏßÅ\n    // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî path.resolve Îì±ÏùÑ ÏÇ¨Ïö©\n    return null\n  }\n}\nexports.CodeDependencyAnalyzer = CodeDependencyAnalyzer\nCodeDependencyAnalyzer.SRC_DIR = 'src'\nCodeDependencyAnalyzer.SUPPORTED_EXTENSIONS = ['.ts', '.js', '.svelte', '.vue', '.jsx', '.tsx']\nCodeDependencyAnalyzer.IGNORE_PATTERNS = ['node_modules', '.git', 'dist', 'build', '.svelte-kit']\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/utils/safe-change-manager.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 2,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 2,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 3,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 3,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 4,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 4,
        "endColumn": 43
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 11,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 11,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 51,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 51,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 62,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 62,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 100,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 100,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 104,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 104,
        "endColumn": 16
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'analysis' is defined but never used.",
        "line": 157,
        "column": 56,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 157,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "analysis" },
            "fix": { "range": [4849, 4859], "text": "" },
            "desc": "Remove unused variable 'analysis'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'impacts' is defined but never used.",
        "line": 157,
        "column": 66,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 157,
        "endColumn": 73,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "impacts" },
            "fix": { "range": [4859, 4868], "text": "" },
            "desc": "Remove unused variable 'impacts'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'impacts' is defined but never used.",
        "line": 180,
        "column": 53,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 180,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": { "varName": "impacts" },
            "fix": { "range": [5545, 5554], "text": "" },
            "desc": "Remove unused variable 'impacts'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 318,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 318,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 327,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 327,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 336,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 336,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 345,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 345,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 354,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 354,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 363,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 363,
        "endColumn": 12
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 369,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 369,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 18,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use strict'\nObject.defineProperty(exports, '__esModule', { value: true })\nexports.SafeChangeManager = void 0\nconst code_dependency_analyzer_1 = require('./code-dependency-analyzer')\n// ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Í¥ÄÎ¶¨Ïûê\nclass SafeChangeManager {\n  /**\n   * ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±\n   */\n  static async createChangePlan(filePath, changeType, description) {\n    console.log(`üìã [Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±] ${changeType}: ${filePath}`)\n    // ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù\n    const analysis =\n      await code_dependency_analyzer_1.CodeDependencyAnalyzer.analyzeProjectDependencies()\n    const fileAnalysis = analysis.get(filePath)\n    if (!fileAnalysis) {\n      throw new Error(`ÌååÏùºÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§: ${filePath}`)\n    }\n    // Î≥ÄÍ≤Ω ÏòÅÌñ•ÎèÑ ÏòàÏ∏° (ChangeTypeÏùÑ predictChangeImpactÍ∞Ä Î∞õÎäî ÌÉÄÏûÖÏúºÎ°ú Î≥ÄÌôò)\n    const impactChangeType = changeType === 'add' ? 'modify' : changeType\n    const impacts = code_dependency_analyzer_1.CodeDependencyAnalyzer.predictChangeImpact(\n      filePath,\n      impactChangeType,\n      analysis\n    )\n    // ÏïàÏ†ÑÌïú Î≥ÄÍ≤Ω Ï†àÏ∞® ÏÉùÏÑ±\n    const procedure = this.generateChangeProcedure(filePath, changeType, fileAnalysis, impacts)\n    // Î°§Î∞± Í≥ÑÌöç ÏÉùÏÑ±\n    const rollbackPlan = this.generateRollbackPlan(filePath, changeType, impacts)\n    // Í≤ÄÏ¶ù Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±\n    const validationChecks = this.generateValidationChecks(filePath, changeType, fileAnalysis)\n    const plan = {\n      id: this.generatePlanId(),\n      filePath,\n      changeType,\n      description,\n      status: 'pending',\n      currentStep: 'analysis',\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      analysis: fileAnalysis,\n      impacts,\n      procedure,\n      risks: this.identifyRisks(fileAnalysis, impacts),\n      recommendations: this.generateRecommendations(filePath, changeType, fileAnalysis),\n      affectedFiles: impacts.map(impact => impact.affectedFile),\n      rollbackPlan,\n      validationChecks\n    }\n    this.changePlans.set(plan.id, plan)\n    console.log(`‚úÖ [Î≥ÄÍ≤Ω Í≥ÑÌöç ÏÉùÏÑ±] ÏôÑÎ£å - ID: ${plan.id}`)\n    return plan\n  }\n  /**\n   * Î≥ÄÍ≤Ω Í≥ÑÌöç Ïã§Ìñâ\n   */\n  static async executeChangePlan(planId) {\n    const plan = this.changePlans.get(planId)\n    if (!plan) {\n      return { success: false, message: 'Î≥ÄÍ≤Ω Í≥ÑÌöçÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.' }\n    }\n    console.log(`üöÄ [Î≥ÄÍ≤Ω Ïã§Ìñâ] ${plan.changeType}: ${plan.filePath}`)\n    try {\n      plan.status = 'in_progress'\n      plan.updatedAt = new Date()\n      // ÌòÑÏû¨ Îã®Í≥ÑÏóê Îî∞Î•∏ Ïã§Ìñâ\n      switch (plan.currentStep) {\n        case 'analysis':\n          return await this.executeAnalysisStep(plan)\n        case 'backup':\n          return await this.executeBackupStep(plan)\n        case 'preparation':\n          return await this.executePreparationStep(plan)\n        case 'execution':\n          return await this.executeExecutionStep(plan)\n        case 'validation':\n          return await this.executeValidationStep(plan)\n        case 'cleanup':\n          return await this.executeCleanupStep(plan)\n        default:\n          return { success: false, message: 'Ïïå Ïàò ÏóÜÎäî Îã®Í≥ÑÏûÖÎãàÎã§.' }\n      }\n    } catch (error) {\n      plan.status = 'failed'\n      plan.updatedAt = new Date()\n      return {\n        success: false,\n        message: `Î≥ÄÍ≤Ω Ïã§Ìñâ Ïã§Ìå®: ${error instanceof Error ? error.message : 'Unknown error'}`\n      }\n    }\n  }\n  /**\n   * Î≥ÄÍ≤Ω Í≥ÑÌöç Î°§Î∞±\n   */\n  static async rollbackChangePlan(planId) {\n    const plan = this.changePlans.get(planId)\n    if (!plan) {\n      return { success: false, message: 'Î≥ÄÍ≤Ω Í≥ÑÌöçÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.' }\n    }\n    console.log(`üîÑ [Î≥ÄÍ≤Ω Î°§Î∞±] ${plan.changeType}: ${plan.filePath}`)\n    try {\n      // Î°§Î∞± Í≥ÑÌöç Ïã§Ìñâ\n      for (const rollbackStep of plan.rollbackPlan) {\n        console.log(`  üîÑ ${rollbackStep}`)\n        // Ïã§Ï†ú Î°§Î∞± Î°úÏßÅ Íµ¨ÌòÑ\n      }\n      plan.status = 'rolled_back'\n      plan.updatedAt = new Date()\n      return { success: true, message: 'Î°§Î∞±Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.' }\n    } catch (error) {\n      return {\n        success: false,\n        message: `Î°§Î∞± Ïã§Ìå®: ${error instanceof Error ? error.message : 'Unknown error'}`\n      }\n    }\n  }\n  /**\n   * Î≥ÄÍ≤Ω Í≥ÑÌöç Ï°∞Ìöå\n   */\n  static getChangePlan(planId) {\n    return this.changePlans.get(planId) || null\n  }\n  /**\n   * Î™®Îì† Î≥ÄÍ≤Ω Í≥ÑÌöç Ï°∞Ìöå\n   */\n  static getAllChangePlans() {\n    return Array.from(this.changePlans.values())\n  }\n  /**\n   * Î≥ÄÍ≤Ω Í≤ÄÏ¶ù\n   */\n  static validateChange(filePath, changeType, content) {\n    const result = {\n      isValid: true,\n      errors: [],\n      warnings: [],\n      recommendations: []\n    }\n    // ÌååÏùº ÌÉÄÏûÖÎ≥Ñ Í≤ÄÏ¶ù Í∑úÏπô Ï†ÅÏö©\n    if (filePath.includes('/utils/') || filePath.includes('/lib/')) {\n      this.validateGlobalFile(filePath, content, result)\n    }\n    if (filePath.includes('/routes/') || filePath.includes('/pages/')) {\n      this.validatePageFile(filePath, content, result)\n    }\n    if (filePath.includes('/api/')) {\n      this.validateApiFile(filePath, content, result)\n    }\n    // ÏùºÎ∞òÏ†ÅÏù∏ Í≤ÄÏ¶ù Í∑úÏπô\n    this.validateGeneralRules(filePath, content, result)\n    result.isValid = result.errors.length === 0\n    return result\n  }\n  /**\n   * Î≥ÄÍ≤Ω Ï†àÏ∞® ÏÉùÏÑ±\n   */\n  static generateChangeProcedure(filePath, changeType, analysis, impacts) {\n    const procedure = []\n    procedure.push('1. Î≥ÄÍ≤Ω Ï†Ñ ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù ÏôÑÎ£å')\n    procedure.push('2. Î∞±ÏóÖ ÏÉùÏÑ±')\n    procedure.push('3. ÏòÅÌñ•Î∞õÎäî ÌååÏùºÎì§ ÌôïÏù∏')\n    if (changeType === 'delete') {\n      procedure.push('4. Î™®Îì† Ï∞∏Ï°∞ Ï†úÍ±∞')\n      procedure.push('5. ÌååÏùº ÏÇ≠Ï†ú')\n    } else if (changeType === 'rename') {\n      procedure.push('4. ÏÉà Ïù¥Î¶ÑÏúºÎ°ú ÌååÏùº ÏÉùÏÑ±')\n      procedure.push('5. Î™®Îì† Ï∞∏Ï°∞ ÏóÖÎç∞Ïù¥Ìä∏')\n      procedure.push('6. Í∏∞Ï°¥ ÌååÏùº ÏÇ≠Ï†ú')\n    } else if (changeType === 'modify') {\n      procedure.push('4. ÌååÏùº ÏàòÏ†ï')\n    }\n    procedure.push('6. Î≥ÄÍ≤Ω ÌõÑ Í≤ÄÏ¶ù')\n    procedure.push('7. ÌÖåÏä§Ìä∏ Ïã§Ìñâ')\n    procedure.push('8. Î¨∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏')\n    return procedure\n  }\n  /**\n   * Î°§Î∞± Í≥ÑÌöç ÏÉùÏÑ±\n   */\n  static generateRollbackPlan(filePath, changeType, impacts) {\n    const rollbackPlan = []\n    rollbackPlan.push('1. Î∞±ÏóÖÏóêÏÑú ÏõêÎ≥∏ ÌååÏùº Î≥µÏõê')\n    if (changeType === 'delete') {\n      rollbackPlan.push('2. ÏÇ≠Ï†úÎêú ÌååÏùº Î≥µÏõê')\n    } else if (changeType === 'rename') {\n      rollbackPlan.push('2. ÌååÏùºÎ™ÖÏùÑ ÏõêÎûòÎåÄÎ°ú Î≥ÄÍ≤Ω')\n      rollbackPlan.push('3. Î™®Îì† Ï∞∏Ï°∞Î•º ÏõêÎûòÎåÄÎ°ú Î≥µÏõê')\n    } else if (changeType === 'modify') {\n      rollbackPlan.push('2. ÏàòÏ†ïÎêú ÌååÏùºÏùÑ ÏõêÎ≥∏ÏúºÎ°ú Î≥µÏõê')\n    }\n    rollbackPlan.push('3. ÏòÅÌñ•Î∞õÏùÄ ÌååÏùºÎì§ Î≥µÏõê')\n    rollbackPlan.push('4. Í≤ÄÏ¶ù Î∞è ÌÖåÏä§Ìä∏')\n    return rollbackPlan\n  }\n  /**\n   * Í≤ÄÏ¶ù Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±\n   */\n  static generateValidationChecks(filePath, changeType, analysis) {\n    const checks = []\n    // Í∏∞Î≥∏ Í≤ÄÏ¶ù\n    checks.push('Î¨∏Î≤ï Ïò§Î•ò ÏóÜÏùå')\n    checks.push('ÌÉÄÏûÖ Ïò§Î•ò ÏóÜÏùå')\n    checks.push('Î¶∞Ìä∏ Ïò§Î•ò ÏóÜÏùå')\n    // ÏùòÏ°¥ÏÑ± Í¥ÄÎ†® Í≤ÄÏ¶ù\n    if (analysis.dependents.length > 0) {\n      checks.push('ÏùòÏ°¥ÌïòÎäî ÌååÏùºÎì§Ïù¥ Ï†ïÏÉÅ ÏûëÎèô')\n      checks.push('Import/Export Í¥ÄÍ≥Ñ Ï†ïÏÉÅ')\n    }\n    // ÌååÏùº ÌÉÄÏûÖÎ≥Ñ Í≤ÄÏ¶ù\n    if (filePath.includes('/api/')) {\n      checks.push('API ÏóîÎìúÌè¨Ïù∏Ìä∏ Ï†ïÏÉÅ ÏùëÎãµ')\n      checks.push('ÏóêÎü¨ Ï≤òÎ¶¨ Ï†ïÏÉÅ')\n    }\n    if (filePath.includes('/utils/')) {\n      checks.push('Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Ï†ïÏÉÅ ÏûëÎèô')\n      checks.push('Î™®Îì† ÏÇ¨Ïö©Ï≤òÏóêÏÑú Ï†ïÏÉÅ Ìò∏Ï∂ú')\n    }\n    return checks\n  }\n  /**\n   * ÏúÑÌóò ÏöîÏÜå ÏãùÎ≥Ñ\n   */\n  static identifyRisks(analysis, impacts) {\n    const risks = []\n    if (analysis.riskLevel === 'critical') {\n      risks.push('Critical ÏúÑÌóòÎèÑ ÌååÏùº - Ïã†Ï§ëÌïú Î≥ÄÍ≤Ω ÌïÑÏöî')\n    }\n    if (impacts.length > 10) {\n      risks.push('ÎßéÏùÄ ÌååÏùºÏóê ÏòÅÌñ• - Í¥ëÎ≤îÏúÑÌïú ÌÖåÏä§Ìä∏ ÌïÑÏöî')\n    }\n    if (impacts.some(impact => impact.impactType === 'breaking')) {\n      risks.push('Breaking Change Í∞êÏßÄ - ÌïòÏúÑ Ìò∏ÌôòÏÑ± Î¨∏Ï†ú Í∞ÄÎä•')\n    }\n    return risks\n  }\n  /**\n   * Í∂åÏû•ÏÇ¨Ìï≠ ÏÉùÏÑ±\n   */\n  static generateRecommendations(filePath, changeType, analysis) {\n    const recommendations = []\n    if (changeType === 'delete') {\n      recommendations.push('ÏÇ≠Ï†ú Ï†Ñ Î™®Îì† Ï∞∏Ï°∞ Ï†úÍ±∞')\n      recommendations.push('ÎåÄÏ≤¥ Î∞©Ïïà ÎßàÎ†®')\n    }\n    if (changeType === 'rename') {\n      recommendations.push('Îã®Í≥ÑÏ†Å Ïù¥Î¶Ñ Î≥ÄÍ≤Ω (Î≥ÑÏπ≠ Ïú†ÏßÄ)')\n      recommendations.push('Î™®Îì† Ï∞∏Ï°∞ ÏóÖÎç∞Ïù¥Ìä∏')\n    }\n    if (analysis.dependents.length > 5) {\n      recommendations.push('ÏùòÏ°¥ÌïòÎäî ÌååÏùºÏù¥ ÎßéÏùå - Îã®Í≥ÑÏ†Å Î≥ÄÍ≤Ω Í≥†Î†§')\n    }\n    recommendations.push('Î≥ÄÍ≤Ω ÌõÑ Ï†ÑÏ≤¥ ÌÖåÏä§Ìä∏ Ïã§Ìñâ')\n    recommendations.push('Î¨∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏')\n    return recommendations\n  }\n  /**\n   * Í∏ÄÎ°úÎ≤å ÌååÏùº Í≤ÄÏ¶ù\n   */\n  static validateGlobalFile(filePath, content, result) {\n    // Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Í≤ÄÏ¶ù\n    if (content.includes('export') && !content.includes('export default')) {\n      result.warnings.push('Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Î≥ÄÍ≤Ω Ïãú Î™®Îì† ÏÇ¨Ïö©Ï≤ò ÌôïÏù∏ ÌïÑÏöî')\n    }\n    // ÌÉÄÏûÖ Ï†ïÏùò Í≤ÄÏ¶ù\n    if (content.includes('interface') || content.includes('type')) {\n      result.warnings.push('ÌÉÄÏûÖ Ï†ïÏùò Î≥ÄÍ≤Ω Ïãú Î™®Îì† Íµ¨ÌòÑÏ≤¥ ÌôïÏù∏ ÌïÑÏöî')\n    }\n  }\n  /**\n   * ÌéòÏù¥ÏßÄ ÌååÏùº Í≤ÄÏ¶ù\n   */\n  static validatePageFile(filePath, content, result) {\n    // Ïª¥Ìè¨ÎÑåÌä∏ props Í≤ÄÏ¶ù\n    if (content.includes('export let')) {\n      result.warnings.push('Ïª¥Ìè¨ÎÑåÌä∏ props Î≥ÄÍ≤Ω Ïãú ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏ ÌïÑÏöî')\n    }\n    // ÎùºÏö∞Ìä∏ Í≤ÄÏ¶ù\n    if (filePath.includes('/routes/')) {\n      result.warnings.push('ÎùºÏö∞Ìä∏ Î≥ÄÍ≤Ω Ïãú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÎßÅÌÅ¨ ÌôïÏù∏ ÌïÑÏöî')\n    }\n  }\n  /**\n   * API ÌååÏùº Í≤ÄÏ¶ù\n   */\n  static validateApiFile(filePath, content, result) {\n    // API ÏùëÎãµ ÌòïÏãù Í≤ÄÏ¶ù\n    if (content.includes('json(')) {\n      result.warnings.push('API ÏùëÎãµ ÌòïÏãù Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ìò∏ÌôòÏÑ± ÌôïÏù∏ ÌïÑÏöî')\n    }\n    // Ïù∏Ï¶ù/Í∂åÌïú Í≤ÄÏ¶ù\n    if (content.includes('auth') || content.includes('permission')) {\n      result.warnings.push('Ïù∏Ï¶ù/Í∂åÌïú Î°úÏßÅ Î≥ÄÍ≤Ω Ïãú Î≥¥Ïïà ÏòÅÌñ• ÌôïÏù∏ ÌïÑÏöî')\n    }\n  }\n  /**\n   * ÏùºÎ∞òÏ†ÅÏù∏ Í≤ÄÏ¶ù Í∑úÏπô\n   */\n  static validateGeneralRules(filePath, content, result) {\n    // ÌïòÎìúÏΩîÎî©Îêú Í∞í Í≤ÄÏ¶ù\n    if (content.includes('localhost') || content.includes('127.0.0.1')) {\n      result.warnings.push('ÌïòÎìúÏΩîÎî©Îêú URL ÏÇ¨Ïö© - ÌôòÍ≤Ω Î≥ÄÏàò ÏÇ¨Ïö© Í∂åÏû•')\n    }\n    // ÏóêÎü¨ Ï≤òÎ¶¨ Í≤ÄÏ¶ù\n    if (content.includes('await') && !content.includes('try') && !content.includes('catch')) {\n      result.warnings.push('ÎπÑÎèôÍ∏∞ ÏûëÏóÖÏóê ÏóêÎü¨ Ï≤òÎ¶¨ Ï∂îÍ∞Ä Í∂åÏû•')\n    }\n  }\n  /**\n   * Í≥ÑÌöç ID ÏÉùÏÑ±\n   */\n  static generatePlanId() {\n    return `plan_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n  }\n  /**\n   * Î∂ÑÏÑù Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  static async executeAnalysisStep(plan) {\n    console.log('  üìä ÏùòÏ°¥ÏÑ± Î∂ÑÏÑù ÏôÑÎ£å')\n    plan.currentStep = 'backup'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Î∂ÑÏÑù ÏôÑÎ£å', nextStep: 'backup' }\n  }\n  /**\n   * Î∞±ÏóÖ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  static async executeBackupStep(plan) {\n    console.log('  üíæ Î∞±ÏóÖ ÏÉùÏÑ± ÏôÑÎ£å')\n    plan.currentStep = 'preparation'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Î∞±ÏóÖ ÏôÑÎ£å', nextStep: 'preparation' }\n  }\n  /**\n   * Ï§ÄÎπÑ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  static async executePreparationStep(plan) {\n    console.log('  üîß Î≥ÄÍ≤Ω Ï§ÄÎπÑ ÏôÑÎ£å')\n    plan.currentStep = 'execution'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Ï§ÄÎπÑ ÏôÑÎ£å', nextStep: 'execution' }\n  }\n  /**\n   * Ïã§Ìñâ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  static async executeExecutionStep(plan) {\n    console.log('  ‚ö° Î≥ÄÍ≤Ω Ïã§Ìñâ ÏôÑÎ£å')\n    plan.currentStep = 'validation'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Ïã§Ìñâ ÏôÑÎ£å', nextStep: 'validation' }\n  }\n  /**\n   * Í≤ÄÏ¶ù Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  static async executeValidationStep(plan) {\n    console.log('  ‚úÖ Í≤ÄÏ¶ù ÏôÑÎ£å')\n    plan.currentStep = 'cleanup'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Í≤ÄÏ¶ù ÏôÑÎ£å', nextStep: 'cleanup' }\n  }\n  /**\n   * Ï†ïÎ¶¨ Îã®Í≥Ñ Ïã§Ìñâ\n   */\n  static async executeCleanupStep(plan) {\n    console.log('  üßπ Ï†ïÎ¶¨ ÏôÑÎ£å')\n    plan.status = 'completed'\n    plan.updatedAt = new Date()\n    return { success: true, message: 'Î™®Îì† Îã®Í≥Ñ ÏôÑÎ£å' }\n  }\n}\nexports.SafeChangeManager = SafeChangeManager\nSafeChangeManager.changePlans = new Map()\nSafeChangeManager.VALIDATION_RULES = {\n  global: [\n    'Í∏ÄÎ°úÎ≤å Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò Î≥ÄÍ≤Ω Ïãú Î™®Îì† ÏÇ¨Ïö©Ï≤ò ÌôïÏù∏',\n    'API ÏóîÎìúÌè¨Ïù∏Ìä∏ Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏΩîÎìú ÌôïÏù∏',\n    'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Î≥ÄÍ≤Ω Ïãú ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Í≥ÑÌöç',\n    'ÌÉÄÏûÖ Ï†ïÏùò Î≥ÄÍ≤Ω Ïãú Î™®Îì† Íµ¨ÌòÑÏ≤¥ ÌôïÏù∏'\n  ],\n  page: [\n    'ÌéòÏù¥ÏßÄÎ≥Ñ Ïª¥Ìè¨ÎÑåÌä∏ Î≥ÄÍ≤Ω Ïãú ÏÉÅÏúÑ/ÌïòÏúÑ Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏',\n    'ÎùºÏö∞Ìä∏ Î≥ÄÍ≤Ω Ïãú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÎßÅÌÅ¨ ÌôïÏù∏',\n    'ÏÉÅÌÉú Í¥ÄÎ¶¨ Î≥ÄÍ≤Ω Ïãú Í¥ÄÎ†® Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏',\n    'Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω Ïãú ÌÖåÎßà ÏùºÍ¥ÄÏÑ± ÌôïÏù∏'\n  ],\n  api: [\n    'API ÏùëÎãµ ÌòïÏãù Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ìò∏ÌôòÏÑ± ÌôïÏù∏',\n    'Ïù∏Ï¶ù/Í∂åÌïú Î°úÏßÅ Î≥ÄÍ≤Ω Ïãú Î≥¥Ïïà ÏòÅÌñ• ÌôïÏù∏',\n    'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏøºÎ¶¨ Î≥ÄÍ≤Ω Ïãú ÏÑ±Îä• ÏòÅÌñ• ÌôïÏù∏',\n    'ÏóêÎü¨ Ï≤òÎ¶¨ Î≥ÄÍ≤Ω Ïãú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏóêÎü¨ Ìï∏Îì§ÎßÅ ÌôïÏù∏'\n  ]\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/utils/schema-validation.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 2,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 2,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 3,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 3,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 3,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 3,
        "endColumn": 23
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'require' is not defined.",
        "line": 4,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 4,
        "endColumn": 21
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 14,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 14,
        "endColumn": 8
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 73,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 73,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 169,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 169,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'console' is not defined.",
        "line": 245,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 245,
        "endColumn": 14
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'exports' is not defined.",
        "line": 285,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 285,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use strict'\nObject.defineProperty(exports, '__esModule', { value: true })\nexports.pool = exports.SchemaValidator = void 0\nconst pg_1 = require('pg')\n// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó∞Í≤∞ ÌíÄ\nconst pool = new pg_1.Pool({\n  host: 'db-viahub.cdgqkcss8mpj.ap-northeast-2.rds.amazonaws.com',\n  port: 5432,\n  database: 'postgres',\n  user: 'postgres',\n  password: 'viahubdev',\n  ssl: { rejectUnauthorized: false }\n})\nexports.pool = pool\n// Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù Ïú†Ìã∏Î¶¨Ìã∞ ÌÅ¥ÎûòÏä§\nclass SchemaValidator {\n  /**\n   * Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù\n   */\n  static async validateDatabaseSchema() {\n    const results = []\n    try {\n      // Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Ï°∞Ìöå\n      const actualSchema = await this.getActualDatabaseSchema()\n      // Í∞Å ÌÖåÏù¥Î∏îÎ≥ÑÎ°ú Í≤ÄÏ¶ù\n      for (const rule of this.PROJECT_SCHEMA_RULES) {\n        const actualColumn = actualSchema.find(\n          col => col.table_name === rule.tableName && col.column_name === rule.columnName\n        )\n        if (!actualColumn) {\n          // ÏπºÎüºÏù¥ Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî Í≤ΩÏö∞\n          results.push({\n            isValid: false,\n            tableName: rule.tableName,\n            columnName: rule.columnName,\n            expectedType: rule.expectedType,\n            actualType: 'NOT_FOUND',\n            issues: [`ÏπºÎüº '${rule.columnName}'Ïù¥ ÌÖåÏù¥Î∏î '${rule.tableName}'Ïóê Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏäµÎãàÎã§.`],\n            message: `ÌïÑÏàò ÏπºÎüº ÎàÑÎùΩ: ${rule.tableName}.${rule.columnName}`\n          })\n        } else {\n          // ÏπºÎüºÏù¥ Ï°¥Ïû¨ÌïòÎäî Í≤ΩÏö∞ ÌÉÄÏûÖ Í≤ÄÏ¶ù\n          const typeMatch = this.compareDataTypes(rule.expectedType, actualColumn.data_type)\n          if (!typeMatch) {\n            results.push({\n              isValid: false,\n              tableName: rule.tableName,\n              columnName: rule.columnName,\n              expectedType: rule.expectedType,\n              actualType: actualColumn.data_type,\n              issues: [\n                `ÏπºÎüº '${rule.columnName}'Ïùò Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖÏù¥ ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`,\n                `ÏòàÏÉÅ: ${rule.expectedType}, Ïã§Ï†ú: ${actualColumn.data_type}`\n              ],\n              message: `Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ Î∂àÏùºÏπò: ${rule.tableName}.${rule.columnName}`\n            })\n          } else {\n            // Í≤ÄÏ¶ù ÌÜµÍ≥º\n            results.push({\n              isValid: true,\n              tableName: rule.tableName,\n              columnName: rule.columnName,\n              expectedType: rule.expectedType,\n              actualType: actualColumn.data_type,\n              issues: [],\n              message: `Í≤ÄÏ¶ù ÌÜµÍ≥º: ${rule.tableName}.${rule.columnName}`\n            })\n          }\n        }\n      }\n      return results\n    } catch (error) {\n      console.error('Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù Ï§ë Ïò§Î•ò:', error)\n      throw error\n    }\n  }\n  /**\n   * Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Ï°∞Ìöå\n   */\n  static async getActualDatabaseSchema() {\n    const result = await pool.query(`\n\t\t\tSELECT \n\t\t\t\ttable_name,\n\t\t\t\tcolumn_name,\n\t\t\t\tdata_type,\n\t\t\t\tis_nullable,\n\t\t\t\tcolumn_default\n\t\t\tFROM information_schema.columns \n\t\t\tWHERE table_schema = 'public'\n\t\t\tAND table_name IN ('projects', 'project_budgets', 'project_members', 'employees', 'evidence_items', 'evidence_categories')\n\t\t\tORDER BY table_name, ordinal_position\n\t\t`)\n    return result.rows\n  }\n  /**\n   * Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ ÎπÑÍµê (Ïú†Ïó∞Ìïú Îß§Ïπ≠)\n   */\n  static compareDataTypes(expected, actual) {\n    // Ï†ïÌôïÌïú Îß§Ïπ≠\n    if (expected === actual) return true\n    // Ïú†Ïó∞Ìïú Îß§Ïπ≠ Í∑úÏπô\n    const typeMappings = {\n      uuid: ['uuid'],\n      'character varying': ['character varying', 'varchar', 'text'],\n      numeric: ['numeric', 'decimal', 'real', 'double precision'],\n      integer: ['integer', 'int4', 'bigint', 'int8'],\n      date: ['date', 'timestamp without time zone', 'timestamp with time zone'],\n      boolean: ['boolean', 'bool']\n    }\n    const expectedTypes = typeMappings[expected] || [expected]\n    return expectedTypes.includes(actual)\n  }\n  /**\n   * ÏπºÎüºÎ™Ö ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù\n   */\n  static async validateColumnNamingConsistency() {\n    const results = []\n    try {\n      // Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Ï°∞Ìöå\n      const actualSchema = await this.getActualDatabaseSchema()\n      // ÏπºÎüºÎ™Ö Í∑úÏπô Í≤ÄÏ¶ù\n      for (const column of actualSchema) {\n        const issues = []\n        // 1. ÏÜåÎ¨∏Ïûê ÏÇ¨Ïö© Í≤ÄÏ¶ù\n        if (column.column_name !== column.column_name.toLowerCase()) {\n          issues.push('ÏπºÎüºÎ™ÖÏùÄ ÏÜåÎ¨∏ÏûêÎ°ú ÏûëÏÑ±Ìï¥Ïïº Ìï©ÎãàÎã§.')\n        }\n        // 2. Ïñ∏ÎçîÏä§ÏΩîÏñ¥ ÏÇ¨Ïö© Í≤ÄÏ¶ù (camelCase Í∏àÏßÄ)\n        if (column.column_name.includes('-') || /[A-Z]/.test(column.column_name)) {\n          issues.push('ÏπºÎüºÎ™ÖÏùÄ Ïñ∏ÎçîÏä§ÏΩîÏñ¥(_)Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§. (camelCase Í∏àÏßÄ)')\n        }\n        // 3. ÏòàÏïΩÏñ¥ ÏÇ¨Ïö© Í≤ÄÏ¶ù\n        const reservedWords = ['name', 'type', 'order', 'group', 'user', 'date', 'time']\n        if (reservedWords.includes(column.column_name.toLowerCase())) {\n          issues.push(`ÏòàÏïΩÏñ¥ '${column.column_name}' ÏÇ¨Ïö©ÏùÑ ÌîºÌï¥Ïïº Ìï©ÎãàÎã§.`)\n        }\n        // 4. Ïô∏ÎûòÌÇ§ Î™ÖÎ™Ö Í∑úÏπô Í≤ÄÏ¶ù\n        if (column.column_name.endsWith('_id') && column.data_type === 'uuid') {\n          // Ïô∏ÎûòÌÇ§Îäî ÌÖåÏù¥Î∏îÎ™Ö_id ÌòïÌÉúÏó¨Ïïº Ìï®\n          const expectedTableName = column.column_name.replace('_id', '')\n          if (!expectedTableName || expectedTableName.length < 2) {\n            issues.push('Ïô∏ÎûòÌÇ§ ÏπºÎüºÎ™ÖÏùÄ ÏùòÎØ∏ÏûàÎäî ÌÖåÏù¥Î∏îÎ™Ö_id ÌòïÌÉúÏó¨Ïïº Ìï©ÎãàÎã§.')\n          }\n        }\n        if (issues.length > 0) {\n          results.push({\n            isValid: false,\n            tableName: column.table_name,\n            columnName: column.column_name,\n            expectedType: 'naming_convention',\n            actualType: column.data_type,\n            issues,\n            message: `ÏπºÎüºÎ™Ö Í∑úÏπô ÏúÑÎ∞ò: ${column.table_name}.${column.column_name}`\n          })\n        } else {\n          results.push({\n            isValid: true,\n            tableName: column.table_name,\n            columnName: column.column_name,\n            expectedType: 'naming_convention',\n            actualType: column.data_type,\n            issues: [],\n            message: `ÏπºÎüºÎ™Ö Í∑úÏπô Ï§ÄÏàò: ${column.table_name}.${column.column_name}`\n          })\n        }\n      }\n      return results\n    } catch (error) {\n      console.error('ÏπºÎüºÎ™Ö ÏùºÍ¥ÄÏÑ± Í≤ÄÏ¶ù Ï§ë Ïò§Î•ò:', error)\n      throw error\n    }\n  }\n  /**\n   * SQL ÏøºÎ¶¨ÏóêÏÑú ÏπºÎüºÎ™Ö Í≤ÄÏ¶ù\n   */\n  static validateQueryColumns(query, tableName) {\n    const results = []\n    try {\n      // SELECT, INSERT, UPDATE, DELETE ÏøºÎ¶¨ÏóêÏÑú ÏπºÎüºÎ™Ö Ï∂îÏ∂ú\n      const columnMatches = query.match(/\\b[a-zA-Z_][a-zA-Z0-9_]*\\b/g) || []\n      const tableRules = this.PROJECT_SCHEMA_RULES.filter(rule => rule.tableName === tableName)\n      for (const columnName of columnMatches) {\n        // SQL ÌÇ§ÏõåÎìúÎÇò Ìï®ÏàòÎ™Ö Ï†úÏô∏\n        const sqlKeywords = [\n          'SELECT',\n          'FROM',\n          'WHERE',\n          'INSERT',\n          'UPDATE',\n          'DELETE',\n          'INTO',\n          'SET',\n          'VALUES',\n          'AND',\n          'OR',\n          'NOT',\n          'IN',\n          'EXISTS',\n          'BETWEEN',\n          'LIKE',\n          'IS',\n          'NULL',\n          'ORDER',\n          'BY',\n          'GROUP',\n          'HAVING',\n          'JOIN',\n          'LEFT',\n          'RIGHT',\n          'INNER',\n          'OUTER',\n          'ON',\n          'AS',\n          'ASC',\n          'DESC',\n          'COUNT',\n          'SUM',\n          'AVG',\n          'MIN',\n          'MAX',\n          'DISTINCT',\n          'CASE',\n          'WHEN',\n          'THEN',\n          'ELSE',\n          'END'\n        ]\n        if (sqlKeywords.includes(columnName.toUpperCase())) continue\n        // ÌÖåÏù¥Î∏î Í∑úÏπôÏóêÏÑú Ìï¥Îãπ ÏπºÎüº Ï∞æÍ∏∞\n        const rule = tableRules.find(r => r.columnName === columnName)\n        if (!rule) {\n          results.push({\n            isValid: false,\n            tableName,\n            columnName,\n            expectedType: 'defined_column',\n            actualType: 'undefined',\n            issues: [`ÏπºÎüº '${columnName}'Ïù¥ ÌÖåÏù¥Î∏î '${tableName}'Ïóê Ï†ïÏùòÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.`],\n            message: `Ï†ïÏùòÎêòÏßÄ ÏïäÏùÄ ÏπºÎüº ÏÇ¨Ïö©: ${tableName}.${columnName}`\n          })\n        }\n      }\n      return results\n    } catch (error) {\n      console.error('ÏøºÎ¶¨ ÏπºÎüº Í≤ÄÏ¶ù Ï§ë Ïò§Î•ò:', error)\n      return [\n        {\n          isValid: false,\n          tableName,\n          columnName: 'query_parsing',\n          expectedType: 'valid_query',\n          actualType: 'error',\n          issues: [`ÏøºÎ¶¨ ÌååÏã± Ïò§Î•ò: ${error instanceof Error ? error.message : 'Unknown error'}`],\n          message: 'ÏøºÎ¶¨ ÌååÏã± Ïã§Ìå®'\n        }\n      ]\n    }\n  }\n  /**\n   * Ïä§ÌÇ§Îßà Í∑úÏπô Ï∂îÍ∞Ä\n   */\n  static addSchemaRule(rule) {\n    const existingIndex = this.PROJECT_SCHEMA_RULES.findIndex(\n      r => r.tableName === rule.tableName && r.columnName === rule.columnName\n    )\n    if (existingIndex >= 0) {\n      this.PROJECT_SCHEMA_RULES[existingIndex] = rule\n    } else {\n      this.PROJECT_SCHEMA_RULES.push(rule)\n    }\n  }\n  /**\n   * Ïä§ÌÇ§Îßà Í∑úÏπô Ï°∞Ìöå\n   */\n  static getSchemaRules() {\n    return [...this.PROJECT_SCHEMA_RULES]\n  }\n  /**\n   * ÌäπÏ†ï ÌÖåÏù¥Î∏îÏùò Ïä§ÌÇ§Îßà Í∑úÏπô Ï°∞Ìöå\n   */\n  static getTableSchemaRules(tableName) {\n    return this.PROJECT_SCHEMA_RULES.filter(rule => rule.tableName === tableName)\n  }\n}\nexports.SchemaValidator = SchemaValidator\n// ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ Í¥ÄÎ†® ÌÖåÏù¥Î∏î Ïä§ÌÇ§Îßà Í∑úÏπô\nSchemaValidator.PROJECT_SCHEMA_RULES = [\n  // projects ÌÖåÏù¥Î∏î\n  {\n    tableName: 'projects',\n    columnName: 'id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ Í≥†Ïú† ÏãùÎ≥ÑÏûê'\n  },\n  {\n    tableName: 'projects',\n    columnName: 'title',\n    expectedType: 'character varying',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©'\n  },\n  {\n    tableName: 'projects',\n    columnName: 'budget_total',\n    expectedType: 'numeric',\n    required: false,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ Ï¥ù ÏòàÏÇ∞'\n  },\n  {\n    tableName: 'projects',\n    columnName: 'start_date',\n    expectedType: 'date',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûëÏùº'\n  },\n  {\n    tableName: 'projects',\n    columnName: 'end_date',\n    expectedType: 'date',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ Ï¢ÖÎ£åÏùº'\n  },\n  {\n    tableName: 'projects',\n    columnName: 'status',\n    expectedType: 'character varying',\n    required: false,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ ÏÉÅÌÉú'\n  },\n  // project_budgets ÌÖåÏù¥Î∏î\n  {\n    tableName: 'project_budgets',\n    columnName: 'id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÏòàÏÇ∞ Í≥†Ïú† ÏãùÎ≥ÑÏûê'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'project_id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ ID (Ïô∏ÎûòÌÇ§)'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'period_number',\n    expectedType: 'integer',\n    required: true,\n    description: 'Ïó∞Ï∞® Î≤àÌò∏'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'fiscal_year',\n    expectedType: 'integer',\n    required: true,\n    description: 'ÌöåÍ≥ÑÏó∞ÎèÑ'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'start_date',\n    expectedType: 'date',\n    required: true,\n    description: 'Ïó∞Ï∞® ÏãúÏûëÏùº'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'end_date',\n    expectedType: 'date',\n    required: true,\n    description: 'Ïó∞Ï∞® Ï¢ÖÎ£åÏùº'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'total_budget',\n    expectedType: 'numeric',\n    required: true,\n    description: 'Ïó∞Ï∞® Ï¥ù ÏòàÏÇ∞'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'personnel_cost',\n    expectedType: 'numeric',\n    required: false,\n    description: 'Ïù∏Í±¥ÎπÑ'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'research_material_cost',\n    expectedType: 'numeric',\n    required: false,\n    description: 'Ïó∞Íµ¨Ïû¨Î£åÎπÑ'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'research_activity_cost',\n    expectedType: 'numeric',\n    required: false,\n    description: 'Ïó∞Íµ¨ÌôúÎèôÎπÑ'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'indirect_cost',\n    expectedType: 'numeric',\n    required: false,\n    description: 'Í∞ÑÏ†ëÎπÑ'\n  },\n  {\n    tableName: 'project_budgets',\n    columnName: 'spent_amount',\n    expectedType: 'numeric',\n    required: false,\n    description: 'ÏßëÌñâÏï°'\n  },\n  // project_members ÌÖåÏù¥Î∏î\n  {\n    tableName: 'project_members',\n    columnName: 'id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'Ï∞∏Ïó¨Ïó∞Íµ¨Ïõê Í≥†Ïú† ÏãùÎ≥ÑÏûê'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'project_id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ ID (Ïô∏ÎûòÌÇ§)'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'employee_id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÏßÅÏõê ID (Ïô∏ÎûòÌÇ§)'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'role',\n    expectedType: 'character varying',\n    required: true,\n    description: 'Ï∞∏Ïó¨ Ïó≠Ìï†'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'participation_rate',\n    expectedType: 'numeric',\n    required: true,\n    description: 'Ï∞∏Ïó¨Ïú® (%)'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'monthly_amount',\n    expectedType: 'numeric',\n    required: true,\n    description: 'Ïõî Í∏âÏó¨Ïï°'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'start_date',\n    expectedType: 'date',\n    required: true,\n    description: 'Ï∞∏Ïó¨ ÏãúÏûëÏùº'\n  },\n  {\n    tableName: 'project_members',\n    columnName: 'end_date',\n    expectedType: 'date',\n    required: true,\n    description: 'Ï∞∏Ïó¨ Ï¢ÖÎ£åÏùº'\n  },\n  // employees ÌÖåÏù¥Î∏î\n  {\n    tableName: 'employees',\n    columnName: 'id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÏßÅÏõê Í≥†Ïú† ÏãùÎ≥ÑÏûê'\n  },\n  {\n    tableName: 'employees',\n    columnName: 'first_name',\n    expectedType: 'character varying',\n    required: true,\n    description: 'Ïù¥Î¶Ñ'\n  },\n  {\n    tableName: 'employees',\n    columnName: 'last_name',\n    expectedType: 'character varying',\n    required: true,\n    description: 'ÏÑ±'\n  },\n  {\n    tableName: 'employees',\n    columnName: 'hire_date',\n    expectedType: 'date',\n    required: false,\n    description: 'ÏûÖÏÇ¨Ïùº'\n  },\n  {\n    tableName: 'employees',\n    columnName: 'termination_date',\n    expectedType: 'date',\n    required: false,\n    description: 'Ìá¥ÏÇ¨Ïùº'\n  },\n  {\n    tableName: 'employees',\n    columnName: 'status',\n    expectedType: 'character varying',\n    required: false,\n    description: 'Ïû¨ÏßÅ ÏÉÅÌÉú'\n  },\n  // evidence_items ÌÖåÏù¥Î∏î\n  {\n    tableName: 'evidence_items',\n    columnName: 'id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'Ï¶ùÎπô Ìï≠Î™© Í≥†Ïú† ÏãùÎ≥ÑÏûê'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'project_budget_id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'ÌîÑÎ°úÏ†ùÌä∏ ÏòàÏÇ∞ ID (Ïô∏ÎûòÌÇ§)'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'category_id',\n    expectedType: 'uuid',\n    required: true,\n    description: 'Ï¶ùÎπô Ïπ¥ÌÖåÍ≥†Î¶¨ ID (Ïô∏ÎûòÌÇ§)'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'name',\n    expectedType: 'character varying',\n    required: true,\n    description: 'Ï¶ùÎπô Ìï≠Î™©Î™Ö'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'budget_amount',\n    expectedType: 'numeric',\n    required: false,\n    description: 'ÏòàÏÇ∞ Í∏àÏï°'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'spent_amount',\n    expectedType: 'numeric',\n    required: false,\n    description: 'ÏßëÌñâ Í∏àÏï°'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'assignee_id',\n    expectedType: 'uuid',\n    required: false,\n    description: 'Îã¥ÎãπÏûê ID (Ïô∏ÎûòÌÇ§)'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'assignee_name',\n    expectedType: 'character varying',\n    required: false,\n    description: 'Îã¥ÎãπÏûêÎ™Ö'\n  },\n  {\n    tableName: 'evidence_items',\n    columnName: 'due_date',\n    expectedType: 'date',\n    required: false,\n    description: 'ÎßàÍ∞êÏùº'\n  }\n]\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/vite.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "/Users/adminvia/devwork/_viahub/vws/vitest.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  }
]
