<script lang="ts">
  import type { EmployeeContract } from '../types'
  import { formatCurrency } from '$lib/utils/format'

  type Props = {
    contract: EmployeeContract | null
    isLoading: boolean
  }

  let { contract, isLoading }: Props = $props()
</script>

{#if isLoading}
  <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
    <div class="flex items-center">
      <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"></div>
      <span class="text-gray-600">ê³„ì•½ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
    </div>
  </div>
{:else if contract}
  <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
    <div class="flex items-start">
      <div class="flex-1">
        <h3 class="text-lg font-semibold text-blue-800 mb-2">í˜„ì¬ ê¸‰ì—¬ ê³„ì•½ ì •ë³´</h3>
        <div class="grid grid-cols-2 gap-4 text-sm">
          <div>
            <span class="font-medium text-blue-700">ì›”ê¸‰:</span>
            <span class="ml-2 font-semibold text-blue-900"
              >{formatCurrency(contract.monthlySalary || 0)}</span
            >
          </div>
          <div>
            <span class="font-medium text-blue-700">ì—°ë´‰:</span>
            <span class="ml-2 font-semibold text-blue-900"
              >{formatCurrency(contract.annualSalary || 0)}</span
            >
          </div>
          <div>
            <span class="font-medium text-blue-700">ê³„ì•½ ì‹œì‘:</span>
            <span class="ml-2 text-blue-900">{contract.startDate}</span>
          </div>
          <div>
            <span class="font-medium text-blue-700">ê³„ì•½ ì¢…ë£Œ:</span>
            <span class="ml-2 text-blue-900">{contract.contractEndDisplay}</span>
          </div>
        </div>
        <p class="text-blue-600 text-sm mt-2">
          ğŸ’¡ ê¸‰ì—¬ ìˆ˜ì • ì‹œ ê¸°ë³¸ê¸‰ì€ ê³„ì•½ëœ ì›”ê¸‰ìœ¼ë¡œ ìë™ ì„¤ì •ë©ë‹ˆë‹¤.
        </p>
      </div>
    </div>
  </div>
{:else}
  <div class="bg-red-50 border border-red-200 rounded-lg p-4">
    <div class="flex items-start">
      <div class="flex-1">
        <h3 class="text-lg font-semibold text-red-800 mb-2">âŒ ê¸‰ì—¬ ê³„ì•½ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨</h3>
        <p class="text-red-700 text-sm">í•´ë‹¹ ì§ì›ì˜ ê¸‰ì—¬ ê³„ì•½ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        <p class="text-red-600 text-xs mt-1">
          ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ í™•ì¸í•˜ê±°ë‚˜ ì„œë²„ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.
        </p>
      </div>
    </div>
  </div>
{/if}
