<script lang="ts">
  import ThemeCard from '$lib/components/ui/ThemeCard.svelte'
  import ThemeSpacer from '$lib/components/ui/ThemeSpacer.svelte'
  import ThemeActivityItem from '$lib/components/ui/ThemeActivityItem.svelte'
  import { hrDashboardStore } from '$lib/stores/hr/hr-dashboard-store.svelte'

  // ì•„ì´ì½˜ ë§¤í•‘ í•¨ìˆ˜
  function getActivityIcon(type: string) {
    switch (type) {
      case 'hire':
        return 'ğŸ‘¤'
      case 'termination_pending':
        return 'ğŸ“…'
      case 'termination':
        return 'âŒ'
      case 'department_change':
        return 'ğŸ¢'
      default:
        return 'ğŸ‘¤'
    }
  }
</script>

<ThemeCard class="p-6">
  <div class="mb-6">
    <h3 class="text-lg font-semibold" style:color="var(--color-text)">ìµœê·¼ í™œë™</h3>
  </div>
  <ThemeSpacer size={4}>
    {#each hrDashboardStore.recentActivities as activity, i (`${activity.time}:${activity.title}:${i}`)}
      <ThemeActivityItem
        title={activity.title}
        time={activity.time}
        description={activity.description}
        icon={getActivityIcon(activity.type)}
      />
    {/each}
  </ThemeSpacer>
</ThemeCard>
